var ws=Object.defineProperty;var Uo=c=>{throw TypeError(c)};var Rs=(c,u,d)=>u in c?ws(c,u,{enumerable:!0,configurable:!0,writable:!0,value:d}):c[u]=d;var ce=(c,u,d)=>Rs(c,typeof u!="symbol"?u+"":u,d),to=(c,u,d)=>u.has(c)||Uo("Cannot "+d);var Ie=(c,u,d)=>(to(c,u,"read from private field"),d?d.call(c):u.get(c)),ze=(c,u,d)=>u.has(c)?Uo("Cannot add the same private member more than once"):u instanceof WeakSet?u.add(c):u.set(c,d),We=(c,u,d,y)=>(to(c,u,"write to private field"),y?y.call(c,d):u.set(c,d),d),Qe=(c,u,d)=>(to(c,u,"access private method"),d);var Bo=(c,u,d,y)=>({set _(O){We(c,u,O,d)},get _(){return Ie(c,u,y)}});import{Buffer as Buffer$1}from"node:buffer";import require$$0$6 from"stream";import require$$6$3 from"url";import require$$3$2 from"util";import require$$0$4 from"crypto";import require$$0$5 from"querystring";import require$$1$7 from"child_process";import require$$0$7 from"fs";import require$$1$4 from"https";import require$$1$5 from"os";import require$$0$8 from"events";import require$$1$6 from"process";import require$$6$2 from"path";import require$$0$9 from"buffer";import require$$5$3 from"http";import require$$1$8 from"tls";import require$$0$a from"net";import require$$0$b from"zlib";import require$$0$c from"http2";import require$$1$9 from"dns";import require$$0$d from"assert";import http from"node:http";import https from"node:https";import zlib from"node:zlib";import Stream$1,{PassThrough,pipeline as pipeline$1}from"node:stream";import{types as types$5,deprecate,promisify}from"node:util";import{format}from"node:url";import{isIP}from"node:net";import{promises}from"node:fs";import"node:path";function _mergeNamespaces(c,u){for(var d=0;d<u.length;d++){const y=u[d];if(typeof y!="string"&&!Array.isArray(y)){for(const O in y)if(O!=="default"&&!(O in c)){const T=Object.getOwnPropertyDescriptor(y,O);T&&Object.defineProperty(c,O,T.get?T:{enumerable:!0,get:()=>y[O]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}var HtmlEscapedCallbackPhase={Stringify:1},raw=(c,u)=>{const d=new String(c);return d.isEscaped=!0,d.callbacks=u,d},escapeRe=/[&<>'"]/,stringBufferToString=async(c,u)=>{let d="";u||(u=[]);const y=await Promise.all(c);for(let O=y.length-1;d+=y[O],O--,!(O<0);O--){let T=y[O];typeof T=="object"&&u.push(...T.callbacks||[]);const E=T.isEscaped;if(T=await(typeof T=="object"?T.toString():T),typeof T=="object"&&u.push(...T.callbacks||[]),T.isEscaped??E)d+=T;else{const v=[d];escapeToBuffer(T,v),d=v[0]}}return raw(d,u)},escapeToBuffer=(c,u)=>{const d=c.search(escapeRe);if(d===-1){u[0]+=c;return}let y,O,T=0;for(O=d;O<c.length;O++){switch(c.charCodeAt(O)){case 34:y="&quot;";break;case 39:y="&#39;";break;case 38:y="&amp;";break;case 60:y="&lt;";break;case 62:y="&gt;";break;default:continue}u[0]+=c.substring(T,O)+y,T=O+1}u[0]+=c.substring(T,O)},resolveCallbackSync=c=>{const u=c.callbacks;if(!(u!=null&&u.length))return c;const d=[c],y={};return u.forEach(O=>O({phase:HtmlEscapedCallbackPhase.Stringify,buffer:d,context:y})),d[0]},resolveCallback=async(c,u,d,y,O)=>{typeof c=="object"&&!(c instanceof String)&&(c instanceof Promise||(c=c.toString()),c instanceof Promise&&(c=await c));const T=c.callbacks;return T!=null&&T.length?(O?O[0]+=c:O=[c],Promise.all(T.map(v=>v({phase:u,buffer:O,context:y}))).then(v=>Promise.all(v.filter(Boolean).map(p=>resolveCallback(p,u,!1,y,O))).then(()=>O[0]))):Promise.resolve(c)},html=(c,...u)=>{const d=[""];for(let y=0,O=c.length-1;y<O;y++){d[0]+=c[y];const T=Array.isArray(u[y])?u[y].flat(1/0):[u[y]];for(let E=0,v=T.length;E<v;E++){const p=T[E];if(typeof p=="string")escapeToBuffer(p,d);else if(typeof p=="number")d[0]+=p;else{if(typeof p=="boolean"||p===null||p===void 0)continue;if(typeof p=="object"&&p.isEscaped)if(p.callbacks)d.unshift("",p);else{const g=p.toString();g instanceof Promise?d.unshift("",g):d[0]+=g}else p instanceof Promise?d.unshift("",p):escapeToBuffer(p.toString(),d)}}}return d[0]+=c.at(-1),d.length===1?"callbacks"in d?raw(resolveCallbackSync(raw(d[0],d.callbacks))):raw(d[0]):stringBufferToString(d,d.callbacks)},DOM_RENDERER=Symbol("RENDERER"),DOM_ERROR_HANDLER=Symbol("ERROR_HANDLER"),DOM_STASH=Symbol("STASH"),DOM_INTERNAL_TAG=Symbol("INTERNAL"),DOM_MEMO=Symbol("MEMO"),PERMALINK=Symbol("PERMALINK"),setInternalTagFlag=c=>(c[DOM_INTERNAL_TAG]=!0,c),createContextProviderFunction=c=>({value:u,children:d})=>{if(!d)return;const y={children:[{tag:setInternalTagFlag(()=>{c.push(u)}),props:{}}]};Array.isArray(d)?y.children.push(...d.flat()):y.children.push(d),y.children.push({tag:setInternalTagFlag(()=>{c.pop()}),props:{}});const O={tag:"",props:y,type:""};return O[DOM_ERROR_HANDLER]=T=>{throw c.pop(),T},O},createContext$1=c=>{const u=[c],d=createContextProviderFunction(u);return d.values=u,d.Provider=d,globalContexts.push(d),d},globalContexts=[],createContext=c=>{const u=[c],d=y=>{u.push(y.value);let O;try{O=y.children?(Array.isArray(y.children)?new JSXFragmentNode("",{},y.children):y.children).toString():""}finally{u.pop()}return O instanceof Promise?O.then(T=>raw(T,T.callbacks)):raw(O)};return d.values=u,d.Provider=d,d[DOM_RENDERER]=createContextProviderFunction(u),globalContexts.push(d),d},useContext=c=>c.values.at(-1),deDupeKeyMap={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},domRenderers={},dataPrecedenceAttr="data-precedence",toArray=c=>Array.isArray(c)?c:[c],metaTagMap=new WeakMap,insertIntoHead=(c,u,d,y)=>({buffer:O,context:T})=>{if(!O)return;const E=metaTagMap.get(T)||{};metaTagMap.set(T,E);const v=E[c]||(E[c]=[]);let p=!1;const g=deDupeKeyMap[c];if(g.length>0){e:for(const[,w]of v)for(const R of g)if(((w==null?void 0:w[R])??null)===(d==null?void 0:d[R])){p=!0;break e}}if(p?O[0]=O[0].replaceAll(u,""):g.length>0?v.push([u,d,y]):v.unshift([u,d,y]),O[0].indexOf("</head>")!==-1){let w;if(y===void 0)w=v.map(([R])=>R);else{const R=[];w=v.map(([C,,N])=>{let D=R.indexOf(N);return D===-1&&(R.push(N),D=R.length-1),[C,D]}).sort((C,N)=>C[1]-N[1]).map(([C])=>C)}w.forEach(R=>{O[0]=O[0].replaceAll(R,"")}),O[0]=O[0].replace(/(?=<\/head>)/,w.join(""))}},returnWithoutSpecialBehavior=(c,u,d)=>raw(new JSXNode(c,d,toArray(u??[])).toString()),documentMetadataTag$1=(c,u,d,y)=>{if("itemProp"in d)return returnWithoutSpecialBehavior(c,u,d);let{precedence:O,blocking:T,...E}=d;O=y?O??"":void 0,y&&(E[dataPrecedenceAttr]=O);const v=new JSXNode(c,E,toArray(u||[])).toString();return v instanceof Promise?v.then(p=>raw(v,[...p.callbacks||[],insertIntoHead(c,p,E,O)])):raw(v,[insertIntoHead(c,v,E,O)])},title$1=({children:c,...u})=>{const d=getNameSpaceContext$1();if(d){const y=useContext(d);if(y==="svg"||y==="head")return new JSXNode("title",u,toArray(c??[]))}return documentMetadataTag$1("title",c,u,!1)},script$1=({children:c,...u})=>{const d=getNameSpaceContext$1();return["src","async"].some(y=>!u[y])||d&&useContext(d)==="head"?returnWithoutSpecialBehavior("script",c,u):documentMetadataTag$1("script",c,u,!1)},style$1=({children:c,...u})=>["href","precedence"].every(d=>d in u)?(u["data-href"]=u.href,delete u.href,documentMetadataTag$1("style",c,u,!0)):returnWithoutSpecialBehavior("style",c,u),link$1=({children:c,...u})=>["onLoad","onError"].some(d=>d in u)||u.rel==="stylesheet"&&(!("precedence"in u)||"disabled"in u)?returnWithoutSpecialBehavior("link",c,u):documentMetadataTag$1("link",c,u,"precedence"in u),meta$1=({children:c,...u})=>{const d=getNameSpaceContext$1();return d&&useContext(d)==="head"?returnWithoutSpecialBehavior("meta",c,u):documentMetadataTag$1("meta",c,u,!1)},newJSXNode=(c,{children:u,...d})=>new JSXNode(c,d,toArray(u??[])),form$1=c=>(typeof c.action=="function"&&(c.action=PERMALINK in c.action?c.action[PERMALINK]:void 0),newJSXNode("form",c)),formActionableElement$1=(c,u)=>(typeof u.formAction=="function"&&(u.formAction=PERMALINK in u.formAction?u.formAction[PERMALINK]:void 0),newJSXNode(c,u)),input$1=c=>formActionableElement$1("input",c),button$1=c=>formActionableElement$1("button",c);const intrinsicElementTags=Object.freeze(Object.defineProperty({__proto__:null,button:button$1,form:form$1,input:input$1,link:link$1,meta:meta$1,script:script$1,style:style$1,title:title$1},Symbol.toStringTag,{value:"Module"}));var normalizeElementKeyMap=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),normalizeIntrinsicElementKey=c=>normalizeElementKeyMap.get(c)||c,styleObjectForEach=(c,u)=>{for(const[d,y]of Object.entries(c)){const O=d[0]==="-"||!/[A-Z]/.test(d)?d:d.replace(/[A-Z]/g,T=>`-${T.toLowerCase()}`);u(O,y==null?null:typeof y=="number"?O.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${y}`:`${y}px`:y)}},nameSpaceContext$1=void 0,getNameSpaceContext$1=()=>nameSpaceContext$1,toSVGAttributeName=c=>/[A-Z]/.test(c)&&c.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?c.replace(/([A-Z])/g,"-$1").toLowerCase():c,emptyTags=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],booleanAttributes=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],childrenToStringToBuffer=(c,u)=>{for(let d=0,y=c.length;d<y;d++){const O=c[d];if(typeof O=="string")escapeToBuffer(O,u);else{if(typeof O=="boolean"||O===null||O===void 0)continue;O instanceof JSXNode?O.toStringToBuffer(u):typeof O=="number"||O.isEscaped?u[0]+=O:O instanceof Promise?u.unshift("",O):childrenToStringToBuffer(O,u)}}},JSXNode=class{constructor(c,u,d){ce(this,"tag");ce(this,"props");ce(this,"key");ce(this,"children");ce(this,"isEscaped",!0);ce(this,"localContexts");this.tag=c,this.props=u,this.children=d}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var u,d;const c=[""];(u=this.localContexts)==null||u.forEach(([y,O])=>{y.values.push(O)});try{this.toStringToBuffer(c)}finally{(d=this.localContexts)==null||d.forEach(([y])=>{y.values.pop()})}return c.length===1?"callbacks"in c?resolveCallbackSync(raw(c[0],c.callbacks)).toString():c[0]:stringBufferToString(c,c.callbacks)}toStringToBuffer(c){const u=this.tag,d=this.props;let{children:y}=this;c[0]+=`<${u}`;const O=nameSpaceContext$1&&useContext(nameSpaceContext$1)==="svg"?T=>toSVGAttributeName(normalizeIntrinsicElementKey(T)):T=>normalizeIntrinsicElementKey(T);for(let[T,E]of Object.entries(d))if(T=O(T),T!=="children"){if(T==="style"&&typeof E=="object"){let v="";styleObjectForEach(E,(p,g)=>{g!=null&&(v+=`${v?";":""}${p}:${g}`)}),c[0]+=' style="',escapeToBuffer(v,c),c[0]+='"'}else if(typeof E=="string")c[0]+=` ${T}="`,escapeToBuffer(E,c),c[0]+='"';else if(E!=null)if(typeof E=="number"||E.isEscaped)c[0]+=` ${T}="${E}"`;else if(typeof E=="boolean"&&booleanAttributes.includes(T))E&&(c[0]+=` ${T}=""`);else if(T==="dangerouslySetInnerHTML"){if(y.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");y=[raw(E.__html)]}else if(E instanceof Promise)c[0]+=` ${T}="`,c.unshift('"',E);else if(typeof E=="function"){if(!T.startsWith("on")&&T!=="ref")throw new Error(`Invalid prop '${T}' of type 'function' supplied to '${u}'.`)}else c[0]+=` ${T}="`,escapeToBuffer(E.toString(),c),c[0]+='"'}if(emptyTags.includes(u)&&y.length===0){c[0]+="/>";return}c[0]+=">",childrenToStringToBuffer(y,c),c[0]+=`</${u}>`}},JSXFunctionNode=class extends JSXNode{toStringToBuffer(c){const{children:u}=this,d={...this.props};u.length&&(d.children=u.length===1?u[0]:u);const y=this.tag.call(null,d);if(!(typeof y=="boolean"||y==null))if(y instanceof Promise)if(globalContexts.length===0)c.unshift("",y);else{const O=globalContexts.map(T=>[T,T.values.at(-1)]);c.unshift("",y.then(T=>(T instanceof JSXNode&&(T.localContexts=O),T)))}else y instanceof JSXNode?y.toStringToBuffer(c):typeof y=="number"||y.isEscaped?(c[0]+=y,y.callbacks&&(c.callbacks||(c.callbacks=[]),c.callbacks.push(...y.callbacks))):escapeToBuffer(y,c)}},JSXFragmentNode=class extends JSXNode{toStringToBuffer(c){childrenToStringToBuffer(this.children,c)}},jsx=(c,u,...d)=>{u??(u={}),d.length&&(u.children=d.length===1?d[0]:d);const y=u.key;delete u.key;const O=jsxFn(c,u,d);return O.key=y,O},initDomRenderer=!1,jsxFn=(c,u,d)=>{if(!initDomRenderer){for(const y in domRenderers)intrinsicElementTags[y][DOM_RENDERER]=domRenderers[y];initDomRenderer=!0}return typeof c=="function"?new JSXFunctionNode(c,u,d):intrinsicElementTags[c]?new JSXFunctionNode(intrinsicElementTags[c],u,d):c==="svg"||c==="head"?(nameSpaceContext$1||(nameSpaceContext$1=createContext("")),new JSXNode(c,u,[new JSXFunctionNode(nameSpaceContext$1,{value:c},d)])):new JSXNode(c,u,d)},Fragment=({children:c})=>new JSXFragmentNode("",{children:c},Array.isArray(c)?c:c?[c]:[]);function jsxDEV(c,u,d){let y;if(!u||!("children"in u))y=jsxFn(c,u,[]);else{const O=u.children;y=Array.isArray(O)?jsxFn(c,u,O):jsxFn(c,u,[O])}return y.key=d,y}var compose=(c,u,d)=>(y,O)=>{let T=-1;return E(0);async function E(v){if(v<=T)throw new Error("next() called multiple times");T=v;let p,g=!1,w;if(c[v]?(w=c[v][0][0],y.req.routeIndex=v):w=v===c.length&&O||void 0,w)try{p=await w(y,()=>E(v+1))}catch(R){if(R instanceof Error&&u)y.error=R,p=await u(R,y),g=!0;else throw R}else y.finalized===!1&&d&&(p=await d(y));return p&&(y.finalized===!1||g)&&(y.res=p),y}},GET_MATCH_RESULT=Symbol(),parseBody=async(c,u=Object.create(null))=>{const{all:d=!1,dot:y=!1}=u,T=(c instanceof HonoRequest?c.raw.headers:c.headers).get("Content-Type");return T!=null&&T.startsWith("multipart/form-data")||T!=null&&T.startsWith("application/x-www-form-urlencoded")?parseFormData(c,{all:d,dot:y}):{}};async function parseFormData(c,u){const d=await c.formData();return d?convertFormDataToBodyData(d,u):{}}function convertFormDataToBodyData(c,u){const d=Object.create(null);return c.forEach((y,O)=>{u.all||O.endsWith("[]")?handleParsingAllValues(d,O,y):d[O]=y}),u.dot&&Object.entries(d).forEach(([y,O])=>{y.includes(".")&&(handleParsingNestedValues(d,y,O),delete d[y])}),d}var handleParsingAllValues=(c,u,d)=>{c[u]!==void 0?Array.isArray(c[u])?c[u].push(d):c[u]=[c[u],d]:u.endsWith("[]")?c[u]=[d]:c[u]=d},handleParsingNestedValues=(c,u,d)=>{let y=c;const O=u.split(".");O.forEach((T,E)=>{E===O.length-1?y[T]=d:((!y[T]||typeof y[T]!="object"||Array.isArray(y[T])||y[T]instanceof File)&&(y[T]=Object.create(null)),y=y[T])})},splitPath=c=>{const u=c.split("/");return u[0]===""&&u.shift(),u},splitRoutingPath=c=>{const{groups:u,path:d}=extractGroupsFromPath(c),y=splitPath(d);return replaceGroupMarks(y,u)},extractGroupsFromPath=c=>{const u=[];return c=c.replace(/\{[^}]+\}/g,(d,y)=>{const O=`@${y}`;return u.push([O,d]),O}),{groups:u,path:c}},replaceGroupMarks=(c,u)=>{for(let d=u.length-1;d>=0;d--){const[y]=u[d];for(let O=c.length-1;O>=0;O--)if(c[O].includes(y)){c[O]=c[O].replace(y,u[d][1]);break}}return c},patternCache={},getPattern=(c,u)=>{if(c==="*")return"*";const d=c.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(d){const y=`${c}#${u}`;return patternCache[y]||(d[2]?patternCache[y]=u&&u[0]!==":"&&u[0]!=="*"?[y,d[1],new RegExp(`^${d[2]}(?=/${u})`)]:[c,d[1],new RegExp(`^${d[2]}$`)]:patternCache[y]=[c,d[1],!0]),patternCache[y]}return null},tryDecode=(c,u)=>{try{return u(c)}catch{return c.replace(/(?:%[0-9A-Fa-f]{2})+/g,d=>{try{return u(d)}catch{return d}})}},tryDecodeURI=c=>tryDecode(c,decodeURI),getPath=c=>{const u=c.url,d=u.indexOf("/",u.indexOf(":")+4);let y=d;for(;y<u.length;y++){const O=u.charCodeAt(y);if(O===37){const T=u.indexOf("?",y),E=u.slice(d,T===-1?void 0:T);return tryDecodeURI(E.includes("%25")?E.replace(/%25/g,"%2525"):E)}else if(O===63)break}return u.slice(d,y)},getPathNoStrict=c=>{const u=getPath(c);return u.length>1&&u.at(-1)==="/"?u.slice(0,-1):u},mergePath=(c,u,...d)=>(d.length&&(u=mergePath(u,...d)),`${(c==null?void 0:c[0])==="/"?"":"/"}${c}${u==="/"?"":`${(c==null?void 0:c.at(-1))==="/"?"":"/"}${(u==null?void 0:u[0])==="/"?u.slice(1):u}`}`),checkOptionalParameter=c=>{if(c.charCodeAt(c.length-1)!==63||!c.includes(":"))return null;const u=c.split("/"),d=[];let y="";return u.forEach(O=>{if(O!==""&&!/\:/.test(O))y+="/"+O;else if(/\:/.test(O))if(/\?/.test(O)){d.length===0&&y===""?d.push("/"):d.push(y);const T=O.replace("?","");y+="/"+T,d.push(y)}else y+="/"+O}),d.filter((O,T,E)=>E.indexOf(O)===T)},_decodeURI=c=>/[%+]/.test(c)?(c.indexOf("+")!==-1&&(c=c.replace(/\+/g," ")),c.indexOf("%")!==-1?tryDecode(c,decodeURIComponent_):c):c,_getQueryParam=(c,u,d)=>{let y;if(!d&&u&&!/[%+]/.test(u)){let E=c.indexOf("?",8);if(E===-1)return;for(c.startsWith(u,E+1)||(E=c.indexOf(`&${u}`,E+1));E!==-1;){const v=c.charCodeAt(E+u.length+1);if(v===61){const p=E+u.length+2,g=c.indexOf("&",p);return _decodeURI(c.slice(p,g===-1?void 0:g))}else if(v==38||isNaN(v))return"";E=c.indexOf(`&${u}`,E+1)}if(y=/[%+]/.test(c),!y)return}const O={};y??(y=/[%+]/.test(c));let T=c.indexOf("?",8);for(;T!==-1;){const E=c.indexOf("&",T+1);let v=c.indexOf("=",T);v>E&&E!==-1&&(v=-1);let p=c.slice(T+1,v===-1?E===-1?void 0:E:v);if(y&&(p=_decodeURI(p)),T=E,p==="")continue;let g;v===-1?g="":(g=c.slice(v+1,E===-1?void 0:E),y&&(g=_decodeURI(g))),d?(O[p]&&Array.isArray(O[p])||(O[p]=[]),O[p].push(g)):O[p]??(O[p]=g)}return u?O[u]:O},getQueryParam=_getQueryParam,getQueryParams=(c,u)=>_getQueryParam(c,u,!0),decodeURIComponent_=decodeURIComponent,tryDecodeURIComponent=c=>tryDecode(c,decodeURIComponent_),Kn,mr,cn,Zo,ea,ro,Sn,Vo,HonoRequest=(Vo=class{constructor(c,u="/",d=[[]]){ze(this,cn);ce(this,"raw");ze(this,Kn);ze(this,mr);ce(this,"routeIndex",0);ce(this,"path");ce(this,"bodyCache",{});ze(this,Sn,c=>{const{bodyCache:u,raw:d}=this,y=u[c];if(y)return y;const O=Object.keys(u)[0];return O?u[O].then(T=>(O==="json"&&(T=JSON.stringify(T)),new Response(T)[c]())):u[c]=d[c]()});this.raw=c,this.path=u,We(this,mr,d),We(this,Kn,{})}param(c){return c?Qe(this,cn,Zo).call(this,c):Qe(this,cn,ea).call(this)}query(c){return getQueryParam(this.url,c)}queries(c){return getQueryParams(this.url,c)}header(c){if(c)return this.raw.headers.get(c)??void 0;const u={};return this.raw.headers.forEach((d,y)=>{u[y]=d}),u}async parseBody(c){var u;return(u=this.bodyCache).parsedBody??(u.parsedBody=await parseBody(this,c))}json(){return Ie(this,Sn).call(this,"text").then(c=>JSON.parse(c))}text(){return Ie(this,Sn).call(this,"text")}arrayBuffer(){return Ie(this,Sn).call(this,"arrayBuffer")}blob(){return Ie(this,Sn).call(this,"blob")}formData(){return Ie(this,Sn).call(this,"formData")}addValidatedData(c,u){Ie(this,Kn)[c]=u}valid(c){return Ie(this,Kn)[c]}get url(){return this.raw.url}get method(){return this.raw.method}get[GET_MATCH_RESULT](){return Ie(this,mr)}get matchedRoutes(){return Ie(this,mr)[0].map(([[,c]])=>c)}get routePath(){return Ie(this,mr)[0].map(([[,c]])=>c)[this.routeIndex].path}},Kn=new WeakMap,mr=new WeakMap,cn=new WeakSet,Zo=function(c){const u=Ie(this,mr)[0][this.routeIndex][1][c],d=Qe(this,cn,ro).call(this,u);return d&&/\%/.test(d)?tryDecodeURIComponent(d):d},ea=function(){const c={},u=Object.keys(Ie(this,mr)[0][this.routeIndex][1]);for(const d of u){const y=Qe(this,cn,ro).call(this,Ie(this,mr)[0][this.routeIndex][1][d]);y!==void 0&&(c[d]=/\%/.test(y)?tryDecodeURIComponent(y):y)}return c},ro=function(c){return Ie(this,mr)[1]?Ie(this,mr)[1][c]:c},Sn=new WeakMap,Vo),TEXT_PLAIN="text/plain; charset=UTF-8",setDefaultContentType=(c,u)=>({"Content-Type":c,...u}),ui,ci,on,Xn,an,$t,di,Zn,ei,kn,pi,fi,En,Yn,Go,Context=(Go=class{constructor(c,u){ze(this,En);ze(this,ui);ze(this,ci);ce(this,"env",{});ze(this,on);ce(this,"finalized",!1);ce(this,"error");ze(this,Xn);ze(this,an);ze(this,$t);ze(this,di);ze(this,Zn);ze(this,ei);ze(this,kn);ze(this,pi);ze(this,fi);ce(this,"render",(...c)=>(Ie(this,Zn)??We(this,Zn,u=>this.html(u)),Ie(this,Zn).call(this,...c)));ce(this,"setLayout",c=>We(this,di,c));ce(this,"getLayout",()=>Ie(this,di));ce(this,"setRenderer",c=>{We(this,Zn,c)});ce(this,"header",(c,u,d)=>{this.finalized&&We(this,$t,new Response(Ie(this,$t).body,Ie(this,$t)));const y=Ie(this,$t)?Ie(this,$t).headers:Ie(this,kn)??We(this,kn,new Headers);u===void 0?y.delete(c):d!=null&&d.append?y.append(c,u):y.set(c,u)});ce(this,"status",c=>{We(this,Xn,c)});ce(this,"set",(c,u)=>{Ie(this,on)??We(this,on,new Map),Ie(this,on).set(c,u)});ce(this,"get",c=>Ie(this,on)?Ie(this,on).get(c):void 0);ce(this,"newResponse",(...c)=>Qe(this,En,Yn).call(this,...c));ce(this,"body",(c,u,d)=>Qe(this,En,Yn).call(this,c,u,d));ce(this,"text",(c,u,d)=>!Ie(this,kn)&&!Ie(this,Xn)&&!u&&!d&&!this.finalized?new Response(c):Qe(this,En,Yn).call(this,c,u,setDefaultContentType(TEXT_PLAIN,d)));ce(this,"json",(c,u,d)=>Qe(this,En,Yn).call(this,JSON.stringify(c),u,setDefaultContentType("application/json",d)));ce(this,"html",(c,u,d)=>{const y=O=>Qe(this,En,Yn).call(this,O,u,setDefaultContentType("text/html; charset=UTF-8",d));return typeof c=="object"?resolveCallback(c,HtmlEscapedCallbackPhase.Stringify,!1,{}).then(y):y(c)});ce(this,"redirect",(c,u)=>{const d=String(c);return this.header("Location",/[^\x00-\xFF]/.test(d)?encodeURI(d):d),this.newResponse(null,u??302)});ce(this,"notFound",()=>(Ie(this,ei)??We(this,ei,()=>new Response),Ie(this,ei).call(this,this)));We(this,ui,c),u&&(We(this,an,u.executionCtx),this.env=u.env,We(this,ei,u.notFoundHandler),We(this,fi,u.path),We(this,pi,u.matchResult))}get req(){return Ie(this,ci)??We(this,ci,new HonoRequest(Ie(this,ui),Ie(this,fi),Ie(this,pi))),Ie(this,ci)}get event(){if(Ie(this,an)&&"respondWith"in Ie(this,an))return Ie(this,an);throw Error("This context has no FetchEvent")}get executionCtx(){if(Ie(this,an))return Ie(this,an);throw Error("This context has no ExecutionContext")}get res(){return Ie(this,$t)||We(this,$t,new Response(null,{headers:Ie(this,kn)??We(this,kn,new Headers)}))}set res(c){if(Ie(this,$t)&&c){c=new Response(c.body,c);for(const[u,d]of Ie(this,$t).headers.entries())if(u!=="content-type")if(u==="set-cookie"){const y=Ie(this,$t).headers.getSetCookie();c.headers.delete("set-cookie");for(const O of y)c.headers.append("set-cookie",O)}else c.headers.set(u,d)}We(this,$t,c),this.finalized=!0}get var(){return Ie(this,on)?Object.fromEntries(Ie(this,on)):{}}},ui=new WeakMap,ci=new WeakMap,on=new WeakMap,Xn=new WeakMap,an=new WeakMap,$t=new WeakMap,di=new WeakMap,Zn=new WeakMap,ei=new WeakMap,kn=new WeakMap,pi=new WeakMap,fi=new WeakMap,En=new WeakSet,Yn=function(c,u,d){const y=Ie(this,$t)?new Headers(Ie(this,$t).headers):Ie(this,kn)??new Headers;if(typeof u=="object"&&"headers"in u){const T=u.headers instanceof Headers?u.headers:new Headers(u.headers);for(const[E,v]of T)E.toLowerCase()==="set-cookie"?y.append(E,v):y.set(E,v)}if(d)for(const[T,E]of Object.entries(d))if(typeof E=="string")y.set(T,E);else{y.delete(T);for(const v of E)y.append(T,v)}const O=typeof u=="number"?u:(u==null?void 0:u.status)??Ie(this,Xn);return new Response(c,{status:O,headers:y})},Go),METHOD_NAME_ALL="ALL",METHOD_NAME_ALL_LOWERCASE="all",METHODS=["get","post","put","delete","options","patch"],MESSAGE_MATCHER_IS_ALREADY_BUILT="Can not add a route since the matcher is already built.",UnsupportedPathError=class extends Error{},COMPOSED_HANDLER="__COMPOSED_HANDLER",notFoundHandler=c=>c.text("404 Not Found",404),errorHandler=(c,u)=>{if("getResponse"in c){const d=c.getResponse();return u.newResponse(d.body,d)}return console.error(c),u.text("Internal Server Error",500)},Dr,wt,ta,Ir,jn,ki,Fi,$o,Hono$1=($o=class{constructor(u={}){ze(this,wt);ce(this,"get");ce(this,"post");ce(this,"put");ce(this,"delete");ce(this,"options");ce(this,"patch");ce(this,"all");ce(this,"on");ce(this,"use");ce(this,"router");ce(this,"getPath");ce(this,"_basePath","/");ze(this,Dr,"/");ce(this,"routes",[]);ze(this,Ir,notFoundHandler);ce(this,"errorHandler",errorHandler);ce(this,"onError",u=>(this.errorHandler=u,this));ce(this,"notFound",u=>(We(this,Ir,u),this));ce(this,"fetch",(u,...d)=>Qe(this,wt,Fi).call(this,u,d[1],d[0],u.method));ce(this,"request",(u,d,y,O)=>u instanceof Request?this.fetch(d?new Request(u,d):u,y,O):(u=u.toString(),this.fetch(new Request(/^https?:\/\//.test(u)?u:`http://localhost${mergePath("/",u)}`,d),y,O)));ce(this,"fire",()=>{addEventListener("fetch",u=>{u.respondWith(Qe(this,wt,Fi).call(this,u.request,u,void 0,u.request.method))})});[...METHODS,METHOD_NAME_ALL_LOWERCASE].forEach(T=>{this[T]=(E,...v)=>(typeof E=="string"?We(this,Dr,E):Qe(this,wt,jn).call(this,T,Ie(this,Dr),E),v.forEach(p=>{Qe(this,wt,jn).call(this,T,Ie(this,Dr),p)}),this)}),this.on=(T,E,...v)=>{for(const p of[E].flat()){We(this,Dr,p);for(const g of[T].flat())v.map(w=>{Qe(this,wt,jn).call(this,g.toUpperCase(),Ie(this,Dr),w)})}return this},this.use=(T,...E)=>(typeof T=="string"?We(this,Dr,T):(We(this,Dr,"*"),E.unshift(T)),E.forEach(v=>{Qe(this,wt,jn).call(this,METHOD_NAME_ALL,Ie(this,Dr),v)}),this);const{strict:y,...O}=u;Object.assign(this,O),this.getPath=y??!0?u.getPath??getPath:getPathNoStrict}route(u,d){const y=this.basePath(u);return d.routes.map(O=>{var E;let T;d.errorHandler===errorHandler?T=O.handler:(T=async(v,p)=>(await compose([],d.errorHandler)(v,()=>O.handler(v,p))).res,T[COMPOSED_HANDLER]=O.handler),Qe(E=y,wt,jn).call(E,O.method,O.path,T)}),this}basePath(u){const d=Qe(this,wt,ta).call(this);return d._basePath=mergePath(this._basePath,u),d}mount(u,d,y){let O,T;y&&(typeof y=="function"?T=y:(T=y.optionHandler,y.replaceRequest===!1?O=p=>p:O=y.replaceRequest));const E=T?p=>{const g=T(p);return Array.isArray(g)?g:[g]}:p=>{let g;try{g=p.executionCtx}catch{}return[p.env,g]};O||(O=(()=>{const p=mergePath(this._basePath,u),g=p==="/"?0:p.length;return w=>{const R=new URL(w.url);return R.pathname=R.pathname.slice(g)||"/",new Request(R,w)}})());const v=async(p,g)=>{const w=await d(O(p.req.raw),...E(p));if(w)return w;await g()};return Qe(this,wt,jn).call(this,METHOD_NAME_ALL,mergePath(u,"*"),v),this}},Dr=new WeakMap,wt=new WeakSet,ta=function(){const u=new Hono$1({router:this.router,getPath:this.getPath});return u.errorHandler=this.errorHandler,We(u,Ir,Ie(this,Ir)),u.routes=this.routes,u},Ir=new WeakMap,jn=function(u,d,y){u=u.toUpperCase(),d=mergePath(this._basePath,d);const O={basePath:this._basePath,path:d,method:u,handler:y};this.router.add(u,d,[y,O]),this.routes.push(O)},ki=function(u,d){if(u instanceof Error)return this.errorHandler(u,d);throw u},Fi=function(u,d,y,O){if(O==="HEAD")return(async()=>new Response(null,await Qe(this,wt,Fi).call(this,u,d,y,"GET")))();const T=this.getPath(u,{env:y}),E=this.router.match(O,T),v=new Context(u,{path:T,matchResult:E,env:y,executionCtx:d,notFoundHandler:Ie(this,Ir)});if(E[0].length===1){let g;try{g=E[0][0][0][0](v,async()=>{v.res=await Ie(this,Ir).call(this,v)})}catch(w){return Qe(this,wt,ki).call(this,w,v)}return g instanceof Promise?g.then(w=>w||(v.finalized?v.res:Ie(this,Ir).call(this,v))).catch(w=>Qe(this,wt,ki).call(this,w,v)):g??Ie(this,Ir).call(this,v)}const p=compose(E[0],this.errorHandler,Ie(this,Ir));return(async()=>{try{const g=await p(v);if(!g.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return g.res}catch(g){return Qe(this,wt,ki).call(this,g,v)}})()},$o),emptyParam=[];function match(c,u){const d=this.buildAllMatchers(),y=(O,T)=>{const E=d[O]||d[METHOD_NAME_ALL],v=E[2][T];if(v)return v;const p=T.match(E[0]);if(!p)return[[],emptyParam];const g=p.indexOf("",1);return[E[1][g],p]};return this.match=y,y(c,u)}var LABEL_REG_EXP_STR="[^/]+",ONLY_WILDCARD_REG_EXP_STR=".*",TAIL_WILDCARD_REG_EXP_STR="(?:|/.*)",PATH_ERROR=Symbol(),regExpMetaChars=new Set(".\\+*[^]$()");function compareKey(c,u){return c.length===1?u.length===1?c<u?-1:1:-1:u.length===1||c===ONLY_WILDCARD_REG_EXP_STR||c===TAIL_WILDCARD_REG_EXP_STR?1:u===ONLY_WILDCARD_REG_EXP_STR||u===TAIL_WILDCARD_REG_EXP_STR?-1:c===LABEL_REG_EXP_STR?1:u===LABEL_REG_EXP_STR?-1:c.length===u.length?c<u?-1:1:u.length-c.length}var Fn,Mn,Nr,Ho,Node$1=(Ho=class{constructor(){ze(this,Fn);ze(this,Mn);ze(this,Nr,Object.create(null))}insert(u,d,y,O,T){if(u.length===0){if(Ie(this,Fn)!==void 0)throw PATH_ERROR;if(T)return;We(this,Fn,d);return}const[E,...v]=u,p=E==="*"?v.length===0?["","",ONLY_WILDCARD_REG_EXP_STR]:["","",LABEL_REG_EXP_STR]:E==="/*"?["","",TAIL_WILDCARD_REG_EXP_STR]:E.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let g;if(p){const w=p[1];let R=p[2]||LABEL_REG_EXP_STR;if(w&&p[2]&&(R===".*"||(R=R.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(R))))throw PATH_ERROR;if(g=Ie(this,Nr)[R],!g){if(Object.keys(Ie(this,Nr)).some(C=>C!==ONLY_WILDCARD_REG_EXP_STR&&C!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(T)return;g=Ie(this,Nr)[R]=new Node$1,w!==""&&We(g,Mn,O.varIndex++)}!T&&w!==""&&y.push([w,Ie(g,Mn)])}else if(g=Ie(this,Nr)[E],!g){if(Object.keys(Ie(this,Nr)).some(w=>w.length>1&&w!==ONLY_WILDCARD_REG_EXP_STR&&w!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(T)return;g=Ie(this,Nr)[E]=new Node$1}g.insert(v,d,y,O,T)}buildRegExpStr(){const d=Object.keys(Ie(this,Nr)).sort(compareKey).map(y=>{const O=Ie(this,Nr)[y];return(typeof Ie(O,Mn)=="number"?`(${y})@${Ie(O,Mn)}`:regExpMetaChars.has(y)?`\\${y}`:y)+O.buildRegExpStr()});return typeof Ie(this,Fn)=="number"&&d.unshift(`#${Ie(this,Fn)}`),d.length===0?"":d.length===1?d[0]:"(?:"+d.join("|")+")"}},Fn=new WeakMap,Mn=new WeakMap,Nr=new WeakMap,Ho),Li,gi,Wo,Trie=(Wo=class{constructor(){ze(this,Li,{varIndex:0});ze(this,gi,new Node$1)}insert(c,u,d){const y=[],O=[];for(let E=0;;){let v=!1;if(c=c.replace(/\{[^}]+\}/g,p=>{const g=`@\\${E}`;return O[E]=[g,p],E++,v=!0,g}),!v)break}const T=c.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let E=O.length-1;E>=0;E--){const[v]=O[E];for(let p=T.length-1;p>=0;p--)if(T[p].indexOf(v)!==-1){T[p]=T[p].replace(v,O[E][1]);break}}return Ie(this,gi).insert(T,u,y,Ie(this,Li),d),y}buildRegExp(){let c=Ie(this,gi).buildRegExpStr();if(c==="")return[/^$/,[],[]];let u=0;const d=[],y=[];return c=c.replace(/#(\d+)|@(\d+)|\.\*\$/g,(O,T,E)=>T!==void 0?(d[++u]=Number(T),"$()"):(E!==void 0&&(y[Number(E)]=++u),"")),[new RegExp(`^${c}`),d,y]}},Li=new WeakMap,gi=new WeakMap,Wo),nullMatcher=[/^$/,[],Object.create(null)],wildcardRegExpCache=Object.create(null);function buildWildcardRegExp(c){return wildcardRegExpCache[c]??(wildcardRegExpCache[c]=new RegExp(c==="*"?"":`^${c.replace(/\/\*$|([.\\+*[^\]$()])/g,(u,d)=>d?`\\${d}`:"(?:|/.*)")}$`))}function clearWildcardRegExpCache(){wildcardRegExpCache=Object.create(null)}function buildMatcherFromPreprocessedRoutes(c){var g;const u=new Trie,d=[];if(c.length===0)return nullMatcher;const y=c.map(w=>[!/\*|\/:/.test(w[0]),...w]).sort(([w,R],[C,N])=>w?1:C?-1:R.length-N.length),O=Object.create(null);for(let w=0,R=-1,C=y.length;w<C;w++){const[N,D,L]=y[w];N?O[D]=[L.map(([M])=>[M,Object.create(null)]),emptyParam]:R++;let q;try{q=u.insert(D,R,N)}catch(M){throw M===PATH_ERROR?new UnsupportedPathError(D):M}N||(d[R]=L.map(([M,U])=>{const V=Object.create(null);for(U-=1;U>=0;U--){const[$,z]=q[U];V[$]=z}return[M,V]}))}const[T,E,v]=u.buildRegExp();for(let w=0,R=d.length;w<R;w++)for(let C=0,N=d[w].length;C<N;C++){const D=(g=d[w][C])==null?void 0:g[1];if(!D)continue;const L=Object.keys(D);for(let q=0,M=L.length;q<M;q++)D[L[q]]=v[D[L[q]]]}const p=[];for(const w in E)p[w]=d[E[w]];return[T,p,O]}function findMiddleware(c,u){if(c){for(const d of Object.keys(c).sort((y,O)=>O.length-y.length))if(buildWildcardRegExp(d).test(u))return[...c[d]]}}var Tn,wn,qi,ra,zo,RegExpRouter=(zo=class{constructor(){ze(this,qi);ce(this,"name","RegExpRouter");ze(this,Tn);ze(this,wn);ce(this,"match",match);We(this,Tn,{[METHOD_NAME_ALL]:Object.create(null)}),We(this,wn,{[METHOD_NAME_ALL]:Object.create(null)})}add(c,u,d){var v;const y=Ie(this,Tn),O=Ie(this,wn);if(!y||!O)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);y[c]||[y,O].forEach(p=>{p[c]=Object.create(null),Object.keys(p[METHOD_NAME_ALL]).forEach(g=>{p[c][g]=[...p[METHOD_NAME_ALL][g]]})}),u==="/*"&&(u="*");const T=(u.match(/\/:/g)||[]).length;if(/\*$/.test(u)){const p=buildWildcardRegExp(u);c===METHOD_NAME_ALL?Object.keys(y).forEach(g=>{var w;(w=y[g])[u]||(w[u]=findMiddleware(y[g],u)||findMiddleware(y[METHOD_NAME_ALL],u)||[])}):(v=y[c])[u]||(v[u]=findMiddleware(y[c],u)||findMiddleware(y[METHOD_NAME_ALL],u)||[]),Object.keys(y).forEach(g=>{(c===METHOD_NAME_ALL||c===g)&&Object.keys(y[g]).forEach(w=>{p.test(w)&&y[g][w].push([d,T])})}),Object.keys(O).forEach(g=>{(c===METHOD_NAME_ALL||c===g)&&Object.keys(O[g]).forEach(w=>p.test(w)&&O[g][w].push([d,T]))});return}const E=checkOptionalParameter(u)||[u];for(let p=0,g=E.length;p<g;p++){const w=E[p];Object.keys(O).forEach(R=>{var C;(c===METHOD_NAME_ALL||c===R)&&((C=O[R])[w]||(C[w]=[...findMiddleware(y[R],w)||findMiddleware(y[METHOD_NAME_ALL],w)||[]]),O[R][w].push([d,T-g+p+1]))})}}buildAllMatchers(){const c=Object.create(null);return Object.keys(Ie(this,wn)).concat(Object.keys(Ie(this,Tn))).forEach(u=>{c[u]||(c[u]=Qe(this,qi,ra).call(this,u))}),We(this,Tn,We(this,wn,void 0)),clearWildcardRegExpCache(),c}},Tn=new WeakMap,wn=new WeakMap,qi=new WeakSet,ra=function(c){const u=[];let d=c===METHOD_NAME_ALL;return[Ie(this,Tn),Ie(this,wn)].forEach(y=>{const O=y[c]?Object.keys(y[c]).map(T=>[T,y[c][T]]):[];O.length!==0?(d||(d=!0),u.push(...O)):c!==METHOD_NAME_ALL&&u.push(...Object.keys(y[METHOD_NAME_ALL]).map(T=>[T,y[METHOD_NAME_ALL][T]]))}),d?buildMatcherFromPreprocessedRoutes(u):null},zo),Rn,sn,Jo,SmartRouter=(Jo=class{constructor(c){ce(this,"name","SmartRouter");ze(this,Rn,[]);ze(this,sn,[]);We(this,Rn,c.routers)}add(c,u,d){if(!Ie(this,sn))throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);Ie(this,sn).push([c,u,d])}match(c,u){if(!Ie(this,sn))throw new Error("Fatal error");const d=Ie(this,Rn),y=Ie(this,sn),O=d.length;let T=0,E;for(;T<O;T++){const v=d[T];try{for(let p=0,g=y.length;p<g;p++)v.add(...y[p]);E=v.match(c,u)}catch(p){if(p instanceof UnsupportedPathError)continue;throw p}this.match=v.match.bind(v),We(this,Rn,[v]),We(this,sn,void 0);break}if(T===O)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,E}get activeRouter(){if(Ie(this,sn)||Ie(this,Rn).length!==1)throw new Error("No active router has been determined yet.");return Ie(this,Rn)[0]}},Rn=new WeakMap,sn=new WeakMap,Jo),emptyParams=Object.create(null),Pn,xt,Ln,ti,Dt,ln,xn,Yo,Node=(Yo=class{constructor(c,u,d){ze(this,ln);ze(this,Pn);ze(this,xt);ze(this,Ln);ze(this,ti,0);ze(this,Dt,emptyParams);if(We(this,xt,d||Object.create(null)),We(this,Pn,[]),c&&u){const y=Object.create(null);y[c]={handler:u,possibleKeys:[],score:0},We(this,Pn,[y])}We(this,Ln,[])}insert(c,u,d){We(this,ti,++Bo(this,ti)._);let y=this;const O=splitRoutingPath(u),T=[];for(let E=0,v=O.length;E<v;E++){const p=O[E],g=O[E+1],w=getPattern(p,g),R=Array.isArray(w)?w[0]:p;if(R in Ie(y,xt)){y=Ie(y,xt)[R],w&&T.push(w[1]);continue}Ie(y,xt)[R]=new Node,w&&(Ie(y,Ln).push(w),T.push(w[1])),y=Ie(y,xt)[R]}return Ie(y,Pn).push({[c]:{handler:d,possibleKeys:T.filter((E,v,p)=>p.indexOf(E)===v),score:Ie(this,ti)}}),y}search(c,u){var v;const d=[];We(this,Dt,emptyParams);let O=[this];const T=splitPath(u),E=[];for(let p=0,g=T.length;p<g;p++){const w=T[p],R=p===g-1,C=[];for(let N=0,D=O.length;N<D;N++){const L=O[N],q=Ie(L,xt)[w];q&&(We(q,Dt,Ie(L,Dt)),R?(Ie(q,xt)["*"]&&d.push(...Qe(this,ln,xn).call(this,Ie(q,xt)["*"],c,Ie(L,Dt))),d.push(...Qe(this,ln,xn).call(this,q,c,Ie(L,Dt)))):C.push(q));for(let M=0,U=Ie(L,Ln).length;M<U;M++){const V=Ie(L,Ln)[M],$=Ie(L,Dt)===emptyParams?{}:{...Ie(L,Dt)};if(V==="*"){const H=Ie(L,xt)["*"];H&&(d.push(...Qe(this,ln,xn).call(this,H,c,Ie(L,Dt))),We(H,Dt,$),C.push(H));continue}const[z,W,J]=V;if(!w&&!(J instanceof RegExp))continue;const Y=Ie(L,xt)[z],Q=T.slice(p).join("/");if(J instanceof RegExp){const H=J.exec(Q);if(H){if($[W]=H[0],d.push(...Qe(this,ln,xn).call(this,Y,c,Ie(L,Dt),$)),Object.keys(Ie(Y,xt)).length){We(Y,Dt,$);const te=((v=H[0].match(/\//))==null?void 0:v.length)??0;(E[te]||(E[te]=[])).push(Y)}continue}}(J===!0||J.test(w))&&($[W]=w,R?(d.push(...Qe(this,ln,xn).call(this,Y,c,$,Ie(L,Dt))),Ie(Y,xt)["*"]&&d.push(...Qe(this,ln,xn).call(this,Ie(Y,xt)["*"],c,$,Ie(L,Dt)))):(We(Y,Dt,$),C.push(Y)))}}O=C.concat(E.shift()??[])}return d.length>1&&d.sort((p,g)=>p.score-g.score),[d.map(({handler:p,params:g})=>[p,g])]}},Pn=new WeakMap,xt=new WeakMap,Ln=new WeakMap,ti=new WeakMap,Dt=new WeakMap,ln=new WeakSet,xn=function(c,u,d,y){const O=[];for(let T=0,E=Ie(c,Pn).length;T<E;T++){const v=Ie(c,Pn)[T],p=v[u]||v[METHOD_NAME_ALL],g={};if(p!==void 0&&(p.params=Object.create(null),O.push(p),d!==emptyParams||y&&y!==emptyParams))for(let w=0,R=p.possibleKeys.length;w<R;w++){const C=p.possibleKeys[w],N=g[p.score];p.params[C]=y!=null&&y[C]&&!N?y[C]:d[C]??(y==null?void 0:y[C]),g[p.score]=!0}}return O},Yo),qn,Qo,TrieRouter=(Qo=class{constructor(){ce(this,"name","TrieRouter");ze(this,qn);We(this,qn,new Node)}add(c,u,d){const y=checkOptionalParameter(u);if(y){for(let O=0,T=y.length;O<T;O++)Ie(this,qn).insert(c,y[O],d);return}Ie(this,qn).insert(c,u,d)}match(c,u){return Ie(this,qn).search(c,u)}},qn=new WeakMap,Qo),Hono=class extends Hono$1{constructor(c={}){super(c),this.router=c.router??new SmartRouter({routers:[new RegExpRouter,new TrieRouter]})}},cors=c=>{const d={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...c},y=(T=>typeof T=="string"?T==="*"?()=>T:E=>T===E?E:null:typeof T=="function"?T:E=>T.includes(E)?E:null)(d.origin),O=(T=>typeof T=="function"?T:Array.isArray(T)?()=>T:()=>[])(d.allowMethods);return async function(E,v){var w;function p(R,C){E.res.headers.set(R,C)}const g=await y(E.req.header("origin")||"",E);if(g&&p("Access-Control-Allow-Origin",g),d.credentials&&p("Access-Control-Allow-Credentials","true"),(w=d.exposeHeaders)!=null&&w.length&&p("Access-Control-Expose-Headers",d.exposeHeaders.join(",")),E.req.method==="OPTIONS"){d.origin!=="*"&&p("Vary","Origin"),d.maxAge!=null&&p("Access-Control-Max-Age",d.maxAge.toString());const R=await O(E.req.header("origin")||"",E);R.length&&p("Access-Control-Allow-Methods",R.join(","));let C=d.allowHeaders;if(!(C!=null&&C.length)){const N=E.req.header("Access-Control-Request-Headers");N&&(C=N.split(/\s*,\s*/))}return C!=null&&C.length&&(p("Access-Control-Allow-Headers",C.join(",")),E.res.headers.append("Vary","Access-Control-Request-Headers")),E.res.headers.delete("Content-Length"),E.res.headers.delete("Content-Type"),new Response(null,{headers:E.res.headers,status:204,statusText:"No Content"})}await v(),d.origin!=="*"&&E.header("Vary","Origin",{append:!0})}},HONO_PORTAL_ELEMENT="_hp",eventAliasMap={Change:"Input",DoubleClick:"DblClick"},nameSpaceMap={svg:"2000/svg",math:"1998/Math/MathML"},buildDataStack=[],refCleanupMap=new WeakMap,nameSpaceContext=void 0,getNameSpaceContext=()=>nameSpaceContext,isNodeString=c=>"t"in c,eventCache={onClick:["click",!1]},getEventSpec=c=>{if(!c.startsWith("on"))return;if(eventCache[c])return eventCache[c];const u=c.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(u){const[,d,y]=u;return eventCache[c]=[(eventAliasMap[d]||d).toLowerCase(),!!y]}},toAttributeName=(c,u)=>nameSpaceContext&&c instanceof SVGElement&&/[A-Z]/.test(u)&&(u in c.style||u.match(/^(?:o|pai|str|u|ve)/))?u.replace(/([A-Z])/g,"-$1").toLowerCase():u,applyProps=(c,u,d)=>{var y;u||(u={});for(let O in u){const T=u[O];if(O!=="children"&&(!d||d[O]!==T)){O=normalizeIntrinsicElementKey(O);const E=getEventSpec(O);if(E){if((d==null?void 0:d[O])!==T&&(d&&c.removeEventListener(E[0],d[O],E[1]),T!=null)){if(typeof T!="function")throw new Error(`Event handler for "${O}" is not a function`);c.addEventListener(E[0],T,E[1])}}else if(O==="dangerouslySetInnerHTML"&&T)c.innerHTML=T.__html;else if(O==="ref"){let v;typeof T=="function"?v=T(c)||(()=>T(null)):T&&"current"in T&&(T.current=c,v=()=>T.current=null),refCleanupMap.set(c,v)}else if(O==="style"){const v=c.style;typeof T=="string"?v.cssText=T:(v.cssText="",T!=null&&styleObjectForEach(T,v.setProperty.bind(v)))}else{if(O==="value"){const p=c.nodeName;if(p==="INPUT"||p==="TEXTAREA"||p==="SELECT"){if(c.value=T==null||T===!1?null:T,p==="TEXTAREA"){c.textContent=T;continue}else if(p==="SELECT"){c.selectedIndex===-1&&(c.selectedIndex=0);continue}}}else(O==="checked"&&c.nodeName==="INPUT"||O==="selected"&&c.nodeName==="OPTION")&&(c[O]=T);const v=toAttributeName(c,O);T==null||T===!1?c.removeAttribute(v):T===!0?c.setAttribute(v,""):typeof T=="string"||typeof T=="number"?c.setAttribute(v,T):c.setAttribute(v,T.toString())}}}if(d)for(let O in d){const T=d[O];if(O!=="children"&&!(O in u)){O=normalizeIntrinsicElementKey(O);const E=getEventSpec(O);E?c.removeEventListener(E[0],T,E[1]):O==="ref"?(y=refCleanupMap.get(c))==null||y():c.removeAttribute(toAttributeName(c,O))}}},invokeTag=(c,u)=>{u[DOM_STASH][0]=0,buildDataStack.push([c,u]);const d=u.tag[DOM_RENDERER]||u.tag,y=d.defaultProps?{...d.defaultProps,...u.props}:u.props;try{return[d.call(null,y)]}finally{buildDataStack.pop()}},getNextChildren=(c,u,d,y,O)=>{var T,E;(T=c.vR)!=null&&T.length&&(y.push(...c.vR),delete c.vR),typeof c.tag=="function"&&((E=c[DOM_STASH][1][STASH_EFFECT])==null||E.forEach(v=>O.push(v))),c.vC.forEach(v=>{var p;if(isNodeString(v))d.push(v);else if(typeof v.tag=="function"||v.tag===""){v.c=u;const g=d.length;if(getNextChildren(v,u,d,y,O),v.s){for(let w=g;w<d.length;w++)d[w].s=!0;v.s=!1}}else d.push(v),(p=v.vR)!=null&&p.length&&(y.push(...v.vR),delete v.vR)})},findInsertBefore=c=>{for(;;c=c.tag===HONO_PORTAL_ELEMENT||!c.vC||!c.pP?c.nN:c.vC[0]){if(!c)return null;if(c.tag!==HONO_PORTAL_ELEMENT&&c.e)return c.e}},removeNode=c=>{var u,d,y,O,T,E;isNodeString(c)||((d=(u=c[DOM_STASH])==null?void 0:u[1][STASH_EFFECT])==null||d.forEach(v=>{var p;return(p=v[2])==null?void 0:p.call(v)}),(y=refCleanupMap.get(c.e))==null||y(),c.p===2&&((O=c.vC)==null||O.forEach(v=>v.p=2)),(T=c.vC)==null||T.forEach(removeNode)),c.p||((E=c.e)==null||E.remove(),delete c.e),typeof c.tag=="function"&&(updateMap.delete(c),fallbackUpdateFnArrayMap.delete(c),delete c[DOM_STASH][3],c.a=!0)},apply=(c,u,d)=>{c.c=u,applyNodeObject(c,u,d)},findChildNodeIndex=(c,u)=>{if(u){for(let d=0,y=c.length;d<y;d++)if(c[d]===u)return d}},cancelBuild=Symbol(),applyNodeObject=(c,u,d)=>{var g;const y=[],O=[],T=[];getNextChildren(c,u,y,O,T),O.forEach(removeNode);const E=d?void 0:u.childNodes;let v,p=null;if(d)v=-1;else if(!E.length)v=0;else{const w=findChildNodeIndex(E,findInsertBefore(c.nN));w!==void 0?(p=E[w],v=w):v=findChildNodeIndex(E,(g=y.find(R=>R.tag!==HONO_PORTAL_ELEMENT&&R.e))==null?void 0:g.e)??-1,v===-1&&(d=!0)}for(let w=0,R=y.length;w<R;w++,v++){const C=y[w];let N;if(C.s&&C.e)N=C.e,C.s=!1;else{const D=d||!C.e;isNodeString(C)?(C.e&&C.d&&(C.e.textContent=C.t),C.d=!1,N=C.e||(C.e=document.createTextNode(C.t))):(N=C.e||(C.e=C.n?document.createElementNS(C.n,C.tag):document.createElement(C.tag)),applyProps(N,C.props,C.pP),applyNodeObject(C,N,D))}C.tag===HONO_PORTAL_ELEMENT?v--:d?N.parentNode||u.appendChild(N):E[v]!==N&&E[v-1]!==N&&(E[v+1]===N?u.appendChild(E[v]):u.insertBefore(N,p||E[v]||null))}if(c.pP&&delete c.pP,T.length){const w=[],R=[];T.forEach(([,C,,N,D])=>{C&&w.push(C),N&&R.push(N),D==null||D()}),w.forEach(C=>C()),R.length&&requestAnimationFrame(()=>{R.forEach(C=>C())})}},isSameContext=(c,u)=>!!(c&&c.length===u.length&&c.every((d,y)=>d[1]===u[y][1])),fallbackUpdateFnArrayMap=new WeakMap,build=(c,u,d)=>{var T,E,v,p,g,w;const y=!d&&u.pC;d&&(u.pC||(u.pC=u.vC));let O;try{d||(d=typeof u.tag=="function"?invokeTag(c,u):toArray(u.props.children)),((T=d[0])==null?void 0:T.tag)===""&&d[0][DOM_ERROR_HANDLER]&&(O=d[0][DOM_ERROR_HANDLER],c[5].push([c,O,u]));const R=y?[...u.pC]:u.vC?[...u.vC]:void 0,C=[];let N;for(let D=0;D<d.length;D++){Array.isArray(d[D])&&d.splice(D,1,...d[D].flat());let L=buildNode(d[D]);if(L){typeof L.tag=="function"&&!L.tag[DOM_INTERNAL_TAG]&&(globalContexts.length>0&&(L[DOM_STASH][2]=globalContexts.map(M=>[M,M.values.at(-1)])),(E=c[5])!=null&&E.length&&(L[DOM_STASH][3]=c[5].at(-1)));let q;if(R&&R.length){const M=R.findIndex(isNodeString(L)?U=>isNodeString(U):L.key!==void 0?U=>U.key===L.key&&U.tag===L.tag:U=>U.tag===L.tag);M!==-1&&(q=R[M],R.splice(M,1))}if(q)if(isNodeString(L))q.t!==L.t&&(q.t=L.t,q.d=!0),L=q;else{const M=q.pP=q.props;if(q.props=L.props,q.f||(q.f=L.f||u.f),typeof L.tag=="function"){const U=q[DOM_STASH][2];q[DOM_STASH][2]=L[DOM_STASH][2]||[],q[DOM_STASH][3]=L[DOM_STASH][3],!q.f&&((q.o||q)===L.o||(p=(v=q.tag)[DOM_MEMO])!=null&&p.call(v,M,q.props))&&isSameContext(U,q[DOM_STASH][2])&&(q.s=!0)}L=q}else if(!isNodeString(L)&&nameSpaceContext){const M=useContext(nameSpaceContext);M&&(L.n=M)}if(!isNodeString(L)&&!L.s&&(build(c,L),delete L.f),C.push(L),N&&!N.s&&!L.s)for(let M=N;M&&!isNodeString(M);M=(g=M.vC)==null?void 0:g.at(-1))M.nN=L;N=L}}u.vR=y?[...u.vC,...R||[]]:R||[],u.vC=C,y&&delete u.pC}catch(R){if(u.f=!0,R===cancelBuild){if(O)return;throw R}const[C,N,D]=((w=u[DOM_STASH])==null?void 0:w[3])||[];if(N){const L=()=>update([0,!1,c[2]],D),q=fallbackUpdateFnArrayMap.get(D)||[];q.push(L),fallbackUpdateFnArrayMap.set(D,q);const M=N(R,()=>{const U=fallbackUpdateFnArrayMap.get(D);if(U){const V=U.indexOf(L);if(V!==-1)return U.splice(V,1),L()}});if(M){if(c[0]===1)c[1]=!0;else if(build(c,D,[M]),(N.length===1||c!==C)&&D.c){apply(D,D.c,!1);return}throw cancelBuild}}throw R}finally{O&&c[5].pop()}},buildNode=c=>{if(!(c==null||typeof c=="boolean")){if(typeof c=="string"||typeof c=="number")return{t:c.toString(),d:!0};if("vR"in c&&(c={tag:c.tag,props:c.props,key:c.key,f:c.f,type:c.tag,ref:c.props.ref,o:c.o||c}),typeof c.tag=="function")c[DOM_STASH]=[0,[]];else{const u=nameSpaceMap[c.tag];u&&(nameSpaceContext||(nameSpaceContext=createContext$1("")),c.props.children=[{tag:nameSpaceContext,props:{value:c.n=`http://www.w3.org/${u}`,children:c.props.children}}])}return c}},updateSync=(c,u)=>{var d,y;(d=u[DOM_STASH][2])==null||d.forEach(([O,T])=>{O.values.push(T)});try{build(c,u,void 0)}catch{return}if(u.a){delete u.a;return}(y=u[DOM_STASH][2])==null||y.forEach(([O])=>{O.values.pop()}),(c[0]!==1||!c[1])&&apply(u,u.c,!1)},updateMap=new WeakMap,currentUpdateSets=[],update=async(c,u)=>{c[5]||(c[5]=[]);const d=updateMap.get(u);d&&d[0](void 0);let y;const O=new Promise(T=>y=T);if(updateMap.set(u,[y,()=>{c[2]?c[2](c,u,T=>{updateSync(T,u)}).then(()=>y(u)):(updateSync(c,u),y(u))}]),currentUpdateSets.length)currentUpdateSets.at(-1).add(u);else{await Promise.resolve();const T=updateMap.get(u);T&&(updateMap.delete(u),T[1]())}return O},createPortal=(c,u,d)=>({tag:HONO_PORTAL_ELEMENT,props:{children:c},key:d,e:u,p:1}),STASH_SATE=0,STASH_EFFECT=1,STASH_CALLBACK=2,STASH_MEMO=3,resolvedPromiseValueMap=new WeakMap,isDepsChanged=(c,u)=>!c||!u||c.length!==u.length||u.some((d,y)=>d!==c[y]),updateHook=void 0,pendingStack=[],useState=c=>{var E;const u=()=>typeof c=="function"?c():c,d=buildDataStack.at(-1);if(!d)return[u(),()=>{}];const[,y]=d,O=(E=y[DOM_STASH][1])[STASH_SATE]||(E[STASH_SATE]=[]),T=y[DOM_STASH][0]++;return O[T]||(O[T]=[u(),v=>{const p=updateHook,g=O[T];if(typeof v=="function"&&(v=v(g[0])),!Object.is(v,g[0]))if(g[0]=v,pendingStack.length){const[w,R]=pendingStack.at(-1);Promise.all([w===3?y:update([w,!1,p],y),R]).then(([C])=>{if(!C||!(w===2||w===3))return;const N=C.vC;requestAnimationFrame(()=>{setTimeout(()=>{N===C.vC&&update([w===3?1:0,!1,p],C)})})})}else update([0,!1,p],y)}])},useCallback=(c,u)=>{var v;const d=buildDataStack.at(-1);if(!d)return c;const[,y]=d,O=(v=y[DOM_STASH][1])[STASH_CALLBACK]||(v[STASH_CALLBACK]=[]),T=y[DOM_STASH][0]++,E=O[T];return isDepsChanged(E==null?void 0:E[1],u)?O[T]=[c,u]:c=O[T][0],c},use=c=>{const u=resolvedPromiseValueMap.get(c);if(u){if(u.length===2)throw u[1];return u[0]}throw c.then(d=>resolvedPromiseValueMap.set(c,[d]),d=>resolvedPromiseValueMap.set(c,[void 0,d])),c},useMemo=(c,u)=>{var v;const d=buildDataStack.at(-1);if(!d)return c();const[,y]=d,O=(v=y[DOM_STASH][1])[STASH_MEMO]||(v[STASH_MEMO]=[]),T=y[DOM_STASH][0]++,E=O[T];return isDepsChanged(E==null?void 0:E[1],u)&&(O[T]=[c(),u]),O[T][0]},FormContext=createContext$1({pending:!1,data:null,method:null,action:null}),actions=new Set,registerAction=c=>{actions.add(c),c.finally(()=>actions.delete(c))},composeRef=(c,u)=>useMemo(()=>d=>{let y;c&&(typeof c=="function"?y=c(d)||(()=>{c(null)}):c&&"current"in c&&(c.current=d,y=()=>{c.current=null}));const O=u(d);return()=>{O==null||O(),y==null||y()}},[c]),blockingPromiseMap=Object.create(null),createdElements=Object.create(null),documentMetadataTag=(c,u,d,y,O)=>{if(u!=null&&u.itemProp)return{tag:c,props:u,type:c,ref:u.ref};const T=document.head;let{onLoad:E,onError:v,precedence:p,blocking:g,...w}=u,R=null,C=!1;const N=deDupeKeyMap[c];let D;if(N.length>0){const U=T.querySelectorAll(c);e:for(const V of U)for(const $ of deDupeKeyMap[c])if(V.getAttribute($)===u[$]){R=V;break e}if(!R){const V=N.reduce(($,z)=>u[z]===void 0?$:`${$}-${z}-${u[z]}`,c);C=!createdElements[V],R=createdElements[V]||(createdElements[V]=(()=>{const $=document.createElement(c);for(const z of N)u[z]!==void 0&&$.setAttribute(z,u[z]),u.rel&&$.setAttribute("rel",u.rel);return $})())}}else D=T.querySelectorAll(c);p=y?p??"":void 0,y&&(w[dataPrecedenceAttr]=p);const L=useCallback(U=>{if(N.length>0){let V=!1;for(const $ of T.querySelectorAll(c)){if(V&&$.getAttribute(dataPrecedenceAttr)!==p){T.insertBefore(U,$);return}$.getAttribute(dataPrecedenceAttr)===p&&(V=!0)}T.appendChild(U)}else if(D){let V=!1;for(const $ of D)if($===U){V=!0;break}V||T.insertBefore(U,T.contains(D[0])?D[0]:T.querySelector(c)),D=void 0}},[p]),q=composeRef(u.ref,U=>{var z;const V=N[0];if(d===2&&(U.innerHTML=""),(C||D)&&L(U),!v&&!E)return;let $=blockingPromiseMap[z=U.getAttribute(V)]||(blockingPromiseMap[z]=new Promise((W,J)=>{U.addEventListener("load",W),U.addEventListener("error",J)}));E&&($=$.then(E)),v&&($=$.catch(v)),$.catch(()=>{})});if(O&&g==="render"){const U=deDupeKeyMap[c][0];if(u[U]){const V=u[U],$=blockingPromiseMap[V]||(blockingPromiseMap[V]=new Promise((z,W)=>{L(R),R.addEventListener("load",z),R.addEventListener("error",W)}));use($)}}const M={tag:c,type:c,props:{...w,ref:q},ref:q};return M.p=d,R&&(M.e=R),createPortal(M,T)},title=c=>{const u=getNameSpaceContext(),d=u&&useContext(u);return d!=null&&d.endsWith("svg")?{tag:"title",props:c,type:"title",ref:c.ref}:documentMetadataTag("title",c,void 0,!1,!1)},script=c=>!c||["src","async"].some(u=>!c[u])?{tag:"script",props:c,type:"script",ref:c.ref}:documentMetadataTag("script",c,1,!1,!0),style=c=>!c||!["href","precedence"].every(u=>u in c)?{tag:"style",props:c,type:"style",ref:c.ref}:(c["data-href"]=c.href,delete c.href,documentMetadataTag("style",c,2,!0,!0)),link=c=>!c||["onLoad","onError"].some(u=>u in c)||c.rel==="stylesheet"&&(!("precedence"in c)||"disabled"in c)?{tag:"link",props:c,type:"link",ref:c.ref}:documentMetadataTag("link",c,1,"precedence"in c,!0),meta=c=>documentMetadataTag("meta",c,void 0,!1,!1),customEventFormAction=Symbol(),form=c=>{const{action:u,...d}=c;typeof u!="function"&&(d.action=u);const[y,O]=useState([null,!1]),T=useCallback(async g=>{const w=g.isTrusted?u:g.detail[customEventFormAction];if(typeof w!="function")return;g.preventDefault();const R=new FormData(g.target);O([R,!0]);const C=w(R);C instanceof Promise&&(registerAction(C),await C),O([null,!0])},[]),E=composeRef(c.ref,g=>(g.addEventListener("submit",T),()=>{g.removeEventListener("submit",T)})),[v,p]=y;return y[1]=!1,{tag:FormContext,props:{value:{pending:v!==null,data:v,method:v?"post":null,action:v?u:null},children:{tag:"form",props:{...d,ref:E},type:"form",ref:E}},f:p}},formActionableElement=(c,{formAction:u,...d})=>{if(typeof u=="function"){const y=useCallback(O=>{O.preventDefault(),O.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[customEventFormAction]:u}}))},[]);d.ref=composeRef(d.ref,O=>(O.addEventListener("click",y),()=>{O.removeEventListener("click",y)}))}return{tag:c,props:d,type:c,ref:d.ref}},input=c=>formActionableElement("input",c),button=c=>formActionableElement("button",c);Object.assign(domRenderers,{title,script,style,link,meta,form,input,button});createContext(null);new TextEncoder;var RequestContext=createContext(null),createRenderer=(c,u,d,y)=>(O,T)=>{const E="<!DOCTYPE html>",v=d?jsx(g=>d(g,c),{Layout:u,...T},O):O,p=html`${raw(E)}${jsx(RequestContext.Provider,{value:c},v)}`;return c.html(p)},jsxRenderer=(c,u)=>function(y,O){const T=y.getLayout()??Fragment;return c&&y.setLayout(E=>c({...E,Layout:T},y)),y.setRenderer(createRenderer(y,T,c)),O()};const renderer=jsxRenderer(({children:c})=>jsxDEV("html",{lang:"ja",children:[jsxDEV("head",{children:[jsxDEV("meta",{charset:"UTF-8"}),jsxDEV("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),jsxDEV("title",{children:"YouTube AI"}),jsxDEV("script",{src:"https://cdn.tailwindcss.com"}),jsxDEV("link",{href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css",rel:"stylesheet"}),jsxDEV("link",{href:"/static/style.css?v=1.1.5",rel:"stylesheet"})]}),jsxDEV("body",{class:"bg-gray-50",children:c})]}));function __classPrivateFieldSet(c,u,d,y,O){if(typeof u=="function"?c!==u||!0:!u.has(c))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u.set(c,d),d}function __classPrivateFieldGet(c,u,d,y){if(d==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?c!==u||!y:!u.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?y:d==="a"?y.call(c):y?y.value:u.get(c)}let uuid4=function(){const{crypto:c}=globalThis;if(c!=null&&c.randomUUID)return uuid4=c.randomUUID.bind(c),c.randomUUID();const u=new Uint8Array(1),d=c?()=>c.getRandomValues(u)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,y=>(+y^d()&15>>+y/4).toString(16))};function isAbortError(c){return typeof c=="object"&&c!==null&&("name"in c&&c.name==="AbortError"||"message"in c&&String(c.message).includes("FetchRequestCanceledException"))}const castToError=c=>{if(c instanceof Error)return c;if(typeof c=="object"&&c!==null){try{if(Object.prototype.toString.call(c)==="[object Error]"){const u=new Error(c.message,c.cause?{cause:c.cause}:{});return c.stack&&(u.stack=c.stack),c.cause&&!u.cause&&(u.cause=c.cause),c.name&&(u.name=c.name),u}}catch{}try{return new Error(JSON.stringify(c))}catch{}}return new Error(c)};class OpenAIError extends Error{}class APIError extends OpenAIError{constructor(u,d,y,O){super(`${APIError.makeMessage(u,d,y)}`),this.status=u,this.headers=O,this.requestID=O==null?void 0:O.get("x-request-id"),this.error=d;const T=d;this.code=T==null?void 0:T.code,this.param=T==null?void 0:T.param,this.type=T==null?void 0:T.type}static makeMessage(u,d,y){const O=d!=null&&d.message?typeof d.message=="string"?d.message:JSON.stringify(d.message):d?JSON.stringify(d):y;return u&&O?`${u} ${O}`:u?`${u} status code (no body)`:O||"(no status code or body)"}static generate(u,d,y,O){if(!u||!O)return new APIConnectionError({message:y,cause:castToError(d)});const T=d==null?void 0:d.error;return u===400?new BadRequestError(u,T,y,O):u===401?new AuthenticationError(u,T,y,O):u===403?new PermissionDeniedError(u,T,y,O):u===404?new NotFoundError(u,T,y,O):u===409?new ConflictError(u,T,y,O):u===422?new UnprocessableEntityError(u,T,y,O):u===429?new RateLimitError(u,T,y,O):u>=500?new InternalServerError(u,T,y,O):new APIError(u,T,y,O)}}class APIUserAbortError extends APIError{constructor({message:u}={}){super(void 0,void 0,u||"Request was aborted.",void 0)}}class APIConnectionError extends APIError{constructor({message:u,cause:d}){super(void 0,void 0,u||"Connection error.",void 0),d&&(this.cause=d)}}class APIConnectionTimeoutError extends APIConnectionError{constructor({message:u}={}){super({message:u??"Request timed out."})}}class BadRequestError extends APIError{}class AuthenticationError extends APIError{}class PermissionDeniedError extends APIError{}class NotFoundError extends APIError{}class ConflictError extends APIError{}class UnprocessableEntityError extends APIError{}class RateLimitError extends APIError{}class InternalServerError extends APIError{}class LengthFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the length limit was reached")}}class ContentFilterFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class InvalidWebhookSignatureError extends Error{constructor(u){super(u)}}const startsWithSchemeRegexp=/^[a-z][a-z0-9+.-]*:/i,isAbsoluteURL=c=>startsWithSchemeRegexp.test(c);let isArray=c=>(isArray=Array.isArray,isArray(c)),isReadonlyArray=isArray;function maybeObj(c){return typeof c!="object"?{}:c??{}}function isEmptyObj(c){if(!c)return!0;for(const u in c)return!1;return!0}function hasOwn(c,u){return Object.prototype.hasOwnProperty.call(c,u)}function isObj(c){return c!=null&&typeof c=="object"&&!Array.isArray(c)}const validatePositiveInteger=(c,u)=>{if(typeof u!="number"||!Number.isInteger(u))throw new OpenAIError(`${c} must be an integer`);if(u<0)throw new OpenAIError(`${c} must be a positive integer`);return u},safeJSON=c=>{try{return JSON.parse(c)}catch{return}},sleep=c=>new Promise(u=>setTimeout(u,c)),VERSION$1="6.10.0",isRunningInBrowser=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function getDetectedPlatform(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const getPlatformProperties=()=>{var d;const c=getDetectedPlatform();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":normalizePlatform(Deno.build.os),"X-Stainless-Arch":normalizeArch(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((d=Deno.version)==null?void 0:d.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":normalizePlatform(globalThis.process.platform??"unknown"),"X-Stainless-Arch":normalizeArch(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const u=getBrowserInfo();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo(){if(typeof navigator>"u"||!navigator)return null;const c=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:u,pattern:d}of c){const y=d.exec(navigator.userAgent);if(y){const O=y[1]||0,T=y[2]||0,E=y[3]||0;return{browser:u,version:`${O}.${T}.${E}`}}}return null}const normalizeArch=c=>c==="x32"?"x32":c==="x86_64"||c==="x64"?"x64":c==="arm"?"arm":c==="aarch64"||c==="arm64"?"arm64":c?`other:${c}`:"unknown",normalizePlatform=c=>(c=c.toLowerCase(),c.includes("ios")?"iOS":c==="android"?"Android":c==="darwin"?"MacOS":c==="win32"?"Windows":c==="freebsd"?"FreeBSD":c==="openbsd"?"OpenBSD":c==="linux"?"Linux":c?`Other:${c}`:"Unknown");let _platformHeaders;const getPlatformHeaders=()=>_platformHeaders??(_platformHeaders=getPlatformProperties());function getDefaultFetch(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function makeReadableStream(...c){const u=globalThis.ReadableStream;if(typeof u>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new u(...c)}function ReadableStreamFrom(c){let u=Symbol.asyncIterator in c?c[Symbol.asyncIterator]():c[Symbol.iterator]();return makeReadableStream({start(){},async pull(d){const{done:y,value:O}=await u.next();y?d.close():d.enqueue(O)},async cancel(){var d;await((d=u.return)==null?void 0:d.call(u))}})}function ReadableStreamToAsyncIterable(c){if(c[Symbol.asyncIterator])return c;const u=c.getReader();return{async next(){try{const d=await u.read();return d!=null&&d.done&&u.releaseLock(),d}catch(d){throw u.releaseLock(),d}},async return(){const d=u.cancel();return u.releaseLock(),await d,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function CancelReadableStream(c){var y,O;if(c===null||typeof c!="object")return;if(c[Symbol.asyncIterator]){await((O=(y=c[Symbol.asyncIterator]()).return)==null?void 0:O.call(y));return}const u=c.getReader(),d=u.cancel();u.releaseLock(),await d}const FallbackEncoder=({headers:c,body:u})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(u)}),default_format="RFC3986",default_formatter=c=>String(c),formatters={RFC1738:c=>String(c).replace(/%20/g,"+"),RFC3986:default_formatter},RFC1738="RFC1738";let has=(c,u)=>(has=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),has(c,u));const hex_table=(()=>{const c=[];for(let u=0;u<256;++u)c.push("%"+((u<16?"0":"")+u.toString(16)).toUpperCase());return c})(),limit=1024,encode=(c,u,d,y,O)=>{if(c.length===0)return c;let T=c;if(typeof c=="symbol"?T=Symbol.prototype.toString.call(c):typeof c!="string"&&(T=String(c)),d==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});let E="";for(let v=0;v<T.length;v+=limit){const p=T.length>=limit?T.slice(v,v+limit):T,g=[];for(let w=0;w<p.length;++w){let R=p.charCodeAt(w);if(R===45||R===46||R===95||R===126||R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122||O===RFC1738&&(R===40||R===41)){g[g.length]=p.charAt(w);continue}if(R<128){g[g.length]=hex_table[R];continue}if(R<2048){g[g.length]=hex_table[192|R>>6]+hex_table[128|R&63];continue}if(R<55296||R>=57344){g[g.length]=hex_table[224|R>>12]+hex_table[128|R>>6&63]+hex_table[128|R&63];continue}w+=1,R=65536+((R&1023)<<10|p.charCodeAt(w)&1023),g[g.length]=hex_table[240|R>>18]+hex_table[128|R>>12&63]+hex_table[128|R>>6&63]+hex_table[128|R&63]}E+=g.join("")}return E};function is_buffer(c){return!c||typeof c!="object"?!1:!!(c.constructor&&c.constructor.isBuffer&&c.constructor.isBuffer(c))}function maybe_map(c,u){if(isArray(c)){const d=[];for(let y=0;y<c.length;y+=1)d.push(u(c[y]));return d}return u(c)}const array_prefix_generators={brackets(c){return String(c)+"[]"},comma:"comma",indices(c,u){return String(c)+"["+u+"]"},repeat(c){return String(c)}},push_to_array=function(c,u){Array.prototype.push.apply(c,isArray(u)?u:[u])};let toISOString;const defaults={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:encode,encodeValuesOnly:!1,format:default_format,formatter:default_formatter,indices:!1,serializeDate(c){return(toISOString??(toISOString=Function.prototype.call.bind(Date.prototype.toISOString)))(c)},skipNulls:!1,strictNullHandling:!1};function is_non_nullish_primitive(c){return typeof c=="string"||typeof c=="number"||typeof c=="boolean"||typeof c=="symbol"||typeof c=="bigint"}const sentinel={};function inner_stringify(c,u,d,y,O,T,E,v,p,g,w,R,C,N,D,L,q,M){let U=c,V=M,$=0,z=!1;for(;(V=V.get(sentinel))!==void 0&&!z;){const H=V.get(c);if($+=1,typeof H<"u"){if(H===$)throw new RangeError("Cyclic object value");z=!0}typeof V.get(sentinel)>"u"&&($=0)}if(typeof g=="function"?U=g(u,U):U instanceof Date?U=C==null?void 0:C(U):d==="comma"&&isArray(U)&&(U=maybe_map(U,function(H){return H instanceof Date?C==null?void 0:C(H):H})),U===null){if(T)return p&&!L?p(u,defaults.encoder,q,"key",N):u;U=""}if(is_non_nullish_primitive(U)||is_buffer(U)){if(p){const H=L?u:p(u,defaults.encoder,q,"key",N);return[(D==null?void 0:D(H))+"="+(D==null?void 0:D(p(U,defaults.encoder,q,"value",N)))]}return[(D==null?void 0:D(u))+"="+(D==null?void 0:D(String(U)))]}const W=[];if(typeof U>"u")return W;let J;if(d==="comma"&&isArray(U))L&&p&&(U=maybe_map(U,p)),J=[{value:U.length>0?U.join(",")||null:void 0}];else if(isArray(g))J=g;else{const H=Object.keys(U);J=w?H.sort(w):H}const Y=v?String(u).replace(/\./g,"%2E"):String(u),Q=y&&isArray(U)&&U.length===1?Y+"[]":Y;if(O&&isArray(U)&&U.length===0)return Q+"[]";for(let H=0;H<J.length;++H){const te=J[H],ne=typeof te=="object"&&typeof te.value<"u"?te.value:U[te];if(E&&ne===null)continue;const oe=R&&v?te.replace(/\./g,"%2E"):te,ie=isArray(U)?typeof d=="function"?d(Q,oe):Q:Q+(R?"."+oe:"["+oe+"]");M.set(c,$);const ee=new WeakMap;ee.set(sentinel,M),push_to_array(W,inner_stringify(ne,ie,d,y,O,T,E,v,d==="comma"&&L&&isArray(U)?null:p,g,w,R,C,N,D,L,q,ee))}return W}function normalize_stringify_options(c=defaults){if(typeof c.allowEmptyArrays<"u"&&typeof c.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof c.encodeDotInKeys<"u"&&typeof c.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(c.encoder!==null&&typeof c.encoder<"u"&&typeof c.encoder!="function")throw new TypeError("Encoder has to be a function.");const u=c.charset||defaults.charset;if(typeof c.charset<"u"&&c.charset!=="utf-8"&&c.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let d=default_format;if(typeof c.format<"u"){if(!has(formatters,c.format))throw new TypeError("Unknown format option provided.");d=c.format}const y=formatters[d];let O=defaults.filter;(typeof c.filter=="function"||isArray(c.filter))&&(O=c.filter);let T;if(c.arrayFormat&&c.arrayFormat in array_prefix_generators?T=c.arrayFormat:"indices"in c?T=c.indices?"indices":"repeat":T=defaults.arrayFormat,"commaRoundTrip"in c&&typeof c.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const E=typeof c.allowDots>"u"?c.encodeDotInKeys?!0:defaults.allowDots:!!c.allowDots;return{addQueryPrefix:typeof c.addQueryPrefix=="boolean"?c.addQueryPrefix:defaults.addQueryPrefix,allowDots:E,allowEmptyArrays:typeof c.allowEmptyArrays=="boolean"?!!c.allowEmptyArrays:defaults.allowEmptyArrays,arrayFormat:T,charset:u,charsetSentinel:typeof c.charsetSentinel=="boolean"?c.charsetSentinel:defaults.charsetSentinel,commaRoundTrip:!!c.commaRoundTrip,delimiter:typeof c.delimiter>"u"?defaults.delimiter:c.delimiter,encode:typeof c.encode=="boolean"?c.encode:defaults.encode,encodeDotInKeys:typeof c.encodeDotInKeys=="boolean"?c.encodeDotInKeys:defaults.encodeDotInKeys,encoder:typeof c.encoder=="function"?c.encoder:defaults.encoder,encodeValuesOnly:typeof c.encodeValuesOnly=="boolean"?c.encodeValuesOnly:defaults.encodeValuesOnly,filter:O,format:d,formatter:y,serializeDate:typeof c.serializeDate=="function"?c.serializeDate:defaults.serializeDate,skipNulls:typeof c.skipNulls=="boolean"?c.skipNulls:defaults.skipNulls,sort:typeof c.sort=="function"?c.sort:null,strictNullHandling:typeof c.strictNullHandling=="boolean"?c.strictNullHandling:defaults.strictNullHandling}}function stringify$1(c,u={}){let d=c;const y=normalize_stringify_options(u);let O,T;typeof y.filter=="function"?(T=y.filter,d=T("",d)):isArray(y.filter)&&(T=y.filter,O=T);const E=[];if(typeof d!="object"||d===null)return"";const v=array_prefix_generators[y.arrayFormat],p=v==="comma"&&y.commaRoundTrip;O||(O=Object.keys(d)),y.sort&&O.sort(y.sort);const g=new WeakMap;for(let C=0;C<O.length;++C){const N=O[C];y.skipNulls&&d[N]===null||push_to_array(E,inner_stringify(d[N],N,v,p,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,g))}const w=E.join(y.delimiter);let R=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),w.length>0?R+w:""}function concatBytes(c){let u=0;for(const O of c)u+=O.length;const d=new Uint8Array(u);let y=0;for(const O of c)d.set(O,y),y+=O.length;return d}let encodeUTF8_;function encodeUTF8(c){let u;return(encodeUTF8_??(u=new globalThis.TextEncoder,encodeUTF8_=u.encode.bind(u)))(c)}let decodeUTF8_;function decodeUTF8(c){let u;return(decodeUTF8_??(u=new globalThis.TextDecoder,decodeUTF8_=u.decode.bind(u)))(c)}var _LineDecoder_buffer,_LineDecoder_carriageReturnIndex;class LineDecoder{constructor(){_LineDecoder_buffer.set(this,void 0),_LineDecoder_carriageReturnIndex.set(this,void 0),__classPrivateFieldSet(this,_LineDecoder_buffer,new Uint8Array),__classPrivateFieldSet(this,_LineDecoder_carriageReturnIndex,null)}decode(u){if(u==null)return[];const d=u instanceof ArrayBuffer?new Uint8Array(u):typeof u=="string"?encodeUTF8(u):u;__classPrivateFieldSet(this,_LineDecoder_buffer,concatBytes([__classPrivateFieldGet(this,_LineDecoder_buffer,"f"),d]));const y=[];let O;for(;(O=findNewlineIndex(__classPrivateFieldGet(this,_LineDecoder_buffer,"f"),__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")))!=null;){if(O.carriage&&__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")==null){__classPrivateFieldSet(this,_LineDecoder_carriageReturnIndex,O.index);continue}if(__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")!=null&&(O.index!==__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")+1||O.carriage)){y.push(decodeUTF8(__classPrivateFieldGet(this,_LineDecoder_buffer,"f").subarray(0,__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")-1))),__classPrivateFieldSet(this,_LineDecoder_buffer,__classPrivateFieldGet(this,_LineDecoder_buffer,"f").subarray(__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f"))),__classPrivateFieldSet(this,_LineDecoder_carriageReturnIndex,null);continue}const T=__classPrivateFieldGet(this,_LineDecoder_carriageReturnIndex,"f")!==null?O.preceding-1:O.preceding,E=decodeUTF8(__classPrivateFieldGet(this,_LineDecoder_buffer,"f").subarray(0,T));y.push(E),__classPrivateFieldSet(this,_LineDecoder_buffer,__classPrivateFieldGet(this,_LineDecoder_buffer,"f").subarray(O.index)),__classPrivateFieldSet(this,_LineDecoder_carriageReturnIndex,null)}return y}flush(){return __classPrivateFieldGet(this,_LineDecoder_buffer,"f").length?this.decode(`
`):[]}}_LineDecoder_buffer=new WeakMap,_LineDecoder_carriageReturnIndex=new WeakMap;LineDecoder.NEWLINE_CHARS=new Set([`
`,"\r"]);LineDecoder.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function findNewlineIndex(c,u){for(let O=u??0;O<c.length;O++){if(c[O]===10)return{preceding:O,index:O+1,carriage:!1};if(c[O]===13)return{preceding:O,index:O+1,carriage:!0}}return null}function findDoubleNewlineIndex(c){for(let y=0;y<c.length-1;y++){if(c[y]===10&&c[y+1]===10||c[y]===13&&c[y+1]===13)return y+2;if(c[y]===13&&c[y+1]===10&&y+3<c.length&&c[y+2]===13&&c[y+3]===10)return y+4}return-1}const levelNumbers={off:0,error:200,warn:300,info:400,debug:500},parseLogLevel=(c,u,d)=>{if(c){if(hasOwn(levelNumbers,c))return c;loggerFor(d).warn(`${u} was set to ${JSON.stringify(c)}, expected one of ${JSON.stringify(Object.keys(levelNumbers))}`)}};function noop$1(){}function makeLogFn(c,u,d){return!u||levelNumbers[c]>levelNumbers[d]?noop$1:u[c].bind(u)}const noopLogger={error:noop$1,warn:noop$1,info:noop$1,debug:noop$1};let cachedLoggers=new WeakMap;function loggerFor(c){const u=c.logger,d=c.logLevel??"off";if(!u)return noopLogger;const y=cachedLoggers.get(u);if(y&&y[0]===d)return y[1];const O={error:makeLogFn("error",u,d),warn:makeLogFn("warn",u,d),info:makeLogFn("info",u,d),debug:makeLogFn("debug",u,d)};return cachedLoggers.set(u,[d,O]),O}const formatRequestDetails=c=>(c.options&&(c.options={...c.options},delete c.options.headers),c.headers&&(c.headers=Object.fromEntries((c.headers instanceof Headers?[...c.headers]:Object.entries(c.headers)).map(([u,d])=>[u,u.toLowerCase()==="authorization"||u.toLowerCase()==="cookie"||u.toLowerCase()==="set-cookie"?"***":d]))),"retryOfRequestLogID"in c&&(c.retryOfRequestLogID&&(c.retryOf=c.retryOfRequestLogID),delete c.retryOfRequestLogID),c);var _Stream_client;class Stream{constructor(u,d,y){this.iterator=u,_Stream_client.set(this,void 0),this.controller=d,__classPrivateFieldSet(this,_Stream_client,y)}static fromSSEResponse(u,d,y){let O=!1;const T=y?loggerFor(y):console;async function*E(){if(O)throw new OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");O=!0;let v=!1;try{for await(const p of _iterSSEMessages(u,d))if(!v){if(p.data.startsWith("[DONE]")){v=!0;continue}if(p.event===null||!p.event.startsWith("thread.")){let g;try{g=JSON.parse(p.data)}catch(w){throw T.error("Could not parse message into JSON:",p.data),T.error("From chunk:",p.raw),w}if(g&&g.error)throw new APIError(void 0,g.error,void 0,u.headers);yield g}else{let g;try{g=JSON.parse(p.data)}catch(w){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),w}if(p.event=="error")throw new APIError(void 0,g.error,g.message,void 0);yield{event:p.event,data:g}}}v=!0}catch(p){if(isAbortError(p))return;throw p}finally{v||d.abort()}}return new Stream(E,d,y)}static fromReadableStream(u,d,y){let O=!1;async function*T(){const v=new LineDecoder,p=ReadableStreamToAsyncIterable(u);for await(const g of p)for(const w of v.decode(g))yield w;for(const g of v.flush())yield g}async function*E(){if(O)throw new OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");O=!0;let v=!1;try{for await(const p of T())v||p&&(yield JSON.parse(p));v=!0}catch(p){if(isAbortError(p))return;throw p}finally{v||d.abort()}}return new Stream(E,d,y)}[(_Stream_client=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const u=[],d=[],y=this.iterator(),O=T=>({next:()=>{if(T.length===0){const E=y.next();u.push(E),d.push(E)}return T.shift()}});return[new Stream(()=>O(u),this.controller,__classPrivateFieldGet(this,_Stream_client,"f")),new Stream(()=>O(d),this.controller,__classPrivateFieldGet(this,_Stream_client,"f"))]}toReadableStream(){const u=this;let d;return makeReadableStream({async start(){d=u[Symbol.asyncIterator]()},async pull(y){try{const{value:O,done:T}=await d.next();if(T)return y.close();const E=encodeUTF8(JSON.stringify(O)+`
`);y.enqueue(E)}catch(O){y.error(O)}},async cancel(){var y;await((y=d.return)==null?void 0:y.call(d))}})}}async function*_iterSSEMessages(c,u){if(!c.body)throw u.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new OpenAIError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new OpenAIError("Attempted to iterate over a response with no body");const d=new SSEDecoder,y=new LineDecoder,O=ReadableStreamToAsyncIterable(c.body);for await(const T of iterSSEChunks(O))for(const E of y.decode(T)){const v=d.decode(E);v&&(yield v)}for(const T of y.flush()){const E=d.decode(T);E&&(yield E)}}async function*iterSSEChunks(c){let u=new Uint8Array;for await(const d of c){if(d==null)continue;const y=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?encodeUTF8(d):d;let O=new Uint8Array(u.length+y.length);O.set(u),O.set(y,u.length),u=O;let T;for(;(T=findDoubleNewlineIndex(u))!==-1;)yield u.slice(0,T),u=u.slice(T)}u.length>0&&(yield u)}class SSEDecoder{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(u){if(u.endsWith("\r")&&(u=u.substring(0,u.length-1)),!u){if(!this.event&&!this.data.length)return null;const T={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],T}if(this.chunks.push(u),u.startsWith(":"))return null;let[d,y,O]=partition(u,":");return O.startsWith(" ")&&(O=O.substring(1)),d==="event"?this.event=O:d==="data"&&this.data.push(O),null}}function partition(c,u){const d=c.indexOf(u);return d!==-1?[c.substring(0,d),u,c.substring(d+u.length)]:[c,"",""]}async function defaultParseResponse(c,u){const{response:d,requestLogID:y,retryOfRequestLogID:O,startTime:T}=u,E=await(async()=>{var R;if(u.options.stream)return loggerFor(c).debug("response",d.status,d.url,d.headers,d.body),u.options.__streamClass?u.options.__streamClass.fromSSEResponse(d,u.controller,c):Stream.fromSSEResponse(d,u.controller,c);if(d.status===204)return null;if(u.options.__binaryResponse)return d;const v=d.headers.get("content-type"),p=(R=v==null?void 0:v.split(";")[0])==null?void 0:R.trim();if((p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))){const C=await d.json();return addRequestID(C,d)}return await d.text()})();return loggerFor(c).debug(`[${y}] response parsed`,formatRequestDetails({retryOfRequestLogID:O,url:d.url,status:d.status,body:E,durationMs:Date.now()-T})),E}function addRequestID(c,u){return!c||typeof c!="object"||Array.isArray(c)?c:Object.defineProperty(c,"_request_id",{value:u.headers.get("x-request-id"),enumerable:!1})}var _APIPromise_client;class APIPromise extends Promise{constructor(u,d,y=defaultParseResponse){super(O=>{O(null)}),this.responsePromise=d,this.parseResponse=y,_APIPromise_client.set(this,void 0),__classPrivateFieldSet(this,_APIPromise_client,u)}_thenUnwrap(u){return new APIPromise(__classPrivateFieldGet(this,_APIPromise_client,"f"),this.responsePromise,async(d,y)=>addRequestID(u(await this.parseResponse(d,y),y),y.response))}asResponse(){return this.responsePromise.then(u=>u.response)}async withResponse(){const[u,d]=await Promise.all([this.parse(),this.asResponse()]);return{data:u,response:d,request_id:d.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(u=>this.parseResponse(__classPrivateFieldGet(this,_APIPromise_client,"f"),u))),this.parsedPromise}then(u,d){return this.parse().then(u,d)}catch(u){return this.parse().catch(u)}finally(u){return this.parse().finally(u)}}_APIPromise_client=new WeakMap;var _AbstractPage_client;class AbstractPage{constructor(u,d,y,O){_AbstractPage_client.set(this,void 0),__classPrivateFieldSet(this,_AbstractPage_client,u),this.options=O,this.response=d,this.body=y}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const u=this.nextPageRequestOptions();if(!u)throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await __classPrivateFieldGet(this,_AbstractPage_client,"f").requestAPIList(this.constructor,u)}async*iterPages(){let u=this;for(yield u;u.hasNextPage();)u=await u.getNextPage(),yield u}async*[(_AbstractPage_client=new WeakMap,Symbol.asyncIterator)](){for await(const u of this.iterPages())for(const d of u.getPaginatedItems())yield d}}class PagePromise extends APIPromise{constructor(u,d,y){super(u,d,async(O,T)=>new y(O,T.response,await defaultParseResponse(O,T),T.options))}async*[Symbol.asyncIterator](){const u=await this;for await(const d of u)yield d}}class Page extends AbstractPage{constructor(u,d,y,O){super(u,d,y,O),this.data=y.data||[],this.object=y.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class CursorPage extends AbstractPage{constructor(u,d,y,O){super(u,d,y,O),this.data=y.data||[],this.has_more=y.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var y;const u=this.getPaginatedItems(),d=(y=u[u.length-1])==null?void 0:y.id;return d?{...this.options,query:{...maybeObj(this.options.query),after:d}}:null}}class ConversationCursorPage extends AbstractPage{constructor(u,d,y,O){super(u,d,y,O),this.data=y.data||[],this.has_more=y.has_more||!1,this.last_id=y.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const u=this.last_id;return u?{...this.options,query:{...maybeObj(this.options.query),after:u}}:null}}const checkFileSupport=()=>{var c;if(typeof File>"u"){const{process:u}=globalThis,d=typeof((c=u==null?void 0:u.versions)==null?void 0:c.node)=="string"&&parseInt(u.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(d?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function makeFile(c,u,d){return checkFileSupport(),new File(c,u??"unknown_file",d)}function getName(c){return(typeof c=="object"&&c!==null&&("name"in c&&c.name&&String(c.name)||"url"in c&&c.url&&String(c.url)||"filename"in c&&c.filename&&String(c.filename)||"path"in c&&c.path&&String(c.path))||"").split(/[\\/]/).pop()||void 0}const isAsyncIterable=c=>c!=null&&typeof c=="object"&&typeof c[Symbol.asyncIterator]=="function",maybeMultipartFormRequestOptions=async(c,u)=>hasUploadableValue(c.body)?{...c,body:await createForm(c.body,u)}:c,multipartFormRequestOptions=async(c,u)=>({...c,body:await createForm(c.body,u)}),supportsFormDataMap=new WeakMap;function supportsFormData(c){const u=typeof c=="function"?c:c.fetch,d=supportsFormDataMap.get(u);if(d)return d;const y=(async()=>{try{const O="Response"in u?u.Response:(await u("data:,")).constructor,T=new FormData;return T.toString()!==await new O(T).text()}catch{return!0}})();return supportsFormDataMap.set(u,y),y}const createForm=async(c,u)=>{if(!await supportsFormData(u))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const d=new FormData;return await Promise.all(Object.entries(c||{}).map(([y,O])=>addFormValue(d,y,O))),d},isNamedBlob=c=>c instanceof Blob&&"name"in c,isUploadable=c=>typeof c=="object"&&c!==null&&(c instanceof Response||isAsyncIterable(c)||isNamedBlob(c)),hasUploadableValue=c=>{if(isUploadable(c))return!0;if(Array.isArray(c))return c.some(hasUploadableValue);if(c&&typeof c=="object"){for(const u in c)if(hasUploadableValue(c[u]))return!0}return!1},addFormValue=async(c,u,d)=>{if(d!==void 0){if(d==null)throw new TypeError(`Received null for "${u}"; to pass null in FormData, you must use the string 'null'`);if(typeof d=="string"||typeof d=="number"||typeof d=="boolean")c.append(u,String(d));else if(d instanceof Response)c.append(u,makeFile([await d.blob()],getName(d)));else if(isAsyncIterable(d))c.append(u,makeFile([await new Response(ReadableStreamFrom(d)).blob()],getName(d)));else if(isNamedBlob(d))c.append(u,d,getName(d));else if(Array.isArray(d))await Promise.all(d.map(y=>addFormValue(c,u+"[]",y)));else if(typeof d=="object")await Promise.all(Object.entries(d).map(([y,O])=>addFormValue(c,`${u}[${y}]`,O)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${d} instead`)}},isBlobLike=c=>c!=null&&typeof c=="object"&&typeof c.size=="number"&&typeof c.type=="string"&&typeof c.text=="function"&&typeof c.slice=="function"&&typeof c.arrayBuffer=="function",isFileLike=c=>c!=null&&typeof c=="object"&&typeof c.name=="string"&&typeof c.lastModified=="number"&&isBlobLike(c),isResponseLike=c=>c!=null&&typeof c=="object"&&typeof c.url=="string"&&typeof c.blob=="function";async function toFile(c,u,d){if(checkFileSupport(),c=await c,isFileLike(c))return c instanceof File?c:makeFile([await c.arrayBuffer()],c.name);if(isResponseLike(c)){const O=await c.blob();return u||(u=new URL(c.url).pathname.split(/[\\/]/).pop()),makeFile(await getBytes(O),u,d)}const y=await getBytes(c);if(u||(u=getName(c)),!(d!=null&&d.type)){const O=y.find(T=>typeof T=="object"&&"type"in T&&T.type);typeof O=="string"&&(d={...d,type:O})}return makeFile(y,u,d)}async function getBytes(c){var d;let u=[];if(typeof c=="string"||ArrayBuffer.isView(c)||c instanceof ArrayBuffer)u.push(c);else if(isBlobLike(c))u.push(c instanceof Blob?c:await c.arrayBuffer());else if(isAsyncIterable(c))for await(const y of c)u.push(...await getBytes(y));else{const y=(d=c==null?void 0:c.constructor)==null?void 0:d.name;throw new Error(`Unexpected data type: ${typeof c}${y?`; constructor: ${y}`:""}${propsForError(c)}`)}return u}function propsForError(c){return typeof c!="object"||c===null?"":`; props: [${Object.getOwnPropertyNames(c).map(d=>`"${d}"`).join(", ")}]`}class APIResource{constructor(u){this._client=u}}function encodeURIPath(c){return c.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const EMPTY=Object.freeze(Object.create(null)),createPathTagFunction=(c=encodeURIPath)=>function(d,...y){if(d.length===1)return d[0];let O=!1;const T=[],E=d.reduce((w,R,C)=>{var L;/[?#]/.test(R)&&(O=!0);const N=y[C];let D=(O?encodeURIComponent:c)(""+N);return C!==y.length&&(N==null||typeof N=="object"&&N.toString===((L=Object.getPrototypeOf(Object.getPrototypeOf(N.hasOwnProperty??EMPTY)??EMPTY))==null?void 0:L.toString))&&(D=N+"",T.push({start:w.length+R.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(N).slice(8,-1)} is not a valid path parameter`})),w+R+(C===y.length?"":D)},""),v=E.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=p.exec(v))!==null;)T.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(T.sort((w,R)=>w.start-R.start),T.length>0){let w=0;const R=T.reduce((C,N)=>{const D=" ".repeat(N.start-w),L="^".repeat(N.length);return w=N.start+N.length,C+D+L},"");throw new OpenAIError(`Path parameters result in path with invalid segments:
${T.map(C=>C.error).join(`
`)}
${E}
${R}`)}return E},path$2=createPathTagFunction(encodeURIPath);let Messages$1=class extends APIResource{list(u,d={},y){return this._client.getAPIList(path$2`/chat/completions/${u}/messages`,CursorPage,{query:d,...y})}};function isChatCompletionFunctionTool(c){return c!==void 0&&"function"in c&&c.function!==void 0}function isAutoParsableResponseFormat(c){return(c==null?void 0:c.$brand)==="auto-parseable-response-format"}function isAutoParsableTool$1(c){return(c==null?void 0:c.$brand)==="auto-parseable-tool"}function maybeParseChatCompletion(c,u){return!u||!hasAutoParseableInput$1(u)?{...c,choices:c.choices.map(d=>(assertToolCallsAreChatCompletionFunctionToolCalls(d.message.tool_calls),{...d,message:{...d.message,parsed:null,...d.message.tool_calls?{tool_calls:d.message.tool_calls}:void 0}}))}:parseChatCompletion(c,u)}function parseChatCompletion(c,u){const d=c.choices.map(y=>{var O;if(y.finish_reason==="length")throw new LengthFinishReasonError;if(y.finish_reason==="content_filter")throw new ContentFilterFinishReasonError;return assertToolCallsAreChatCompletionFunctionToolCalls(y.message.tool_calls),{...y,message:{...y.message,...y.message.tool_calls?{tool_calls:((O=y.message.tool_calls)==null?void 0:O.map(T=>parseToolCall$1(u,T)))??void 0}:void 0,parsed:y.message.content&&!y.message.refusal?parseResponseFormat(u,y.message.content):null}}});return{...c,choices:d}}function parseResponseFormat(c,u){var d,y;return((d=c.response_format)==null?void 0:d.type)!=="json_schema"?null:((y=c.response_format)==null?void 0:y.type)==="json_schema"?"$parseRaw"in c.response_format?c.response_format.$parseRaw(u):JSON.parse(u):null}function parseToolCall$1(c,u){var y;const d=(y=c.tools)==null?void 0:y.find(O=>{var T;return isChatCompletionFunctionTool(O)&&((T=O.function)==null?void 0:T.name)===u.function.name});return{...u,function:{...u.function,parsed_arguments:isAutoParsableTool$1(d)?d.$parseRaw(u.function.arguments):d!=null&&d.function.strict?JSON.parse(u.function.arguments):null}}}function shouldParseToolCall(c,u){var y;if(!c||!("tools"in c)||!c.tools)return!1;const d=(y=c.tools)==null?void 0:y.find(O=>{var T;return isChatCompletionFunctionTool(O)&&((T=O.function)==null?void 0:T.name)===u.function.name});return isChatCompletionFunctionTool(d)&&(isAutoParsableTool$1(d)||(d==null?void 0:d.function.strict)||!1)}function hasAutoParseableInput$1(c){var u;return isAutoParsableResponseFormat(c.response_format)?!0:((u=c.tools)==null?void 0:u.some(d=>isAutoParsableTool$1(d)||d.type==="function"&&d.function.strict===!0))??!1}function assertToolCallsAreChatCompletionFunctionToolCalls(c){for(const u of c||[])if(u.type!=="function")throw new OpenAIError(`Currently only \`function\` tool calls are supported; Received \`${u.type}\``)}function validateInputTools(c){for(const u of c??[]){if(u.type!=="function")throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${u.type}\``);if(u.function.strict!==!0)throw new OpenAIError(`The \`${u.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const isAssistantMessage=c=>(c==null?void 0:c.role)==="assistant",isToolMessage=c=>(c==null?void 0:c.role)==="tool";var _EventStream_instances,_EventStream_connectedPromise,_EventStream_resolveConnectedPromise,_EventStream_rejectConnectedPromise,_EventStream_endPromise,_EventStream_resolveEndPromise,_EventStream_rejectEndPromise,_EventStream_listeners,_EventStream_ended,_EventStream_errored,_EventStream_aborted,_EventStream_catchingPromiseCreated,_EventStream_handleError;class EventStream{constructor(){_EventStream_instances.add(this),this.controller=new AbortController,_EventStream_connectedPromise.set(this,void 0),_EventStream_resolveConnectedPromise.set(this,()=>{}),_EventStream_rejectConnectedPromise.set(this,()=>{}),_EventStream_endPromise.set(this,void 0),_EventStream_resolveEndPromise.set(this,()=>{}),_EventStream_rejectEndPromise.set(this,()=>{}),_EventStream_listeners.set(this,{}),_EventStream_ended.set(this,!1),_EventStream_errored.set(this,!1),_EventStream_aborted.set(this,!1),_EventStream_catchingPromiseCreated.set(this,!1),__classPrivateFieldSet(this,_EventStream_connectedPromise,new Promise((u,d)=>{__classPrivateFieldSet(this,_EventStream_resolveConnectedPromise,u,"f"),__classPrivateFieldSet(this,_EventStream_rejectConnectedPromise,d,"f")})),__classPrivateFieldSet(this,_EventStream_endPromise,new Promise((u,d)=>{__classPrivateFieldSet(this,_EventStream_resolveEndPromise,u,"f"),__classPrivateFieldSet(this,_EventStream_rejectEndPromise,d,"f")})),__classPrivateFieldGet(this,_EventStream_connectedPromise,"f").catch(()=>{}),__classPrivateFieldGet(this,_EventStream_endPromise,"f").catch(()=>{})}_run(u){setTimeout(()=>{u().then(()=>{this._emitFinal(),this._emit("end")},__classPrivateFieldGet(this,_EventStream_instances,"m",_EventStream_handleError).bind(this))},0)}_connected(){this.ended||(__classPrivateFieldGet(this,_EventStream_resolveConnectedPromise,"f").call(this),this._emit("connect"))}get ended(){return __classPrivateFieldGet(this,_EventStream_ended,"f")}get errored(){return __classPrivateFieldGet(this,_EventStream_errored,"f")}get aborted(){return __classPrivateFieldGet(this,_EventStream_aborted,"f")}abort(){this.controller.abort()}on(u,d){return(__classPrivateFieldGet(this,_EventStream_listeners,"f")[u]||(__classPrivateFieldGet(this,_EventStream_listeners,"f")[u]=[])).push({listener:d}),this}off(u,d){const y=__classPrivateFieldGet(this,_EventStream_listeners,"f")[u];if(!y)return this;const O=y.findIndex(T=>T.listener===d);return O>=0&&y.splice(O,1),this}once(u,d){return(__classPrivateFieldGet(this,_EventStream_listeners,"f")[u]||(__classPrivateFieldGet(this,_EventStream_listeners,"f")[u]=[])).push({listener:d,once:!0}),this}emitted(u){return new Promise((d,y)=>{__classPrivateFieldSet(this,_EventStream_catchingPromiseCreated,!0),u!=="error"&&this.once("error",y),this.once(u,d)})}async done(){__classPrivateFieldSet(this,_EventStream_catchingPromiseCreated,!0),await __classPrivateFieldGet(this,_EventStream_endPromise,"f")}_emit(u,...d){if(__classPrivateFieldGet(this,_EventStream_ended,"f"))return;u==="end"&&(__classPrivateFieldSet(this,_EventStream_ended,!0),__classPrivateFieldGet(this,_EventStream_resolveEndPromise,"f").call(this));const y=__classPrivateFieldGet(this,_EventStream_listeners,"f")[u];if(y&&(__classPrivateFieldGet(this,_EventStream_listeners,"f")[u]=y.filter(O=>!O.once),y.forEach(({listener:O})=>O(...d))),u==="abort"){const O=d[0];!__classPrivateFieldGet(this,_EventStream_catchingPromiseCreated,"f")&&!(y!=null&&y.length)&&Promise.reject(O),__classPrivateFieldGet(this,_EventStream_rejectConnectedPromise,"f").call(this,O),__classPrivateFieldGet(this,_EventStream_rejectEndPromise,"f").call(this,O),this._emit("end");return}if(u==="error"){const O=d[0];!__classPrivateFieldGet(this,_EventStream_catchingPromiseCreated,"f")&&!(y!=null&&y.length)&&Promise.reject(O),__classPrivateFieldGet(this,_EventStream_rejectConnectedPromise,"f").call(this,O),__classPrivateFieldGet(this,_EventStream_rejectEndPromise,"f").call(this,O),this._emit("end")}}_emitFinal(){}}_EventStream_connectedPromise=new WeakMap,_EventStream_resolveConnectedPromise=new WeakMap,_EventStream_rejectConnectedPromise=new WeakMap,_EventStream_endPromise=new WeakMap,_EventStream_resolveEndPromise=new WeakMap,_EventStream_rejectEndPromise=new WeakMap,_EventStream_listeners=new WeakMap,_EventStream_ended=new WeakMap,_EventStream_errored=new WeakMap,_EventStream_aborted=new WeakMap,_EventStream_catchingPromiseCreated=new WeakMap,_EventStream_instances=new WeakSet,_EventStream_handleError=function(u){if(__classPrivateFieldSet(this,_EventStream_errored,!0),u instanceof Error&&u.name==="AbortError"&&(u=new APIUserAbortError),u instanceof APIUserAbortError)return __classPrivateFieldSet(this,_EventStream_aborted,!0),this._emit("abort",u);if(u instanceof OpenAIError)return this._emit("error",u);if(u instanceof Error){const d=new OpenAIError(u.message);return d.cause=u,this._emit("error",d)}return this._emit("error",new OpenAIError(String(u)))};function isRunnableFunctionWithParse(c){return typeof c.parse=="function"}var _AbstractChatCompletionRunner_instances,_AbstractChatCompletionRunner_getFinalContent,_AbstractChatCompletionRunner_getFinalMessage,_AbstractChatCompletionRunner_getFinalFunctionToolCall,_AbstractChatCompletionRunner_getFinalFunctionToolCallResult,_AbstractChatCompletionRunner_calculateTotalUsage,_AbstractChatCompletionRunner_validateParams,_AbstractChatCompletionRunner_stringifyFunctionCallResult;const DEFAULT_MAX_CHAT_COMPLETIONS=10;class AbstractChatCompletionRunner extends EventStream{constructor(){super(...arguments),_AbstractChatCompletionRunner_instances.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(u){var y;this._chatCompletions.push(u),this._emit("chatCompletion",u);const d=(y=u.choices[0])==null?void 0:y.message;return d&&this._addMessage(d),u}_addMessage(u,d=!0){if("content"in u||(u.content=null),this.messages.push(u),d){if(this._emit("message",u),isToolMessage(u)&&u.content)this._emit("functionToolCallResult",u.content);else if(isAssistantMessage(u)&&u.tool_calls)for(const y of u.tool_calls)y.type==="function"&&this._emit("functionToolCall",y.function)}}async finalChatCompletion(){await this.done();const u=this._chatCompletions[this._chatCompletions.length-1];if(!u)throw new OpenAIError("stream ended without producing a ChatCompletion");return u}async finalContent(){return await this.done(),__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this)}async finalMessage(){return await this.done(),__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this)}async finalFunctionToolCall(){return await this.done(),__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionToolCall).call(this)}async finalFunctionToolCallResult(){return await this.done(),__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionToolCallResult).call(this)}async totalUsage(){return await this.done(),__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const u=this._chatCompletions[this._chatCompletions.length-1];u&&this._emit("finalChatCompletion",u);const d=__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this);d&&this._emit("finalMessage",d);const y=__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this);y&&this._emit("finalContent",y);const O=__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionToolCall).call(this);O&&this._emit("finalFunctionToolCall",O);const T=__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionToolCallResult).call(this);T!=null&&this._emit("finalFunctionToolCallResult",T),this._chatCompletions.some(E=>E.usage)&&this._emit("totalUsage",__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this))}async _createChatCompletion(u,d,y){const O=y==null?void 0:y.signal;O&&(O.aborted&&this.controller.abort(),O.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_validateParams).call(this,d);const T=await u.chat.completions.create({...d,stream:!1},{...y,signal:this.controller.signal});return this._connected(),this._addChatCompletion(parseChatCompletion(T,d))}async _runChatCompletion(u,d,y){for(const O of d.messages)this._addMessage(O,!1);return await this._createChatCompletion(u,d,y)}async _runTools(u,d,y){var N,D,L;const O="tool",{tool_choice:T="auto",stream:E,...v}=d,p=typeof T!="string"&&T.type==="function"&&((N=T==null?void 0:T.function)==null?void 0:N.name),{maxChatCompletions:g=DEFAULT_MAX_CHAT_COMPLETIONS}=y||{},w=d.tools.map(q=>{if(isAutoParsableTool$1(q)){if(!q.$callback)throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:q.$callback,name:q.function.name,description:q.function.description||"",parameters:q.function.parameters,parse:q.$parseRaw,strict:!0}}}return q}),R={};for(const q of w)q.type==="function"&&(R[q.function.name||q.function.function.name]=q.function);const C="tools"in d?w.map(q=>q.type==="function"?{type:"function",function:{name:q.function.name||q.function.function.name,parameters:q.function.parameters,description:q.function.description,strict:q.function.strict}}:q):void 0;for(const q of d.messages)this._addMessage(q,!1);for(let q=0;q<g;++q){const U=(D=(await this._createChatCompletion(u,{...v,tool_choice:T,tools:C,messages:[...this.messages]},y)).choices[0])==null?void 0:D.message;if(!U)throw new OpenAIError("missing message in ChatCompletion response");if(!((L=U.tool_calls)!=null&&L.length))return;for(const V of U.tool_calls){if(V.type!=="function")continue;const $=V.id,{name:z,arguments:W}=V.function,J=R[z];if(J){if(p&&p!==z){const te=`Invalid tool_call: ${JSON.stringify(z)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:O,tool_call_id:$,content:te});continue}}else{const te=`Invalid tool_call: ${JSON.stringify(z)}. Available options are: ${Object.keys(R).map(ne=>JSON.stringify(ne)).join(", ")}. Please try again`;this._addMessage({role:O,tool_call_id:$,content:te});continue}let Y;try{Y=isRunnableFunctionWithParse(J)?await J.parse(W):W}catch(te){const ne=te instanceof Error?te.message:String(te);this._addMessage({role:O,tool_call_id:$,content:ne});continue}const Q=await J.function(Y,this),H=__classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,Q);if(this._addMessage({role:O,tool_call_id:$,content:H}),p)return}}}}_AbstractChatCompletionRunner_instances=new WeakSet,_AbstractChatCompletionRunner_getFinalContent=function(){return __classPrivateFieldGet(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this).content??null},_AbstractChatCompletionRunner_getFinalMessage=function(){let u=this.messages.length;for(;u-- >0;){const d=this.messages[u];if(isAssistantMessage(d))return{...d,content:d.content??null,refusal:d.refusal??null}}throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},_AbstractChatCompletionRunner_getFinalFunctionToolCall=function(){var u,d;for(let y=this.messages.length-1;y>=0;y--){const O=this.messages[y];if(isAssistantMessage(O)&&((u=O==null?void 0:O.tool_calls)!=null&&u.length))return(d=O.tool_calls.filter(T=>T.type==="function").at(-1))==null?void 0:d.function}},_AbstractChatCompletionRunner_getFinalFunctionToolCallResult=function(){for(let u=this.messages.length-1;u>=0;u--){const d=this.messages[u];if(isToolMessage(d)&&d.content!=null&&typeof d.content=="string"&&this.messages.some(y=>{var O;return y.role==="assistant"&&((O=y.tool_calls)==null?void 0:O.some(T=>T.type==="function"&&T.id===d.tool_call_id))}))return d.content}},_AbstractChatCompletionRunner_calculateTotalUsage=function(){const u={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:d}of this._chatCompletions)d&&(u.completion_tokens+=d.completion_tokens,u.prompt_tokens+=d.prompt_tokens,u.total_tokens+=d.total_tokens);return u},_AbstractChatCompletionRunner_validateParams=function(u){if(u.n!=null&&u.n>1)throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_AbstractChatCompletionRunner_stringifyFunctionCallResult=function(u){return typeof u=="string"?u:u===void 0?"undefined":JSON.stringify(u)};class ChatCompletionRunner extends AbstractChatCompletionRunner{static runTools(u,d,y){const O=new ChatCompletionRunner,T={...y,headers:{...y==null?void 0:y.headers,"X-Stainless-Helper-Method":"runTools"}};return O._run(()=>O._runTools(u,d,T)),O}_addMessage(u,d=!0){super._addMessage(u,d),isAssistantMessage(u)&&u.content&&this._emit("content",u.content)}}const STR=1,NUM=2,ARR=4,OBJ=8,NULL=16,BOOL=32,NAN=64,INFINITY=128,MINUS_INFINITY=256,INF=INFINITY|MINUS_INFINITY,SPECIAL=NULL|BOOL|INF|NAN,ATOM=STR|NUM|SPECIAL,COLLECTION=ARR|OBJ,ALL=ATOM|COLLECTION,Allow={STR,NUM,ARR,OBJ,NULL,BOOL,NAN,INFINITY,MINUS_INFINITY,INF,SPECIAL,ATOM,COLLECTION,ALL};class PartialJSON extends Error{}class MalformedJSON extends Error{}function parseJSON(c,u=Allow.ALL){if(typeof c!="string")throw new TypeError(`expecting str, got ${typeof c}`);if(!c.trim())throw new Error(`${c} is empty`);return _parseJSON(c.trim(),u)}const _parseJSON=(c,u)=>{const d=c.length;let y=0;const O=C=>{throw new PartialJSON(`${C} at position ${y}`)},T=C=>{throw new MalformedJSON(`${C} at position ${y}`)},E=()=>(R(),y>=d&&O("Unexpected end of input"),c[y]==='"'?v():c[y]==="{"?p():c[y]==="["?g():c.substring(y,y+4)==="null"||Allow.NULL&u&&d-y<4&&"null".startsWith(c.substring(y))?(y+=4,null):c.substring(y,y+4)==="true"||Allow.BOOL&u&&d-y<4&&"true".startsWith(c.substring(y))?(y+=4,!0):c.substring(y,y+5)==="false"||Allow.BOOL&u&&d-y<5&&"false".startsWith(c.substring(y))?(y+=5,!1):c.substring(y,y+8)==="Infinity"||Allow.INFINITY&u&&d-y<8&&"Infinity".startsWith(c.substring(y))?(y+=8,1/0):c.substring(y,y+9)==="-Infinity"||Allow.MINUS_INFINITY&u&&1<d-y&&d-y<9&&"-Infinity".startsWith(c.substring(y))?(y+=9,-1/0):c.substring(y,y+3)==="NaN"||Allow.NAN&u&&d-y<3&&"NaN".startsWith(c.substring(y))?(y+=3,NaN):w()),v=()=>{const C=y;let N=!1;for(y++;y<d&&(c[y]!=='"'||N&&c[y-1]==="\\");)N=c[y]==="\\"?!N:!1,y++;if(c.charAt(y)=='"')try{return JSON.parse(c.substring(C,++y-Number(N)))}catch(D){T(String(D))}else if(Allow.STR&u)try{return JSON.parse(c.substring(C,y-Number(N))+'"')}catch{return JSON.parse(c.substring(C,c.lastIndexOf("\\"))+'"')}O("Unterminated string literal")},p=()=>{y++,R();const C={};try{for(;c[y]!=="}";){if(R(),y>=d&&Allow.OBJ&u)return C;const N=v();R(),y++;try{const D=E();Object.defineProperty(C,N,{value:D,writable:!0,enumerable:!0,configurable:!0})}catch(D){if(Allow.OBJ&u)return C;throw D}R(),c[y]===","&&y++}}catch{if(Allow.OBJ&u)return C;O("Expected '}' at end of object")}return y++,C},g=()=>{y++;const C=[];try{for(;c[y]!=="]";)C.push(E()),R(),c[y]===","&&y++}catch{if(Allow.ARR&u)return C;O("Expected ']' at end of array")}return y++,C},w=()=>{if(y===0){c==="-"&&Allow.NUM&u&&O("Not sure what '-' is");try{return JSON.parse(c)}catch(N){if(Allow.NUM&u)try{return c[c.length-1]==="."?JSON.parse(c.substring(0,c.lastIndexOf("."))):JSON.parse(c.substring(0,c.lastIndexOf("e")))}catch{}T(String(N))}}const C=y;for(c[y]==="-"&&y++;c[y]&&!",]}".includes(c[y]);)y++;y==d&&!(Allow.NUM&u)&&O("Unterminated number literal");try{return JSON.parse(c.substring(C,y))}catch{c.substring(C,y)==="-"&&Allow.NUM&u&&O("Not sure what '-' is");try{return JSON.parse(c.substring(C,c.lastIndexOf("e")))}catch(D){T(String(D))}}},R=()=>{for(;y<d&&` 
\r	`.includes(c[y]);)y++};return E()},partialParse=c=>parseJSON(c,Allow.ALL^Allow.NUM);var _ChatCompletionStream_instances,_ChatCompletionStream_params,_ChatCompletionStream_choiceEventStates,_ChatCompletionStream_currentChatCompletionSnapshot,_ChatCompletionStream_beginRequest,_ChatCompletionStream_getChoiceEventState,_ChatCompletionStream_addChunk,_ChatCompletionStream_emitToolCallDoneEvent,_ChatCompletionStream_emitContentDoneEvents,_ChatCompletionStream_endRequest,_ChatCompletionStream_getAutoParseableResponseFormat,_ChatCompletionStream_accumulateChatCompletion;class ChatCompletionStream extends AbstractChatCompletionRunner{constructor(u){super(),_ChatCompletionStream_instances.add(this),_ChatCompletionStream_params.set(this,void 0),_ChatCompletionStream_choiceEventStates.set(this,void 0),_ChatCompletionStream_currentChatCompletionSnapshot.set(this,void 0),__classPrivateFieldSet(this,_ChatCompletionStream_params,u),__classPrivateFieldSet(this,_ChatCompletionStream_choiceEventStates,[])}get currentChatCompletionSnapshot(){return __classPrivateFieldGet(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f")}static fromReadableStream(u){const d=new ChatCompletionStream(null);return d._run(()=>d._fromReadableStream(u)),d}static createChatCompletion(u,d,y){const O=new ChatCompletionStream(d);return O._run(()=>O._runChatCompletion(u,{...d,stream:!0},{...y,headers:{...y==null?void 0:y.headers,"X-Stainless-Helper-Method":"stream"}})),O}async _createChatCompletion(u,d,y){var E;super._createChatCompletion;const O=y==null?void 0:y.signal;O&&(O.aborted&&this.controller.abort(),O.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this);const T=await u.chat.completions.create({...d,stream:!0},{...y,signal:this.controller.signal});this._connected();for await(const v of T)__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,v);if((E=T.controller.signal)!=null&&E.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}async _fromReadableStream(u,d){var E;const y=d==null?void 0:d.signal;y&&(y.aborted&&this.controller.abort(),y.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this),this._connected();const O=Stream.fromReadableStream(u,this.controller);let T;for await(const v of O)T&&T!==v.id&&this._addChatCompletion(__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this)),__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,v),T=v.id;if((E=O.controller.signal)!=null&&E.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}[(_ChatCompletionStream_params=new WeakMap,_ChatCompletionStream_choiceEventStates=new WeakMap,_ChatCompletionStream_currentChatCompletionSnapshot=new WeakMap,_ChatCompletionStream_instances=new WeakSet,_ChatCompletionStream_beginRequest=function(){this.ended||__classPrivateFieldSet(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0)},_ChatCompletionStream_getChoiceEventState=function(d){let y=__classPrivateFieldGet(this,_ChatCompletionStream_choiceEventStates,"f")[d.index];return y||(y={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},__classPrivateFieldGet(this,_ChatCompletionStream_choiceEventStates,"f")[d.index]=y,y)},_ChatCompletionStream_addChunk=function(d){var O,T,E,v,p,g,w,R,C,N,D,L,q,M,U;if(this.ended)return;const y=__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_accumulateChatCompletion).call(this,d);this._emit("chunk",d,y);for(const V of d.choices){const $=y.choices[V.index];V.delta.content!=null&&((O=$.message)==null?void 0:O.role)==="assistant"&&((T=$.message)!=null&&T.content)&&(this._emit("content",V.delta.content,$.message.content),this._emit("content.delta",{delta:V.delta.content,snapshot:$.message.content,parsed:$.message.parsed})),V.delta.refusal!=null&&((E=$.message)==null?void 0:E.role)==="assistant"&&((v=$.message)!=null&&v.refusal)&&this._emit("refusal.delta",{delta:V.delta.refusal,snapshot:$.message.refusal}),((p=V.logprobs)==null?void 0:p.content)!=null&&((g=$.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(w=V.logprobs)==null?void 0:w.content,snapshot:((R=$.logprobs)==null?void 0:R.content)??[]}),((C=V.logprobs)==null?void 0:C.refusal)!=null&&((N=$.message)==null?void 0:N.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(D=V.logprobs)==null?void 0:D.refusal,snapshot:((L=$.logprobs)==null?void 0:L.refusal)??[]});const z=__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,$);$.finish_reason&&(__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,$),z.current_tool_call_index!=null&&__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,$,z.current_tool_call_index));for(const W of V.delta.tool_calls??[])z.current_tool_call_index!==W.index&&(__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,$),z.current_tool_call_index!=null&&__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,$,z.current_tool_call_index)),z.current_tool_call_index=W.index;for(const W of V.delta.tool_calls??[]){const J=(q=$.message.tool_calls)==null?void 0:q[W.index];J!=null&&J.type&&((J==null?void 0:J.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(M=J.function)==null?void 0:M.name,index:W.index,arguments:J.function.arguments,parsed_arguments:J.function.parsed_arguments,arguments_delta:((U=W.function)==null?void 0:U.arguments)??""}):(J==null||J.type,void 0))}}},_ChatCompletionStream_emitToolCallDoneEvent=function(d,y){var E,v,p;if(__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,d).done_tool_calls.has(y))return;const T=(E=d.message.tool_calls)==null?void 0:E[y];if(!T)throw new Error("no tool call snapshot");if(!T.type)throw new Error("tool call snapshot missing `type`");if(T.type==="function"){const g=(p=(v=__classPrivateFieldGet(this,_ChatCompletionStream_params,"f"))==null?void 0:v.tools)==null?void 0:p.find(w=>isChatCompletionFunctionTool(w)&&w.function.name===T.function.name);this._emit("tool_calls.function.arguments.done",{name:T.function.name,index:y,arguments:T.function.arguments,parsed_arguments:isAutoParsableTool$1(g)?g.$parseRaw(T.function.arguments):g!=null&&g.function.strict?JSON.parse(T.function.arguments):null})}else T.type},_ChatCompletionStream_emitContentDoneEvents=function(d){var O,T;const y=__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,d);if(d.message.content&&!y.content_done){y.content_done=!0;const E=__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this);this._emit("content.done",{content:d.message.content,parsed:E?E.$parseRaw(d.message.content):null})}d.message.refusal&&!y.refusal_done&&(y.refusal_done=!0,this._emit("refusal.done",{refusal:d.message.refusal})),(O=d.logprobs)!=null&&O.content&&!y.logprobs_content_done&&(y.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:d.logprobs.content})),(T=d.logprobs)!=null&&T.refusal&&!y.logprobs_refusal_done&&(y.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:d.logprobs.refusal}))},_ChatCompletionStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");const d=__classPrivateFieldGet(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");if(!d)throw new OpenAIError("request ended without sending any chunks");return __classPrivateFieldSet(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0),__classPrivateFieldSet(this,_ChatCompletionStream_choiceEventStates,[]),finalizeChatCompletion(d,__classPrivateFieldGet(this,_ChatCompletionStream_params,"f"))},_ChatCompletionStream_getAutoParseableResponseFormat=function(){var y;const d=(y=__classPrivateFieldGet(this,_ChatCompletionStream_params,"f"))==null?void 0:y.response_format;return isAutoParsableResponseFormat(d)?d:null},_ChatCompletionStream_accumulateChatCompletion=function(d){var y,O,T,E;let v=__classPrivateFieldGet(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");const{choices:p,...g}=d;v?Object.assign(v,g):v=__classPrivateFieldSet(this,_ChatCompletionStream_currentChatCompletionSnapshot,{...g,choices:[]});for(const{delta:w,finish_reason:R,index:C,logprobs:N=null,...D}of d.choices){let L=v.choices[C];if(L||(L=v.choices[C]={finish_reason:R,index:C,message:{},logprobs:N,...D}),N)if(!L.logprobs)L.logprobs=Object.assign({},N);else{const{content:W,refusal:J,...Y}=N;Object.assign(L.logprobs,Y),W&&((y=L.logprobs).content??(y.content=[]),L.logprobs.content.push(...W)),J&&((O=L.logprobs).refusal??(O.refusal=[]),L.logprobs.refusal.push(...J))}if(R&&(L.finish_reason=R,__classPrivateFieldGet(this,_ChatCompletionStream_params,"f")&&hasAutoParseableInput$1(__classPrivateFieldGet(this,_ChatCompletionStream_params,"f")))){if(R==="length")throw new LengthFinishReasonError;if(R==="content_filter")throw new ContentFilterFinishReasonError}if(Object.assign(L,D),!w)continue;const{content:q,refusal:M,function_call:U,role:V,tool_calls:$,...z}=w;if(Object.assign(L.message,z),M&&(L.message.refusal=(L.message.refusal||"")+M),V&&(L.message.role=V),U&&(L.message.function_call?(U.name&&(L.message.function_call.name=U.name),U.arguments&&((T=L.message.function_call).arguments??(T.arguments=""),L.message.function_call.arguments+=U.arguments)):L.message.function_call=U),q&&(L.message.content=(L.message.content||"")+q,!L.message.refusal&&__classPrivateFieldGet(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this)&&(L.message.parsed=partialParse(L.message.content))),$){L.message.tool_calls||(L.message.tool_calls=[]);for(const{index:W,id:J,type:Y,function:Q,...H}of $){const te=(E=L.message.tool_calls)[W]??(E[W]={});Object.assign(te,H),J&&(te.id=J),Y&&(te.type=Y),Q&&(te.function??(te.function={name:Q.name??"",arguments:""})),Q!=null&&Q.name&&(te.function.name=Q.name),Q!=null&&Q.arguments&&(te.function.arguments+=Q.arguments,shouldParseToolCall(__classPrivateFieldGet(this,_ChatCompletionStream_params,"f"),te)&&(te.function.parsed_arguments=partialParse(te.function.arguments)))}}}return v},Symbol.asyncIterator)](){const u=[],d=[];let y=!1;return this.on("chunk",O=>{const T=d.shift();T?T.resolve(O):u.push(O)}),this.on("end",()=>{y=!0;for(const O of d)O.resolve(void 0);d.length=0}),this.on("abort",O=>{y=!0;for(const T of d)T.reject(O);d.length=0}),this.on("error",O=>{y=!0;for(const T of d)T.reject(O);d.length=0}),{next:async()=>u.length?{value:u.shift(),done:!1}:y?{value:void 0,done:!0}:new Promise((T,E)=>d.push({resolve:T,reject:E})).then(T=>T?{value:T,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function finalizeChatCompletion(c,u){const{id:d,choices:y,created:O,model:T,system_fingerprint:E,...v}=c,p={...v,id:d,choices:y.map(({message:g,finish_reason:w,index:R,logprobs:C,...N})=>{if(!w)throw new OpenAIError(`missing finish_reason for choice ${R}`);const{content:D=null,function_call:L,tool_calls:q,...M}=g,U=g.role;if(!U)throw new OpenAIError(`missing role for choice ${R}`);if(L){const{arguments:V,name:$}=L;if(V==null)throw new OpenAIError(`missing function_call.arguments for choice ${R}`);if(!$)throw new OpenAIError(`missing function_call.name for choice ${R}`);return{...N,message:{content:D,function_call:{arguments:V,name:$},role:U,refusal:g.refusal??null},finish_reason:w,index:R,logprobs:C}}return q?{...N,index:R,finish_reason:w,logprobs:C,message:{...M,role:U,content:D,refusal:g.refusal??null,tool_calls:q.map((V,$)=>{const{function:z,type:W,id:J,...Y}=V,{arguments:Q,name:H,...te}=z||{};if(J==null)throw new OpenAIError(`missing choices[${R}].tool_calls[${$}].id
${str(c)}`);if(W==null)throw new OpenAIError(`missing choices[${R}].tool_calls[${$}].type
${str(c)}`);if(H==null)throw new OpenAIError(`missing choices[${R}].tool_calls[${$}].function.name
${str(c)}`);if(Q==null)throw new OpenAIError(`missing choices[${R}].tool_calls[${$}].function.arguments
${str(c)}`);return{...Y,id:J,type:W,function:{...te,name:H,arguments:Q}}})}}:{...N,message:{...M,content:D,role:U,refusal:g.refusal??null},finish_reason:w,index:R,logprobs:C}}),created:O,model:T,object:"chat.completion",...E?{system_fingerprint:E}:{}};return maybeParseChatCompletion(p,u)}function str(c){return JSON.stringify(c)}function assertNever(c){}class ChatCompletionStreamingRunner extends ChatCompletionStream{static fromReadableStream(u){const d=new ChatCompletionStreamingRunner(null);return d._run(()=>d._fromReadableStream(u)),d}static runTools(u,d,y){const O=new ChatCompletionStreamingRunner(d),T={...y,headers:{...y==null?void 0:y.headers,"X-Stainless-Helper-Method":"runTools"}};return O._run(()=>O._runTools(u,d,T)),O}}let Completions$1=class extends APIResource{constructor(){super(...arguments),this.messages=new Messages$1(this._client)}create(u,d){return this._client.post("/chat/completions",{body:u,...d,stream:u.stream??!1})}retrieve(u,d){return this._client.get(path$2`/chat/completions/${u}`,d)}update(u,d,y){return this._client.post(path$2`/chat/completions/${u}`,{body:d,...y})}list(u={},d){return this._client.getAPIList("/chat/completions",CursorPage,{query:u,...d})}delete(u,d){return this._client.delete(path$2`/chat/completions/${u}`,d)}parse(u,d){return validateInputTools(u.tools),this._client.chat.completions.create(u,{...d,headers:{...d==null?void 0:d.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(y=>parseChatCompletion(y,u))}runTools(u,d){return u.stream?ChatCompletionStreamingRunner.runTools(this._client,u,d):ChatCompletionRunner.runTools(this._client,u,d)}stream(u,d){return ChatCompletionStream.createChatCompletion(this._client,u,d)}};Completions$1.Messages=Messages$1;class Chat extends APIResource{constructor(){super(...arguments),this.completions=new Completions$1(this._client)}}Chat.Completions=Completions$1;const brand_privateNullableHeaders=Symbol("brand.privateNullableHeaders");function*iterateHeaders(c){if(!c)return;if(brand_privateNullableHeaders in c){const{values:y,nulls:O}=c;yield*y.entries();for(const T of O)yield[T,null];return}let u=!1,d;c instanceof Headers?d=c.entries():isReadonlyArray(c)?d=c:(u=!0,d=Object.entries(c??{}));for(let y of d){const O=y[0];if(typeof O!="string")throw new TypeError("expected header name to be a string");const T=isReadonlyArray(y[1])?y[1]:[y[1]];let E=!1;for(const v of T)v!==void 0&&(u&&!E&&(E=!0,yield[O,null]),yield[O,v])}}const buildHeaders=c=>{const u=new Headers,d=new Set;for(const y of c){const O=new Set;for(const[T,E]of iterateHeaders(y)){const v=T.toLowerCase();O.has(v)||(u.delete(T),O.add(v)),E===null?(u.delete(T),d.add(v)):(u.append(T,E),d.delete(v))}}return{[brand_privateNullableHeaders]:!0,values:u,nulls:d}};class Speech extends APIResource{create(u,d){return this._client.post("/audio/speech",{body:u,...d,headers:buildHeaders([{Accept:"application/octet-stream"},d==null?void 0:d.headers]),__binaryResponse:!0})}}class Transcriptions extends APIResource{create(u,d){return this._client.post("/audio/transcriptions",multipartFormRequestOptions({body:u,...d,stream:u.stream??!1,__metadata:{model:u.model}},this._client))}}class Translations extends APIResource{create(u,d){return this._client.post("/audio/translations",multipartFormRequestOptions({body:u,...d,__metadata:{model:u.model}},this._client))}}class Audio extends APIResource{constructor(){super(...arguments),this.transcriptions=new Transcriptions(this._client),this.translations=new Translations(this._client),this.speech=new Speech(this._client)}}Audio.Transcriptions=Transcriptions;Audio.Translations=Translations;Audio.Speech=Speech;class Batches extends APIResource{create(u,d){return this._client.post("/batches",{body:u,...d})}retrieve(u,d){return this._client.get(path$2`/batches/${u}`,d)}list(u={},d){return this._client.getAPIList("/batches",CursorPage,{query:u,...d})}cancel(u,d){return this._client.post(path$2`/batches/${u}/cancel`,d)}}class Assistants extends APIResource{create(u,d){return this._client.post("/assistants",{body:u,...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}retrieve(u,d){return this._client.get(path$2`/assistants/${u}`,{...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}update(u,d,y){return this._client.post(path$2`/assistants/${u}`,{body:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}list(u={},d){return this._client.getAPIList("/assistants",CursorPage,{query:u,...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}delete(u,d){return this._client.delete(path$2`/assistants/${u}`,{...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}}let Sessions$1=class extends APIResource{create(u,d){return this._client.post("/realtime/sessions",{body:u,...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}};class TranscriptionSessions extends APIResource{create(u,d){return this._client.post("/realtime/transcription_sessions",{body:u,...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}}let Realtime$1=class extends APIResource{constructor(){super(...arguments),this.sessions=new Sessions$1(this._client),this.transcriptionSessions=new TranscriptionSessions(this._client)}};Realtime$1.Sessions=Sessions$1;Realtime$1.TranscriptionSessions=TranscriptionSessions;class Sessions extends APIResource{create(u,d){return this._client.post("/chatkit/sessions",{body:u,...d,headers:buildHeaders([{"OpenAI-Beta":"chatkit_beta=v1"},d==null?void 0:d.headers])})}cancel(u,d){return this._client.post(path$2`/chatkit/sessions/${u}/cancel`,{...d,headers:buildHeaders([{"OpenAI-Beta":"chatkit_beta=v1"},d==null?void 0:d.headers])})}}let Threads$1=class extends APIResource{retrieve(u,d){return this._client.get(path$2`/chatkit/threads/${u}`,{...d,headers:buildHeaders([{"OpenAI-Beta":"chatkit_beta=v1"},d==null?void 0:d.headers])})}list(u={},d){return this._client.getAPIList("/chatkit/threads",ConversationCursorPage,{query:u,...d,headers:buildHeaders([{"OpenAI-Beta":"chatkit_beta=v1"},d==null?void 0:d.headers])})}delete(u,d){return this._client.delete(path$2`/chatkit/threads/${u}`,{...d,headers:buildHeaders([{"OpenAI-Beta":"chatkit_beta=v1"},d==null?void 0:d.headers])})}listItems(u,d={},y){return this._client.getAPIList(path$2`/chatkit/threads/${u}/items`,ConversationCursorPage,{query:d,...y,headers:buildHeaders([{"OpenAI-Beta":"chatkit_beta=v1"},y==null?void 0:y.headers])})}};class ChatKit extends APIResource{constructor(){super(...arguments),this.sessions=new Sessions(this._client),this.threads=new Threads$1(this._client)}}ChatKit.Sessions=Sessions;ChatKit.Threads=Threads$1;class Messages extends APIResource{create(u,d,y){return this._client.post(path$2`/threads/${u}/messages`,{body:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}retrieve(u,d,y){const{thread_id:O}=d;return this._client.get(path$2`/threads/${O}/messages/${u}`,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}update(u,d,y){const{thread_id:O,...T}=d;return this._client.post(path$2`/threads/${O}/messages/${u}`,{body:T,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}list(u,d={},y){return this._client.getAPIList(path$2`/threads/${u}/messages`,CursorPage,{query:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}delete(u,d,y){const{thread_id:O}=d;return this._client.delete(path$2`/threads/${O}/messages/${u}`,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}}class Steps extends APIResource{retrieve(u,d,y){const{thread_id:O,run_id:T,...E}=d;return this._client.get(path$2`/threads/${O}/runs/${T}/steps/${u}`,{query:E,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}list(u,d,y){const{thread_id:O,...T}=d;return this._client.getAPIList(path$2`/threads/${O}/runs/${u}/steps`,CursorPage,{query:T,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}}const toFloat32Array=c=>{if(typeof Buffer<"u"){const u=Buffer.from(c,"base64");return Array.from(new Float32Array(u.buffer,u.byteOffset,u.length/Float32Array.BYTES_PER_ELEMENT))}else{const u=atob(c),d=u.length,y=new Uint8Array(d);for(let O=0;O<d;O++)y[O]=u.charCodeAt(O);return Array.from(new Float32Array(y.buffer))}};var define_globalThis_process_env_default={};const readEnv=c=>{var u,d,y,O;if(typeof globalThis.process<"u")return((u=define_globalThis_process_env_default==null?void 0:define_globalThis_process_env_default[c])==null?void 0:u.trim())??void 0;if(typeof globalThis.Deno<"u")return(O=(y=(d=globalThis.Deno.env)==null?void 0:d.get)==null?void 0:y.call(d,c))==null?void 0:O.trim()};var _AssistantStream_instances,_a$1,_AssistantStream_events,_AssistantStream_runStepSnapshots,_AssistantStream_messageSnapshots,_AssistantStream_messageSnapshot,_AssistantStream_finalRun,_AssistantStream_currentContentIndex,_AssistantStream_currentContent,_AssistantStream_currentToolCallIndex,_AssistantStream_currentToolCall,_AssistantStream_currentEvent,_AssistantStream_currentRunSnapshot,_AssistantStream_currentRunStepSnapshot,_AssistantStream_addEvent,_AssistantStream_endRequest,_AssistantStream_handleMessage,_AssistantStream_handleRunStep,_AssistantStream_handleEvent,_AssistantStream_accumulateRunStep,_AssistantStream_accumulateMessage,_AssistantStream_accumulateContent,_AssistantStream_handleRun;class AssistantStream extends EventStream{constructor(){super(...arguments),_AssistantStream_instances.add(this),_AssistantStream_events.set(this,[]),_AssistantStream_runStepSnapshots.set(this,{}),_AssistantStream_messageSnapshots.set(this,{}),_AssistantStream_messageSnapshot.set(this,void 0),_AssistantStream_finalRun.set(this,void 0),_AssistantStream_currentContentIndex.set(this,void 0),_AssistantStream_currentContent.set(this,void 0),_AssistantStream_currentToolCallIndex.set(this,void 0),_AssistantStream_currentToolCall.set(this,void 0),_AssistantStream_currentEvent.set(this,void 0),_AssistantStream_currentRunSnapshot.set(this,void 0),_AssistantStream_currentRunStepSnapshot.set(this,void 0)}[(_AssistantStream_events=new WeakMap,_AssistantStream_runStepSnapshots=new WeakMap,_AssistantStream_messageSnapshots=new WeakMap,_AssistantStream_messageSnapshot=new WeakMap,_AssistantStream_finalRun=new WeakMap,_AssistantStream_currentContentIndex=new WeakMap,_AssistantStream_currentContent=new WeakMap,_AssistantStream_currentToolCallIndex=new WeakMap,_AssistantStream_currentToolCall=new WeakMap,_AssistantStream_currentEvent=new WeakMap,_AssistantStream_currentRunSnapshot=new WeakMap,_AssistantStream_currentRunStepSnapshot=new WeakMap,_AssistantStream_instances=new WeakSet,Symbol.asyncIterator)](){const u=[],d=[];let y=!1;return this.on("event",O=>{const T=d.shift();T?T.resolve(O):u.push(O)}),this.on("end",()=>{y=!0;for(const O of d)O.resolve(void 0);d.length=0}),this.on("abort",O=>{y=!0;for(const T of d)T.reject(O);d.length=0}),this.on("error",O=>{y=!0;for(const T of d)T.reject(O);d.length=0}),{next:async()=>u.length?{value:u.shift(),done:!1}:y?{value:void 0,done:!0}:new Promise((T,E)=>d.push({resolve:T,reject:E})).then(T=>T?{value:T,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(u){const d=new _a$1;return d._run(()=>d._fromReadableStream(u)),d}async _fromReadableStream(u,d){var T;const y=d==null?void 0:d.signal;y&&(y.aborted&&this.controller.abort(),y.addEventListener("abort",()=>this.controller.abort())),this._connected();const O=Stream.fromReadableStream(u,this.controller);for await(const E of O)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,E);if((T=O.controller.signal)!=null&&T.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(u,d,y,O){const T=new _a$1;return T._run(()=>T._runToolAssistantStream(u,d,y,{...O,headers:{...O==null?void 0:O.headers,"X-Stainless-Helper-Method":"stream"}})),T}async _createToolAssistantStream(u,d,y,O){var p;const T=O==null?void 0:O.signal;T&&(T.aborted&&this.controller.abort(),T.addEventListener("abort",()=>this.controller.abort()));const E={...y,stream:!0},v=await u.submitToolOutputs(d,E,{...O,signal:this.controller.signal});this._connected();for await(const g of v)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,g);if((p=v.controller.signal)!=null&&p.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static createThreadAssistantStream(u,d,y){const O=new _a$1;return O._run(()=>O._threadAssistantStream(u,d,{...y,headers:{...y==null?void 0:y.headers,"X-Stainless-Helper-Method":"stream"}})),O}static createAssistantStream(u,d,y,O){const T=new _a$1;return T._run(()=>T._runAssistantStream(u,d,y,{...O,headers:{...O==null?void 0:O.headers,"X-Stainless-Helper-Method":"stream"}})),T}currentEvent(){return __classPrivateFieldGet(this,_AssistantStream_currentEvent,"f")}currentRun(){return __classPrivateFieldGet(this,_AssistantStream_currentRunSnapshot,"f")}currentMessageSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")}currentRunStepSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_currentRunStepSnapshot,"f")}async finalRunSteps(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f"))}async finalMessages(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f"))}async finalRun(){if(await this.done(),!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run was not received.");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")}async _createThreadAssistantStream(u,d,y){var v;const O=y==null?void 0:y.signal;O&&(O.aborted&&this.controller.abort(),O.addEventListener("abort",()=>this.controller.abort()));const T={...d,stream:!0},E=await u.createAndRun(T,{...y,signal:this.controller.signal});this._connected();for await(const p of E)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,p);if((v=E.controller.signal)!=null&&v.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}async _createAssistantStream(u,d,y,O){var p;const T=O==null?void 0:O.signal;T&&(T.aborted&&this.controller.abort(),T.addEventListener("abort",()=>this.controller.abort()));const E={...y,stream:!0},v=await u.create(d,E,{...O,signal:this.controller.signal});this._connected();for await(const g of v)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,g);if((p=v.controller.signal)!=null&&p.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static accumulateDelta(u,d){for(const[y,O]of Object.entries(d)){if(!u.hasOwnProperty(y)){u[y]=O;continue}let T=u[y];if(T==null){u[y]=O;continue}if(y==="index"||y==="type"){u[y]=O;continue}if(typeof T=="string"&&typeof O=="string")T+=O;else if(typeof T=="number"&&typeof O=="number")T+=O;else if(isObj(T)&&isObj(O))T=this.accumulateDelta(T,O);else if(Array.isArray(T)&&Array.isArray(O)){if(T.every(E=>typeof E=="string"||typeof E=="number")){T.push(...O);continue}for(const E of O){if(!isObj(E))throw new Error(`Expected array delta entry to be an object but got: ${E}`);const v=E.index;if(v==null)throw console.error(E),new Error("Expected array delta entry to have an `index` property");if(typeof v!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${v}`);const p=T[v];p==null?T.push(E):T[v]=this.accumulateDelta(p,E)}continue}else throw Error(`Unhandled record type: ${y}, deltaValue: ${O}, accValue: ${T}`);u[y]=T}return u}_addRun(u){return u}async _threadAssistantStream(u,d,y){return await this._createThreadAssistantStream(d,u,y)}async _runAssistantStream(u,d,y,O){return await this._createAssistantStream(d,u,y,O)}async _runToolAssistantStream(u,d,y,O){return await this._createToolAssistantStream(d,u,y,O)}}_a$1=AssistantStream,_AssistantStream_addEvent=function(u){if(!this.ended)switch(__classPrivateFieldSet(this,_AssistantStream_currentEvent,u),__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleEvent).call(this,u),u.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRun).call(this,u);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRunStep).call(this,u);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleMessage).call(this,u);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},_AssistantStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");if(!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run has not been received");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")},_AssistantStream_handleMessage=function(u){const[d,y]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateMessage).call(this,u,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,d),__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f")[d.id]=d;for(const O of y){const T=d.content[O.index];(T==null?void 0:T.type)=="text"&&this._emit("textCreated",T.text)}switch(u.event){case"thread.message.created":this._emit("messageCreated",u.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",u.data.delta,d),u.data.delta.content)for(const O of u.data.delta.content){if(O.type=="text"&&O.text){let T=O.text,E=d.content[O.index];if(E&&E.type=="text")this._emit("textDelta",T,E.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(O.index!=__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")){if(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f"))switch(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").type){case"text":this._emit("textDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"image_file":this._emit("imageFileDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}__classPrivateFieldSet(this,_AssistantStream_currentContentIndex,O.index)}__classPrivateFieldSet(this,_AssistantStream_currentContent,d.content[O.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")!==void 0){const O=u.data.content[__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")];if(O)switch(O.type){case"image_file":this._emit("imageFileDone",O.image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"text":this._emit("textDone",O.text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}}__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")&&this._emit("messageDone",u.data),__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,void 0)}},_AssistantStream_handleRunStep=function(u){const d=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateRunStep).call(this,u);switch(__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,d),u.event){case"thread.run.step.created":this._emit("runStepCreated",u.data);break;case"thread.run.step.delta":const y=u.data.delta;if(y.step_details&&y.step_details.type=="tool_calls"&&y.step_details.tool_calls&&d.step_details.type=="tool_calls")for(const T of y.step_details.tool_calls)T.index==__classPrivateFieldGet(this,_AssistantStream_currentToolCallIndex,"f")?this._emit("toolCallDelta",T,d.step_details.tool_calls[T.index]):(__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCallIndex,T.index),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,d.step_details.tool_calls[T.index]),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallCreated",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")));this._emit("runStepDelta",u.data.delta,d);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,void 0),u.data.step_details.type=="tool_calls"&&__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0)),this._emit("runStepDone",u.data,d);break}},_AssistantStream_handleEvent=function(u){__classPrivateFieldGet(this,_AssistantStream_events,"f").push(u),this._emit("event",u)},_AssistantStream_accumulateRunStep=function(u){switch(u.event){case"thread.run.step.created":return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[u.data.id]=u.data,u.data;case"thread.run.step.delta":let d=__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[u.data.id];if(!d)throw Error("Received a RunStepDelta before creation of a snapshot");let y=u.data;if(y.delta){const O=_a$1.accumulateDelta(d,y.delta);__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[u.data.id]=O}return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[u.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[u.data.id]=u.data;break}if(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[u.data.id])return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[u.data.id];throw new Error("No snapshot available")},_AssistantStream_accumulateMessage=function(u,d){let y=[];switch(u.event){case"thread.message.created":return[u.data,y];case"thread.message.delta":if(!d)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let O=u.data;if(O.delta.content)for(const T of O.delta.content)if(T.index in d.content){let E=d.content[T.index];d.content[T.index]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateContent).call(this,T,E)}else d.content[T.index]=T,y.push(T);return[d,y];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(d)return[d,y];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_AssistantStream_accumulateContent=function(u,d){return _a$1.accumulateDelta(d,u)},_AssistantStream_handleRun=function(u){switch(__classPrivateFieldSet(this,_AssistantStream_currentRunSnapshot,u.data),u.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":__classPrivateFieldSet(this,_AssistantStream_finalRun,u.data),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0));break}};let Runs$1=class extends APIResource{constructor(){super(...arguments),this.steps=new Steps(this._client)}create(u,d,y){const{include:O,...T}=d;return this._client.post(path$2`/threads/${u}/runs`,{query:{include:O},body:T,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers]),stream:d.stream??!1})}retrieve(u,d,y){const{thread_id:O}=d;return this._client.get(path$2`/threads/${O}/runs/${u}`,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}update(u,d,y){const{thread_id:O,...T}=d;return this._client.post(path$2`/threads/${O}/runs/${u}`,{body:T,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}list(u,d={},y){return this._client.getAPIList(path$2`/threads/${u}/runs`,CursorPage,{query:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}cancel(u,d,y){const{thread_id:O}=d;return this._client.post(path$2`/threads/${O}/runs/${u}/cancel`,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}async createAndPoll(u,d,y){const O=await this.create(u,d,y);return await this.poll(O.id,{thread_id:u},y)}createAndStream(u,d,y){return AssistantStream.createAssistantStream(u,this._client.beta.threads.runs,d,y)}async poll(u,d,y){var T;const O=buildHeaders([y==null?void 0:y.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((T=y==null?void 0:y.pollIntervalMs)==null?void 0:T.toString())??void 0}]);for(;;){const{data:E,response:v}=await this.retrieve(u,d,{...y,headers:{...y==null?void 0:y.headers,...O}}).withResponse();switch(E.status){case"queued":case"in_progress":case"cancelling":let p=5e3;if(y!=null&&y.pollIntervalMs)p=y.pollIntervalMs;else{const g=v.headers.get("openai-poll-after-ms");if(g){const w=parseInt(g);isNaN(w)||(p=w)}}await sleep(p);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return E}}}stream(u,d,y){return AssistantStream.createAssistantStream(u,this._client.beta.threads.runs,d,y)}submitToolOutputs(u,d,y){const{thread_id:O,...T}=d;return this._client.post(path$2`/threads/${O}/runs/${u}/submit_tool_outputs`,{body:T,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers]),stream:d.stream??!1})}async submitToolOutputsAndPoll(u,d,y){const O=await this.submitToolOutputs(u,d,y);return await this.poll(O.id,d,y)}submitToolOutputsStream(u,d,y){return AssistantStream.createToolAssistantStream(u,this._client.beta.threads.runs,d,y)}};Runs$1.Steps=Steps;class Threads extends APIResource{constructor(){super(...arguments),this.runs=new Runs$1(this._client),this.messages=new Messages(this._client)}create(u={},d){return this._client.post("/threads",{body:u,...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}retrieve(u,d){return this._client.get(path$2`/threads/${u}`,{...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}update(u,d,y){return this._client.post(path$2`/threads/${u}`,{body:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}delete(u,d){return this._client.delete(path$2`/threads/${u}`,{...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}createAndRun(u,d){return this._client.post("/threads/runs",{body:u,...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers]),stream:u.stream??!1})}async createAndRunPoll(u,d){const y=await this.createAndRun(u,d);return await this.runs.poll(y.id,{thread_id:y.thread_id},d)}createAndRunStream(u,d){return AssistantStream.createThreadAssistantStream(u,this._client.beta.threads,d)}}Threads.Runs=Runs$1;Threads.Messages=Messages;class Beta extends APIResource{constructor(){super(...arguments),this.realtime=new Realtime$1(this._client),this.chatkit=new ChatKit(this._client),this.assistants=new Assistants(this._client),this.threads=new Threads(this._client)}}Beta.Realtime=Realtime$1;Beta.ChatKit=ChatKit;Beta.Assistants=Assistants;Beta.Threads=Threads;class Completions extends APIResource{create(u,d){return this._client.post("/completions",{body:u,...d,stream:u.stream??!1})}}class Content extends APIResource{retrieve(u,d,y){const{container_id:O}=d;return this._client.get(path$2`/containers/${O}/files/${u}/content`,{...y,headers:buildHeaders([{Accept:"application/binary"},y==null?void 0:y.headers]),__binaryResponse:!0})}}let Files$2=class extends APIResource{constructor(){super(...arguments),this.content=new Content(this._client)}create(u,d,y){return this._client.post(path$2`/containers/${u}/files`,multipartFormRequestOptions({body:d,...y},this._client))}retrieve(u,d,y){const{container_id:O}=d;return this._client.get(path$2`/containers/${O}/files/${u}`,y)}list(u,d={},y){return this._client.getAPIList(path$2`/containers/${u}/files`,CursorPage,{query:d,...y})}delete(u,d,y){const{container_id:O}=d;return this._client.delete(path$2`/containers/${O}/files/${u}`,{...y,headers:buildHeaders([{Accept:"*/*"},y==null?void 0:y.headers])})}};Files$2.Content=Content;class Containers extends APIResource{constructor(){super(...arguments),this.files=new Files$2(this._client)}create(u,d){return this._client.post("/containers",{body:u,...d})}retrieve(u,d){return this._client.get(path$2`/containers/${u}`,d)}list(u={},d){return this._client.getAPIList("/containers",CursorPage,{query:u,...d})}delete(u,d){return this._client.delete(path$2`/containers/${u}`,{...d,headers:buildHeaders([{Accept:"*/*"},d==null?void 0:d.headers])})}}Containers.Files=Files$2;class Items extends APIResource{create(u,d,y){const{include:O,...T}=d;return this._client.post(path$2`/conversations/${u}/items`,{query:{include:O},body:T,...y})}retrieve(u,d,y){const{conversation_id:O,...T}=d;return this._client.get(path$2`/conversations/${O}/items/${u}`,{query:T,...y})}list(u,d={},y){return this._client.getAPIList(path$2`/conversations/${u}/items`,ConversationCursorPage,{query:d,...y})}delete(u,d,y){const{conversation_id:O}=d;return this._client.delete(path$2`/conversations/${O}/items/${u}`,y)}}class Conversations extends APIResource{constructor(){super(...arguments),this.items=new Items(this._client)}create(u={},d){return this._client.post("/conversations",{body:u,...d})}retrieve(u,d){return this._client.get(path$2`/conversations/${u}`,d)}update(u,d,y){return this._client.post(path$2`/conversations/${u}`,{body:d,...y})}delete(u,d){return this._client.delete(path$2`/conversations/${u}`,d)}}Conversations.Items=Items;class Embeddings extends APIResource{create(u,d){const y=!!u.encoding_format;let O=y?u.encoding_format:"base64";y&&loggerFor(this._client).debug("embeddings/user defined encoding_format:",u.encoding_format);const T=this._client.post("/embeddings",{body:{...u,encoding_format:O},...d});return y?T:(loggerFor(this._client).debug("embeddings/decoding base64 embeddings from base64"),T._thenUnwrap(E=>(E&&E.data&&E.data.forEach(v=>{const p=v.embedding;v.embedding=toFloat32Array(p)}),E)))}}class OutputItems extends APIResource{retrieve(u,d,y){const{eval_id:O,run_id:T}=d;return this._client.get(path$2`/evals/${O}/runs/${T}/output_items/${u}`,y)}list(u,d,y){const{eval_id:O,...T}=d;return this._client.getAPIList(path$2`/evals/${O}/runs/${u}/output_items`,CursorPage,{query:T,...y})}}class Runs extends APIResource{constructor(){super(...arguments),this.outputItems=new OutputItems(this._client)}create(u,d,y){return this._client.post(path$2`/evals/${u}/runs`,{body:d,...y})}retrieve(u,d,y){const{eval_id:O}=d;return this._client.get(path$2`/evals/${O}/runs/${u}`,y)}list(u,d={},y){return this._client.getAPIList(path$2`/evals/${u}/runs`,CursorPage,{query:d,...y})}delete(u,d,y){const{eval_id:O}=d;return this._client.delete(path$2`/evals/${O}/runs/${u}`,y)}cancel(u,d,y){const{eval_id:O}=d;return this._client.post(path$2`/evals/${O}/runs/${u}`,y)}}Runs.OutputItems=OutputItems;class Evals extends APIResource{constructor(){super(...arguments),this.runs=new Runs(this._client)}create(u,d){return this._client.post("/evals",{body:u,...d})}retrieve(u,d){return this._client.get(path$2`/evals/${u}`,d)}update(u,d,y){return this._client.post(path$2`/evals/${u}`,{body:d,...y})}list(u={},d){return this._client.getAPIList("/evals",CursorPage,{query:u,...d})}delete(u,d){return this._client.delete(path$2`/evals/${u}`,d)}}Evals.Runs=Runs;let Files$1=class extends APIResource{create(u,d){return this._client.post("/files",multipartFormRequestOptions({body:u,...d},this._client))}retrieve(u,d){return this._client.get(path$2`/files/${u}`,d)}list(u={},d){return this._client.getAPIList("/files",CursorPage,{query:u,...d})}delete(u,d){return this._client.delete(path$2`/files/${u}`,d)}content(u,d){return this._client.get(path$2`/files/${u}/content`,{...d,headers:buildHeaders([{Accept:"application/binary"},d==null?void 0:d.headers]),__binaryResponse:!0})}async waitForProcessing(u,{pollInterval:d=5e3,maxWait:y=1800*1e3}={}){const O=new Set(["processed","error","deleted"]),T=Date.now();let E=await this.retrieve(u);for(;!E.status||!O.has(E.status);)if(await sleep(d),E=await this.retrieve(u),Date.now()-T>y)throw new APIConnectionTimeoutError({message:`Giving up on waiting for file ${u} to finish processing after ${y} milliseconds.`});return E}};class Methods extends APIResource{}let Graders$1=class extends APIResource{run(u,d){return this._client.post("/fine_tuning/alpha/graders/run",{body:u,...d})}validate(u,d){return this._client.post("/fine_tuning/alpha/graders/validate",{body:u,...d})}};class Alpha extends APIResource{constructor(){super(...arguments),this.graders=new Graders$1(this._client)}}Alpha.Graders=Graders$1;class Permissions extends APIResource{create(u,d,y){return this._client.getAPIList(path$2`/fine_tuning/checkpoints/${u}/permissions`,Page,{body:d,method:"post",...y})}retrieve(u,d={},y){return this._client.get(path$2`/fine_tuning/checkpoints/${u}/permissions`,{query:d,...y})}delete(u,d,y){const{fine_tuned_model_checkpoint:O}=d;return this._client.delete(path$2`/fine_tuning/checkpoints/${O}/permissions/${u}`,y)}}let Checkpoints$1=class extends APIResource{constructor(){super(...arguments),this.permissions=new Permissions(this._client)}};Checkpoints$1.Permissions=Permissions;class Checkpoints extends APIResource{list(u,d={},y){return this._client.getAPIList(path$2`/fine_tuning/jobs/${u}/checkpoints`,CursorPage,{query:d,...y})}}class Jobs extends APIResource{constructor(){super(...arguments),this.checkpoints=new Checkpoints(this._client)}create(u,d){return this._client.post("/fine_tuning/jobs",{body:u,...d})}retrieve(u,d){return this._client.get(path$2`/fine_tuning/jobs/${u}`,d)}list(u={},d){return this._client.getAPIList("/fine_tuning/jobs",CursorPage,{query:u,...d})}cancel(u,d){return this._client.post(path$2`/fine_tuning/jobs/${u}/cancel`,d)}listEvents(u,d={},y){return this._client.getAPIList(path$2`/fine_tuning/jobs/${u}/events`,CursorPage,{query:d,...y})}pause(u,d){return this._client.post(path$2`/fine_tuning/jobs/${u}/pause`,d)}resume(u,d){return this._client.post(path$2`/fine_tuning/jobs/${u}/resume`,d)}}Jobs.Checkpoints=Checkpoints;class FineTuning extends APIResource{constructor(){super(...arguments),this.methods=new Methods(this._client),this.jobs=new Jobs(this._client),this.checkpoints=new Checkpoints$1(this._client),this.alpha=new Alpha(this._client)}}FineTuning.Methods=Methods;FineTuning.Jobs=Jobs;FineTuning.Checkpoints=Checkpoints$1;FineTuning.Alpha=Alpha;class GraderModels extends APIResource{}class Graders extends APIResource{constructor(){super(...arguments),this.graderModels=new GraderModels(this._client)}}Graders.GraderModels=GraderModels;class Images extends APIResource{createVariation(u,d){return this._client.post("/images/variations",multipartFormRequestOptions({body:u,...d},this._client))}edit(u,d){return this._client.post("/images/edits",multipartFormRequestOptions({body:u,...d,stream:u.stream??!1},this._client))}generate(u,d){return this._client.post("/images/generations",{body:u,...d,stream:u.stream??!1})}}class Models extends APIResource{retrieve(u,d){return this._client.get(path$2`/models/${u}`,d)}list(u){return this._client.getAPIList("/models",Page,u)}delete(u,d){return this._client.delete(path$2`/models/${u}`,d)}}class Moderations extends APIResource{create(u,d){return this._client.post("/moderations",{body:u,...d})}}class Calls extends APIResource{accept(u,d,y){return this._client.post(path$2`/realtime/calls/${u}/accept`,{body:d,...y,headers:buildHeaders([{Accept:"*/*"},y==null?void 0:y.headers])})}hangup(u,d){return this._client.post(path$2`/realtime/calls/${u}/hangup`,{...d,headers:buildHeaders([{Accept:"*/*"},d==null?void 0:d.headers])})}refer(u,d,y){return this._client.post(path$2`/realtime/calls/${u}/refer`,{body:d,...y,headers:buildHeaders([{Accept:"*/*"},y==null?void 0:y.headers])})}reject(u,d={},y){return this._client.post(path$2`/realtime/calls/${u}/reject`,{body:d,...y,headers:buildHeaders([{Accept:"*/*"},y==null?void 0:y.headers])})}}class ClientSecrets extends APIResource{create(u,d){return this._client.post("/realtime/client_secrets",{body:u,...d})}}class Realtime extends APIResource{constructor(){super(...arguments),this.clientSecrets=new ClientSecrets(this._client),this.calls=new Calls(this._client)}}Realtime.ClientSecrets=ClientSecrets;Realtime.Calls=Calls;function maybeParseResponse(c,u){return!u||!hasAutoParseableInput(u)?{...c,output_parsed:null,output:c.output.map(d=>d.type==="function_call"?{...d,parsed_arguments:null}:d.type==="message"?{...d,content:d.content.map(y=>({...y,parsed:null}))}:d)}:parseResponse(c,u)}function parseResponse(c,u){const d=c.output.map(O=>{if(O.type==="function_call")return{...O,parsed_arguments:parseToolCall(u,O)};if(O.type==="message"){const T=O.content.map(E=>E.type==="output_text"?{...E,parsed:parseTextFormat(u,E.text)}:E);return{...O,content:T}}return O}),y=Object.assign({},c,{output:d});return Object.getOwnPropertyDescriptor(c,"output_text")||addOutputText(y),Object.defineProperty(y,"output_parsed",{enumerable:!0,get(){for(const O of y.output)if(O.type==="message"){for(const T of O.content)if(T.type==="output_text"&&T.parsed!==null)return T.parsed}return null}}),y}function parseTextFormat(c,u){var d,y,O,T;return((y=(d=c.text)==null?void 0:d.format)==null?void 0:y.type)!=="json_schema"?null:"$parseRaw"in((O=c.text)==null?void 0:O.format)?((T=c.text)==null?void 0:T.format).$parseRaw(u):JSON.parse(u)}function hasAutoParseableInput(c){var u;return!!isAutoParsableResponseFormat((u=c.text)==null?void 0:u.format)}function isAutoParsableTool(c){return(c==null?void 0:c.$brand)==="auto-parseable-tool"}function getInputToolByName(c,u){return c.find(d=>d.type==="function"&&d.name===u)}function parseToolCall(c,u){const d=getInputToolByName(c.tools??[],u.name);return{...u,...u,parsed_arguments:isAutoParsableTool(d)?d.$parseRaw(u.arguments):d!=null&&d.strict?JSON.parse(u.arguments):null}}function addOutputText(c){const u=[];for(const d of c.output)if(d.type==="message")for(const y of d.content)y.type==="output_text"&&u.push(y.text);c.output_text=u.join("")}var _ResponseStream_instances,_ResponseStream_params,_ResponseStream_currentResponseSnapshot,_ResponseStream_finalResponse,_ResponseStream_beginRequest,_ResponseStream_addEvent,_ResponseStream_endRequest,_ResponseStream_accumulateResponse;class ResponseStream extends EventStream{constructor(u){super(),_ResponseStream_instances.add(this),_ResponseStream_params.set(this,void 0),_ResponseStream_currentResponseSnapshot.set(this,void 0),_ResponseStream_finalResponse.set(this,void 0),__classPrivateFieldSet(this,_ResponseStream_params,u)}static createResponse(u,d,y){const O=new ResponseStream(d);return O._run(()=>O._createOrRetrieveResponse(u,d,{...y,headers:{...y==null?void 0:y.headers,"X-Stainless-Helper-Method":"stream"}})),O}async _createOrRetrieveResponse(u,d,y){var v;const O=y==null?void 0:y.signal;O&&(O.aborted&&this.controller.abort(),O.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet(this,_ResponseStream_instances,"m",_ResponseStream_beginRequest).call(this);let T,E=null;"response_id"in d?(T=await u.responses.retrieve(d.response_id,{stream:!0},{...y,signal:this.controller.signal,stream:!0}),E=d.starting_after??null):T=await u.responses.create({...d,stream:!0},{...y,signal:this.controller.signal}),this._connected();for await(const p of T)__classPrivateFieldGet(this,_ResponseStream_instances,"m",_ResponseStream_addEvent).call(this,p,E);if((v=T.controller.signal)!=null&&v.aborted)throw new APIUserAbortError;return __classPrivateFieldGet(this,_ResponseStream_instances,"m",_ResponseStream_endRequest).call(this)}[(_ResponseStream_params=new WeakMap,_ResponseStream_currentResponseSnapshot=new WeakMap,_ResponseStream_finalResponse=new WeakMap,_ResponseStream_instances=new WeakSet,_ResponseStream_beginRequest=function(){this.ended||__classPrivateFieldSet(this,_ResponseStream_currentResponseSnapshot,void 0)},_ResponseStream_addEvent=function(d,y){if(this.ended)return;const O=(E,v)=>{(y==null||v.sequence_number>y)&&this._emit(E,v)},T=__classPrivateFieldGet(this,_ResponseStream_instances,"m",_ResponseStream_accumulateResponse).call(this,d);switch(O("event",d),d.type){case"response.output_text.delta":{const E=T.output[d.output_index];if(!E)throw new OpenAIError(`missing output at index ${d.output_index}`);if(E.type==="message"){const v=E.content[d.content_index];if(!v)throw new OpenAIError(`missing content at index ${d.content_index}`);if(v.type!=="output_text")throw new OpenAIError(`expected content to be 'output_text', got ${v.type}`);O("response.output_text.delta",{...d,snapshot:v.text})}break}case"response.function_call_arguments.delta":{const E=T.output[d.output_index];if(!E)throw new OpenAIError(`missing output at index ${d.output_index}`);E.type==="function_call"&&O("response.function_call_arguments.delta",{...d,snapshot:E.arguments});break}default:O(d.type,d);break}},_ResponseStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");const d=__classPrivateFieldGet(this,_ResponseStream_currentResponseSnapshot,"f");if(!d)throw new OpenAIError("request ended without sending any events");__classPrivateFieldSet(this,_ResponseStream_currentResponseSnapshot,void 0);const y=finalizeResponse(d,__classPrivateFieldGet(this,_ResponseStream_params,"f"));return __classPrivateFieldSet(this,_ResponseStream_finalResponse,y),y},_ResponseStream_accumulateResponse=function(d){var O;let y=__classPrivateFieldGet(this,_ResponseStream_currentResponseSnapshot,"f");if(!y){if(d.type!=="response.created")throw new OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${d.type}`);return y=__classPrivateFieldSet(this,_ResponseStream_currentResponseSnapshot,d.response),y}switch(d.type){case"response.output_item.added":{y.output.push(d.item);break}case"response.content_part.added":{const T=y.output[d.output_index];if(!T)throw new OpenAIError(`missing output at index ${d.output_index}`);const E=T.type,v=d.part;E==="message"&&v.type!=="reasoning_text"?T.content.push(v):E==="reasoning"&&v.type==="reasoning_text"&&(T.content||(T.content=[]),T.content.push(v));break}case"response.output_text.delta":{const T=y.output[d.output_index];if(!T)throw new OpenAIError(`missing output at index ${d.output_index}`);if(T.type==="message"){const E=T.content[d.content_index];if(!E)throw new OpenAIError(`missing content at index ${d.content_index}`);if(E.type!=="output_text")throw new OpenAIError(`expected content to be 'output_text', got ${E.type}`);E.text+=d.delta}break}case"response.function_call_arguments.delta":{const T=y.output[d.output_index];if(!T)throw new OpenAIError(`missing output at index ${d.output_index}`);T.type==="function_call"&&(T.arguments+=d.delta);break}case"response.reasoning_text.delta":{const T=y.output[d.output_index];if(!T)throw new OpenAIError(`missing output at index ${d.output_index}`);if(T.type==="reasoning"){const E=(O=T.content)==null?void 0:O[d.content_index];if(!E)throw new OpenAIError(`missing content at index ${d.content_index}`);if(E.type!=="reasoning_text")throw new OpenAIError(`expected content to be 'reasoning_text', got ${E.type}`);E.text+=d.delta}break}case"response.completed":{__classPrivateFieldSet(this,_ResponseStream_currentResponseSnapshot,d.response);break}}return y},Symbol.asyncIterator)](){const u=[],d=[];let y=!1;return this.on("event",O=>{const T=d.shift();T?T.resolve(O):u.push(O)}),this.on("end",()=>{y=!0;for(const O of d)O.resolve(void 0);d.length=0}),this.on("abort",O=>{y=!0;for(const T of d)T.reject(O);d.length=0}),this.on("error",O=>{y=!0;for(const T of d)T.reject(O);d.length=0}),{next:async()=>u.length?{value:u.shift(),done:!1}:y?{value:void 0,done:!0}:new Promise((T,E)=>d.push({resolve:T,reject:E})).then(T=>T?{value:T,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const u=__classPrivateFieldGet(this,_ResponseStream_finalResponse,"f");if(!u)throw new OpenAIError("stream ended without producing a ChatCompletion");return u}}function finalizeResponse(c,u){return maybeParseResponse(c,u)}class InputItems extends APIResource{list(u,d={},y){return this._client.getAPIList(path$2`/responses/${u}/input_items`,CursorPage,{query:d,...y})}}class InputTokens extends APIResource{count(u={},d){return this._client.post("/responses/input_tokens",{body:u,...d})}}class Responses extends APIResource{constructor(){super(...arguments),this.inputItems=new InputItems(this._client),this.inputTokens=new InputTokens(this._client)}create(u,d){return this._client.post("/responses",{body:u,...d,stream:u.stream??!1})._thenUnwrap(y=>("object"in y&&y.object==="response"&&addOutputText(y),y))}retrieve(u,d={},y){return this._client.get(path$2`/responses/${u}`,{query:d,...y,stream:(d==null?void 0:d.stream)??!1})._thenUnwrap(O=>("object"in O&&O.object==="response"&&addOutputText(O),O))}delete(u,d){return this._client.delete(path$2`/responses/${u}`,{...d,headers:buildHeaders([{Accept:"*/*"},d==null?void 0:d.headers])})}parse(u,d){return this._client.responses.create(u,d)._thenUnwrap(y=>parseResponse(y,u))}stream(u,d){return ResponseStream.createResponse(this._client,u,d)}cancel(u,d){return this._client.post(path$2`/responses/${u}/cancel`,d)}compact(u={},d){return this._client.post("/responses/compact",{body:u,...d})}}Responses.InputItems=InputItems;Responses.InputTokens=InputTokens;class Parts extends APIResource{create(u,d,y){return this._client.post(path$2`/uploads/${u}/parts`,multipartFormRequestOptions({body:d,...y},this._client))}}class Uploads extends APIResource{constructor(){super(...arguments),this.parts=new Parts(this._client)}create(u,d){return this._client.post("/uploads",{body:u,...d})}cancel(u,d){return this._client.post(path$2`/uploads/${u}/cancel`,d)}complete(u,d,y){return this._client.post(path$2`/uploads/${u}/complete`,{body:d,...y})}}Uploads.Parts=Parts;const allSettledWithThrow=async c=>{const u=await Promise.allSettled(c),d=u.filter(O=>O.status==="rejected");if(d.length){for(const O of d)console.error(O.reason);throw new Error(`${d.length} promise(s) failed - see the above errors`)}const y=[];for(const O of u)O.status==="fulfilled"&&y.push(O.value);return y};class FileBatches extends APIResource{create(u,d,y){return this._client.post(path$2`/vector_stores/${u}/file_batches`,{body:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}retrieve(u,d,y){const{vector_store_id:O}=d;return this._client.get(path$2`/vector_stores/${O}/file_batches/${u}`,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}cancel(u,d,y){const{vector_store_id:O}=d;return this._client.post(path$2`/vector_stores/${O}/file_batches/${u}/cancel`,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}async createAndPoll(u,d,y){const O=await this.create(u,d);return await this.poll(u,O.id,y)}listFiles(u,d,y){const{vector_store_id:O,...T}=d;return this._client.getAPIList(path$2`/vector_stores/${O}/file_batches/${u}/files`,CursorPage,{query:T,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}async poll(u,d,y){var T;const O=buildHeaders([y==null?void 0:y.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((T=y==null?void 0:y.pollIntervalMs)==null?void 0:T.toString())??void 0}]);for(;;){const{data:E,response:v}=await this.retrieve(d,{vector_store_id:u},{...y,headers:O}).withResponse();switch(E.status){case"in_progress":let p=5e3;if(y!=null&&y.pollIntervalMs)p=y.pollIntervalMs;else{const g=v.headers.get("openai-poll-after-ms");if(g){const w=parseInt(g);isNaN(w)||(p=w)}}await sleep(p);break;case"failed":case"cancelled":case"completed":return E}}}async uploadAndPoll(u,{files:d,fileIds:y=[]},O){if(d==null||d.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const T=(O==null?void 0:O.maxConcurrency)??5,E=Math.min(T,d.length),v=this._client,p=d.values(),g=[...y];async function w(C){for(let N of C){const D=await v.files.create({file:N,purpose:"assistants"},O);g.push(D.id)}}const R=Array(E).fill(p).map(w);return await allSettledWithThrow(R),await this.createAndPoll(u,{file_ids:g})}}class Files extends APIResource{create(u,d,y){return this._client.post(path$2`/vector_stores/${u}/files`,{body:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}retrieve(u,d,y){const{vector_store_id:O}=d;return this._client.get(path$2`/vector_stores/${O}/files/${u}`,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}update(u,d,y){const{vector_store_id:O,...T}=d;return this._client.post(path$2`/vector_stores/${O}/files/${u}`,{body:T,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}list(u,d={},y){return this._client.getAPIList(path$2`/vector_stores/${u}/files`,CursorPage,{query:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}delete(u,d,y){const{vector_store_id:O}=d;return this._client.delete(path$2`/vector_stores/${O}/files/${u}`,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}async createAndPoll(u,d,y){const O=await this.create(u,d,y);return await this.poll(u,O.id,y)}async poll(u,d,y){var T;const O=buildHeaders([y==null?void 0:y.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((T=y==null?void 0:y.pollIntervalMs)==null?void 0:T.toString())??void 0}]);for(;;){const E=await this.retrieve(d,{vector_store_id:u},{...y,headers:O}).withResponse(),v=E.data;switch(v.status){case"in_progress":let p=5e3;if(y!=null&&y.pollIntervalMs)p=y.pollIntervalMs;else{const g=E.response.headers.get("openai-poll-after-ms");if(g){const w=parseInt(g);isNaN(w)||(p=w)}}await sleep(p);break;case"failed":case"completed":return v}}}async upload(u,d,y){const O=await this._client.files.create({file:d,purpose:"assistants"},y);return this.create(u,{file_id:O.id},y)}async uploadAndPoll(u,d,y){const O=await this.upload(u,d,y);return await this.poll(u,O.id,y)}content(u,d,y){const{vector_store_id:O}=d;return this._client.getAPIList(path$2`/vector_stores/${O}/files/${u}/content`,Page,{...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}}class VectorStores extends APIResource{constructor(){super(...arguments),this.files=new Files(this._client),this.fileBatches=new FileBatches(this._client)}create(u,d){return this._client.post("/vector_stores",{body:u,...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}retrieve(u,d){return this._client.get(path$2`/vector_stores/${u}`,{...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}update(u,d,y){return this._client.post(path$2`/vector_stores/${u}`,{body:d,...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}list(u={},d){return this._client.getAPIList("/vector_stores",CursorPage,{query:u,...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}delete(u,d){return this._client.delete(path$2`/vector_stores/${u}`,{...d,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},d==null?void 0:d.headers])})}search(u,d,y){return this._client.getAPIList(path$2`/vector_stores/${u}/search`,Page,{body:d,method:"post",...y,headers:buildHeaders([{"OpenAI-Beta":"assistants=v2"},y==null?void 0:y.headers])})}}VectorStores.Files=Files;VectorStores.FileBatches=FileBatches;class Videos extends APIResource{create(u,d){return this._client.post("/videos",maybeMultipartFormRequestOptions({body:u,...d},this._client))}retrieve(u,d){return this._client.get(path$2`/videos/${u}`,d)}list(u={},d){return this._client.getAPIList("/videos",ConversationCursorPage,{query:u,...d})}delete(u,d){return this._client.delete(path$2`/videos/${u}`,d)}downloadContent(u,d={},y){return this._client.get(path$2`/videos/${u}/content`,{query:d,...y,headers:buildHeaders([{Accept:"application/binary"},y==null?void 0:y.headers]),__binaryResponse:!0})}remix(u,d,y){return this._client.post(path$2`/videos/${u}/remix`,maybeMultipartFormRequestOptions({body:d,...y},this._client))}}var _Webhooks_instances,_Webhooks_validateSecret,_Webhooks_getRequiredHeader;class Webhooks extends APIResource{constructor(){super(...arguments),_Webhooks_instances.add(this)}async unwrap(u,d,y=this._client.webhookSecret,O=300){return await this.verifySignature(u,d,y,O),JSON.parse(u)}async verifySignature(u,d,y=this._client.webhookSecret,O=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");__classPrivateFieldGet(this,_Webhooks_instances,"m",_Webhooks_validateSecret).call(this,y);const T=buildHeaders([d]).values,E=__classPrivateFieldGet(this,_Webhooks_instances,"m",_Webhooks_getRequiredHeader).call(this,T,"webhook-signature"),v=__classPrivateFieldGet(this,_Webhooks_instances,"m",_Webhooks_getRequiredHeader).call(this,T,"webhook-timestamp"),p=__classPrivateFieldGet(this,_Webhooks_instances,"m",_Webhooks_getRequiredHeader).call(this,T,"webhook-id"),g=parseInt(v,10);if(isNaN(g))throw new InvalidWebhookSignatureError("Invalid webhook timestamp format");const w=Math.floor(Date.now()/1e3);if(w-g>O)throw new InvalidWebhookSignatureError("Webhook timestamp is too old");if(g>w+O)throw new InvalidWebhookSignatureError("Webhook timestamp is too new");const R=E.split(" ").map(L=>L.startsWith("v1,")?L.substring(3):L),C=y.startsWith("whsec_")?Buffer.from(y.replace("whsec_",""),"base64"):Buffer.from(y,"utf-8"),N=p?`${p}.${v}.${u}`:`${v}.${u}`,D=await crypto.subtle.importKey("raw",C,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const L of R)try{const q=Buffer.from(L,"base64");if(await crypto.subtle.verify("HMAC",D,q,new TextEncoder().encode(N)))return}catch{continue}throw new InvalidWebhookSignatureError("The given webhook signature does not match the expected signature")}}_Webhooks_instances=new WeakSet,_Webhooks_validateSecret=function(u){if(typeof u!="string"||u.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},_Webhooks_getRequiredHeader=function(u,d){if(!u)throw new Error("Headers are required");const y=u.get(d);if(y==null)throw new Error(`Missing required header: ${d}`);return y};var _OpenAI_instances,_a,_OpenAI_encoder,_OpenAI_baseURLOverridden;class OpenAI{constructor({baseURL:u=readEnv("OPENAI_BASE_URL"),apiKey:d=readEnv("OPENAI_API_KEY"),organization:y=readEnv("OPENAI_ORG_ID")??null,project:O=readEnv("OPENAI_PROJECT_ID")??null,webhookSecret:T=readEnv("OPENAI_WEBHOOK_SECRET")??null,...E}={}){if(_OpenAI_instances.add(this),_OpenAI_encoder.set(this,void 0),this.completions=new Completions(this),this.chat=new Chat(this),this.embeddings=new Embeddings(this),this.files=new Files$1(this),this.images=new Images(this),this.audio=new Audio(this),this.moderations=new Moderations(this),this.models=new Models(this),this.fineTuning=new FineTuning(this),this.graders=new Graders(this),this.vectorStores=new VectorStores(this),this.webhooks=new Webhooks(this),this.beta=new Beta(this),this.batches=new Batches(this),this.uploads=new Uploads(this),this.responses=new Responses(this),this.realtime=new Realtime(this),this.conversations=new Conversations(this),this.evals=new Evals(this),this.containers=new Containers(this),this.videos=new Videos(this),d===void 0)throw new OpenAIError("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const v={apiKey:d,organization:y,project:O,webhookSecret:T,...E,baseURL:u||"https://api.openai.com/v1"};if(!v.dangerouslyAllowBrowser&&isRunningInBrowser())throw new OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=v.baseURL,this.timeout=v.timeout??_a.DEFAULT_TIMEOUT,this.logger=v.logger??console;const p="warn";this.logLevel=p,this.logLevel=parseLogLevel(v.logLevel,"ClientOptions.logLevel",this)??parseLogLevel(readEnv("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??p,this.fetchOptions=v.fetchOptions,this.maxRetries=v.maxRetries??2,this.fetch=v.fetch??getDefaultFetch(),__classPrivateFieldSet(this,_OpenAI_encoder,FallbackEncoder),this._options=v,this.apiKey=typeof d=="string"?d:"Missing Key",this.organization=y,this.project=O,this.webhookSecret=T}withOptions(u){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...u})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:u,nulls:d}){}async authHeaders(u){return buildHeaders([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(u){return stringify$1(u,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${VERSION$1}`}defaultIdempotencyKey(){return`stainless-node-retry-${uuid4()}`}makeStatusError(u,d,y,O){return APIError.generate(u,d,y,O)}async _callApiKey(){const u=this._options.apiKey;if(typeof u!="function")return!1;let d;try{d=await u()}catch(y){throw y instanceof OpenAIError?y:new OpenAIError(`Failed to get token from 'apiKey' function: ${y.message}`,{cause:y})}if(typeof d!="string"||!d)throw new OpenAIError(`Expected 'apiKey' function argument to return a string but it returned ${d}`);return this.apiKey=d,!0}buildURL(u,d,y){const O=!__classPrivateFieldGet(this,_OpenAI_instances,"m",_OpenAI_baseURLOverridden).call(this)&&y||this.baseURL,T=isAbsoluteURL(u)?new URL(u):new URL(O+(O.endsWith("/")&&u.startsWith("/")?u.slice(1):u)),E=this.defaultQuery();return isEmptyObj(E)||(d={...E,...d}),typeof d=="object"&&d&&!Array.isArray(d)&&(T.search=this.stringifyQuery(d)),T.toString()}async prepareOptions(u){await this._callApiKey()}async prepareRequest(u,{url:d,options:y}){}get(u,d){return this.methodRequest("get",u,d)}post(u,d){return this.methodRequest("post",u,d)}patch(u,d){return this.methodRequest("patch",u,d)}put(u,d){return this.methodRequest("put",u,d)}delete(u,d){return this.methodRequest("delete",u,d)}methodRequest(u,d,y){return this.request(Promise.resolve(y).then(O=>({method:u,path:d,...O})))}request(u,d=null){return new APIPromise(this,this.makeRequest(u,d,void 0))}async makeRequest(u,d,y){var M,U;const O=await u,T=O.maxRetries??this.maxRetries;d==null&&(d=T),await this.prepareOptions(O);const{req:E,url:v,timeout:p}=await this.buildRequest(O,{retryCount:T-d});await this.prepareRequest(E,{url:v,options:O});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=y===void 0?"":`, retryOf: ${y}`,R=Date.now();if(loggerFor(this).debug(`[${g}] sending request`,formatRequestDetails({retryOfRequestLogID:y,method:O.method,url:v,options:O,headers:E.headers})),(M=O.signal)!=null&&M.aborted)throw new APIUserAbortError;const C=new AbortController,N=await this.fetchWithTimeout(v,E,p,C).catch(castToError),D=Date.now();if(N instanceof globalThis.Error){const V=`retrying, ${d} attempts remaining`;if((U=O.signal)!=null&&U.aborted)throw new APIUserAbortError;const $=isAbortError(N)||/timed? ?out/i.test(String(N)+("cause"in N?String(N.cause):""));if(d)return loggerFor(this).info(`[${g}] connection ${$?"timed out":"failed"} - ${V}`),loggerFor(this).debug(`[${g}] connection ${$?"timed out":"failed"} (${V})`,formatRequestDetails({retryOfRequestLogID:y,url:v,durationMs:D-R,message:N.message})),this.retryRequest(O,d,y??g);throw loggerFor(this).info(`[${g}] connection ${$?"timed out":"failed"} - error; no more retries left`),loggerFor(this).debug(`[${g}] connection ${$?"timed out":"failed"} (error; no more retries left)`,formatRequestDetails({retryOfRequestLogID:y,url:v,durationMs:D-R,message:N.message})),$?new APIConnectionTimeoutError:new APIConnectionError({cause:N})}const L=[...N.headers.entries()].filter(([V])=>V==="x-request-id").map(([V,$])=>", "+V+": "+JSON.stringify($)).join(""),q=`[${g}${w}${L}] ${E.method} ${v} ${N.ok?"succeeded":"failed"} with status ${N.status} in ${D-R}ms`;if(!N.ok){const V=await this.shouldRetry(N);if(d&&V){const Q=`retrying, ${d} attempts remaining`;return await CancelReadableStream(N.body),loggerFor(this).info(`${q} - ${Q}`),loggerFor(this).debug(`[${g}] response error (${Q})`,formatRequestDetails({retryOfRequestLogID:y,url:N.url,status:N.status,headers:N.headers,durationMs:D-R})),this.retryRequest(O,d,y??g,N.headers)}const $=V?"error; no more retries left":"error; not retryable";loggerFor(this).info(`${q} - ${$}`);const z=await N.text().catch(Q=>castToError(Q).message),W=safeJSON(z),J=W?void 0:z;throw loggerFor(this).debug(`[${g}] response error (${$})`,formatRequestDetails({retryOfRequestLogID:y,url:N.url,status:N.status,headers:N.headers,message:J,durationMs:Date.now()-R})),this.makeStatusError(N.status,W,J,N.headers)}return loggerFor(this).info(q),loggerFor(this).debug(`[${g}] response start`,formatRequestDetails({retryOfRequestLogID:y,url:N.url,status:N.status,headers:N.headers,durationMs:D-R})),{response:N,options:O,controller:C,requestLogID:g,retryOfRequestLogID:y,startTime:R}}getAPIList(u,d,y){return this.requestAPIList(d,{method:"get",path:u,...y})}requestAPIList(u,d){const y=this.makeRequest(d,null,void 0);return new PagePromise(this,y,u)}async fetchWithTimeout(u,d,y,O){const{signal:T,method:E,...v}=d||{};T&&T.addEventListener("abort",()=>O.abort());const p=setTimeout(()=>O.abort(),y),g=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,w={signal:O.signal,...g?{duplex:"half"}:{},method:"GET",...v};E&&(w.method=E.toUpperCase());try{return await this.fetch.call(void 0,u,w)}finally{clearTimeout(p)}}async shouldRetry(u){const d=u.headers.get("x-should-retry");return d==="true"?!0:d==="false"?!1:u.status===408||u.status===409||u.status===429||u.status>=500}async retryRequest(u,d,y,O){let T;const E=O==null?void 0:O.get("retry-after-ms");if(E){const p=parseFloat(E);Number.isNaN(p)||(T=p)}const v=O==null?void 0:O.get("retry-after");if(v&&!T){const p=parseFloat(v);Number.isNaN(p)?T=Date.parse(v)-Date.now():T=p*1e3}if(!(T&&0<=T&&T<60*1e3)){const p=u.maxRetries??this.maxRetries;T=this.calculateDefaultRetryTimeoutMillis(d,p)}return await sleep(T),this.makeRequest(u,d-1,y)}calculateDefaultRetryTimeoutMillis(u,d){const T=d-u,E=Math.min(.5*Math.pow(2,T),8),v=1-Math.random()*.25;return E*v*1e3}async buildRequest(u,{retryCount:d=0}={}){const y={...u},{method:O,path:T,query:E,defaultBaseURL:v}=y,p=this.buildURL(T,E,v);"timeout"in y&&validatePositiveInteger("timeout",y.timeout),y.timeout=y.timeout??this.timeout;const{bodyHeaders:g,body:w}=this.buildBody({options:y}),R=await this.buildHeaders({options:u,method:O,bodyHeaders:g,retryCount:d});return{req:{method:O,headers:R,...y.signal&&{signal:y.signal},...globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"},...w&&{body:w},...this.fetchOptions??{},...y.fetchOptions??{}},url:p,timeout:y.timeout}}async buildHeaders({options:u,method:d,bodyHeaders:y,retryCount:O}){let T={};this.idempotencyHeader&&d!=="get"&&(u.idempotencyKey||(u.idempotencyKey=this.defaultIdempotencyKey()),T[this.idempotencyHeader]=u.idempotencyKey);const E=buildHeaders([T,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(O),...u.timeout?{"X-Stainless-Timeout":String(Math.trunc(u.timeout/1e3))}:{},...getPlatformHeaders(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(u),this._options.defaultHeaders,y,u.headers]);return this.validateHeaders(E),E.values}buildBody({options:{body:u,headers:d}}){if(!u)return{bodyHeaders:void 0,body:void 0};const y=buildHeaders([d]);return ArrayBuffer.isView(u)||u instanceof ArrayBuffer||u instanceof DataView||typeof u=="string"&&y.values.has("content-type")||globalThis.Blob&&u instanceof globalThis.Blob||u instanceof FormData||u instanceof URLSearchParams||globalThis.ReadableStream&&u instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:u}:typeof u=="object"&&(Symbol.asyncIterator in u||Symbol.iterator in u&&"next"in u&&typeof u.next=="function")?{bodyHeaders:void 0,body:ReadableStreamFrom(u)}:__classPrivateFieldGet(this,_OpenAI_encoder,"f").call(this,{body:u,headers:y})}}_a=OpenAI,_OpenAI_encoder=new WeakMap,_OpenAI_instances=new WeakSet,_OpenAI_baseURLOverridden=function(){return this.baseURL!=="https://api.openai.com/v1"};OpenAI.OpenAI=_a;OpenAI.DEFAULT_TIMEOUT=6e5;OpenAI.OpenAIError=OpenAIError;OpenAI.APIError=APIError;OpenAI.APIConnectionError=APIConnectionError;OpenAI.APIConnectionTimeoutError=APIConnectionTimeoutError;OpenAI.APIUserAbortError=APIUserAbortError;OpenAI.NotFoundError=NotFoundError;OpenAI.ConflictError=ConflictError;OpenAI.RateLimitError=RateLimitError;OpenAI.BadRequestError=BadRequestError;OpenAI.AuthenticationError=AuthenticationError;OpenAI.InternalServerError=InternalServerError;OpenAI.PermissionDeniedError=PermissionDeniedError;OpenAI.UnprocessableEntityError=UnprocessableEntityError;OpenAI.InvalidWebhookSignatureError=InvalidWebhookSignatureError;OpenAI.toFile=toFile;OpenAI.Completions=Completions;OpenAI.Chat=Chat;OpenAI.Embeddings=Embeddings;OpenAI.Files=Files$1;OpenAI.Images=Images;OpenAI.Audio=Audio;OpenAI.Moderations=Moderations;OpenAI.Models=Models;OpenAI.FineTuning=FineTuning;OpenAI.Graders=Graders;OpenAI.VectorStores=VectorStores;OpenAI.Webhooks=Webhooks;OpenAI.Beta=Beta;OpenAI.Batches=Batches;OpenAI.Uploads=Uploads;OpenAI.Responses=Responses;OpenAI.Realtime=Realtime;OpenAI.Conversations=Conversations;OpenAI.Evals=Evals;OpenAI.Containers=Containers;OpenAI.Videos=Videos;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var u=c.default;if(typeof u=="function"){var d=function y(){return this instanceof y?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};d.prototype=u.prototype}else d={};return Object.defineProperty(d,"__esModule",{value:!0}),Object.keys(c).forEach(function(y){var O=Object.getOwnPropertyDescriptor(c,y);Object.defineProperty(d,y,O.get?O:{enumerable:!0,get:function(){return c[y]}})}),d}var src$a={exports:{}},backoff={},logger={},validate={},util$6={};const interfaces$5={"google.firestore.v1.Firestore":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],deadline_exceeded_resource_exhausted_internal_unavailable:["DEADLINE_EXCEEDED","RESOURCE_EXHAUSTED","INTERNAL","UNAVAILABLE"],resource_exhausted_unavailable:["RESOURCE_EXHAUSTED","UNAVAILABLE"],resource_exhausted_aborted_unavailable:["RESOURCE_EXHAUSTED","ABORTED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{GetDocument:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},ListDocuments:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},UpdateDocument:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"},DeleteDocument:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BatchGetDocuments:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BeginTransaction:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},Commit:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"},Rollback:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},RunQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},RunAggregationQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},PartitionQuery:{timeout_millis:3e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},Write:{timeout_millis:864e5,retry_codes_name:"non_idempotent",retry_params_name:"default"},Listen:{timeout_millis:864e5,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},ListCollectionIds:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_resource_exhausted_internal_unavailable",retry_params_name:"default"},BatchWrite:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_aborted_unavailable",retry_params_name:"default"},CreateDocument:{timeout_millis:6e4,retry_codes_name:"resource_exhausted_unavailable",retry_params_name:"default"}}}},require$$19={interfaces:interfaces$5};var fallback={exports:{}};function commonjsRequire(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var object_hash={exports:{}},hasRequiredObject_hash;function requireObject_hash(){return hasRequiredObject_hash||(hasRequiredObject_hash=1,(function(c,u){(function(d){c.exports=d()})(function(){return(function d(y,O,T){function E(g,w){if(!O[g]){if(!y[g]){var R=typeof commonjsRequire=="function"&&commonjsRequire;if(!w&&R)return R(g,!0);if(v)return v(g,!0);throw new Error("Cannot find module '"+g+"'")}w=O[g]={exports:{}},y[g][0].call(w.exports,function(C){var N=y[g][1][C];return E(N||C)},w,w.exports,d,y,O,T)}return O[g].exports}for(var v=typeof commonjsRequire=="function"&&commonjsRequire,p=0;p<T.length;p++)E(T[p]);return E})({1:[function(d,y,O){(function(T,E,v,p,g,w,R,C,N){var D=d("crypto");function L(W,J){J=U(W,J);var Y;return(Y=J.algorithm!=="passthrough"?D.createHash(J.algorithm):new z).write===void 0&&(Y.write=Y.update,Y.end=Y.update),$(J,Y).dispatch(W),Y.update||Y.end(""),Y.digest?Y.digest(J.encoding==="buffer"?void 0:J.encoding):(W=Y.read(),J.encoding!=="buffer"?W.toString(J.encoding):W)}(O=y.exports=L).sha1=function(W){return L(W)},O.keys=function(W){return L(W,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},O.MD5=function(W){return L(W,{algorithm:"md5",encoding:"hex"})},O.keysMD5=function(W){return L(W,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var q=D.getHashes?D.getHashes().slice():["sha1","md5"],M=(q.push("passthrough"),["buffer","hex","binary","base64"]);function U(W,J){var Y={};if(Y.algorithm=(J=J||{}).algorithm||"sha1",Y.encoding=J.encoding||"hex",Y.excludeValues=!!J.excludeValues,Y.algorithm=Y.algorithm.toLowerCase(),Y.encoding=Y.encoding.toLowerCase(),Y.ignoreUnknown=J.ignoreUnknown===!0,Y.respectType=J.respectType!==!1,Y.respectFunctionNames=J.respectFunctionNames!==!1,Y.respectFunctionProperties=J.respectFunctionProperties!==!1,Y.unorderedArrays=J.unorderedArrays===!0,Y.unorderedSets=J.unorderedSets!==!1,Y.unorderedObjects=J.unorderedObjects!==!1,Y.replacer=J.replacer||void 0,Y.excludeKeys=J.excludeKeys||void 0,W===void 0)throw new Error("Object argument required.");for(var Q=0;Q<q.length;++Q)q[Q].toLowerCase()===Y.algorithm.toLowerCase()&&(Y.algorithm=q[Q]);if(q.indexOf(Y.algorithm)===-1)throw new Error('Algorithm "'+Y.algorithm+'"  not supported. supported values: '+q.join(", "));if(M.indexOf(Y.encoding)===-1&&Y.algorithm!=="passthrough")throw new Error('Encoding "'+Y.encoding+'"  not supported. supported values: '+M.join(", "));return Y}function V(W){if(typeof W=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(W))!=null}function $(W,J,Y){Y=Y||[];function Q(H){return J.update?J.update(H,"utf8"):J.write(H,"utf8")}return{dispatch:function(H){return this["_"+((H=W.replacer?W.replacer(H):H)===null?"null":typeof H)](H)},_object:function(H){var te,ne=Object.prototype.toString.call(H),oe=/\[object (.*)\]/i.exec(ne);if(oe=(oe=oe?oe[1]:"unknown:["+ne+"]").toLowerCase(),0<=(ne=Y.indexOf(H)))return this.dispatch("[CIRCULAR:"+ne+"]");if(Y.push(H),v!==void 0&&v.isBuffer&&v.isBuffer(H))return Q("buffer:"),Q(H);if(oe==="object"||oe==="function"||oe==="asyncfunction")return ne=Object.keys(H),W.unorderedObjects&&(ne=ne.sort()),W.respectType===!1||V(H)||ne.splice(0,0,"prototype","__proto__","constructor"),W.excludeKeys&&(ne=ne.filter(function(ie){return!W.excludeKeys(ie)})),Q("object:"+ne.length+":"),te=this,ne.forEach(function(ie){te.dispatch(ie),Q(":"),W.excludeValues||te.dispatch(H[ie]),Q(",")});if(!this["_"+oe]){if(W.ignoreUnknown)return Q("["+oe+"]");throw new Error('Unknown object type "'+oe+'"')}this["_"+oe](H)},_array:function(H,ie){ie=ie!==void 0?ie:W.unorderedArrays!==!1;var ne=this;if(Q("array:"+H.length+":"),!ie||H.length<=1)return H.forEach(function(ee){return ne.dispatch(ee)});var oe=[],ie=H.map(function(ee){var ue=new z,fe=Y.slice();return $(W,ue,fe).dispatch(ee),oe=oe.concat(fe.slice(Y.length)),ue.read().toString()});return Y=Y.concat(oe),ie.sort(),this._array(ie,!1)},_date:function(H){return Q("date:"+H.toJSON())},_symbol:function(H){return Q("symbol:"+H.toString())},_error:function(H){return Q("error:"+H.toString())},_boolean:function(H){return Q("bool:"+H.toString())},_string:function(H){Q("string:"+H.length+":"),Q(H.toString())},_function:function(H){Q("fn:"),V(H)?this.dispatch("[native]"):this.dispatch(H.toString()),W.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(H.name)),W.respectFunctionProperties&&this._object(H)},_number:function(H){return Q("number:"+H.toString())},_xml:function(H){return Q("xml:"+H.toString())},_null:function(){return Q("Null")},_undefined:function(){return Q("Undefined")},_regexp:function(H){return Q("regex:"+H.toString())},_uint8array:function(H){return Q("uint8array:"),this.dispatch(Array.prototype.slice.call(H))},_uint8clampedarray:function(H){return Q("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(H))},_int8array:function(H){return Q("int8array:"),this.dispatch(Array.prototype.slice.call(H))},_uint16array:function(H){return Q("uint16array:"),this.dispatch(Array.prototype.slice.call(H))},_int16array:function(H){return Q("int16array:"),this.dispatch(Array.prototype.slice.call(H))},_uint32array:function(H){return Q("uint32array:"),this.dispatch(Array.prototype.slice.call(H))},_int32array:function(H){return Q("int32array:"),this.dispatch(Array.prototype.slice.call(H))},_float32array:function(H){return Q("float32array:"),this.dispatch(Array.prototype.slice.call(H))},_float64array:function(H){return Q("float64array:"),this.dispatch(Array.prototype.slice.call(H))},_arraybuffer:function(H){return Q("arraybuffer:"),this.dispatch(new Uint8Array(H))},_url:function(H){return Q("url:"+H.toString())},_map:function(H){return Q("map:"),H=Array.from(H),this._array(H,W.unorderedSets!==!1)},_set:function(H){return Q("set:"),H=Array.from(H),this._array(H,W.unorderedSets!==!1)},_file:function(H){return Q("file:"),this.dispatch([H.name,H.size,H.type,H.lastModfied])},_blob:function(){if(W.ignoreUnknown)return Q("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return Q("domwindow")},_bigint:function(H){return Q("bigint:"+H.toString())},_process:function(){return Q("process")},_timer:function(){return Q("timer")},_pipe:function(){return Q("pipe")},_tcp:function(){return Q("tcp")},_udp:function(){return Q("udp")},_tty:function(){return Q("tty")},_statwatcher:function(){return Q("statwatcher")},_securecontext:function(){return Q("securecontext")},_connection:function(){return Q("connection")},_zlib:function(){return Q("zlib")},_context:function(){return Q("context")},_nodescript:function(){return Q("nodescript")},_httpparser:function(){return Q("httpparser")},_dataview:function(){return Q("dataview")},_signal:function(){return Q("signal")},_fsevent:function(){return Q("fsevent")},_tlswrap:function(){return Q("tlswrap")}}}function z(){return{buf:"",write:function(W){this.buf+=W},end:function(W){this.buf+=W},read:function(){return this.buf}}}O.writeToStream=function(W,J,Y){return Y===void 0&&(Y=J,J={}),$(J=U(W,J),Y).dispatch(W)}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(d,y,O){(function(T,E,v,p,g,w,R,C,N){(function(D){var L=typeof Uint8Array<"u"?Uint8Array:Array,q=43,M=47,U=48,V=97,$=65,z=45,W=95;function J(Y){return Y=Y.charCodeAt(0),Y===q||Y===z?62:Y===M||Y===W?63:Y<U?-1:Y<U+10?Y-U+26+26:Y<$+26?Y-$:Y<V+26?Y-V+26:void 0}D.toByteArray=function(Y){var Q,H;if(0<Y.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var te=Y.length,te=Y.charAt(te-2)==="="?2:Y.charAt(te-1)==="="?1:0,ne=new L(3*Y.length/4-te),oe=0<te?Y.length-4:Y.length,ie=0;function ee(ue){ne[ie++]=ue}for(Q=0;Q<oe;Q+=4,0)ee((16711680&(H=J(Y.charAt(Q))<<18|J(Y.charAt(Q+1))<<12|J(Y.charAt(Q+2))<<6|J(Y.charAt(Q+3))))>>16),ee((65280&H)>>8),ee(255&H);return te==2?ee(255&(H=J(Y.charAt(Q))<<2|J(Y.charAt(Q+1))>>4)):te==1&&(ee((H=J(Y.charAt(Q))<<10|J(Y.charAt(Q+1))<<4|J(Y.charAt(Q+2))>>2)>>8&255),ee(255&H)),ne},D.fromByteArray=function(Y){var Q,H,te,ne,oe=Y.length%3,ie="";function ee(ue){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(ue)}for(Q=0,te=Y.length-oe;Q<te;Q+=3)H=(Y[Q]<<16)+(Y[Q+1]<<8)+Y[Q+2],ie+=ee((ne=H)>>18&63)+ee(ne>>12&63)+ee(ne>>6&63)+ee(63&ne);switch(oe){case 1:ie=(ie+=ee((H=Y[Y.length-1])>>2))+ee(H<<4&63)+"==";break;case 2:ie=(ie=(ie+=ee((H=(Y[Y.length-2]<<8)+Y[Y.length-1])>>10))+ee(H>>4&63))+ee(H<<2&63)+"="}return ie}})(O===void 0?this.base64js={}:O)}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(d,y,O){(function(T,E,q,p,g,w,R,C,N){var D=d("base64-js"),L=d("ieee754");function q(he,l,P){if(!(this instanceof q))return new q(he,l,P);var k,K,pe,Se,ye=typeof he;if(l==="base64"&&ye=="string")for(he=(Se=he).trim?Se.trim():Se.replace(/^\s+|\s+$/g,"");he.length%4!=0;)he+="=";if(ye=="number")k=de(he);else if(ye=="string")k=q.byteLength(he,l);else{if(ye!="object")throw new Error("First argument needs to be a number, array or string.");k=de(he.length)}if(q._useTypedArrays?K=q._augment(new Uint8Array(k)):((K=this).length=k,K._isBuffer=!0),q._useTypedArrays&&typeof he.byteLength=="number")K._set(he);else if(ge(Se=he)||q.isBuffer(Se)||Se&&typeof Se=="object"&&typeof Se.length=="number")for(pe=0;pe<k;pe++)q.isBuffer(he)?K[pe]=he.readUInt8(pe):K[pe]=he[pe];else if(ye=="string")K.write(he,0,l);else if(ye=="number"&&!q._useTypedArrays&&!P)for(pe=0;pe<k;pe++)K[pe]=0;return K}function M(he,l,P,k){return q._charsWritten=Re((function(K){for(var pe=[],Se=0;Se<K.length;Se++)pe.push(255&K.charCodeAt(Se));return pe})(l),he,P,k)}function U(he,l,P,k){return q._charsWritten=Re((function(K){for(var pe,Se,ye=[],a=0;a<K.length;a++)Se=K.charCodeAt(a),pe=Se>>8,Se=Se%256,ye.push(Se),ye.push(pe);return ye})(l),he,P,k)}function V(he,l,P){var k="";P=Math.min(he.length,P);for(var K=l;K<P;K++)k+=String.fromCharCode(he[K]);return k}function $(he,l,P,pe){pe||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(l!=null,"missing offset"),Ee(l+1<he.length,"Trying to read beyond buffer length"));var K,pe=he.length;if(!(pe<=l))return P?(K=he[l],l+1<pe&&(K|=he[l+1]<<8)):(K=he[l]<<8,l+1<pe&&(K|=he[l+1])),K}function z(he,l,P,pe){pe||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(l!=null,"missing offset"),Ee(l+3<he.length,"Trying to read beyond buffer length"));var K,pe=he.length;if(!(pe<=l))return P?(l+2<pe&&(K=he[l+2]<<16),l+1<pe&&(K|=he[l+1]<<8),K|=he[l],l+3<pe&&(K+=he[l+3]<<24>>>0)):(l+1<pe&&(K=he[l+1]<<16),l+2<pe&&(K|=he[l+2]<<8),l+3<pe&&(K|=he[l+3]),K+=he[l]<<24>>>0),K}function W(he,l,P,k){if(k||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(l!=null,"missing offset"),Ee(l+1<he.length,"Trying to read beyond buffer length")),!(he.length<=l))return k=$(he,l,P,!0),32768&k?-1*(65535-k+1):k}function J(he,l,P,k){if(k||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(l!=null,"missing offset"),Ee(l+3<he.length,"Trying to read beyond buffer length")),!(he.length<=l))return k=z(he,l,P,!0),2147483648&k?-1*(4294967295-k+1):k}function Y(he,l,P,k){return k||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(l+3<he.length,"Trying to read beyond buffer length")),L.read(he,l,P,23,4)}function Q(he,l,P,k){return k||(Ee(typeof P=="boolean","missing or invalid endian"),Ee(l+7<he.length,"Trying to read beyond buffer length")),L.read(he,l,P,52,8)}function H(he,l,P,k,K){if(K||(Ee(l!=null,"missing value"),Ee(typeof k=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+1<he.length,"trying to write beyond buffer length"),Ae(l,65535)),K=he.length,!(K<=P))for(var pe=0,Se=Math.min(K-P,2);pe<Se;pe++)he[P+pe]=(l&255<<8*(k?pe:1-pe))>>>8*(k?pe:1-pe)}function te(he,l,P,k,K){if(K||(Ee(l!=null,"missing value"),Ee(typeof k=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+3<he.length,"trying to write beyond buffer length"),Ae(l,4294967295)),K=he.length,!(K<=P))for(var pe=0,Se=Math.min(K-P,4);pe<Se;pe++)he[P+pe]=l>>>8*(k?pe:3-pe)&255}function ne(he,l,P,k,K){K||(Ee(l!=null,"missing value"),Ee(typeof k=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+1<he.length,"Trying to write beyond buffer length"),Oe(l,32767,-32768)),he.length<=P||H(he,0<=l?l:65535+l+1,P,k,K)}function oe(he,l,P,k,K){K||(Ee(l!=null,"missing value"),Ee(typeof k=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+3<he.length,"Trying to write beyond buffer length"),Oe(l,2147483647,-2147483648)),he.length<=P||te(he,0<=l?l:4294967295+l+1,P,k,K)}function ie(he,l,P,k,K){K||(Ee(l!=null,"missing value"),Ee(typeof k=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+3<he.length,"Trying to write beyond buffer length"),ve(l,34028234663852886e22,-34028234663852886e22)),he.length<=P||L.write(he,l,P,k,23,4)}function ee(he,l,P,k,K){K||(Ee(l!=null,"missing value"),Ee(typeof k=="boolean","missing or invalid endian"),Ee(P!=null,"missing offset"),Ee(P+7<he.length,"Trying to write beyond buffer length"),ve(l,17976931348623157e292,-17976931348623157e292)),he.length<=P||L.write(he,l,P,k,52,8)}O.Buffer=q,O.SlowBuffer=q,O.INSPECT_MAX_BYTES=50,q.poolSize=8192,q._useTypedArrays=(function(){try{var he=new ArrayBuffer(0),l=new Uint8Array(he);return l.foo=function(){return 42},l.foo()===42&&typeof l.subarray=="function"}catch{return!1}})(),q.isEncoding=function(he){switch(String(he).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},q.isBuffer=function(he){return!(he==null||!he._isBuffer)},q.byteLength=function(he,l){var P;switch(he+="",l||"utf8"){case"hex":P=he.length/2;break;case"utf8":case"utf-8":P=_e(he).length;break;case"ascii":case"binary":case"raw":P=he.length;break;case"base64":P=we(he).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":P=2*he.length;break;default:throw new Error("Unknown encoding")}return P},q.concat=function(he,l){if(Ee(ge(he),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),he.length===0)return new q(0);if(he.length===1)return he[0];if(typeof l!="number")for(K=l=0;K<he.length;K++)l+=he[K].length;for(var P=new q(l),k=0,K=0;K<he.length;K++){var pe=he[K];pe.copy(P,k),k+=pe.length}return P},q.prototype.write=function(he,l,P,k){isFinite(l)?isFinite(P)||(k=P,P=void 0):(a=k,k=l,l=P,P=a),l=Number(l)||0;var K,pe,Se,ye,a=this.length-l;switch((!P||a<(P=Number(P)))&&(P=a),k=String(k||"utf8").toLowerCase()){case"hex":K=(function(j,G,o,I){o=Number(o)||0;var B=j.length-o;(!I||B<(I=Number(I)))&&(I=B),Ee((B=G.length)%2==0,"Invalid hex string"),B/2<I&&(I=B/2);for(var ae=0;ae<I;ae++){var Ce=parseInt(G.substr(2*ae,2),16);Ee(!isNaN(Ce),"Invalid hex string"),j[o+ae]=Ce}return q._charsWritten=2*ae,ae})(this,he,l,P);break;case"utf8":case"utf-8":pe=this,Se=l,ye=P,K=q._charsWritten=Re(_e(he),pe,Se,ye);break;case"ascii":case"binary":K=M(this,he,l,P);break;case"base64":pe=this,Se=l,ye=P,K=q._charsWritten=Re(we(he),pe,Se,ye);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":K=U(this,he,l,P);break;default:throw new Error("Unknown encoding")}return K},q.prototype.toString=function(he,l,P){var k,K,pe,Se,ye=this;if(he=String(he||"utf8").toLowerCase(),l=Number(l)||0,(P=P!==void 0?Number(P):ye.length)===l)return"";switch(he){case"hex":k=(function(a,j,G){var o=a.length;(!j||j<0)&&(j=0),(!G||G<0||o<G)&&(G=o);for(var I="",B=j;B<G;B++)I+=me(a[B]);return I})(ye,l,P);break;case"utf8":case"utf-8":k=(function(a,j,G){var o="",I="";G=Math.min(a.length,G);for(var B=j;B<G;B++)a[B]<=127?(o+=Te(I)+String.fromCharCode(a[B]),I=""):I+="%"+a[B].toString(16);return o+Te(I)})(ye,l,P);break;case"ascii":case"binary":k=V(ye,l,P);break;case"base64":K=ye,Se=P,k=(pe=l)===0&&Se===K.length?D.fromByteArray(K):D.fromByteArray(K.slice(pe,Se));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":k=(function(a,j,G){for(var o=a.slice(j,G),I="",B=0;B<o.length;B+=2)I+=String.fromCharCode(o[B]+256*o[B+1]);return I})(ye,l,P);break;default:throw new Error("Unknown encoding")}return k},q.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},q.prototype.copy=function(he,l,P,k){if(l=l||0,(k=k||k===0?k:this.length)!==(P=P||0)&&he.length!==0&&this.length!==0){Ee(P<=k,"sourceEnd < sourceStart"),Ee(0<=l&&l<he.length,"targetStart out of bounds"),Ee(0<=P&&P<this.length,"sourceStart out of bounds"),Ee(0<=k&&k<=this.length,"sourceEnd out of bounds"),k>this.length&&(k=this.length);var K=(k=he.length-l<k-P?he.length-l+P:k)-P;if(K<100||!q._useTypedArrays)for(var pe=0;pe<K;pe++)he[pe+l]=this[pe+P];else he._set(this.subarray(P,P+K),l)}},q.prototype.slice=function(he,l){var P=this.length;if(he=fe(he,P,0),l=fe(l,P,P),q._useTypedArrays)return q._augment(this.subarray(he,l));for(var k=l-he,K=new q(k,void 0,!0),pe=0;pe<k;pe++)K[pe]=this[pe+he];return K},q.prototype.get=function(he){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(he)},q.prototype.set=function(he,l){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(he,l)},q.prototype.readUInt8=function(he,l){if(l||(Ee(he!=null,"missing offset"),Ee(he<this.length,"Trying to read beyond buffer length")),!(he>=this.length))return this[he]},q.prototype.readUInt16LE=function(he,l){return $(this,he,!0,l)},q.prototype.readUInt16BE=function(he,l){return $(this,he,!1,l)},q.prototype.readUInt32LE=function(he,l){return z(this,he,!0,l)},q.prototype.readUInt32BE=function(he,l){return z(this,he,!1,l)},q.prototype.readInt8=function(he,l){if(l||(Ee(he!=null,"missing offset"),Ee(he<this.length,"Trying to read beyond buffer length")),!(he>=this.length))return 128&this[he]?-1*(255-this[he]+1):this[he]},q.prototype.readInt16LE=function(he,l){return W(this,he,!0,l)},q.prototype.readInt16BE=function(he,l){return W(this,he,!1,l)},q.prototype.readInt32LE=function(he,l){return J(this,he,!0,l)},q.prototype.readInt32BE=function(he,l){return J(this,he,!1,l)},q.prototype.readFloatLE=function(he,l){return Y(this,he,!0,l)},q.prototype.readFloatBE=function(he,l){return Y(this,he,!1,l)},q.prototype.readDoubleLE=function(he,l){return Q(this,he,!0,l)},q.prototype.readDoubleBE=function(he,l){return Q(this,he,!1,l)},q.prototype.writeUInt8=function(he,l,P){P||(Ee(he!=null,"missing value"),Ee(l!=null,"missing offset"),Ee(l<this.length,"trying to write beyond buffer length"),Ae(he,255)),l>=this.length||(this[l]=he)},q.prototype.writeUInt16LE=function(he,l,P){H(this,he,l,!0,P)},q.prototype.writeUInt16BE=function(he,l,P){H(this,he,l,!1,P)},q.prototype.writeUInt32LE=function(he,l,P){te(this,he,l,!0,P)},q.prototype.writeUInt32BE=function(he,l,P){te(this,he,l,!1,P)},q.prototype.writeInt8=function(he,l,P){P||(Ee(he!=null,"missing value"),Ee(l!=null,"missing offset"),Ee(l<this.length,"Trying to write beyond buffer length"),Oe(he,127,-128)),l>=this.length||(0<=he?this.writeUInt8(he,l,P):this.writeUInt8(255+he+1,l,P))},q.prototype.writeInt16LE=function(he,l,P){ne(this,he,l,!0,P)},q.prototype.writeInt16BE=function(he,l,P){ne(this,he,l,!1,P)},q.prototype.writeInt32LE=function(he,l,P){oe(this,he,l,!0,P)},q.prototype.writeInt32BE=function(he,l,P){oe(this,he,l,!1,P)},q.prototype.writeFloatLE=function(he,l,P){ie(this,he,l,!0,P)},q.prototype.writeFloatBE=function(he,l,P){ie(this,he,l,!1,P)},q.prototype.writeDoubleLE=function(he,l,P){ee(this,he,l,!0,P)},q.prototype.writeDoubleBE=function(he,l,P){ee(this,he,l,!1,P)},q.prototype.fill=function(he,l,P){if(l=l||0,P=P||this.length,Ee(typeof(he=typeof(he=he||0)=="string"?he.charCodeAt(0):he)=="number"&&!isNaN(he),"value is not a number"),Ee(l<=P,"end < start"),P!==l&&this.length!==0){Ee(0<=l&&l<this.length,"start out of bounds"),Ee(0<=P&&P<=this.length,"end out of bounds");for(var k=l;k<P;k++)this[k]=he}},q.prototype.inspect=function(){for(var he=[],l=this.length,P=0;P<l;P++)if(he[P]=me(this[P]),P===O.INSPECT_MAX_BYTES){he[P+1]="...";break}return"<Buffer "+he.join(" ")+">"},q.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(q._useTypedArrays)return new q(this).buffer;for(var he=new Uint8Array(this.length),l=0,P=he.length;l<P;l+=1)he[l]=this[l];return he.buffer};var ue=q.prototype;function fe(he,l,P){return typeof he!="number"?P:l<=(he=~~he)?l:0<=he||0<=(he+=l)?he:0}function de(he){return(he=~~Math.ceil(+he))<0?0:he}function ge(he){return(Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"})(he)}function me(he){return he<16?"0"+he.toString(16):he.toString(16)}function _e(he){for(var l=[],P=0;P<he.length;P++){var k=he.charCodeAt(P);if(k<=127)l.push(he.charCodeAt(P));else for(var K=P,pe=(55296<=k&&k<=57343&&P++,encodeURIComponent(he.slice(K,P+1)).substr(1).split("%")),Se=0;Se<pe.length;Se++)l.push(parseInt(pe[Se],16))}return l}function we(he){return D.toByteArray(he)}function Re(he,l,P,k){for(var K=0;K<k&&!(K+P>=l.length||K>=he.length);K++)l[K+P]=he[K];return K}function Te(he){try{return decodeURIComponent(he)}catch{return""}}function Ae(he,l){Ee(typeof he=="number","cannot write a non-number as a number"),Ee(0<=he,"specified a negative value for writing an unsigned value"),Ee(he<=l,"value is larger than maximum value for type"),Ee(Math.floor(he)===he,"value has a fractional component")}function Oe(he,l,P){Ee(typeof he=="number","cannot write a non-number as a number"),Ee(he<=l,"value larger than maximum allowed value"),Ee(P<=he,"value smaller than minimum allowed value"),Ee(Math.floor(he)===he,"value has a fractional component")}function ve(he,l,P){Ee(typeof he=="number","cannot write a non-number as a number"),Ee(he<=l,"value larger than maximum allowed value"),Ee(P<=he,"value smaller than minimum allowed value")}function Ee(he,l){if(!he)throw new Error(l||"Failed assertion")}q._augment=function(he){return he._isBuffer=!0,he._get=he.get,he._set=he.set,he.get=ue.get,he.set=ue.set,he.write=ue.write,he.toString=ue.toString,he.toLocaleString=ue.toString,he.toJSON=ue.toJSON,he.copy=ue.copy,he.slice=ue.slice,he.readUInt8=ue.readUInt8,he.readUInt16LE=ue.readUInt16LE,he.readUInt16BE=ue.readUInt16BE,he.readUInt32LE=ue.readUInt32LE,he.readUInt32BE=ue.readUInt32BE,he.readInt8=ue.readInt8,he.readInt16LE=ue.readInt16LE,he.readInt16BE=ue.readInt16BE,he.readInt32LE=ue.readInt32LE,he.readInt32BE=ue.readInt32BE,he.readFloatLE=ue.readFloatLE,he.readFloatBE=ue.readFloatBE,he.readDoubleLE=ue.readDoubleLE,he.readDoubleBE=ue.readDoubleBE,he.writeUInt8=ue.writeUInt8,he.writeUInt16LE=ue.writeUInt16LE,he.writeUInt16BE=ue.writeUInt16BE,he.writeUInt32LE=ue.writeUInt32LE,he.writeUInt32BE=ue.writeUInt32BE,he.writeInt8=ue.writeInt8,he.writeInt16LE=ue.writeInt16LE,he.writeInt16BE=ue.writeInt16BE,he.writeInt32LE=ue.writeInt32LE,he.writeInt32BE=ue.writeInt32BE,he.writeFloatLE=ue.writeFloatLE,he.writeFloatBE=ue.writeFloatBE,he.writeDoubleLE=ue.writeDoubleLE,he.writeDoubleBE=ue.writeDoubleBE,he.fill=ue.fill,he.inspect=ue.inspect,he.toArrayBuffer=ue.toArrayBuffer,he}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(d,y,O){(function(T,E,D,p,g,w,R,C,N){var D=d("buffer").Buffer,L=4,q=new D(L);q.fill(0),y.exports={hash:function(M,U,V,$){for(var z=U((function(H,te){H.length%L!=0&&(ne=H.length+(L-H.length%L),H=D.concat([H,q],ne));for(var ne,oe=[],ie=te?H.readInt32BE:H.readInt32LE,ee=0;ee<H.length;ee+=L)oe.push(ie.call(H,ee));return oe})(M=D.isBuffer(M)?M:new D(M),$),8*M.length),U=$,W=new D(V),J=U?W.writeInt32BE:W.writeInt32LE,Y=0;Y<z.length;Y++)J.call(W,z[Y],4*Y,!0);return W}}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(d,y,O){(function(T,E,D,p,g,w,R,C,N){var D=d("buffer").Buffer,L=d("./sha"),q=d("./sha256"),M=d("./rng"),U={sha1:L,sha256:q,md5:d("./md5")},V=64,$=new D(V);function z(H,te){var ne=U[H=H||"sha1"],oe=[];return ne||W("algorithm:",H,"is not yet supported"),{update:function(ie){return D.isBuffer(ie)||(ie=new D(ie)),oe.push(ie),ie.length,this},digest:function(ie){var ee=D.concat(oe),ee=te?(function(ue,fe,de){D.isBuffer(fe)||(fe=new D(fe)),D.isBuffer(de)||(de=new D(de)),fe.length>V?fe=ue(fe):fe.length<V&&(fe=D.concat([fe,$],V));for(var ge=new D(V),me=new D(V),_e=0;_e<V;_e++)ge[_e]=54^fe[_e],me[_e]=92^fe[_e];return de=ue(D.concat([ge,de])),ue(D.concat([me,de]))})(ne,te,ee):ne(ee);return oe=null,ie?ee.toString(ie):ee}}}function W(){var H=[].slice.call(arguments).join(" ");throw new Error([H,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}$.fill(0),O.createHash=function(H){return z(H)},O.createHmac=z,O.randomBytes=function(H,te){if(!te||!te.call)return new D(M(H));try{te.call(this,void 0,new D(M(H)))}catch(ne){te(ne)}};var J,Y=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],Q=function(H){O[H]=function(){W("sorry,",H,"is not implemented yet")}};for(J in Y)Q(Y[J])}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(d,y,O){(function(T,E,v,p,g,w,R,C,N){var D=d("./helpers");function L(W,J){W[J>>5]|=128<<J%32,W[14+(J+64>>>9<<4)]=J;for(var Y=1732584193,Q=-271733879,H=-1732584194,te=271733878,ne=0;ne<W.length;ne+=16){var oe=Y,ie=Q,ee=H,ue=te,Y=M(Y,Q,H,te,W[ne+0],7,-680876936),te=M(te,Y,Q,H,W[ne+1],12,-389564586),H=M(H,te,Y,Q,W[ne+2],17,606105819),Q=M(Q,H,te,Y,W[ne+3],22,-1044525330);Y=M(Y,Q,H,te,W[ne+4],7,-176418897),te=M(te,Y,Q,H,W[ne+5],12,1200080426),H=M(H,te,Y,Q,W[ne+6],17,-1473231341),Q=M(Q,H,te,Y,W[ne+7],22,-45705983),Y=M(Y,Q,H,te,W[ne+8],7,1770035416),te=M(te,Y,Q,H,W[ne+9],12,-1958414417),H=M(H,te,Y,Q,W[ne+10],17,-42063),Q=M(Q,H,te,Y,W[ne+11],22,-1990404162),Y=M(Y,Q,H,te,W[ne+12],7,1804603682),te=M(te,Y,Q,H,W[ne+13],12,-40341101),H=M(H,te,Y,Q,W[ne+14],17,-1502002290),Y=U(Y,Q=M(Q,H,te,Y,W[ne+15],22,1236535329),H,te,W[ne+1],5,-165796510),te=U(te,Y,Q,H,W[ne+6],9,-1069501632),H=U(H,te,Y,Q,W[ne+11],14,643717713),Q=U(Q,H,te,Y,W[ne+0],20,-373897302),Y=U(Y,Q,H,te,W[ne+5],5,-701558691),te=U(te,Y,Q,H,W[ne+10],9,38016083),H=U(H,te,Y,Q,W[ne+15],14,-660478335),Q=U(Q,H,te,Y,W[ne+4],20,-405537848),Y=U(Y,Q,H,te,W[ne+9],5,568446438),te=U(te,Y,Q,H,W[ne+14],9,-1019803690),H=U(H,te,Y,Q,W[ne+3],14,-187363961),Q=U(Q,H,te,Y,W[ne+8],20,1163531501),Y=U(Y,Q,H,te,W[ne+13],5,-1444681467),te=U(te,Y,Q,H,W[ne+2],9,-51403784),H=U(H,te,Y,Q,W[ne+7],14,1735328473),Y=V(Y,Q=U(Q,H,te,Y,W[ne+12],20,-1926607734),H,te,W[ne+5],4,-378558),te=V(te,Y,Q,H,W[ne+8],11,-2022574463),H=V(H,te,Y,Q,W[ne+11],16,1839030562),Q=V(Q,H,te,Y,W[ne+14],23,-35309556),Y=V(Y,Q,H,te,W[ne+1],4,-1530992060),te=V(te,Y,Q,H,W[ne+4],11,1272893353),H=V(H,te,Y,Q,W[ne+7],16,-155497632),Q=V(Q,H,te,Y,W[ne+10],23,-1094730640),Y=V(Y,Q,H,te,W[ne+13],4,681279174),te=V(te,Y,Q,H,W[ne+0],11,-358537222),H=V(H,te,Y,Q,W[ne+3],16,-722521979),Q=V(Q,H,te,Y,W[ne+6],23,76029189),Y=V(Y,Q,H,te,W[ne+9],4,-640364487),te=V(te,Y,Q,H,W[ne+12],11,-421815835),H=V(H,te,Y,Q,W[ne+15],16,530742520),Y=$(Y,Q=V(Q,H,te,Y,W[ne+2],23,-995338651),H,te,W[ne+0],6,-198630844),te=$(te,Y,Q,H,W[ne+7],10,1126891415),H=$(H,te,Y,Q,W[ne+14],15,-1416354905),Q=$(Q,H,te,Y,W[ne+5],21,-57434055),Y=$(Y,Q,H,te,W[ne+12],6,1700485571),te=$(te,Y,Q,H,W[ne+3],10,-1894986606),H=$(H,te,Y,Q,W[ne+10],15,-1051523),Q=$(Q,H,te,Y,W[ne+1],21,-2054922799),Y=$(Y,Q,H,te,W[ne+8],6,1873313359),te=$(te,Y,Q,H,W[ne+15],10,-30611744),H=$(H,te,Y,Q,W[ne+6],15,-1560198380),Q=$(Q,H,te,Y,W[ne+13],21,1309151649),Y=$(Y,Q,H,te,W[ne+4],6,-145523070),te=$(te,Y,Q,H,W[ne+11],10,-1120210379),H=$(H,te,Y,Q,W[ne+2],15,718787259),Q=$(Q,H,te,Y,W[ne+9],21,-343485551),Y=z(Y,oe),Q=z(Q,ie),H=z(H,ee),te=z(te,ue)}return Array(Y,Q,H,te)}function q(W,J,Y,Q,H,te){return z((J=z(z(J,W),z(Q,te)))<<H|J>>>32-H,Y)}function M(W,J,Y,Q,H,te,ne){return q(J&Y|~J&Q,W,J,H,te,ne)}function U(W,J,Y,Q,H,te,ne){return q(J&Q|Y&~Q,W,J,H,te,ne)}function V(W,J,Y,Q,H,te,ne){return q(J^Y^Q,W,J,H,te,ne)}function $(W,J,Y,Q,H,te,ne){return q(Y^(J|~Q),W,J,H,te,ne)}function z(W,J){var Y=(65535&W)+(65535&J);return(W>>16)+(J>>16)+(Y>>16)<<16|65535&Y}y.exports=function(W){return D.hash(W,L,16)}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(d,y,O){(function(T,E,v,p,g,w,R,C,N){y.exports=function(D){for(var L,q=new Array(D),M=0;M<D;M++)(3&M)==0&&(L=4294967296*Math.random()),q[M]=L>>>((3&M)<<3)&255;return q}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(d,y,O){(function(T,E,v,p,g,w,R,C,N){var D=d("./helpers");function L(U,V){U[V>>5]|=128<<24-V%32,U[15+(V+64>>9<<4)]=V;for(var $,z,W,J=Array(80),Y=1732584193,Q=-271733879,H=-1732584194,te=271733878,ne=-1009589776,oe=0;oe<U.length;oe+=16){for(var ie=Y,ee=Q,ue=H,fe=te,de=ne,ge=0;ge<80;ge++){J[ge]=ge<16?U[oe+ge]:M(J[ge-3]^J[ge-8]^J[ge-14]^J[ge-16],1);var me=q(q(M(Y,5),(me=Q,z=H,W=te,($=ge)<20?me&z|~me&W:!($<40)&&$<60?me&z|me&W|z&W:me^z^W)),q(q(ne,J[ge]),($=ge)<20?1518500249:$<40?1859775393:$<60?-1894007588:-899497514)),ne=te,te=H,H=M(Q,30),Q=Y,Y=me}Y=q(Y,ie),Q=q(Q,ee),H=q(H,ue),te=q(te,fe),ne=q(ne,de)}return Array(Y,Q,H,te,ne)}function q(U,V){var $=(65535&U)+(65535&V);return(U>>16)+(V>>16)+($>>16)<<16|65535&$}function M(U,V){return U<<V|U>>>32-V}y.exports=function(U){return D.hash(U,L,20,!0)}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(d,y,O){(function(T,E,v,p,g,w,R,C,N){function D(V,$){var z=(65535&V)+(65535&$);return(V>>16)+($>>16)+(z>>16)<<16|65535&z}function L(V,$){var z,W=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),J=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),Y=new Array(64);V[$>>5]|=128<<24-$%32,V[15+($+64>>9<<4)]=$;for(var Q,H,te=0;te<V.length;te+=16){for(var ne=J[0],oe=J[1],ie=J[2],ee=J[3],ue=J[4],fe=J[5],de=J[6],ge=J[7],me=0;me<64;me++)Y[me]=me<16?V[me+te]:D(D(D((H=Y[me-2],M(H,17)^M(H,19)^U(H,10)),Y[me-7]),(H=Y[me-15],M(H,7)^M(H,18)^U(H,3))),Y[me-16]),z=D(D(D(D(ge,M(H=ue,6)^M(H,11)^M(H,25)),ue&fe^~ue&de),W[me]),Y[me]),Q=D(M(Q=ne,2)^M(Q,13)^M(Q,22),ne&oe^ne&ie^oe&ie),ge=de,de=fe,fe=ue,ue=D(ee,z),ee=ie,ie=oe,oe=ne,ne=D(z,Q);J[0]=D(ne,J[0]),J[1]=D(oe,J[1]),J[2]=D(ie,J[2]),J[3]=D(ee,J[3]),J[4]=D(ue,J[4]),J[5]=D(fe,J[5]),J[6]=D(de,J[6]),J[7]=D(ge,J[7])}return J}var q=d("./helpers"),M=function(V,$){return V>>>$|V<<32-$},U=function(V,$){return V>>>$};y.exports=function(V){return q.hash(V,L,32,!0)}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(d,y,O){(function(T,E,v,p,g,w,R,C,N){O.read=function(D,L,q,M,te){var V,$,z=8*te-M-1,W=(1<<z)-1,J=W>>1,Y=-7,Q=q?te-1:0,H=q?-1:1,te=D[L+Q];for(Q+=H,V=te&(1<<-Y)-1,te>>=-Y,Y+=z;0<Y;V=256*V+D[L+Q],Q+=H,Y-=8);for($=V&(1<<-Y)-1,V>>=-Y,Y+=M;0<Y;$=256*$+D[L+Q],Q+=H,Y-=8);if(V===0)V=1-J;else{if(V===W)return $?NaN:1/0*(te?-1:1);$+=Math.pow(2,M),V-=J}return(te?-1:1)*$*Math.pow(2,V-M)},O.write=function(D,L,q,M,U,ne){var $,z,W=8*ne-U-1,J=(1<<W)-1,Y=J>>1,Q=U===23?Math.pow(2,-24)-Math.pow(2,-77):0,H=M?0:ne-1,te=M?1:-1,ne=L<0||L===0&&1/L<0?1:0;for(L=Math.abs(L),isNaN(L)||L===1/0?(z=isNaN(L)?1:0,$=J):($=Math.floor(Math.log(L)/Math.LN2),L*(M=Math.pow(2,-$))<1&&($--,M*=2),2<=(L+=1<=$+Y?Q/M:Q*Math.pow(2,1-Y))*M&&($++,M/=2),J<=$+Y?(z=0,$=J):1<=$+Y?(z=(L*M-1)*Math.pow(2,U),$+=Y):(z=L*Math.pow(2,Y-1)*Math.pow(2,U),$=0));8<=U;D[q+H]=255&z,H+=te,z/=256,U-=8);for($=$<<U|z,W+=U;0<W;D[q+H]=255&$,H+=te,$/=256,W-=8);D[q+H-te]|=128*ne}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(d,y,O){(function(T,E,v,p,g,w,R,C,N){var D,L,q;function M(){}(T=y.exports={}).nextTick=(L=typeof window<"u"&&window.setImmediate,q=typeof window<"u"&&window.postMessage&&window.addEventListener,L?function(U){return window.setImmediate(U)}:q?(D=[],window.addEventListener("message",function(U){var V=U.source;V!==window&&V!==null||U.data!=="process-tick"||(U.stopPropagation(),0<D.length&&D.shift()())},!0),function(U){D.push(U),window.postMessage("process-tick","*")}):function(U){setTimeout(U,0)}),T.title="browser",T.browser=!0,T.env={},T.argv=[],T.on=M,T.addListener=M,T.once=M,T.off=M,T.removeListener=M,T.removeAllListeners=M,T.emit=M,T.binding=function(U){throw new Error("process.binding is not supported")},T.cwd=function(){return"/"},T.chdir=function(U){throw new Error("process.chdir is not supported")}}).call(this,d("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(object_hash)),object_hash.exports}var src$9={exports:{}},indexLight={exports:{}},indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=c;function c(u,d){for(var y=new Array(arguments.length-1),O=0,T=2,E=!0;T<arguments.length;)y[O++]=arguments[T++];return new Promise(function(p,g){y[O]=function(R){if(E)if(E=!1,R)g(R);else{for(var C=new Array(arguments.length-1),N=0;N<C.length;)C[N++]=arguments[N];p.apply(null,C)}};try{u.apply(d||null,y)}catch(w){E&&(E=!1,g(w))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(c){var u=c;u.length=function(v){var p=v.length;if(!p)return 0;for(var g=0;--p%4>1&&v.charAt(p)==="=";)++g;return Math.ceil(v.length*3)/4-g};for(var d=new Array(64),y=new Array(123),O=0;O<64;)y[d[O]=O<26?O+65:O<52?O+71:O<62?O-4:O-59|43]=O++;u.encode=function(v,p,g){for(var w=null,R=[],C=0,N=0,D;p<g;){var L=v[p++];switch(N){case 0:R[C++]=d[L>>2],D=(L&3)<<4,N=1;break;case 1:R[C++]=d[D|L>>4],D=(L&15)<<2,N=2;break;case 2:R[C++]=d[D|L>>6],R[C++]=d[L&63],N=0;break}C>8191&&((w||(w=[])).push(String.fromCharCode.apply(String,R)),C=0)}return N&&(R[C++]=d[D],R[C++]=61,N===1&&(R[C++]=61)),w?(C&&w.push(String.fromCharCode.apply(String,R.slice(0,C))),w.join("")):String.fromCharCode.apply(String,R.slice(0,C))};var T="invalid encoding";u.decode=function(v,p,g){for(var w=g,R=0,C,N=0;N<v.length;){var D=v.charCodeAt(N++);if(D===61&&R>1)break;if((D=y[D])===void 0)throw Error(T);switch(R){case 0:C=D,R=1;break;case 1:p[g++]=C<<2|(D&48)>>4,C=D,R=2;break;case 2:p[g++]=(C&15)<<4|(D&60)>>2,C=D,R=3;break;case 3:p[g++]=(C&3)<<6|D,R=0;break}}if(R===1)throw Error(T);return g-w},u.test=function(v){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(v)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=c;function c(){this._listeners={}}return c.prototype.on=function(d,y,O){return(this._listeners[d]||(this._listeners[d]=[])).push({fn:y,ctx:O||this}),this},c.prototype.off=function(d,y){if(d===void 0)this._listeners={};else if(y===void 0)this._listeners[d]=[];else for(var O=this._listeners[d],T=0;T<O.length;)O[T].fn===y?O.splice(T,1):++T;return this},c.prototype.emit=function(d){var y=this._listeners[d];if(y){for(var O=[],T=1;T<arguments.length;)O.push(arguments[T++]);for(T=0;T<y.length;)y[T].fn.apply(y[T++].ctx,O)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=c(c);function c(T){return typeof Float32Array<"u"?(function(){var E=new Float32Array([-0]),v=new Uint8Array(E.buffer),p=v[3]===128;function g(N,D,L){E[0]=N,D[L]=v[0],D[L+1]=v[1],D[L+2]=v[2],D[L+3]=v[3]}function w(N,D,L){E[0]=N,D[L]=v[3],D[L+1]=v[2],D[L+2]=v[1],D[L+3]=v[0]}T.writeFloatLE=p?g:w,T.writeFloatBE=p?w:g;function R(N,D){return v[0]=N[D],v[1]=N[D+1],v[2]=N[D+2],v[3]=N[D+3],E[0]}function C(N,D){return v[3]=N[D],v[2]=N[D+1],v[1]=N[D+2],v[0]=N[D+3],E[0]}T.readFloatLE=p?R:C,T.readFloatBE=p?C:R})():(function(){function E(p,g,w,R){var C=g<0?1:0;if(C&&(g=-g),g===0)p(1/g>0?0:2147483648,w,R);else if(isNaN(g))p(2143289344,w,R);else if(g>34028234663852886e22)p((C<<31|2139095040)>>>0,w,R);else if(g<11754943508222875e-54)p((C<<31|Math.round(g/1401298464324817e-60))>>>0,w,R);else{var N=Math.floor(Math.log(g)/Math.LN2),D=Math.round(g*Math.pow(2,-N)*8388608)&8388607;p((C<<31|N+127<<23|D)>>>0,w,R)}}T.writeFloatLE=E.bind(null,u),T.writeFloatBE=E.bind(null,d);function v(p,g,w){var R=p(g,w),C=(R>>31)*2+1,N=R>>>23&255,D=R&8388607;return N===255?D?NaN:C*(1/0):N===0?C*1401298464324817e-60*D:C*Math.pow(2,N-150)*(D+8388608)}T.readFloatLE=v.bind(null,y),T.readFloatBE=v.bind(null,O)})(),typeof Float64Array<"u"?(function(){var E=new Float64Array([-0]),v=new Uint8Array(E.buffer),p=v[7]===128;function g(N,D,L){E[0]=N,D[L]=v[0],D[L+1]=v[1],D[L+2]=v[2],D[L+3]=v[3],D[L+4]=v[4],D[L+5]=v[5],D[L+6]=v[6],D[L+7]=v[7]}function w(N,D,L){E[0]=N,D[L]=v[7],D[L+1]=v[6],D[L+2]=v[5],D[L+3]=v[4],D[L+4]=v[3],D[L+5]=v[2],D[L+6]=v[1],D[L+7]=v[0]}T.writeDoubleLE=p?g:w,T.writeDoubleBE=p?w:g;function R(N,D){return v[0]=N[D],v[1]=N[D+1],v[2]=N[D+2],v[3]=N[D+3],v[4]=N[D+4],v[5]=N[D+5],v[6]=N[D+6],v[7]=N[D+7],E[0]}function C(N,D){return v[7]=N[D],v[6]=N[D+1],v[5]=N[D+2],v[4]=N[D+3],v[3]=N[D+4],v[2]=N[D+5],v[1]=N[D+6],v[0]=N[D+7],E[0]}T.readDoubleLE=p?R:C,T.readDoubleBE=p?C:R})():(function(){function E(p,g,w,R,C,N){var D=R<0?1:0;if(D&&(R=-R),R===0)p(0,C,N+g),p(1/R>0?0:2147483648,C,N+w);else if(isNaN(R))p(0,C,N+g),p(2146959360,C,N+w);else if(R>17976931348623157e292)p(0,C,N+g),p((D<<31|2146435072)>>>0,C,N+w);else{var L;if(R<22250738585072014e-324)L=R/5e-324,p(L>>>0,C,N+g),p((D<<31|L/4294967296)>>>0,C,N+w);else{var q=Math.floor(Math.log(R)/Math.LN2);q===1024&&(q=1023),L=R*Math.pow(2,-q),p(L*4503599627370496>>>0,C,N+g),p((D<<31|q+1023<<20|L*1048576&1048575)>>>0,C,N+w)}}}T.writeDoubleLE=E.bind(null,u,0,4),T.writeDoubleBE=E.bind(null,d,4,0);function v(p,g,w,R,C){var N=p(R,C+g),D=p(R,C+w),L=(D>>31)*2+1,q=D>>>20&2047,M=4294967296*(D&1048575)+N;return q===2047?M?NaN:L*(1/0):q===0?L*5e-324*M:L*Math.pow(2,q-1075)*(M+4503599627370496)}T.readDoubleLE=v.bind(null,y,0,4),T.readDoubleBE=v.bind(null,O,4,0)})(),T}function u(T,E,v){E[v]=T&255,E[v+1]=T>>>8&255,E[v+2]=T>>>16&255,E[v+3]=T>>>24}function d(T,E,v){E[v]=T>>>24,E[v+1]=T>>>16&255,E[v+2]=T>>>8&255,E[v+3]=T&255}function y(T,E){return(T[E]|T[E+1]<<8|T[E+2]<<16|T[E+3]<<24)>>>0}function O(T,E){return(T[E]<<24|T[E+1]<<16|T[E+2]<<8|T[E+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(c){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(c){var u=c;u.length=function(y){for(var O=0,T=0,E=0;E<y.length;++E)T=y.charCodeAt(E),T<128?O+=1:T<2048?O+=2:(T&64512)===55296&&(y.charCodeAt(E+1)&64512)===56320?(++E,O+=4):O+=3;return O},u.read=function(y,O,T){var E=T-O;if(E<1)return"";for(var v=null,p=[],g=0,w;O<T;)w=y[O++],w<128?p[g++]=w:w>191&&w<224?p[g++]=(w&31)<<6|y[O++]&63:w>239&&w<365?(w=((w&7)<<18|(y[O++]&63)<<12|(y[O++]&63)<<6|y[O++]&63)-65536,p[g++]=55296+(w>>10),p[g++]=56320+(w&1023)):p[g++]=(w&15)<<12|(y[O++]&63)<<6|y[O++]&63,g>8191&&((v||(v=[])).push(String.fromCharCode.apply(String,p)),g=0);return v?(g&&v.push(String.fromCharCode.apply(String,p.slice(0,g))),v.join("")):String.fromCharCode.apply(String,p.slice(0,g))},u.write=function(y,O,T){for(var E=T,v,p,g=0;g<y.length;++g)v=y.charCodeAt(g),v<128?O[T++]=v:v<2048?(O[T++]=v>>6|192,O[T++]=v&63|128):(v&64512)===55296&&((p=y.charCodeAt(g+1))&64512)===56320?(v=65536+((v&1023)<<10)+(p&1023),++g,O[T++]=v>>18|240,O[T++]=v>>12&63|128,O[T++]=v>>6&63|128,O[T++]=v&63|128):(O[T++]=v>>12|224,O[T++]=v>>6&63|128,O[T++]=v&63|128);return T-E}})(utf8)),utf8}var pool_1,hasRequiredPool$1;function requirePool$1(){if(hasRequiredPool$1)return pool_1;hasRequiredPool$1=1,pool_1=c;function c(u,d,y){var O=y||8192,T=O>>>1,E=null,v=O;return function(g){if(g<1||g>T)return u(g);v+g>O&&(E=u(O),v=0);var w=d.call(E,v,v+=g);return v&7&&(v=(v|7)+1),w}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=u;var c=requireMinimal$1();function u(T,E){this.lo=T>>>0,this.hi=E>>>0}var d=u.zero=new u(0,0);d.toNumber=function(){return 0},d.zzEncode=d.zzDecode=function(){return this},d.length=function(){return 1};var y=u.zeroHash="\0\0\0\0\0\0\0\0";u.fromNumber=function(E){if(E===0)return d;var v=E<0;v&&(E=-E);var p=E>>>0,g=(E-p)/4294967296>>>0;return v&&(g=~g>>>0,p=~p>>>0,++p>4294967295&&(p=0,++g>4294967295&&(g=0))),new u(p,g)},u.from=function(E){if(typeof E=="number")return u.fromNumber(E);if(c.isString(E))if(c.Long)E=c.Long.fromString(E);else return u.fromNumber(parseInt(E,10));return E.low||E.high?new u(E.low>>>0,E.high>>>0):d},u.prototype.toNumber=function(E){if(!E&&this.hi>>>31){var v=~this.lo+1>>>0,p=~this.hi>>>0;return v||(p=p+1>>>0),-(v+p*4294967296)}return this.lo+this.hi*4294967296},u.prototype.toLong=function(E){return c.Long?new c.Long(this.lo|0,this.hi|0,!!E):{low:this.lo|0,high:this.hi|0,unsigned:!!E}};var O=String.prototype.charCodeAt;return u.fromHash=function(E){return E===y?d:new u((O.call(E,0)|O.call(E,1)<<8|O.call(E,2)<<16|O.call(E,3)<<24)>>>0,(O.call(E,4)|O.call(E,5)<<8|O.call(E,6)<<16|O.call(E,7)<<24)>>>0)},u.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},u.prototype.zzEncode=function(){var E=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^E)>>>0,this.lo=(this.lo<<1^E)>>>0,this},u.prototype.zzDecode=function(){var E=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^E)>>>0,this.hi=(this.hi>>>1^E)>>>0,this},u.prototype.length=function(){var E=this.lo,v=(this.lo>>>28|this.hi<<4)>>>0,p=this.hi>>>24;return p===0?v===0?E<16384?E<128?1:2:E<2097152?3:4:v<16384?v<128?5:6:v<2097152?7:8:p<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,(function(c){var u=c;u.asPromise=requireAspromise(),u.base64=requireBase64(),u.EventEmitter=requireEventemitter(),u.float=requireFloat(),u.inquire=requireInquire(),u.utf8=requireUtf8(),u.pool=requirePool$1(),u.LongBits=requireLongbits(),u.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),u.global=u.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,u.emptyArray=Object.freeze?Object.freeze([]):[],u.emptyObject=Object.freeze?Object.freeze({}):{},u.isInteger=Number.isInteger||function(T){return typeof T=="number"&&isFinite(T)&&Math.floor(T)===T},u.isString=function(T){return typeof T=="string"||T instanceof String},u.isObject=function(T){return T&&typeof T=="object"},u.isset=u.isSet=function(T,E){var v=T[E];return v!=null&&T.hasOwnProperty(E)?typeof v!="object"||(Array.isArray(v)?v.length:Object.keys(v).length)>0:!1},u.Buffer=(function(){try{var O=u.inquire("buffer").Buffer;return O.prototype.utf8Write?O:null}catch{return null}})(),u._Buffer_from=null,u._Buffer_allocUnsafe=null,u.newBuffer=function(T){return typeof T=="number"?u.Buffer?u._Buffer_allocUnsafe(T):new u.Array(T):u.Buffer?u._Buffer_from(T):typeof Uint8Array>"u"?T:new Uint8Array(T)},u.Array=typeof Uint8Array<"u"?Uint8Array:Array,u.Long=u.global.dcodeIO&&u.global.dcodeIO.Long||u.global.Long||u.inquire("long"),u.key2Re=/^true|false|0|1$/,u.key32Re=/^-?(?:0|[1-9][0-9]*)$/,u.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,u.longToHash=function(T){return T?u.LongBits.from(T).toHash():u.LongBits.zeroHash},u.longFromHash=function(T,E){var v=u.LongBits.fromHash(T);return u.Long?u.Long.fromBits(v.lo,v.hi,E):v.toNumber(!!E)};function d(O,T,E){for(var v=Object.keys(T),p=0;p<v.length;++p)(O[v[p]]===void 0||!E)&&(O[v[p]]=T[v[p]]);return O}u.merge=d,u.lcFirst=function(T){return T.charAt(0).toLowerCase()+T.substring(1)};function y(O){function T(E,v){if(!(this instanceof T))return new T(E,v);Object.defineProperty(this,"message",{get:function(){return E}}),Error.captureStackTrace?Error.captureStackTrace(this,T):Object.defineProperty(this,"stack",{value:new Error().stack||""}),v&&d(this,v)}return T.prototype=Object.create(Error.prototype,{constructor:{value:T,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return O},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),T}u.newError=y,u.ProtocolError=y("ProtocolError"),u.oneOfGetter=function(T){for(var E={},v=0;v<T.length;++v)E[T[v]]=1;return function(){for(var p=Object.keys(this),g=p.length-1;g>-1;--g)if(E[p[g]]===1&&this[p[g]]!==void 0&&this[p[g]]!==null)return p[g]}},u.oneOfSetter=function(T){return function(E){for(var v=0;v<T.length;++v)T[v]!==E&&delete this[T[v]]}},u.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},u._configure=function(){var O=u.Buffer;if(!O){u._Buffer_from=u._Buffer_allocUnsafe=null;return}u._Buffer_from=O.from!==Uint8Array.from&&O.from||function(E,v){return new O(E,v)},u._Buffer_allocUnsafe=O.allocUnsafe||function(E){return new O(E)}}})(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=p;var c=requireMinimal$1(),u,d=c.LongBits,y=c.base64,O=c.utf8;function T(q,M,U){this.fn=q,this.len=M,this.next=void 0,this.val=U}function E(){}function v(q){this.head=q.head,this.tail=q.tail,this.len=q.len,this.next=q.states}function p(){this.len=0,this.head=new T(E,0,0),this.tail=this.head,this.states=null}var g=function(){return c.Buffer?function(){return(p.create=function(){return new u})()}:function(){return new p}};p.create=g(),p.alloc=function(M){return new c.Array(M)},c.Array!==Array&&(p.alloc=c.pool(p.alloc,c.Array.prototype.subarray)),p.prototype._push=function(M,U,V){return this.tail=this.tail.next=new T(M,U,V),this.len+=U,this};function w(q,M,U){M[U]=q&255}function R(q,M,U){for(;q>127;)M[U++]=q&127|128,q>>>=7;M[U]=q}function C(q,M){this.len=q,this.next=void 0,this.val=M}C.prototype=Object.create(T.prototype),C.prototype.fn=R,p.prototype.uint32=function(M){return this.len+=(this.tail=this.tail.next=new C((M=M>>>0)<128?1:M<16384?2:M<2097152?3:M<268435456?4:5,M)).len,this},p.prototype.int32=function(M){return M<0?this._push(N,10,d.fromNumber(M)):this.uint32(M)},p.prototype.sint32=function(M){return this.uint32((M<<1^M>>31)>>>0)};function N(q,M,U){for(;q.hi;)M[U++]=q.lo&127|128,q.lo=(q.lo>>>7|q.hi<<25)>>>0,q.hi>>>=7;for(;q.lo>127;)M[U++]=q.lo&127|128,q.lo=q.lo>>>7;M[U++]=q.lo}p.prototype.uint64=function(M){var U=d.from(M);return this._push(N,U.length(),U)},p.prototype.int64=p.prototype.uint64,p.prototype.sint64=function(M){var U=d.from(M).zzEncode();return this._push(N,U.length(),U)},p.prototype.bool=function(M){return this._push(w,1,M?1:0)};function D(q,M,U){M[U]=q&255,M[U+1]=q>>>8&255,M[U+2]=q>>>16&255,M[U+3]=q>>>24}p.prototype.fixed32=function(M){return this._push(D,4,M>>>0)},p.prototype.sfixed32=p.prototype.fixed32,p.prototype.fixed64=function(M){var U=d.from(M);return this._push(D,4,U.lo)._push(D,4,U.hi)},p.prototype.sfixed64=p.prototype.fixed64,p.prototype.float=function(M){return this._push(c.float.writeFloatLE,4,M)},p.prototype.double=function(M){return this._push(c.float.writeDoubleLE,8,M)};var L=c.Array.prototype.set?function(M,U,V){U.set(M,V)}:function(M,U,V){for(var $=0;$<M.length;++$)U[V+$]=M[$]};return p.prototype.bytes=function(M){var U=M.length>>>0;if(!U)return this._push(w,1,0);if(c.isString(M)){var V=p.alloc(U=y.length(M));y.decode(M,V,0),M=V}return this.uint32(U)._push(L,U,M)},p.prototype.string=function(M){var U=O.length(M);return U?this.uint32(U)._push(O.write,U,M):this._push(w,1,0)},p.prototype.fork=function(){return this.states=new v(this),this.head=this.tail=new T(E,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new T(E,0,0),this.len=0),this},p.prototype.ldelim=function(){var M=this.head,U=this.tail,V=this.len;return this.reset().uint32(V),V&&(this.tail.next=M.next,this.tail=U,this.len+=V),this},p.prototype.finish=function(){for(var M=this.head.next,U=this.constructor.alloc(this.len),V=0;M;)M.fn(M.val,U,V),V+=M.len,M=M.next;return U},p._configure=function(q){u=q,p.create=g(),u._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=d;var c=requireWriter();(d.prototype=Object.create(c.prototype)).constructor=d;var u=requireMinimal$1();function d(){c.call(this)}d._configure=function(){d.alloc=u._Buffer_allocUnsafe,d.writeBytesBuffer=u.Buffer&&u.Buffer.prototype instanceof Uint8Array&&u.Buffer.prototype.set.name==="set"?function(T,E,v){E.set(T,v)}:function(T,E,v){if(T.copy)T.copy(E,v,0,T.length);else for(var p=0;p<T.length;)E[v++]=T[p++]}},d.prototype.bytes=function(T){u.isString(T)&&(T=u._Buffer_from(T,"base64"));var E=T.length>>>0;return this.uint32(E),E&&this._push(d.writeBytesBuffer,E,T),this};function y(O,T,E){O.length<40?u.utf8.write(O,T,E):T.utf8Write?T.utf8Write(O,E):T.write(O,E)}return d.prototype.string=function(T){var E=u.Buffer.byteLength(T);return this.uint32(E),E&&this._push(y,E,T),this},d._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=T;var c=requireMinimal$1(),u,d=c.LongBits,y=c.utf8;function O(R,C){return RangeError("index out of range: "+R.pos+" + "+(C||1)+" > "+R.len)}function T(R){this.buf=R,this.pos=0,this.len=R.length}var E=typeof Uint8Array<"u"?function(C){if(C instanceof Uint8Array||Array.isArray(C))return new T(C);throw Error("illegal buffer")}:function(C){if(Array.isArray(C))return new T(C);throw Error("illegal buffer")},v=function(){return c.Buffer?function(N){return(T.create=function(L){return c.Buffer.isBuffer(L)?new u(L):E(L)})(N)}:E};T.create=v(),T.prototype._slice=c.Array.prototype.subarray||c.Array.prototype.slice,T.prototype.uint32=(function(){var C=4294967295;return function(){if(C=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(C=(C|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(C=(C|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(C=(C|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(C=(C|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return C;if((this.pos+=5)>this.len)throw this.pos=this.len,O(this,10);return C}})(),T.prototype.int32=function(){return this.uint32()|0},T.prototype.sint32=function(){var C=this.uint32();return C>>>1^-(C&1)|0};function p(){var R=new d(0,0),C=0;if(this.len-this.pos>4){for(;C<4;++C)if(R.lo=(R.lo|(this.buf[this.pos]&127)<<C*7)>>>0,this.buf[this.pos++]<128)return R;if(R.lo=(R.lo|(this.buf[this.pos]&127)<<28)>>>0,R.hi=(R.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return R;C=0}else{for(;C<3;++C){if(this.pos>=this.len)throw O(this);if(R.lo=(R.lo|(this.buf[this.pos]&127)<<C*7)>>>0,this.buf[this.pos++]<128)return R}return R.lo=(R.lo|(this.buf[this.pos++]&127)<<C*7)>>>0,R}if(this.len-this.pos>4){for(;C<5;++C)if(R.hi=(R.hi|(this.buf[this.pos]&127)<<C*7+3)>>>0,this.buf[this.pos++]<128)return R}else for(;C<5;++C){if(this.pos>=this.len)throw O(this);if(R.hi=(R.hi|(this.buf[this.pos]&127)<<C*7+3)>>>0,this.buf[this.pos++]<128)return R}throw Error("invalid varint encoding")}T.prototype.bool=function(){return this.uint32()!==0};function g(R,C){return(R[C-4]|R[C-3]<<8|R[C-2]<<16|R[C-1]<<24)>>>0}T.prototype.fixed32=function(){if(this.pos+4>this.len)throw O(this,4);return g(this.buf,this.pos+=4)},T.prototype.sfixed32=function(){if(this.pos+4>this.len)throw O(this,4);return g(this.buf,this.pos+=4)|0};function w(){if(this.pos+8>this.len)throw O(this,8);return new d(g(this.buf,this.pos+=4),g(this.buf,this.pos+=4))}return T.prototype.float=function(){if(this.pos+4>this.len)throw O(this,4);var C=c.float.readFloatLE(this.buf,this.pos);return this.pos+=4,C},T.prototype.double=function(){if(this.pos+8>this.len)throw O(this,4);var C=c.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,C},T.prototype.bytes=function(){var C=this.uint32(),N=this.pos,D=this.pos+C;if(D>this.len)throw O(this,C);if(this.pos+=C,Array.isArray(this.buf))return this.buf.slice(N,D);if(N===D){var L=c.Buffer;return L?L.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,N,D)},T.prototype.string=function(){var C=this.bytes();return y.read(C,0,C.length)},T.prototype.skip=function(C){if(typeof C=="number"){if(this.pos+C>this.len)throw O(this,C);this.pos+=C}else do if(this.pos>=this.len)throw O(this);while(this.buf[this.pos++]&128);return this},T.prototype.skipType=function(R){switch(R){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(R=this.uint32()&7)!==4;)this.skipType(R);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+R+" at offset "+this.pos)}return this},T._configure=function(R){u=R,T.create=v(),u._configure();var C=c.Long?"toLong":"toNumber";c.merge(T.prototype,{int64:function(){return p.call(this)[C](!1)},uint64:function(){return p.call(this)[C](!0)},sint64:function(){return p.call(this).zzDecode()[C](!1)},fixed64:function(){return w.call(this)[C](!0)},sfixed64:function(){return w.call(this)[C](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=d;var c=requireReader();(d.prototype=Object.create(c.prototype)).constructor=d;var u=requireMinimal$1();function d(y){c.call(this,y)}return d._configure=function(){u.Buffer&&(d.prototype._slice=u.Buffer.prototype.slice)},d.prototype.string=function(){var O=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+O,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+O,this.len))},d._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=u;var c=requireMinimal$1();(u.prototype=Object.create(c.EventEmitter.prototype)).constructor=u;function u(d,y,O){if(typeof d!="function")throw TypeError("rpcImpl must be a function");c.EventEmitter.call(this),this.rpcImpl=d,this.requestDelimited=!!y,this.responseDelimited=!!O}return u.prototype.rpcCall=function d(y,O,T,E,v){if(!E)throw TypeError("request must be specified");var p=this;if(!v)return c.asPromise(d,p,y,O,T,E);if(!p.rpcImpl){setTimeout(function(){v(Error("already ended"))},0);return}try{return p.rpcImpl(y,O[p.requestDelimited?"encodeDelimited":"encode"](E).finish(),function(w,R){if(w)return p.emit("error",w,y),v(w);if(R===null){p.end(!0);return}if(!(R instanceof T))try{R=T[p.responseDelimited?"decodeDelimited":"decode"](R)}catch(C){return p.emit("error",C,y),v(C)}return p.emit("data",R,y),v(null,R)})}catch(g){p.emit("error",g,y),setTimeout(function(){v(g)},0);return}},u.prototype.end=function(y){return this.rpcImpl&&(y||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(c){var u=c;u.Service=requireService$1()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(c){var u=c;u.build="minimal",u.Writer=requireWriter(),u.BufferWriter=requireWriter_buffer(),u.Reader=requireReader(),u.BufferReader=requireReader_buffer(),u.util=requireMinimal$1(),u.rpc=requireRpc(),u.roots=requireRoots(),u.configure=d;function d(){u.util._configure(),u.Writer._configure(u.BufferWriter),u.Reader._configure(u.BufferReader)}d()})(indexMinimal)),indexMinimal}var types$4={},util$5={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=c;function c(u,d){typeof u=="string"&&(d=u,u=void 0);var y=[];function O(E){if(typeof E!="string"){var v=T();if(c.verbose&&console.log("codegen: "+v),v="return "+v,E){for(var p=Object.keys(E),g=new Array(p.length+1),w=new Array(p.length),R=0;R<p.length;)g[R]=p[R],w[R]=E[p[R++]];return g[R]=v,Function.apply(null,g).apply(null,w)}return Function(v)()}for(var C=new Array(arguments.length-1),N=0;N<C.length;)C[N]=arguments[++N];if(N=0,E=E.replace(/%([%dfijs])/g,function(L,q){var M=C[N++];switch(q){case"d":case"f":return String(Number(M));case"i":return String(Math.floor(M));case"j":return JSON.stringify(M);case"s":return String(M)}return"%"}),N!==C.length)throw Error("parameter count mismatch");return y.push(E),O}function T(E){return"function "+(E||d||"")+"("+(u&&u.join(",")||"")+`){
  `+y.join(`
  `)+`
}`}return O.toString=T,O}return c.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=y;var c=requireAspromise(),u=requireInquire(),d=u("fs");function y(O,T,E){return typeof T=="function"?(E=T,T={}):T||(T={}),E?!T.xhr&&d&&d.readFile?d.readFile(O,function(p,g){return p&&typeof XMLHttpRequest<"u"?y.xhr(O,T,E):p?E(p):E(null,T.binary?g:g.toString("utf8"))}):y.xhr(O,T,E):c(y,this,O,T)}return y.xhr=function(T,E,v){var p=new XMLHttpRequest;p.onreadystatechange=function(){if(p.readyState===4){if(p.status!==0&&p.status!==200)return v(Error("status "+p.status));if(E.binary){var w=p.response;if(!w){w=[];for(var R=0;R<p.responseText.length;++R)w.push(p.responseText.charCodeAt(R)&255)}return v(null,typeof Uint8Array<"u"?new Uint8Array(w):w)}return v(null,p.responseText)}},E.binary&&("overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),p.responseType="arraybuffer"),p.open("GET",T),p.send()},fetch_1}var path$1={},hasRequiredPath$1;function requirePath$1(){return hasRequiredPath$1||(hasRequiredPath$1=1,(function(c){var u=c,d=u.isAbsolute=function(T){return/^(?:\/|\w+:)/.test(T)},y=u.normalize=function(T){T=T.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var E=T.split("/"),v=d(T),p="";v&&(p=E.shift()+"/");for(var g=0;g<E.length;)E[g]===".."?g>0&&E[g-1]!==".."?E.splice(--g,2):v?E.splice(g,1):++g:E[g]==="."?E.splice(g,1):++g;return p+E.join("/")};u.resolve=function(T,E,v){return v||(E=y(E)),d(E)?E:(v||(T=y(T)),(T=T.replace(/(?:\/|^)[^/]+$/,"")).length?y(T+"/"+E):E)}})(path$1)),path$1}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=p;var c=requireObject();((p.prototype=Object.create(c.prototype)).constructor=p).className="Namespace";var u=requireField(),d=requireUtil$6(),y=requireOneof(),O,T,E;p.fromJSON=function(R,C){return new p(R,C.options).addJSON(C.nested)};function v(w,R){if(w&&w.length){for(var C={},N=0;N<w.length;++N)C[w[N].name]=w[N].toJSON(R);return C}}p.arrayToJSON=v,p.isReservedId=function(R,C){if(R){for(var N=0;N<R.length;++N)if(typeof R[N]!="string"&&R[N][0]<=C&&R[N][1]>C)return!0}return!1},p.isReservedName=function(R,C){if(R){for(var N=0;N<R.length;++N)if(R[N]===C)return!0}return!1};function p(w,R){c.call(this,w,R),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function g(w){w._nestedArray=null,w._lookupCache={};for(var R=w;R=R.parent;)R._lookupCache={};return w}return Object.defineProperty(p.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=d.toArray(this.nested))}}),p.prototype.toJSON=function(R){return d.toObject(["options",this.options,"nested",v(this.nestedArray,R)])},p.prototype.addJSON=function(R){var C=this;if(R)for(var N=Object.keys(R),D=0,L;D<N.length;++D)L=R[N[D]],C.add((L.fields!==void 0?O.fromJSON:L.values!==void 0?E.fromJSON:L.methods!==void 0?T.fromJSON:L.id!==void 0?u.fromJSON:p.fromJSON)(N[D],L));return this},p.prototype.get=function(R){return this.nested&&this.nested[R]||null},p.prototype.getEnum=function(R){if(this.nested&&this.nested[R]instanceof E)return this.nested[R].values;throw Error("no such enum: "+R)},p.prototype.add=function(R){if(!(R instanceof u&&R.extend!==void 0||R instanceof O||R instanceof y||R instanceof E||R instanceof T||R instanceof p))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var C=this.get(R.name);if(C)if(C instanceof p&&R instanceof p&&!(C instanceof O||C instanceof T)){for(var N=C.nestedArray,D=0;D<N.length;++D)R.add(N[D]);this.remove(C),this.nested||(this.nested={}),R.setOptions(C.options,!0)}else throw Error("duplicate name '"+R.name+"' in "+this)}this.nested[R.name]=R,this instanceof O||this instanceof T||this instanceof E||this instanceof u||R._edition||(R._edition=R._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var L=this;L=L.parent;)L._needsRecursiveFeatureResolution=!0,L._needsRecursiveResolve=!0;return R.onAdd(this),g(this)},p.prototype.remove=function(R){if(!(R instanceof c))throw TypeError("object must be a ReflectionObject");if(R.parent!==this)throw Error(R+" is not a member of "+this);return delete this.nested[R.name],Object.keys(this.nested).length||(this.nested=void 0),R.onRemove(this),g(this)},p.prototype.define=function(R,C){if(d.isString(R))R=R.split(".");else if(!Array.isArray(R))throw TypeError("illegal path");if(R&&R.length&&R[0]==="")throw Error("path must be relative");for(var N=this;R.length>0;){var D=R.shift();if(N.nested&&N.nested[D]){if(N=N.nested[D],!(N instanceof p))throw Error("path conflicts with non-namespace objects")}else N.add(N=new p(D))}return C&&N.addJSON(C),N},p.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var R=this.nestedArray,C=0;for(this.resolve();C<R.length;)R[C]instanceof p?R[C++].resolveAll():R[C++].resolve();return this._needsRecursiveResolve=!1,this},p.prototype._resolveFeaturesRecursive=function(R){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,R=this._edition||R,c.prototype._resolveFeaturesRecursive.call(this,R),this.nestedArray.forEach(C=>{C._resolveFeaturesRecursive(R)}),this):this},p.prototype.lookup=function(R,C,N){if(typeof C=="boolean"?(N=C,C=void 0):C&&!Array.isArray(C)&&(C=[C]),d.isString(R)&&R.length){if(R===".")return this.root;R=R.split(".")}else if(!R.length)return this;var D=R.join(".");if(R[0]==="")return this.root.lookup(R.slice(1),C);var L=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+D];if(L&&(!C||C.indexOf(L.constructor)>-1)||(L=this._lookupImpl(R,D),L&&(!C||C.indexOf(L.constructor)>-1)))return L;if(N)return null;for(var q=this;q.parent;){if(L=q.parent._lookupImpl(R,D),L&&(!C||C.indexOf(L.constructor)>-1))return L;q=q.parent}return null},p.prototype._lookupImpl=function(R,C){if(Object.prototype.hasOwnProperty.call(this._lookupCache,C))return this._lookupCache[C];var N=this.get(R[0]),D=null;if(N)R.length===1?D=N:N instanceof p&&(R=R.slice(1),D=N._lookupImpl(R,R.join(".")));else for(var L=0;L<this.nestedArray.length;++L)this._nestedArray[L]instanceof p&&(N=this._nestedArray[L]._lookupImpl(R,C))&&(D=N);return this._lookupCache[C]=D,D},p.prototype.lookupType=function(R){var C=this.lookup(R,[O]);if(!C)throw Error("no such type: "+R);return C},p.prototype.lookupEnum=function(R){var C=this.lookup(R,[E]);if(!C)throw Error("no such Enum '"+R+"' in "+this);return C},p.prototype.lookupTypeOrEnum=function(R){var C=this.lookup(R,[O,E]);if(!C)throw Error("no such Type or Enum '"+R+"' in "+this);return C},p.prototype.lookupService=function(R){var C=this.lookup(R,[T]);if(!C)throw Error("no such Service '"+R+"' in "+this);return C},p._configure=function(w,R,C){O=w,T=R,E=C},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=y;var c=requireField();((y.prototype=Object.create(c.prototype)).constructor=y).className="MapField";var u=requireTypes$2(),d=requireUtil$6();function y(O,T,E,v,p,g){if(c.call(this,O,T,v,void 0,void 0,p,g),!d.isString(E))throw TypeError("keyType must be a string");this.keyType=E,this.resolvedKeyType=null,this.map=!0}return y.fromJSON=function(T,E){return new y(T,E.id,E.keyType,E.type,E.options,E.comment)},y.prototype.toJSON=function(T){var E=T?!!T.keepComments:!1;return d.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",E?this.comment:void 0])},y.prototype.resolve=function(){if(this.resolved)return this;if(u.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return c.prototype.resolve.call(this)},y.d=function(T,E,v){return typeof v=="function"?v=d.decorateType(v).name:v&&typeof v=="object"&&(v=d.decorateEnum(v).name),function(g,w){d.decorateType(g.constructor).add(new y(w,T,E,v))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=d;var c=requireObject();((d.prototype=Object.create(c.prototype)).constructor=d).className="Method";var u=requireUtil$6();function d(y,O,T,E,v,p,g,w,R){if(u.isObject(v)?(g=v,v=p=void 0):u.isObject(p)&&(g=p,p=void 0),!(O===void 0||u.isString(O)))throw TypeError("type must be a string");if(!u.isString(T))throw TypeError("requestType must be a string");if(!u.isString(E))throw TypeError("responseType must be a string");c.call(this,y,g),this.type=O||"rpc",this.requestType=T,this.requestStream=v?!0:void 0,this.responseType=E,this.responseStream=p?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=w,this.parsedOptions=R}return d.fromJSON=function(O,T){return new d(O,T.type,T.requestType,T.responseType,T.requestStream,T.responseStream,T.options,T.comment,T.parsedOptions)},d.prototype.toJSON=function(O){var T=O?!!O.keepComments:!1;return u.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",T?this.comment:void 0,"parsedOptions",this.parsedOptions])},d.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),c.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=O;var c=requireNamespace();((O.prototype=Object.create(c.prototype)).constructor=O).className="Service";var u=requireMethod(),d=requireUtil$6(),y=requireRpc();function O(E,v){c.call(this,E,v),this.methods={},this._methodsArray=null}O.fromJSON=function(v,p){var g=new O(v,p.options);if(p.methods)for(var w=Object.keys(p.methods),R=0;R<w.length;++R)g.add(u.fromJSON(w[R],p.methods[w[R]]));return p.nested&&g.addJSON(p.nested),p.edition&&(g._edition=p.edition),g.comment=p.comment,g._defaultEdition="proto3",g},O.prototype.toJSON=function(v){var p=c.prototype.toJSON.call(this,v),g=v?!!v.keepComments:!1;return d.toObject(["edition",this._editionToJSON(),"options",p&&p.options||void 0,"methods",c.arrayToJSON(this.methodsArray,v)||{},"nested",p&&p.nested||void 0,"comment",g?this.comment:void 0])},Object.defineProperty(O.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=d.toArray(this.methods))}});function T(E){return E._methodsArray=null,E}return O.prototype.get=function(v){return this.methods[v]||c.prototype.get.call(this,v)},O.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;c.prototype.resolve.call(this);for(var v=this.methodsArray,p=0;p<v.length;++p)v[p].resolve();return this},O.prototype._resolveFeaturesRecursive=function(v){return this._needsRecursiveFeatureResolution?(v=this._edition||v,c.prototype._resolveFeaturesRecursive.call(this,v),this.methodsArray.forEach(p=>{p._resolveFeaturesRecursive(v)}),this):this},O.prototype.add=function(v){if(this.get(v.name))throw Error("duplicate name '"+v.name+"' in "+this);return v instanceof u?(this.methods[v.name]=v,v.parent=this,T(this)):c.prototype.add.call(this,v)},O.prototype.remove=function(v){if(v instanceof u){if(this.methods[v.name]!==v)throw Error(v+" is not a member of "+this);return delete this.methods[v.name],v.parent=null,T(this)}return c.prototype.remove.call(this,v)},O.prototype.create=function(v,p,g){for(var w=new y.Service(v,p,g),R=0,C;R<this.methodsArray.length;++R){var N=d.lcFirst((C=this._methodsArray[R]).resolve().name).replace(/[^$\w_]/g,"");w[N]=d.codegen(["r","c"],d.isReserved(N)?N+"_":N)("return this.rpcCall(m,q,s,r,c)")({m:C,q:C.resolvedRequestType.ctor,s:C.resolvedResponseType.ctor})}return w},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=u;var c=requireMinimal$1();function u(d){if(d)for(var y=Object.keys(d),O=0;O<y.length;++O)this[y[O]]=d[y[O]]}return u.create=function(y){return this.$type.create(y)},u.encode=function(y,O){return this.$type.encode(y,O)},u.encodeDelimited=function(y,O){return this.$type.encodeDelimited(y,O)},u.decode=function(y){return this.$type.decode(y)},u.decodeDelimited=function(y){return this.$type.decodeDelimited(y)},u.verify=function(y){return this.$type.verify(y)},u.fromObject=function(y){return this.$type.fromObject(y)},u.toObject=function(y,O){return this.$type.toObject(y,O)},u.prototype.toJSON=function(){return this.$type.toObject(this,c.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=O;var c=require_enum$1(),u=requireTypes$2(),d=requireUtil$6();function y(T){return"missing required '"+T.name+"'"}function O(T){for(var E=d.codegen(["r","l","e"],T.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(T.fieldsArray.filter(function(C){return C.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),v=0;v<T.fieldsArray.length;++v){var p=T._fieldsArray[v].resolve(),g=p.resolvedType instanceof c?"int32":p.type,w="m"+d.safeProp(p.name);E("case %i: {",p.id),p.map?(E("if(%s===util.emptyObject)",w)("%s={}",w)("var c2 = r.uint32()+r.pos"),u.defaults[p.keyType]!==void 0?E("k=%j",u.defaults[p.keyType]):E("k=null"),u.defaults[g]!==void 0?E("value=%j",u.defaults[g]):E("value=null"),E("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",p.keyType)("case 2:"),u.basic[g]===void 0?E("value=types[%i].decode(r,r.uint32())",v):E("value=r.%s()",g),E("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),u.long[p.keyType]!==void 0?E('%s[typeof k==="object"?util.longToHash(k):k]=value',w):E("%s[k]=value",w)):p.repeated?(E("if(!(%s&&%s.length))",w,w)("%s=[]",w),u.packed[g]!==void 0&&E("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",w,g)("}else"),u.basic[g]===void 0?E(p.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",w,v):E("%s.push(r.%s())",w,g)):u.basic[g]===void 0?E(p.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",w,v):E("%s=r.%s()",w,g),E("break")("}")}for(E("default:")("r.skipType(t&7)")("break")("}")("}"),v=0;v<T._fieldsArray.length;++v){var R=T._fieldsArray[v];R.required&&E("if(!m.hasOwnProperty(%j))",R.name)("throw util.ProtocolError(%j,{instance:m})",y(R))}return E("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=T;var c=require_enum$1(),u=requireUtil$6();function d(E,v){return E.name+": "+v+(E.repeated&&v!=="array"?"[]":E.map&&v!=="object"?"{k:"+E.keyType+"}":"")+" expected"}function y(E,v,p,g){if(v.resolvedType)if(v.resolvedType instanceof c){E("switch(%s){",g)("default:")("return%j",d(v,"enum value"));for(var w=Object.keys(v.resolvedType.values),R=0;R<w.length;++R)E("case %i:",v.resolvedType.values[w[R]]);E("break")("}")}else E("{")("var e=types[%i].verify(%s);",p,g)("if(e)")("return%j+e",v.name+".")("}");else switch(v.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":E("if(!util.isInteger(%s))",g)("return%j",d(v,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":E("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",g,g,g,g)("return%j",d(v,"integer|Long"));break;case"float":case"double":E('if(typeof %s!=="number")',g)("return%j",d(v,"number"));break;case"bool":E('if(typeof %s!=="boolean")',g)("return%j",d(v,"boolean"));break;case"string":E("if(!util.isString(%s))",g)("return%j",d(v,"string"));break;case"bytes":E('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',g,g,g)("return%j",d(v,"buffer"));break}return E}function O(E,v,p){switch(v.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":E("if(!util.key32Re.test(%s))",p)("return%j",d(v,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":E("if(!util.key64Re.test(%s))",p)("return%j",d(v,"integer|Long key"));break;case"bool":E("if(!util.key2Re.test(%s))",p)("return%j",d(v,"boolean key"));break}return E}function T(E){var v=u.codegen(["m"],E.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),p=E.oneofsArray,g={};p.length&&v("var p={}");for(var w=0;w<E.fieldsArray.length;++w){var R=E._fieldsArray[w].resolve(),C="m"+u.safeProp(R.name);if(R.optional&&v("if(%s!=null&&m.hasOwnProperty(%j)){",C,R.name),R.map)v("if(!util.isObject(%s))",C)("return%j",d(R,"object"))("var k=Object.keys(%s)",C)("for(var i=0;i<k.length;++i){"),O(v,R,"k[i]"),y(v,R,w,C+"[k[i]]")("}");else if(R.repeated)v("if(!Array.isArray(%s))",C)("return%j",d(R,"array"))("for(var i=0;i<%s.length;++i){",C),y(v,R,w,C+"[i]")("}");else{if(R.partOf){var N=u.safeProp(R.partOf.name);g[R.partOf.name]===1&&v("if(p%s===1)",N)("return%j",R.partOf.name+": multiple values"),g[R.partOf.name]=1,v("p%s=1",N)}y(v,R,w,C)}R.optional&&v("}")}return v("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,(function(c){var u=c,d=require_enum$1(),y=requireUtil$6();function O(E,v,p,g){var w=!1;if(v.resolvedType)if(v.resolvedType instanceof d){E("switch(d%s){",g);for(var R=v.resolvedType.values,C=Object.keys(R),N=0;N<C.length;++N)R[C[N]]===v.typeDefault&&!w&&(E("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',g,g,g),v.repeated||E("break"),w=!0),E("case%j:",C[N])("case %i:",R[C[N]])("m%s=%j",g,R[C[N]])("break");E("}")}else E('if(typeof d%s!=="object")',g)("throw TypeError(%j)",v.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",g,p,g);else{var D=!1;switch(v.type){case"double":case"float":E("m%s=Number(d%s)",g,g);break;case"uint32":case"fixed32":E("m%s=d%s>>>0",g,g);break;case"int32":case"sint32":case"sfixed32":E("m%s=d%s|0",g,g);break;case"uint64":D=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":E("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",g,g,D)('else if(typeof d%s==="string")',g)("m%s=parseInt(d%s,10)",g,g)('else if(typeof d%s==="number")',g)("m%s=d%s",g,g)('else if(typeof d%s==="object")',g)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",g,g,g,D?"true":"");break;case"bytes":E('if(typeof d%s==="string")',g)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",g,g,g)("else if(d%s.length >= 0)",g)("m%s=d%s",g,g);break;case"string":E("m%s=String(d%s)",g,g);break;case"bool":E("m%s=Boolean(d%s)",g,g);break}}return E}u.fromObject=function(v){var p=v.fieldsArray,g=y.codegen(["d"],v.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!p.length)return g("return new this.ctor");g("var m=new this.ctor");for(var w=0;w<p.length;++w){var R=p[w].resolve(),C=y.safeProp(R.name);R.map?(g("if(d%s){",C)('if(typeof d%s!=="object")',C)("throw TypeError(%j)",R.fullName+": object expected")("m%s={}",C)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",C),O(g,R,w,C+"[ks[i]]")("}")("}")):R.repeated?(g("if(d%s){",C)("if(!Array.isArray(d%s))",C)("throw TypeError(%j)",R.fullName+": array expected")("m%s=[]",C)("for(var i=0;i<d%s.length;++i){",C),O(g,R,w,C+"[i]")("}")("}")):(R.resolvedType instanceof d||g("if(d%s!=null){",C),O(g,R,w,C),R.resolvedType instanceof d||g("}"))}return g("return m")};function T(E,v,p,g){if(v.resolvedType)v.resolvedType instanceof d?E("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",g,p,g,g,p,g,g):E("d%s=types[%i].toObject(m%s,o)",g,p,g);else{var w=!1;switch(v.type){case"double":case"float":E("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",g,g,g,g);break;case"uint64":w=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":E('if(typeof m%s==="number")',g)("d%s=o.longs===String?String(m%s):m%s",g,g,g)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",g,g,g,g,w?"true":"",g);break;case"bytes":E("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",g,g,g,g,g);break;default:E("d%s=m%s",g,g);break}}return E}u.toObject=function(v){var p=v.fieldsArray.slice().sort(y.compareFieldsById);if(!p.length)return y.codegen()("return {}");for(var g=y.codegen(["m","o"],v.name+"$toObject")("if(!o)")("o={}")("var d={}"),w=[],R=[],C=[],N=0;N<p.length;++N)p[N].partOf||(p[N].resolve().repeated?w:p[N].map?R:C).push(p[N]);if(w.length){for(g("if(o.arrays||o.defaults){"),N=0;N<w.length;++N)g("d%s=[]",y.safeProp(w[N].name));g("}")}if(R.length){for(g("if(o.objects||o.defaults){"),N=0;N<R.length;++N)g("d%s={}",y.safeProp(R[N].name));g("}")}if(C.length){for(g("if(o.defaults){"),N=0;N<C.length;++N){var D=C[N],L=y.safeProp(D.name);if(D.resolvedType instanceof d)g("d%s=o.enums===String?%j:%j",L,D.resolvedType.valuesById[D.typeDefault],D.typeDefault);else if(D.long)g("if(util.Long){")("var n=new util.Long(%i,%i,%j)",D.typeDefault.low,D.typeDefault.high,D.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",L)("}else")("d%s=o.longs===String?%j:%i",L,D.typeDefault.toString(),D.typeDefault.toNumber());else if(D.bytes){var q="["+Array.prototype.slice.call(D.typeDefault).join(",")+"]";g("if(o.bytes===String)d%s=%j",L,String.fromCharCode.apply(String,D.typeDefault))("else{")("d%s=%s",L,q)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",L,L)("}")}else g("d%s=%j",L,D.typeDefault)}g("}")}var M=!1;for(N=0;N<p.length;++N){var D=p[N],U=v._fieldsArray.indexOf(D),L=y.safeProp(D.name);D.map?(M||(M=!0,g("var ks2")),g("if(m%s&&(ks2=Object.keys(m%s)).length){",L,L)("d%s={}",L)("for(var j=0;j<ks2.length;++j){"),T(g,D,U,L+"[ks2[j]]")("}")):D.repeated?(g("if(m%s&&m%s.length){",L,L)("d%s=[]",L)("for(var j=0;j<m%s.length;++j){",L),T(g,D,U,L+"[j]")("}")):(g("if(m%s!=null&&m.hasOwnProperty(%j)){",L,D.name),T(g,D,U,L),D.partOf&&g("if(o.oneofs)")("d%s=%j",y.safeProp(D.partOf.name),D.name)),g("}")}return g("return d")}})(converter)),converter}var wrappers$1={},hasRequiredWrappers$1;function requireWrappers$1(){return hasRequiredWrappers$1||(hasRequiredWrappers$1=1,(function(c){var u=c,d=requireMessage();u[".google.protobuf.Any"]={fromObject:function(y){if(y&&y["@type"]){var O=y["@type"].substring(y["@type"].lastIndexOf("/")+1),T=this.lookup(O);if(T){var E=y["@type"].charAt(0)==="."?y["@type"].slice(1):y["@type"];return E.indexOf("/")===-1&&(E="/"+E),this.create({type_url:E,value:T.encode(T.fromObject(y)).finish()})}}return this.fromObject(y)},toObject:function(y,O){var T="type.googleapis.com/",E="",v="";if(O&&O.json&&y.type_url&&y.value){v=y.type_url.substring(y.type_url.lastIndexOf("/")+1),E=y.type_url.substring(0,y.type_url.lastIndexOf("/")+1);var p=this.lookup(v);p&&(y=p.decode(y.value))}if(!(y instanceof this.ctor)&&y instanceof d){var g=y.$type.toObject(y,O),w=y.$type.fullName[0]==="."?y.$type.fullName.slice(1):y.$type.fullName;return E===""&&(E=T),v=E+w,g["@type"]=v,g}return this.toObject(y,O)}}})(wrappers$1)),wrappers$1}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=L;var c=requireNamespace();((L.prototype=Object.create(c.prototype)).constructor=L).className="Type";var u=require_enum$1(),d=requireOneof(),y=requireField(),O=requireMapfield(),T=requireService(),E=requireMessage(),v=requireReader(),p=requireWriter(),g=requireUtil$6(),w=requireEncoder(),R=requireDecoder(),C=requireVerifier(),N=requireConverter(),D=requireWrappers$1();function L(M,U){c.call(this,M,U),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(L.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var M=Object.keys(this.fields),U=0;U<M.length;++U){var V=this.fields[M[U]],$=V.id;if(this._fieldsById[$])throw Error("duplicate id "+$+" in "+this);this._fieldsById[$]=V}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=g.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=g.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=L.generateConstructor(this)())},set:function(M){var U=M.prototype;U instanceof E||((M.prototype=new E).constructor=M,g.merge(M.prototype,U)),M.$type=M.prototype.$type=this,g.merge(M,E,!0),this._ctor=M;for(var V=0;V<this.fieldsArray.length;++V)this._fieldsArray[V].resolve();var $={};for(V=0;V<this.oneofsArray.length;++V)$[this._oneofsArray[V].resolve().name]={get:g.oneOfGetter(this._oneofsArray[V].oneof),set:g.oneOfSetter(this._oneofsArray[V].oneof)};V&&Object.defineProperties(M.prototype,$)}}}),L.generateConstructor=function(U){for(var V=g.codegen(["p"],U.name),$=0,z;$<U.fieldsArray.length;++$)(z=U._fieldsArray[$]).map?V("this%s={}",g.safeProp(z.name)):z.repeated&&V("this%s=[]",g.safeProp(z.name));return V("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function q(M){return M._fieldsById=M._fieldsArray=M._oneofsArray=null,delete M.encode,delete M.decode,delete M.verify,M}return L.fromJSON=function(U,V){var $=new L(U,V.options);$.extensions=V.extensions,$.reserved=V.reserved;for(var z=Object.keys(V.fields),W=0;W<z.length;++W)$.add((typeof V.fields[z[W]].keyType<"u"?O.fromJSON:y.fromJSON)(z[W],V.fields[z[W]]));if(V.oneofs)for(z=Object.keys(V.oneofs),W=0;W<z.length;++W)$.add(d.fromJSON(z[W],V.oneofs[z[W]]));if(V.nested)for(z=Object.keys(V.nested),W=0;W<z.length;++W){var J=V.nested[z[W]];$.add((J.id!==void 0?y.fromJSON:J.fields!==void 0?L.fromJSON:J.values!==void 0?u.fromJSON:J.methods!==void 0?T.fromJSON:c.fromJSON)(z[W],J))}return V.extensions&&V.extensions.length&&($.extensions=V.extensions),V.reserved&&V.reserved.length&&($.reserved=V.reserved),V.group&&($.group=!0),V.comment&&($.comment=V.comment),V.edition&&($._edition=V.edition),$._defaultEdition="proto3",$},L.prototype.toJSON=function(U){var V=c.prototype.toJSON.call(this,U),$=U?!!U.keepComments:!1;return g.toObject(["edition",this._editionToJSON(),"options",V&&V.options||void 0,"oneofs",c.arrayToJSON(this.oneofsArray,U),"fields",c.arrayToJSON(this.fieldsArray.filter(function(z){return!z.declaringField}),U)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",V&&V.nested||void 0,"comment",$?this.comment:void 0])},L.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;c.prototype.resolveAll.call(this);var U=this.oneofsArray;for($=0;$<U.length;)U[$++].resolve();for(var V=this.fieldsArray,$=0;$<V.length;)V[$++].resolve();return this},L.prototype._resolveFeaturesRecursive=function(U){return this._needsRecursiveFeatureResolution?(U=this._edition||U,c.prototype._resolveFeaturesRecursive.call(this,U),this.oneofsArray.forEach(V=>{V._resolveFeatures(U)}),this.fieldsArray.forEach(V=>{V._resolveFeatures(U)}),this):this},L.prototype.get=function(U){return this.fields[U]||this.oneofs&&this.oneofs[U]||this.nested&&this.nested[U]||null},L.prototype.add=function(U){if(this.get(U.name))throw Error("duplicate name '"+U.name+"' in "+this);if(U instanceof y&&U.extend===void 0){if(this._fieldsById?this._fieldsById[U.id]:this.fieldsById[U.id])throw Error("duplicate id "+U.id+" in "+this);if(this.isReservedId(U.id))throw Error("id "+U.id+" is reserved in "+this);if(this.isReservedName(U.name))throw Error("name '"+U.name+"' is reserved in "+this);return U.parent&&U.parent.remove(U),this.fields[U.name]=U,U.message=this,U.onAdd(this),q(this)}return U instanceof d?(this.oneofs||(this.oneofs={}),this.oneofs[U.name]=U,U.onAdd(this),q(this)):c.prototype.add.call(this,U)},L.prototype.remove=function(U){if(U instanceof y&&U.extend===void 0){if(!this.fields||this.fields[U.name]!==U)throw Error(U+" is not a member of "+this);return delete this.fields[U.name],U.parent=null,U.onRemove(this),q(this)}if(U instanceof d){if(!this.oneofs||this.oneofs[U.name]!==U)throw Error(U+" is not a member of "+this);return delete this.oneofs[U.name],U.parent=null,U.onRemove(this),q(this)}return c.prototype.remove.call(this,U)},L.prototype.isReservedId=function(U){return c.isReservedId(this.reserved,U)},L.prototype.isReservedName=function(U){return c.isReservedName(this.reserved,U)},L.prototype.create=function(U){return new this.ctor(U)},L.prototype.setup=function(){for(var U=this.fullName,V=[],$=0;$<this.fieldsArray.length;++$)V.push(this._fieldsArray[$].resolve().resolvedType);this.encode=w(this)({Writer:p,types:V,util:g}),this.decode=R(this)({Reader:v,types:V,util:g}),this.verify=C(this)({types:V,util:g}),this.fromObject=N.fromObject(this)({types:V,util:g}),this.toObject=N.toObject(this)({types:V,util:g});var z=D[U];if(z){var W=Object.create(this);W.fromObject=this.fromObject,this.fromObject=z.fromObject.bind(W),W.toObject=this.toObject,this.toObject=z.toObject.bind(W)}return this},L.prototype.encode=function(U,V){return this.setup().encode(U,V)},L.prototype.encodeDelimited=function(U,V){return this.encode(U,V&&V.len?V.fork():V).ldelim()},L.prototype.decode=function(U,V){return this.setup().decode(U,V)},L.prototype.decodeDelimited=function(U){return U instanceof v||(U=v.create(U)),this.decode(U,U.uint32())},L.prototype.verify=function(U){return this.setup().verify(U)},L.prototype.fromObject=function(U){return this.setup().fromObject(U)},L.prototype.toObject=function(U,V){return this.setup().toObject(U,V)},L.d=function(U){return function($){g.decorateType($,U)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=p;var c=requireNamespace();((p.prototype=Object.create(c.prototype)).constructor=p).className="Root";var u=requireField(),d=require_enum$1(),y=requireOneof(),O=requireUtil$6(),T,E,v;function p(C){c.call(this,"",C),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}p.fromJSON=function(N,D){return D||(D=new p),N.options&&D.setOptions(N.options),D.addJSON(N.nested).resolveAll()},p.prototype.resolvePath=O.path.resolve,p.prototype.fetch=O.fetch;function g(){}p.prototype.load=function C(N,D,L){typeof D=="function"&&(L=D,D=void 0);var q=this;if(!L)return O.asPromise(C,q,N,D);var M=L===g;function U(Q,H){if(L){if(M)throw Q;H&&H.resolveAll();var te=L;L=null,te(Q,H)}}function V(Q){var H=Q.lastIndexOf("google/protobuf/");if(H>-1){var te=Q.substring(H);if(te in v)return te}return null}function $(Q,H){try{if(O.isString(H)&&H.charAt(0)==="{"&&(H=JSON.parse(H)),!O.isString(H))q.setOptions(H.options).addJSON(H.nested);else{E.filename=Q;var te=E(H,q,D),ne,oe=0;if(te.imports)for(;oe<te.imports.length;++oe)(ne=V(te.imports[oe])||q.resolvePath(Q,te.imports[oe]))&&z(ne);if(te.weakImports)for(oe=0;oe<te.weakImports.length;++oe)(ne=V(te.weakImports[oe])||q.resolvePath(Q,te.weakImports[oe]))&&z(ne,!0)}}catch(ie){U(ie)}!M&&!W&&U(null,q)}function z(Q,H){if(Q=V(Q)||Q,!(q.files.indexOf(Q)>-1)){if(q.files.push(Q),Q in v){M?$(Q,v[Q]):(++W,setTimeout(function(){--W,$(Q,v[Q])}));return}if(M){var te;try{te=O.fs.readFileSync(Q).toString("utf8")}catch(ne){H||U(ne);return}$(Q,te)}else++W,q.fetch(Q,function(ne,oe){if(--W,!!L){if(ne){H?W||U(null,q):U(ne);return}$(Q,oe)}})}}var W=0;O.isString(N)&&(N=[N]);for(var J=0,Y;J<N.length;++J)(Y=q.resolvePath("",N[J]))&&z(Y);return M?(q.resolveAll(),q):(W||U(null,q),q)},p.prototype.loadSync=function(N,D){if(!O.isNode)throw Error("not supported");return this.load(N,D,g)},p.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(N){return"'extend "+N.extend+"' in "+N.parent.fullName}).join(", "));return c.prototype.resolveAll.call(this)};var w=/^[A-Z]/;function R(C,N){var D=N.parent.lookup(N.extend);if(D){var L=new u(N.fullName,N.id,N.type,N.rule,void 0,N.options);return D.get(L.name)||(L.declaringField=N,N.extensionField=L,D.add(L)),!0}return!1}return p.prototype._handleAdd=function(N){if(N instanceof u)N.extend!==void 0&&!N.extensionField&&(R(this,N)||this.deferred.push(N));else if(N instanceof d)w.test(N.name)&&(N.parent[N.name]=N.values);else if(!(N instanceof y)){if(N instanceof T)for(var D=0;D<this.deferred.length;)R(this,this.deferred[D])?this.deferred.splice(D,1):++D;for(var L=0;L<N.nestedArray.length;++L)this._handleAdd(N._nestedArray[L]);w.test(N.name)&&(N.parent[N.name]=N)}(N instanceof T||N instanceof d||N instanceof u)&&(this._fullyQualifiedObjects[N.fullName]=N)},p.prototype._handleRemove=function(N){if(N instanceof u){if(N.extend!==void 0)if(N.extensionField)N.extensionField.parent.remove(N.extensionField),N.extensionField=null;else{var D=this.deferred.indexOf(N);D>-1&&this.deferred.splice(D,1)}}else if(N instanceof d)w.test(N.name)&&delete N.parent[N.name];else if(N instanceof c){for(var L=0;L<N.nestedArray.length;++L)this._handleRemove(N._nestedArray[L]);w.test(N.name)&&delete N.parent[N.name]}delete this._fullyQualifiedObjects[N.fullName]},p._configure=function(C,N,D){T=C,E=N,v=D},root}var hasRequiredUtil$6;function requireUtil$6(){if(hasRequiredUtil$6)return util$5.exports;hasRequiredUtil$6=1;var c=util$5.exports=requireMinimal$1(),u=requireRoots(),d,y;c.codegen=requireCodegen(),c.fetch=requireFetch(),c.path=requirePath$1(),c.fs=c.inquire("fs"),c.toArray=function(g){if(g){for(var w=Object.keys(g),R=new Array(w.length),C=0;C<w.length;)R[C]=g[w[C++]];return R}return[]},c.toObject=function(g){for(var w={},R=0;R<g.length;){var C=g[R++],N=g[R++];N!==void 0&&(w[C]=N)}return w};var O=/\\/g,T=/"/g;c.isReserved=function(g){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(g)},c.safeProp=function(g){return!/^[$\w_]+$/.test(g)||c.isReserved(g)?'["'+g.replace(O,"\\\\").replace(T,'\\"')+'"]':"."+g},c.ucFirst=function(g){return g.charAt(0).toUpperCase()+g.substring(1)};var E=/_([a-z])/g;c.camelCase=function(g){return g.substring(0,1)+g.substring(1).replace(E,function(w,R){return R.toUpperCase()})},c.compareFieldsById=function(g,w){return g.id-w.id},c.decorateType=function(g,w){if(g.$type)return w&&g.$type.name!==w&&(c.decorateRoot.remove(g.$type),g.$type.name=w,c.decorateRoot.add(g.$type)),g.$type;d||(d=requireType());var R=new d(w||g.name);return c.decorateRoot.add(R),R.ctor=g,Object.defineProperty(g,"$type",{value:R,enumerable:!1}),Object.defineProperty(g.prototype,"$type",{value:R,enumerable:!1}),R};var v=0;return c.decorateEnum=function(g){if(g.$type)return g.$type;y||(y=require_enum$1());var w=new y("Enum"+v++,g);return c.decorateRoot.add(w),Object.defineProperty(g,"$type",{value:w,enumerable:!1}),w},c.setProperty=function(g,w,R,C){function N(D,L,q){var M=L.shift();if(M==="__proto__"||M==="prototype")return D;if(L.length>0)D[M]=N(D[M]||{},L,q);else{var U=D[M];if(U&&C)return D;U&&(q=[].concat(U).concat(q)),D[M]=q}return D}if(typeof g!="object")throw TypeError("dst must be an object");if(!w)throw TypeError("path must be specified");return w=w.split("."),N(g,w,R)},Object.defineProperty(c,"decorateRoot",{get:function(){return u.decorated||(u.decorated=new(requireRoot()))}}),util$5.exports}var hasRequiredTypes$2;function requireTypes$2(){return hasRequiredTypes$2||(hasRequiredTypes$2=1,(function(c){var u=c,d=requireUtil$6(),y=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function O(T,E){var v=0,p={};for(E|=0;v<T.length;)p[y[v+E]]=T[v++];return p}u.basic=O([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),u.defaults=O([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",d.emptyArray,null]),u.long=O([0,0,0,1,1],7),u.mapKey=O([0,0,0,5,5,0,0,0,1,1,0,2],2),u.packed=O([1,5,0,0,0,5,5,0,0,0,1,1,0])})(types$4)),types$4}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=E;var c=requireObject();((E.prototype=Object.create(c.prototype)).constructor=E).className="Field";var u=require_enum$1(),d=requireTypes$2(),y=requireUtil$6(),O,T=/^required|optional|repeated$/;E.fromJSON=function(p,g){var w=new E(p,g.id,g.type,g.rule,g.extend,g.options,g.comment);return g.edition&&(w._edition=g.edition),w._defaultEdition="proto3",w};function E(v,p,g,w,R,C,N){if(y.isObject(w)?(N=R,C=w,w=R=void 0):y.isObject(R)&&(N=C,C=R,R=void 0),c.call(this,v,C),!y.isInteger(p)||p<0)throw TypeError("id must be a non-negative integer");if(!y.isString(g))throw TypeError("type must be a string");if(w!==void 0&&!T.test(w=w.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(R!==void 0&&!y.isString(R))throw TypeError("extend must be a string");w==="proto3_optional"&&(w="optional"),this.rule=w&&w!=="optional"?w:void 0,this.type=g,this.id=p,this.extend=R||void 0,this.repeated=w==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=y.Long?d.long[g]!==void 0:!1,this.bytes=g==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=N}return Object.defineProperty(E.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(E.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(E.prototype,"delimited",{get:function(){return this.resolvedType instanceof O&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(E.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(E.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),E.prototype.setOption=function(p,g,w){return c.prototype.setOption.call(this,p,g,w)},E.prototype.toJSON=function(p){var g=p?!!p.keepComments:!1;return y.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",g?this.comment:void 0])},E.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=d.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof O?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof u&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof u)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=y.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var p;y.base64.test(this.typeDefault)?y.base64.decode(this.typeDefault,p=y.newBuffer(y.base64.length(this.typeDefault)),0):y.utf8.write(this.typeDefault,p=y.newBuffer(y.utf8.length(this.typeDefault)),0),this.typeDefault=p}return this.map?this.defaultValue=y.emptyObject:this.repeated?this.defaultValue=y.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof O&&(this.parent.ctor.prototype[this.name]=this.defaultValue),c.prototype.resolve.call(this)},E.prototype._inferLegacyProtoFeatures=function(p){if(p!=="proto2"&&p!=="proto3")return{};var g={};if(this.rule==="required"&&(g.field_presence="LEGACY_REQUIRED"),this.parent&&d.defaults[this.type]===void 0){var w=this.parent.get(this.type.split(".").pop());w&&w instanceof O&&w.group&&(g.message_encoding="DELIMITED")}return this.getOption("packed")===!0?g.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(g.repeated_field_encoding="EXPANDED"),g},E.prototype._resolveFeatures=function(p){return c.prototype._resolveFeatures.call(this,this._edition||p)},E.d=function(p,g,w,R){return typeof g=="function"?g=y.decorateType(g).name:g&&typeof g=="object"&&(g=y.decorateEnum(g).name),function(N,D){y.decorateType(N.constructor).add(new E(D,p,g,w,{default:R}))}},E._configure=function(p){O=p},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=y;var c=requireObject();((y.prototype=Object.create(c.prototype)).constructor=y).className="OneOf";var u=requireField(),d=requireUtil$6();function y(T,E,v,p){if(Array.isArray(E)||(v=E,E=void 0),c.call(this,T,v),!(E===void 0||Array.isArray(E)))throw TypeError("fieldNames must be an Array");this.oneof=E||[],this.fieldsArray=[],this.comment=p}y.fromJSON=function(E,v){return new y(E,v.oneof,v.options,v.comment)},y.prototype.toJSON=function(E){var v=E?!!E.keepComments:!1;return d.toObject(["options",this.options,"oneof",this.oneof,"comment",v?this.comment:void 0])};function O(T){if(T.parent)for(var E=0;E<T.fieldsArray.length;++E)T.fieldsArray[E].parent||T.parent.add(T.fieldsArray[E])}return y.prototype.add=function(E){if(!(E instanceof u))throw TypeError("field must be a Field");return E.parent&&E.parent!==this.parent&&E.parent.remove(E),this.oneof.push(E.name),this.fieldsArray.push(E),E.partOf=this,O(this),this},y.prototype.remove=function(E){if(!(E instanceof u))throw TypeError("field must be a Field");var v=this.fieldsArray.indexOf(E);if(v<0)throw Error(E+" is not a member of "+this);return this.fieldsArray.splice(v,1),v=this.oneof.indexOf(E.name),v>-1&&this.oneof.splice(v,1),E.partOf=null,this},y.prototype.onAdd=function(E){c.prototype.onAdd.call(this,E);for(var v=this,p=0;p<this.oneof.length;++p){var g=E.get(this.oneof[p]);g&&!g.partOf&&(g.partOf=v,v.fieldsArray.push(g))}O(this)},y.prototype.onRemove=function(E){for(var v=0,p;v<this.fieldsArray.length;++v)(p=this.fieldsArray[v]).parent&&p.parent.remove(p);c.prototype.onRemove.call(this,E)},Object.defineProperty(y.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var T=this.fieldsArray[0];return T.options!=null&&T.options.proto3_optional===!0}}),y.d=function(){for(var E=new Array(arguments.length),v=0;v<arguments.length;)E[v]=arguments[v++];return function(g,w){d.decorateType(g.constructor).add(new y(w,E)),Object.defineProperty(g,w,{get:d.oneOfGetter(E),set:d.oneOfSetter(E)})}},oneof}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=E,E.className="ReflectionObject";const c=requireOneof();var u=requireUtil$6(),d,y={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},O={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},T={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function E(v,p){if(!u.isString(v))throw TypeError("name must be a string");if(p&&!u.isObject(p))throw TypeError("options must be an object");this.options=p,this.parsedOptions=null,this.name=v,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(E.prototype,{root:{get:function(){for(var v=this;v.parent!==null;)v=v.parent;return v}},fullName:{get:function(){for(var v=[this.name],p=this.parent;p;)v.unshift(p.name),p=p.parent;return v.join(".")}}}),E.prototype.toJSON=function(){throw Error()},E.prototype.onAdd=function(p){this.parent&&this.parent!==p&&this.parent.remove(this),this.parent=p,this.resolved=!1;var g=p.root;g instanceof d&&g._handleAdd(this)},E.prototype.onRemove=function(p){var g=p.root;g instanceof d&&g._handleRemove(this),this.parent=null,this.resolved=!1},E.prototype.resolve=function(){return this.resolved?this:(this.root instanceof d&&(this.resolved=!0),this)},E.prototype._resolveFeaturesRecursive=function(p){return this._resolveFeatures(this._edition||p)},E.prototype._resolveFeatures=function(p){if(!this._featuresResolved){var g={};if(!p)throw new Error("Unknown edition for "+this.fullName);var w=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(p));if(this._edition){if(p==="proto2")g=Object.assign({},O);else if(p==="proto3")g=Object.assign({},T);else if(p==="2023")g=Object.assign({},y);else throw new Error("Unknown edition: "+p);this._features=Object.assign(g,w||{}),this._featuresResolved=!0;return}if(this.partOf instanceof c){var R=Object.assign({},this.partOf._features);this._features=Object.assign(R,w||{})}else if(!this.declaringField)if(this.parent){var C=Object.assign({},this.parent._features);this._features=Object.assign(C,w||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},E.prototype._inferLegacyProtoFeatures=function(){return{}},E.prototype.getOption=function(p){if(this.options)return this.options[p]},E.prototype.setOption=function(p,g,w){return this.options||(this.options={}),/^features\./.test(p)?u.setProperty(this.options,p,g,w):(!w||this.options[p]===void 0)&&(this.getOption(p)!==g&&(this.resolved=!1),this.options[p]=g),this},E.prototype.setParsedOption=function(p,g,w){this.parsedOptions||(this.parsedOptions=[]);var R=this.parsedOptions;if(w){var C=R.find(function(L){return Object.prototype.hasOwnProperty.call(L,p)});if(C){var N=C[p];u.setProperty(N,w,g)}else C={},C[p]=u.setProperty({},w,g),R.push(C)}else{var D={};D[p]=g,R.push(D)}return this},E.prototype.setOptions=function(p,g){if(p)for(var w=Object.keys(p),R=0;R<w.length;++R)this.setOption(w[R],p[w[R]],g);return this},E.prototype.toString=function(){var p=this.constructor.className,g=this.fullName;return g.length?p+" "+g:p},E.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},E._configure=function(v){d=v},object}var _enum$1,hasRequired_enum$1;function require_enum$1(){if(hasRequired_enum$1)return _enum$1;hasRequired_enum$1=1,_enum$1=y;var c=requireObject();((y.prototype=Object.create(c.prototype)).constructor=y).className="Enum";var u=requireNamespace(),d=requireUtil$6();function y(O,T,E,v,p,g){if(c.call(this,O,E),T&&typeof T!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=v,this.comments=p||{},this.valuesOptions=g,this._valuesFeatures={},this.reserved=void 0,T)for(var w=Object.keys(T),R=0;R<w.length;++R)typeof T[w[R]]=="number"&&(this.valuesById[this.values[w[R]]=T[w[R]]]=w[R])}return y.prototype._resolveFeatures=function(T){return T=this._edition||T,c.prototype._resolveFeatures.call(this,T),Object.keys(this.values).forEach(E=>{var v=Object.assign({},this._features);this._valuesFeatures[E]=Object.assign(v,this.valuesOptions&&this.valuesOptions[E]&&this.valuesOptions[E].features)}),this},y.fromJSON=function(T,E){var v=new y(T,E.values,E.options,E.comment,E.comments);return v.reserved=E.reserved,E.edition&&(v._edition=E.edition),v._defaultEdition="proto3",v},y.prototype.toJSON=function(T){var E=T?!!T.keepComments:!1;return d.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",E?this.comment:void 0,"comments",E?this.comments:void 0])},y.prototype.add=function(T,E,v,p){if(!d.isString(T))throw TypeError("name must be a string");if(!d.isInteger(E))throw TypeError("id must be an integer");if(this.values[T]!==void 0)throw Error("duplicate name '"+T+"' in "+this);if(this.isReservedId(E))throw Error("id "+E+" is reserved in "+this);if(this.isReservedName(T))throw Error("name '"+T+"' is reserved in "+this);if(this.valuesById[E]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+E+" in "+this);this.values[T]=E}else this.valuesById[this.values[T]=E]=T;return p&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[T]=p||null),this.comments[T]=v||null,this},y.prototype.remove=function(T){if(!d.isString(T))throw TypeError("name must be a string");var E=this.values[T];if(E==null)throw Error("name '"+T+"' does not exist in "+this);return delete this.valuesById[E],delete this.values[T],delete this.comments[T],this.valuesOptions&&delete this.valuesOptions[T],this},y.prototype.isReservedId=function(T){return u.isReservedId(this.reserved,T)},y.prototype.isReservedName=function(T){return u.isReservedName(this.reserved,T)},_enum$1}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=O;var c=require_enum$1(),u=requireTypes$2(),d=requireUtil$6();function y(T,E,v,p){return E.delimited?T("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",v,p,(E.id<<3|3)>>>0,(E.id<<3|4)>>>0):T("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",v,p,(E.id<<3|2)>>>0)}function O(T){for(var E=d.codegen(["m","w"],T.name+"$encode")("if(!w)")("w=Writer.create()"),v,p,g=T.fieldsArray.slice().sort(d.compareFieldsById),v=0;v<g.length;++v){var w=g[v].resolve(),R=T._fieldsArray.indexOf(w),C=w.resolvedType instanceof c?"int32":w.type,N=u.basic[C];p="m"+d.safeProp(w.name),w.map?(E("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",p,w.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",p)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(w.id<<3|2)>>>0,8|u.mapKey[w.keyType],w.keyType),N===void 0?E("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",R,p):E(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|N,C,p),E("}")("}")):w.repeated?(E("if(%s!=null&&%s.length){",p,p),w.packed&&u.packed[C]!==void 0?E("w.uint32(%i).fork()",(w.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",p)("w.%s(%s[i])",C,p)("w.ldelim()"):(E("for(var i=0;i<%s.length;++i)",p),N===void 0?y(E,w,R,p+"[i]"):E("w.uint32(%i).%s(%s[i])",(w.id<<3|N)>>>0,C,p)),E("}")):(w.optional&&E("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",p,w.name),N===void 0?y(E,w,R,p):E("w.uint32(%i).%s(%s)",(w.id<<3|N)>>>0,C,p))}return E("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var c=indexLight.exports=requireIndexMinimal();c.build="light";function u(y,O,T){return typeof O=="function"?(T=O,O=new c.Root):O||(O=new c.Root),O.load(y,T)}c.load=u;function d(y,O){return O||(O=new c.Root),O.loadSync(y)}return c.loadSync=d,c.encoder=requireEncoder(),c.decoder=requireDecoder(),c.verifier=requireVerifier(),c.converter=requireConverter(),c.ReflectionObject=requireObject(),c.Namespace=requireNamespace(),c.Root=requireRoot(),c.Enum=require_enum$1(),c.Type=requireType(),c.Field=requireField(),c.OneOf=requireOneof(),c.MapField=requireMapfield(),c.Service=requireService(),c.Method=requireMethod(),c.Message=requireMessage(),c.wrappers=requireWrappers$1(),c.types=requireTypes$2(),c.util=requireUtil$6(),c.ReflectionObject._configure(c.Root),c.Namespace._configure(c.Type,c.Service,c.Enum),c.Root._configure(c.Type),c.Field._configure(c.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=w;var c=/[\s{}=;:[\],'"()<>]/g,u=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,d=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,y=/^ *[*/]+ */,O=/^\s*\*?\/*/,T=/\n/g,E=/\s/,v=/\\(.?)/g,p={0:"\0",r:"\r",n:`
`,t:"	"};function g(R){return R.replace(v,function(C,N){switch(N){case"\\":case"":return N;default:return p[N]||""}})}w.unescape=g;function w(R,C){R=R.toString();var N=0,D=R.length,L=1,q=0,M={},U=[],V=null;function $(ee){return Error("illegal "+ee+" (line "+L+")")}function z(){var ee=V==="'"?d:u;ee.lastIndex=N-1;var ue=ee.exec(R);if(!ue)throw $("string");return N=ee.lastIndex,te(V),V=null,g(ue[1])}function W(ee){return R.charAt(ee)}function J(ee,ue,fe){var de={type:R.charAt(ee++),lineEmpty:!1,leading:fe},ge;C?ge=2:ge=3;var me=ee-ge,_e;do if(--me<0||(_e=R.charAt(me))===`
`){de.lineEmpty=!0;break}while(_e===" "||_e==="	");for(var we=R.substring(ee,ue).split(T),Re=0;Re<we.length;++Re)we[Re]=we[Re].replace(C?O:y,"").trim();de.text=we.join(`
`).trim(),M[L]=de,q=L}function Y(ee){var ue=Q(ee),fe=R.substring(ee,ue),de=/^\s*\/\//.test(fe);return de}function Q(ee){for(var ue=ee;ue<D&&W(ue)!==`
`;)ue++;return ue}function H(){if(U.length>0)return U.shift();if(V)return z();var ee,ue,fe,de,ge,me=N===0;do{if(N===D)return null;for(ee=!1;E.test(fe=W(N));)if(fe===`
`&&(me=!0,++L),++N===D)return null;if(W(N)==="/"){if(++N===D)throw $("comment");if(W(N)==="/")if(C){if(de=N,ge=!1,Y(N-1)){ge=!0;do if(N=Q(N),N===D||(N++,!me))break;while(Y(N))}else N=Math.min(D,Q(N)+1);ge&&(J(de,N,me),me=!0),L++,ee=!0}else{for(ge=W(de=N+1)==="/";W(++N)!==`
`;)if(N===D)return null;++N,ge&&(J(de,N-1,me),me=!0),++L,ee=!0}else if((fe=W(N))==="*"){de=N+1,ge=C||W(de)==="*";do{if(fe===`
`&&++L,++N===D)throw $("comment");ue=fe,fe=W(N)}while(ue!=="*"||fe!=="/");++N,ge&&(J(de,N-2,me),me=!0),ee=!0}else return"/"}}while(ee);var _e=N;c.lastIndex=0;var we=c.test(W(_e++));if(!we)for(;_e<D&&!c.test(W(_e));)++_e;var Re=R.substring(N,N=_e);return(Re==='"'||Re==="'")&&(V=Re),Re}function te(ee){U.push(ee)}function ne(){if(!U.length){var ee=H();if(ee===null)return null;te(ee)}return U[0]}function oe(ee,ue){var fe=ne(),de=fe===ee;if(de)return H(),!0;if(!ue)throw $("token '"+fe+"', '"+ee+"' expected");return!1}function ie(ee){var ue=null,fe;return ee===void 0?(fe=M[L-1],delete M[L-1],fe&&(C||fe.type==="*"||fe.lineEmpty)&&(ue=fe.leading?fe.text:null)):(q<ee&&ne(),fe=M[ee],delete M[ee],fe&&!fe.lineEmpty&&(C||fe.type==="/")&&(ue=fe.leading?null:fe.text)),ue}return Object.defineProperty({next:H,peek:ne,push:te,skip:oe,cmnt:ie},"line",{get:function(){return L}})}return tokenize_1}var parse_1,hasRequiredParse$1;function requireParse$1(){if(hasRequiredParse$1)return parse_1;hasRequiredParse$1=1,parse_1=z,z.filename=null,z.defaults={keepCase:!1};var c=requireTokenize(),u=requireRoot(),d=requireType(),y=requireField(),O=requireMapfield(),T=requireOneof(),E=require_enum$1(),v=requireService(),p=requireMethod(),g=requireObject(),w=requireTypes$2(),R=requireUtil$6(),C=/^[1-9][0-9]*$/,N=/^-?[1-9][0-9]*$/,D=/^0[x][0-9a-fA-F]+$/,L=/^-?0[x][0-9a-fA-F]+$/,q=/^0[0-7]+$/,M=/^-?0[0-7]+$/,U=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,V=/^[a-zA-Z_][a-zA-Z_0-9]*$/,$=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function z(W,J,Y){J instanceof u||(Y=J,J=new u),Y||(Y=z.defaults);var Q=Y.preferTrailingComment||!1,H=c(W,Y.alternateCommentMode||!1),te=H.next,ne=H.push,oe=H.peek,ie=H.skip,ee=H.cmnt,ue=!0,fe,de,ge,me="proto2",_e=J,we=[],Re={},Te=Y.keepCase?function(ke){return ke}:R.camelCase;function Ae(){we.forEach(ke=>{ke._edition=me,Object.keys(Re).forEach(je=>{ke.getOption(je)===void 0&&ke.setOption(je,Re[je],!0)})})}function Oe(ke,je,Ne){var Me=z.filename;return Ne||(z.filename=null),Error("illegal "+(je||"token")+" '"+ke+"' ("+(Me?Me+", ":"")+"line "+H.line+")")}function ve(){var ke=[],je;do{if((je=te())!=='"'&&je!=="'")throw Oe(je);ke.push(te()),ie(je),je=oe()}while(je==='"'||je==="'");return ke.join("")}function Ee(ke){var je=te();switch(je){case"'":case'"':return ne(je),ve();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return l(je,!0)}catch{if($.test(je))return je;throw Oe(je,"value")}}function he(ke,je){var Ne,Me;do if(je&&((Ne=oe())==='"'||Ne==="'")){var Be=ve();if(ke.push(Be),me>=2023)throw Oe(Be,"id")}else try{ke.push([Me=P(te()),ie("to",!0)?P(te()):Me])}catch(et){if(je&&$.test(Ne)&&me>=2023)ke.push(Ne);else throw et}while(ie(",",!0));var Je={options:void 0};Je.setOption=function(et,rt){this.options===void 0&&(this.options={}),this.options[et]=rt},a(Je,function(rt){if(rt==="option")Ue(Je,rt),ie(";");else throw Oe(rt)},function(){st(Je)})}function l(ke,je){var Ne=1;switch(ke.charAt(0)==="-"&&(Ne=-1,ke=ke.substring(1)),ke){case"inf":case"INF":case"Inf":return Ne*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(C.test(ke))return Ne*parseInt(ke,10);if(D.test(ke))return Ne*parseInt(ke,16);if(q.test(ke))return Ne*parseInt(ke,8);if(U.test(ke))return Ne*parseFloat(ke);throw Oe(ke,"number",je)}function P(ke,je){switch(ke){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!je&&ke.charAt(0)==="-")throw Oe(ke,"id");if(N.test(ke))return parseInt(ke,10);if(L.test(ke))return parseInt(ke,16);if(M.test(ke))return parseInt(ke,8);throw Oe(ke,"id")}function k(){if(fe!==void 0)throw Oe("package");if(fe=te(),!$.test(fe))throw Oe(fe,"name");_e=_e.define(fe),ie(";")}function K(){var ke=oe(),je;switch(ke){case"weak":je=ge||(ge=[]),te();break;case"public":te();default:je=de||(de=[]);break}ke=ve(),ie(";"),je.push(ke)}function pe(){if(ie("="),me=ve(),me<2023)throw Oe(me,"syntax");ie(";")}function Se(){if(ie("="),me=ve(),!["2023"].includes(me))throw Oe(me,"edition");ie(";")}function ye(ke,je){switch(je){case"option":return Ue(ke,je),ie(";"),!0;case"message":return j(ke,je),!0;case"enum":return ae(ke,je),!0;case"service":return vt(ke,je),!0;case"extend":return yt(ke,je),!0}return!1}function a(ke,je,Ne){var Me=H.line;if(ke&&(typeof ke.comment!="string"&&(ke.comment=ee()),ke.filename=z.filename),ie("{",!0)){for(var Be;(Be=te())!=="}";)je(Be);ie(";",!0)}else Ne&&Ne(),ie(";"),ke&&(typeof ke.comment!="string"||Q)&&(ke.comment=ee(Me)||ke.comment)}function j(ke,je){if(!V.test(je=te()))throw Oe(je,"type name");var Ne=new d(je);a(Ne,function(Be){if(!ye(Ne,Be))switch(Be){case"map":I(Ne);break;case"required":if(me!=="proto2")throw Oe(Be);case"repeated":G(Ne,Be);break;case"optional":if(me==="proto3")G(Ne,"proto3_optional");else{if(me!=="proto2")throw Oe(Be);G(Ne,"optional")}break;case"oneof":B(Ne,Be);break;case"extensions":he(Ne.extensions||(Ne.extensions=[]));break;case"reserved":he(Ne.reserved||(Ne.reserved=[]),!0);break;default:if(me==="proto2"||!$.test(Be))throw Oe(Be);ne(Be),G(Ne,"optional");break}}),ke.add(Ne),ke===_e&&we.push(Ne)}function G(ke,je,Ne){var Me=te();if(Me==="group"){o(ke,je);return}for(;Me.endsWith(".")||oe().startsWith(".");)Me+=te();if(!$.test(Me))throw Oe(Me,"type");var Be=te();if(!V.test(Be))throw Oe(Be,"name");Be=Te(Be),ie("=");var Je=new y(Be,P(te()),Me,je,Ne);if(a(Je,function(Le){if(Le==="option")Ue(Je,Le),ie(";");else throw Oe(Le)},function(){st(Je)}),je==="proto3_optional"){var et=new T("_"+Be);Je.setOption("proto3_optional",!0),et.add(Je),ke.add(et)}else ke.add(Je);ke===_e&&we.push(Je)}function o(ke,je){if(me>=2023)throw Oe("group");var Ne=te();if(!V.test(Ne))throw Oe(Ne,"name");var Me=R.lcFirst(Ne);Ne===Me&&(Ne=R.ucFirst(Ne)),ie("=");var Be=P(te()),Je=new d(Ne);Je.group=!0;var et=new y(Me,Be,Ne,je);et.filename=z.filename,a(Je,function(Le){switch(Le){case"option":Ue(Je,Le),ie(";");break;case"required":case"repeated":G(Je,Le);break;case"optional":me==="proto3"?G(Je,"proto3_optional"):G(Je,"optional");break;case"message":j(Je,Le);break;case"enum":ae(Je,Le);break;case"reserved":he(Je.reserved||(Je.reserved=[]),!0);break;default:throw Oe(Le)}}),ke.add(Je).add(et)}function I(ke){ie("<");var je=te();if(w.mapKey[je]===void 0)throw Oe(je,"type");ie(",");var Ne=te();if(!$.test(Ne))throw Oe(Ne,"type");ie(">");var Me=te();if(!V.test(Me))throw Oe(Me,"name");ie("=");var Be=new O(Te(Me),P(te()),je,Ne);a(Be,function(et){if(et==="option")Ue(Be,et),ie(";");else throw Oe(et)},function(){st(Be)}),ke.add(Be)}function B(ke,je){if(!V.test(je=te()))throw Oe(je,"name");var Ne=new T(Te(je));a(Ne,function(Be){Be==="option"?(Ue(Ne,Be),ie(";")):(ne(Be),G(Ne,"optional"))}),ke.add(Ne)}function ae(ke,je){if(!V.test(je=te()))throw Oe(je,"name");var Ne=new E(je);a(Ne,function(Be){switch(Be){case"option":Ue(Ne,Be),ie(";");break;case"reserved":he(Ne.reserved||(Ne.reserved=[]),!0),Ne.reserved===void 0&&(Ne.reserved=[]);break;default:Ce(Ne,Be)}}),ke.add(Ne),ke===_e&&we.push(Ne)}function Ce(ke,je){if(!V.test(je))throw Oe(je,"name");ie("=");var Ne=P(te(),!0),Me={options:void 0};Me.getOption=function(Be){return this.options[Be]},Me.setOption=function(Be,Je){g.prototype.setOption.call(Me,Be,Je)},Me.setParsedOption=function(){},a(Me,function(Je){if(Je==="option")Ue(Me,Je),ie(";");else throw Oe(Je)},function(){st(Me)}),ke.add(je,Ne,Me.comment,Me.parsedOptions||Me.options)}function Ue(ke,je){var Ne,Me,Be=!0;for(je==="option"&&(je=te());je!=="=";){if(je==="("){var Je=te();ie(")"),je="("+Je+")"}if(Be){if(Be=!1,je.includes(".")&&!je.includes("(")){var et=je.split(".");Ne=et[0]+".",je=et[1];continue}Ne=je}else Me=Me?Me+=je:je;je=te()}var rt=Me?Ne.concat(Me):Ne,Le=He(ke,rt);Me=Me&&Me[0]==="."?Me.slice(1):Me,Ne=Ne&&Ne[Ne.length-1]==="."?Ne.slice(0,-1):Ne,Ke(ke,Ne,Le,Me)}function He(ke,je){if(ie("{",!0)){for(var Ne={};!ie("}",!0);){if(!V.test(tt=te()))throw Oe(tt,"name");if(tt===null)throw Oe(tt,"end of input");var Me,Be=tt;if(ie(":",!0),oe()==="{")Me=He(ke,je+"."+tt);else if(oe()==="["){Me=[];var Je;if(ie("[",!0)){do Je=Ee(),Me.push(Je);while(ie(",",!0));ie("]"),typeof Je<"u"&&Ve(ke,je+"."+tt,Je)}}else Me=Ee(),Ve(ke,je+"."+tt,Me);var et=Ne[Be];et&&(Me=[].concat(et).concat(Me)),Ne[Be]=Me,ie(",",!0),ie(";",!0)}return Ne}var rt=Ee();return Ve(ke,je,rt),rt}function Ve(ke,je,Ne){if(_e===ke&&/^features\./.test(je)){Re[je]=Ne;return}ke.setOption&&ke.setOption(je,Ne)}function Ke(ke,je,Ne,Me){ke.setParsedOption&&ke.setParsedOption(je,Ne,Me)}function st(ke){if(ie("[",!0)){do Ue(ke,"option");while(ie(",",!0));ie("]")}return ke}function vt(ke,je){if(!V.test(je=te()))throw Oe(je,"service name");var Ne=new v(je);a(Ne,function(Be){if(!ye(Ne,Be))if(Be==="rpc")ft(Ne,Be);else throw Oe(Be)}),ke.add(Ne),ke===_e&&we.push(Ne)}function ft(ke,je){var Ne=ee(),Me=je;if(!V.test(je=te()))throw Oe(je,"name");var Be=je,Je,et,rt,Le;if(ie("("),ie("stream",!0)&&(et=!0),!$.test(je=te())||(Je=je,ie(")"),ie("returns"),ie("("),ie("stream",!0)&&(Le=!0),!$.test(je=te())))throw Oe(je);rt=je,ie(")");var $e=new p(Be,Me,Je,rt,et,Le);$e.comment=Ne,a($e,function(lt){if(lt==="option")Ue($e,lt),ie(";");else throw Oe(lt)}),ke.add($e)}function yt(ke,je){if(!$.test(je=te()))throw Oe(je,"reference");var Ne=je;a(null,function(Be){switch(Be){case"required":case"repeated":G(ke,Be,Ne);break;case"optional":me==="proto3"?G(ke,"proto3_optional",Ne):G(ke,"optional",Ne);break;default:if(me==="proto2"||!$.test(Be))throw Oe(Be);ne(Be),G(ke,"optional",Ne);break}})}for(var tt;(tt=te())!==null;)switch(tt){case"package":if(!ue)throw Oe(tt);k();break;case"import":if(!ue)throw Oe(tt);K();break;case"syntax":if(!ue)throw Oe(tt);pe();break;case"edition":if(!ue)throw Oe(tt);Se();break;case"option":Ue(_e,tt),ie(";",!0);break;default:if(ye(_e,tt)){ue=!1;continue}throw Oe(tt)}return Ae(),z.filename=null,{package:fe,imports:de,weakImports:ge,root:J}}return parse_1}var common_1,hasRequiredCommon$2;function requireCommon$2(){if(hasRequiredCommon$2)return common_1;hasRequiredCommon$2=1,common_1=u;var c=/\/|\./;function u(y,O){c.test(y)||(y="google/protobuf/"+y+".proto",O={nested:{google:{nested:{protobuf:{nested:O}}}}}),u[y]=O}u("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var d;return u("duration",{Duration:d={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),u("timestamp",{Timestamp:d}),u("empty",{Empty:{fields:{}}}),u("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),u("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),u("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),u.get=function(O){return u[O]||null},common_1}var hasRequiredSrc$a;function requireSrc$a(){if(hasRequiredSrc$a)return src$9.exports;hasRequiredSrc$a=1;var c=src$9.exports=requireIndexLight();return c.build="full",c.tokenize=requireTokenize(),c.parse=requireParse$1(),c.common=requireCommon$2(),c.Root._configure(c.Type,c.parse,c.common),src$9.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc$a()),protobufjs}var gax={},warnings={},featureDetection={},hasRequiredFeatureDetection;function requireFeatureDetection(){var y;if(hasRequiredFeatureDetection)return featureDetection;hasRequiredFeatureDetection=1,Object.defineProperty(featureDetection,"__esModule",{value:!0}),featureDetection.hasWindowFetch=u,featureDetection.isNodeJS=d;const c={windowFetch:typeof window<"u"&&(window==null?void 0:window.fetch)&&typeof(window==null?void 0:window.fetch)=="function",nodeJS:typeof process<"u"&&((y=process==null?void 0:process.versions)==null?void 0:y.node)};function u(){return c.windowFetch}function d(){return c.nodeJS}return featureDetection}var hasRequiredWarnings;function requireWarnings(){if(hasRequiredWarnings)return warnings;hasRequiredWarnings=1,Object.defineProperty(warnings,"__esModule",{value:!0}),warnings.warn=d;const c=requireFeatureDetection(),u=new Set;function d(y,O,T){u.has(y)||(u.add(y),(0,c.isNodeJS)()?typeof T<"u"?process.emitWarning(O,{type:T}):process.emitWarning(O):console.warn(O))}return warnings}var util$4={},hasRequiredUtil$5;function requireUtil$5(){return hasRequiredUtil$5||(hasRequiredUtil$5=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.decodeAnyProtosInArray=c.decodeProtobufAny=c.getProtoNameFromFullName=void 0,c.camelToSnakeCase=E,c.toCamelCase=p,c.toLowerCamelCase=g,c.makeUUID=w;const u="type.googleapis.com/",d=2,y=()=>{var D;return((D=globalThis.crypto)==null?void 0:D.randomUUID())||require$$0$4.randomUUID()};function O(D,L=!1){return L&&(D=D.replace(/([A-Z])([A-Z]+)([A-Z])/g,q=>q[0]+q.slice(1,q.length-1).toLowerCase()+q[q.length-1])),D.split(/(?=[A-Z])|[^A-Za-z0-9.]+/).filter(q=>q.length>0).map((q,M)=>M===0?q:q.toLowerCase())}function T(D){return D.length===0?D:D[0].toLowerCase()+D.slice(1)}function E(D){const L=O(D);if(L.length===0)return D;const q=[L[0]];return q.push(...L.slice(1).map(T)),q.join("_")}function v(D){return D.length===0?D:D[0].toUpperCase()+D.slice(1)}function p(D){const L=O(D,!0);if(L.length===0)return D;const q=[L[0]];return q.push(...L.slice(1).map(M=>M.match(/^\d+$/)?"_"+M:v(M))),q.join("")}function g(D){const L=p(D);return L.length===0?L:L[0].toLowerCase()+L.slice(1)}function w(){return y()}const R=D=>{const L=D.split(u);if(L.length!==d)throw Error("Can't get proto name");return L[1]};c.getProtoNameFromFullName=R;const C=(D,L)=>{if(D.type_url==="")throw new Error("Any type_url is not set");const q=(0,c.getProtoNameFromFullName)(D.type_url);return L.lookupType(q).decode(D.value)};c.decodeProtobufAny=C;const N=(D,L)=>{const q=[];for(const M of D){if(M.constructor.name==="Any"){try{const U=(0,c.decodeProtobufAny)(M,L);q.push(U)}catch{}continue}q.push(M)}return q};c.decodeAnyProtosInArray=N})(util$4)),util$4}var status={},hasRequiredStatus;function requireStatus(){return hasRequiredStatus||(hasRequiredStatus=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.HttpCodeToRpcCodeMap=c.Status=void 0,c.rpcCodeFromHttpStatusCode=d;var u;(function(y){y[y.OK=0]="OK",y[y.CANCELLED=1]="CANCELLED",y[y.UNKNOWN=2]="UNKNOWN",y[y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",y[y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",y[y.NOT_FOUND=5]="NOT_FOUND",y[y.ALREADY_EXISTS=6]="ALREADY_EXISTS",y[y.PERMISSION_DENIED=7]="PERMISSION_DENIED",y[y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",y[y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",y[y.ABORTED=10]="ABORTED",y[y.OUT_OF_RANGE=11]="OUT_OF_RANGE",y[y.UNIMPLEMENTED=12]="UNIMPLEMENTED",y[y.INTERNAL=13]="INTERNAL",y[y.UNAVAILABLE=14]="UNAVAILABLE",y[y.DATA_LOSS=15]="DATA_LOSS",y[y.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(u||(c.Status=u={})),c.HttpCodeToRpcCodeMap=new Map([[400,u.INVALID_ARGUMENT],[401,u.UNAUTHENTICATED],[403,u.PERMISSION_DENIED],[404,u.NOT_FOUND],[409,u.ABORTED],[416,u.OUT_OF_RANGE],[429,u.RESOURCE_EXHAUSTED],[499,u.CANCELLED],[501,u.UNIMPLEMENTED],[503,u.UNAVAILABLE],[504,u.DEADLINE_EXCEEDED]]);function d(y){return c.HttpCodeToRpcCodeMap.has(y)?c.HttpCodeToRpcCodeMap.get(y):y>=200&&y<300?u.OK:y>=400&&y<500?u.FAILED_PRECONDITION:y>=500&&y<600?u.INTERNAL:u.UNKNOWN}})(status)),status}var hasRequiredGax;function requireGax(){if(hasRequiredGax)return gax;hasRequiredGax=1,Object.defineProperty(gax,"__esModule",{value:!0}),gax.CallSettings=gax.RetryOptions=void 0,gax.convertRetryOptions=T,gax.createRetryOptions=E,gax.createBackoffSettings=v,gax.createDefaultBackoffSettings=p,gax.createMaxRetriesBackoffSettings=g,gax.createBundleOptions=w,gax.constructSettings=N,gax.createByteLengthFunction=D;const c=requireWarnings(),u=requireUtil$5(),d=requireStatus();class y{constructor(q,M,U,V){ce(this,"retryCodes");ce(this,"backoffSettings");ce(this,"shouldRetryFn");ce(this,"getResumptionRequestFn");this.retryCodes=q,this.backoffSettings=M,this.shouldRetryFn=U,this.getResumptionRequestFn=V}}gax.RetryOptions=y;class O{constructor(q){ce(this,"timeout");ce(this,"retry");ce(this,"autoPaginate");ce(this,"pageToken");ce(this,"pageSize");ce(this,"maxResults");ce(this,"otherArgs");ce(this,"bundleOptions");ce(this,"isBundling");ce(this,"longrunning");ce(this,"apiName");ce(this,"retryRequestOptions");q=q||{},this.timeout=q.timeout||30*1e3,this.retry=q.retry,this.autoPaginate="autoPaginate"in q?q.autoPaginate:!0,this.maxResults=q.maxResults,this.otherArgs=q.otherArgs||{},this.bundleOptions=q.bundleOptions,this.isBundling="isBundling"in q?q.isBundling:!0,this.longrunning="longrunning"in q?q.longrunning:void 0,this.apiName=q.apiName??void 0,this.retryRequestOptions=q.retryRequestOptions}merge(q){if(!q)return new O(this);let M=this.timeout,U=this.retry,V=this.autoPaginate,$=this.maxResults,z=this.otherArgs,W=this.isBundling,J=this.longrunning,Y=this.apiName,Q=this.retryRequestOptions;if("timeout"in q&&(M=q.timeout),U!=null&&U.retryCodes&&(U.backoffSettings.initialRpcTimeoutMillis=M,U.backoffSettings.maxRpcTimeoutMillis=M,U.backoffSettings.totalTimeoutMillis=M),"retry"in q&&(U=C(U||{},q.retry)),"autoPaginate"in q&&!q.autoPaginate&&(V=!1),"maxResults"in q&&($=q.maxResults),"otherArgs"in q){z={};for(const H in this.otherArgs)z[H]=this.otherArgs[H];for(const H in q.otherArgs)z[H]=q.otherArgs[H]}return"isBundling"in q&&(W=q.isBundling),"maxRetries"in q&&q.maxRetries!==void 0&&(U.backoffSettings.maxRetries=q.maxRetries,delete U.backoffSettings.totalTimeoutMillis),"longrunning"in q&&(J=q.longrunning),"apiName"in q&&(Y=q.apiName),"retryRequestOptions"in q&&(Q=q.retryRequestOptions),new O({timeout:M,retry:U,bundleOptions:this.bundleOptions,longrunning:J,autoPaginate:V,maxResults:$,otherArgs:z,isBundling:W,apiName:Y,retryRequestOptions:Q})}}gax.CallSettings=O;function T(L,q){var M,U;if(!L||!q)return L;if(L.retry&&L.retryRequestOptions)throw new Error("Only one of retry or retryRequestOptions may be set");if(L.retryRequestOptions){L.retryRequestOptions.objectMode!==void 0&&(0,c.warn)("retry_request_options","objectMode override is not supported. It is set to true internally by default in gax.","UnsupportedParameterWarning"),L.retryRequestOptions.noResponseRetries!==void 0&&(0,c.warn)("retry_request_options","noResponseRetries override is not supported. Please specify retry codes or a function to determine retry eligibility.","UnsupportedParameterWarning"),L.retryRequestOptions.currentRetryAttempt!==void 0&&(0,c.warn)("retry_request_options","currentRetryAttempt override is not supported. Retry attempts are tracked internally.","UnsupportedParameterWarning");let V=[d.Status.UNAVAILABLE],$;L.retryRequestOptions.shouldRetryFn&&(V=[],$=L.retryRequestOptions.shouldRetryFn),L.maxRetries=((M=L==null?void 0:L.retryRequestOptions)==null?void 0:M.retries)??L.maxRetries;const z=p();let W,J;L.retryRequestOptions.maxRetryDelay!==void 0&&(W=L.retryRequestOptions.maxRetryDelay*1e3);const Y=((U=L==null?void 0:L.retryRequestOptions)==null?void 0:U.retryDelayMultiplier)??z.retryDelayMultiplier;L.retryRequestOptions.totalTimeout!==void 0?J=L.retryRequestOptions.totalTimeout*1e3:L.maxRetries===void 0&&(J=3e4,(0,c.warn)("retry_request_options_no_max_retries_timeout","Neither maxRetries nor totalTimeout were passed. Defaulting to totalTimeout of 30000ms.","MissingParameterWarning")),z.maxRetryDelayMillis=W??z.maxRetryDelayMillis,z.retryDelayMultiplier=Y??z.retryDelayMultiplier,z.totalTimeoutMillis=J??z.totalTimeoutMillis;const Q=E(V,z,$);L.retry=Q,delete L.retryRequestOptions,(0,c.warn)("retry_request_options","retryRequestOptions will be deprecated in a future release. Please use retryOptions to pass retry options at call time","DeprecationWarning")}return L}function E(L,q,M,U){return{retryCodes:L,backoffSettings:q,shouldRetryFn:M,getResumptionRequestFn:U}}function v(L,q,M,U,V,$,z){return{initialRetryDelayMillis:L,retryDelayMultiplier:q,maxRetryDelayMillis:M,initialRpcTimeoutMillis:U,rpcTimeoutMultiplier:V,maxRpcTimeoutMillis:$,totalTimeoutMillis:z}}function p(){return v(100,1.3,6e4,null,null,null,null)}function g(L,q,M,U,V,$,z){return{initialRetryDelayMillis:L,retryDelayMultiplier:q,maxRetryDelayMillis:M,initialRpcTimeoutMillis:U,rpcTimeoutMultiplier:V,maxRpcTimeoutMillis:$,maxRetries:z}}function w(L){["element_count_threshold","element_count_limit","request_byte_threshold","request_byte_limit","delay_threshold_millis"].forEach(W=>{if(W in L&&typeof L[W]!="number")throw new Error(`${W} should be a number`)});const M=L.element_count_threshold||0,U=L.element_count_limit||0,V=L.request_byte_threshold||0,$=L.request_byte_limit||0,z=L.delay_threshold_millis||0;if(M===0&&V===0&&z===0)throw new Error("one threshold should be > 0");return{elementCountThreshold:M,elementCountLimit:U,requestByteThreshold:V,requestByteLimit:$,delayThreshold:z}}function R(L,q,M,U){if(!L)return null;let V=null;if(q&&"retry_codes_name"in L){const z=L.retry_codes_name;V=(q[z]||[]).map(W=>Number(U[W]))}let $=null;if(M&&"retry_params_name"in L){const z=M[L.retry_params_name];$=v(z.initial_retry_delay_millis,z.retry_delay_multiplier,z.max_retry_delay_millis,z.initial_rpc_timeout_millis,z.rpc_timeout_multiplier,z.max_rpc_timeout_millis,z.total_timeout_millis)}return E(V,$)}function C(L,q){if(!q)return null;if(!q.retryCodes&&!q.backoffSettings&&!q.shouldRetryFn&&!q.getResumptionRequestFn)return L;const M=q.retryCodes?q.retryCodes:L.retryCodes,U=q.backoffSettings?q.backoffSettings:L.backoffSettings,V=q.shouldRetryFn?q.shouldRetryFn:L.shouldRetryFn,$=q.getResumptionRequestFn?q.getResumptionRequestFn:L.getResumptionRequestFn;return E(M,U,V,$)}function N(L,q,M,U,V){V=V||{};const $={},z=(q.interfaces||{})[L];if(!z)return null;const W=(M.interfaces||{})[L]||{},J=z.methods,Y=W.methods||{};for(const Q in J){const H=J[Q],te=(0,u.toLowerCamelCase)(Q);let ne=R(H,z.retry_codes,z.retry_params,U),oe=H.bundling,ie=H.timeout_millis;if(Q in Y){const ue=Y[Q];ue&&("bundling"in ue&&(oe=ue.bundling),"timeout_millis"in ue&&(ie=ue.timeout_millis)),ne=C(ne,R(ue,W.retry_codes,W.retry_params,U))}const ee=L;$[te]=new O({timeout:ie,retry:ne,bundleOptions:oe?w(oe):null,otherArgs:V,apiName:ee})}return $}function D(L){return function(M){try{return L.encode(M).finish().length}catch(U){const V=JSON.stringify(M);return(0,c.warn)("error_encoding_protobufjs_object",`Cannot encode protobuf.js object: ${V}: ${U}`),V.length}}}return gax}var routingHeader={},hasRequiredRoutingHeader;function requireRoutingHeader(){if(hasRequiredRoutingHeader)return routingHeader;hasRequiredRoutingHeader=1;var c=routingHeader&&routingHeader.__createBinding||(Object.create?(function(T,E,v,p){p===void 0&&(p=v);var g=Object.getOwnPropertyDescriptor(E,v);(!g||("get"in g?!E.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return E[v]}}),Object.defineProperty(T,p,g)}):(function(T,E,v,p){p===void 0&&(p=v),T[p]=E[v]})),u=routingHeader&&routingHeader.__setModuleDefault||(Object.create?(function(T,E){Object.defineProperty(T,"default",{enumerable:!0,value:E})}):function(T,E){T.default=E}),d=routingHeader&&routingHeader.__importStar||(function(){var T=function(E){return T=Object.getOwnPropertyNames||function(v){var p=[];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(p[p.length]=g);return p},T(E)};return function(E){if(E&&E.__esModule)return E;var v={};if(E!=null)for(var p=T(E),g=0;g<p.length;g++)p[g]!=="default"&&c(v,E,p[g]);return u(v,E),v}})();Object.defineProperty(routingHeader,"__esModule",{value:!0}),routingHeader.fromParams=O;const y=d(require$$0$5);function O(T){return y.stringify(T)}return routingHeader}var src$8={},googleauth={},src$7={},gaxios={},extend,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend;hasRequiredExtend=1;var c=Object.prototype.hasOwnProperty,u=Object.prototype.toString,d=Object.defineProperty,y=Object.getOwnPropertyDescriptor,O=function(g){return typeof Array.isArray=="function"?Array.isArray(g):u.call(g)==="[object Array]"},T=function(g){if(!g||u.call(g)!=="[object Object]")return!1;var w=c.call(g,"constructor"),R=g.constructor&&g.constructor.prototype&&c.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!w&&!R)return!1;var C;for(C in g);return typeof C>"u"||c.call(g,C)},E=function(g,w){d&&w.name==="__proto__"?d(g,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):g[w.name]=w.newValue},v=function(g,w){if(w==="__proto__")if(c.call(g,w)){if(y)return y(g,w).value}else return;return g[w]};return extend=function p(){var g,w,R,C,N,D,L=arguments[0],q=1,M=arguments.length,U=!1;for(typeof L=="boolean"&&(U=L,L=arguments[1]||{},q=2),(L==null||typeof L!="object"&&typeof L!="function")&&(L={});q<M;++q)if(g=arguments[q],g!=null)for(w in g)R=v(L,w),C=v(g,w),L!==C&&(U&&C&&(T(C)||(N=O(C)))?(N?(N=!1,D=R&&O(R)?R:[]):D=R&&T(R)?R:{},E(L,{name:w,newValue:p(U,D,C)})):typeof C<"u"&&E(L,{name:w,newValue:C}));return L},extend}var common$1={};const name$2="gaxios",version$4="7.1.3",description$1="A simple common HTTP client specifically for Google APIs and services.",main$1="build/cjs/src/index.js",types$3="build/cjs/src/index.d.ts",files$1=["build/"],exports$1={".":{import:{types:"./build/esm/src/index.d.ts",default:"./build/esm/src/index.js"},require:{types:"./build/cjs/src/index.d.ts",default:"./build/cjs/src/index.js"}}},scripts$1={lint:"gts check --no-inline-config",test:"c8 mocha build/esm/test","presystem-test":"npm run compile","system-test":"mocha build/esm/system-test --timeout 80000",compile:"tsc -b ./tsconfig.json ./tsconfig.cjs.json && node utils/enable-esm.mjs",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"jsdoc -c .jsdoc.js","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean"},repository$1={type:"git",directory:"packages/gaxios",url:"https://github.com/googleapis/google-cloud-node-core.git"},keywords$1=["google"],engines$1={node:">=18"},author$1="Google, LLC",license$1="Apache-2.0",devDependencies$1={"@babel/plugin-proposal-private-methods":"^7.18.6","@types/cors":"^2.8.6","@types/express":"^5.0.0","@types/extend":"^3.0.1","@types/mocha":"^10.0.10","@types/multiparty":"4.2.1","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^22.0.0","@types/sinon":"^17.0.0","@types/tmp":"0.2.6",assert:"^2.0.0",browserify:"^17.0.0",c8:"^10.0.0",cors:"^2.8.5",express:"^5.0.0",gts:"^6.0.0","is-docker":"^3.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^5.0.0","jsdoc-region-tag":"^4.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"^5.0.1",linkinator:"^6.1.2",mocha:"^11.1.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^14.0.0-beta.13","null-loader":"^4.0.0","pack-n-play":"^4.0.0",puppeteer:"^24.0.0",sinon:"^21.0.0","stream-browserify":"^3.0.0",tmp:"0.2.5","ts-loader":"^9.5.2",typescript:"^5.8.3",webpack:"^5.35.0","webpack-cli":"^6.0.1"},dependencies$1={extend:"^3.0.2","https-proxy-agent":"^7.0.1","node-fetch":"^3.3.2",rimraf:"^5.0.1"},homepage="https://github.com/googleapis/google-cloud-node-core/tree/main/packages/gaxios",require$$0$3={name:name$2,version:version$4,description:description$1,main:main$1,types:types$3,files:files$1,exports:exports$1,scripts:scripts$1,repository:repository$1,keywords:keywords$1,engines:engines$1,author:author$1,license:license$1,devDependencies:devDependencies$1,dependencies:dependencies$1,homepage};var util$3,hasRequiredUtil$4;function requireUtil$4(){return hasRequiredUtil$4||(hasRequiredUtil$4=1,util$3={pkg:require$$0$3}),util$3}var hasRequiredCommon$1;function requireCommon$1(){return hasRequiredCommon$1||(hasRequiredCommon$1=1,(function(c){var p;var u=common$1&&common$1.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(c,"__esModule",{value:!0}),c.GaxiosError=c.GAXIOS_ERROR_SYMBOL=void 0,c.defaultErrorRedactor=v;const d=u(requireExtend()),O=u(requireUtil$4()).default.pkg;c.GAXIOS_ERROR_SYMBOL=Symbol.for(`${O.name}-gaxios-error`);class T extends Error{constructor(R,C,N,D){var L,q;super(R,{cause:D});ce(this,"config");ce(this,"response");ce(this,"code");ce(this,"status");ce(this,"error");ce(this,p,O.version);if(this.config=C,this.response=N,this.error=D instanceof Error?D:void 0,this.config=(0,d.default)(!0,{},C),this.response&&(this.response.config=(0,d.default)(!0,{},this.response.config)),this.response){try{this.response.data=E(this.config.responseType,(L=this.response)!=null&&L.bodyUsed?(q=this.response)==null?void 0:q.data:void 0)}catch{}this.status=this.response.status}D instanceof DOMException?this.code=D.name:D&&typeof D=="object"&&"code"in D&&(typeof D.code=="string"||typeof D.code=="number")&&(this.code=D.code)}static[(p=c.GAXIOS_ERROR_SYMBOL,Symbol.hasInstance)](R){return R&&typeof R=="object"&&c.GAXIOS_ERROR_SYMBOL in R&&R[c.GAXIOS_ERROR_SYMBOL]===O.version?!0:Function.prototype[Symbol.hasInstance].call(T,R)}static extractAPIErrorFromResponse(R,C="The request failed"){let N=C;if(typeof R.data=="string"&&(N=R.data),R.data&&typeof R.data=="object"&&"error"in R.data&&R.data.error&&!R.ok){if(typeof R.data.error=="string")return{message:R.data.error,code:R.status,status:R.statusText};if(typeof R.data.error=="object"){N="message"in R.data.error&&typeof R.data.error.message=="string"?R.data.error.message:N;const D="status"in R.data.error&&typeof R.data.error.status=="string"?R.data.error.status:R.statusText,L="code"in R.data.error&&typeof R.data.error.code=="number"?R.data.error.code:R.status;if("errors"in R.data.error&&Array.isArray(R.data.error.errors)){const q=[];for(const M of R.data.error.errors)typeof M=="object"&&"message"in M&&typeof M.message=="string"&&q.push(M.message);return Object.assign({message:q.join(`
`)||N,code:L,status:D},R.data.error)}return Object.assign({message:N,code:L,status:D},R.data.error)}}return{message:N,code:R.status,status:R.statusText}}}c.GaxiosError=T;function E(g,w){switch(g){case"stream":return w;case"json":return JSON.parse(JSON.stringify(w));case"arraybuffer":return JSON.parse(Buffer.from(w).toString("utf8"));case"blob":return JSON.parse(w.text());default:return w}}function v(g){const w="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";function R(D){D&&D.forEach((L,q)=>{(/^authentication$/i.test(q)||/^authorization$/i.test(q)||/secret/i.test(q))&&D.set(q,w)})}function C(D,L){if(typeof D=="object"&&D!==null&&typeof D[L]=="string"){const q=D[L];(/grant_type=/i.test(q)||/assertion=/i.test(q)||/secret/i.test(q))&&(D[L]=w)}}function N(D){!D||typeof D!="object"||(D instanceof FormData||D instanceof URLSearchParams||"forEach"in D&&"set"in D?D.forEach((L,q)=>{(["grant_type","assertion"].includes(q)||/secret/.test(q))&&D.set(q,w)}):("grant_type"in D&&(D.grant_type=w),"assertion"in D&&(D.assertion=w),"client_secret"in D&&(D.client_secret=w)))}return g.config&&(R(g.config.headers),C(g.config,"data"),N(g.config.data),C(g.config,"body"),N(g.config.body),g.config.url.searchParams.has("token")&&g.config.url.searchParams.set("token",w),g.config.url.searchParams.has("client_secret")&&g.config.url.searchParams.set("client_secret",w)),g.response&&(v({config:g.response.config}),R(g.response.headers),g.response.bodyUsed&&(C(g.response,"data"),N(g.response.data))),g}})(common$1)),common$1}var retry={},hasRequiredRetry;function requireRetry(){if(hasRequiredRetry)return retry;hasRequiredRetry=1,Object.defineProperty(retry,"__esModule",{value:!0}),retry.getRetryConfig=c;async function c(O){let T=d(O);if(!O||!O.config||!T&&!O.config.retry)return{shouldRetry:!1};T=T||{},T.currentRetryAttempt=T.currentRetryAttempt||0,T.retry=T.retry===void 0||T.retry===null?3:T.retry,T.httpMethodsToRetry=T.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],T.noResponseRetries=T.noResponseRetries===void 0||T.noResponseRetries===null?2:T.noResponseRetries,T.retryDelayMultiplier=T.retryDelayMultiplier?T.retryDelayMultiplier:2,T.timeOfFirstRequest=T.timeOfFirstRequest?T.timeOfFirstRequest:Date.now(),T.totalTimeout=T.totalTimeout?T.totalTimeout:Number.MAX_SAFE_INTEGER,T.maxRetryDelay=T.maxRetryDelay?T.maxRetryDelay:Number.MAX_SAFE_INTEGER;const E=[[100,199],[408,408],[429,429],[500,599]];if(T.statusCodesToRetry=T.statusCodesToRetry||E,O.config.retryConfig=T,!await(T.shouldRetry||u)(O))return{shouldRetry:!1,config:O.config};const p=y(T);O.config.retryConfig.currentRetryAttempt+=1;const g=T.retryBackoff?T.retryBackoff(O,p):new Promise(w=>{setTimeout(w,p)});return T.onRetryAttempt&&await T.onRetryAttempt(O),await g,{shouldRetry:!0,config:O.config}}function u(O){var E,v;const T=d(O);if((E=O.config.signal)!=null&&E.aborted&&O.code!=="TimeoutError"||O.code==="AbortError"||!T||T.retry===0||!O.response&&(T.currentRetryAttempt||0)>=T.noResponseRetries||!T.httpMethodsToRetry||!T.httpMethodsToRetry.includes(((v=O.config.method)==null?void 0:v.toUpperCase())||"GET"))return!1;if(O.response&&O.response.status){let p=!1;for(const[g,w]of T.statusCodesToRetry){const R=O.response.status;if(R>=g&&R<=w){p=!0;break}}if(!p)return!1}return T.currentRetryAttempt=T.currentRetryAttempt||0,!(T.currentRetryAttempt>=T.retry)}function d(O){if(O&&O.config&&O.config.retryConfig)return O.config.retryConfig}function y(O){const E=(O.currentRetryAttempt?0:O.retryDelay??100)+(Math.pow(O.retryDelayMultiplier,O.currentRetryAttempt)-1)/2*1e3,v=O.totalTimeout-(Date.now()-O.timeOfFirstRequest);return Math.min(E,v,O.maxRetryDelay)}return retry}var interceptor={},hasRequiredInterceptor;function requireInterceptor(){if(hasRequiredInterceptor)return interceptor;hasRequiredInterceptor=1,Object.defineProperty(interceptor,"__esModule",{value:!0}),interceptor.GaxiosInterceptorManager=void 0;class c extends Set{}return interceptor.GaxiosInterceptorManager=c,interceptor}var hasRequiredGaxios;function requireGaxios(){var C,na,ia,oa,aa,no,U,V,$,sa,la;if(hasRequiredGaxios)return gaxios;hasRequiredGaxios=1;var c={},u=gaxios&&gaxios.__importDefault||function(J){return J&&J.__esModule?J:{default:J}},d;Object.defineProperty(gaxios,"__esModule",{value:!0}),gaxios.Gaxios=void 0;const y=u(requireExtend()),O=require$$1$4,T=requireCommon$1(),E=requireRetry(),v=require$$0$6,p=requireInterceptor(),g=async()=>{var J;return((J=globalThis.crypto)==null?void 0:J.randomUUID())||(await import("crypto")).randomUUID()},w=204;class R{constructor(Y){ze(this,C);ce(this,"agentCache",new Map);ce(this,"defaults");ce(this,"interceptors");this.defaults=Y||{},this.interceptors={request:new p.GaxiosInterceptorManager,response:new p.GaxiosInterceptorManager}}fetch(...Y){const Q=Y[0],H=Y[1];let te;const ne=new Headers;return typeof Q=="string"?te=new URL(Q):Q instanceof URL?te=Q:Q&&Q.url&&(te=new URL(Q.url)),Q&&typeof Q=="object"&&"headers"in Q&&d.mergeHeaders(ne,Q.headers),H&&d.mergeHeaders(ne,new Headers(H.headers)),typeof Q=="object"&&!(Q instanceof URL)?this.request({...H,...Q,headers:ne,url:te}):this.request({...H,headers:ne,url:te})}async request(Y={}){let Q=await Qe(this,C,aa).call(this,Y);return Q=await Qe(this,C,ia).call(this,Q),Qe(this,C,oa).call(this,this._request(Q))}async _defaultAdapter(Y){var oe,ie;const Q=Y.fetchImplementation||this.defaults.fetchImplementation||await Qe(oe=d,$,la).call(oe),H={...Y};delete H.data;const te=await Q(Y.url,H),ne=await this.getResponseData(Y,te);return(ie=Object.getOwnPropertyDescriptor(te,"data"))!=null&&ie.configurable||Object.defineProperties(te,{data:{configurable:!0,writable:!0,enumerable:!0,value:ne}}),Object.assign(te,{config:Y,data:ne})}async _request(Y){var Q;try{let H;if(Y.adapter?H=await Y.adapter(Y,this._defaultAdapter.bind(this)):H=await this._defaultAdapter(Y),!Y.validateStatus(H.status)){if(Y.responseType==="stream"){const ne=[];for await(const oe of H.data)ne.push(oe);H.data=ne.toString()}const te=T.GaxiosError.extractAPIErrorFromResponse(H,`Request failed with status code ${H.status}`);throw new T.GaxiosError(te==null?void 0:te.message,Y,H,te)}return H}catch(H){let te;H instanceof T.GaxiosError?te=H:H instanceof Error?te=new T.GaxiosError(H.message,Y,void 0,H):te=new T.GaxiosError("Unexpected Gaxios Error",Y,void 0,H);const{shouldRetry:ne,config:oe}=await(0,E.getRetryConfig)(te);if(ne&&oe)return te.config.retryConfig.currentRetryAttempt=oe.retryConfig.currentRetryAttempt,Y.retryConfig=(Q=te.config)==null?void 0:Q.retryConfig,Qe(this,C,no).call(this,Y),this._request(Y);throw Y.errorRedactor&&Y.errorRedactor(te),te}}async getResponseData(Y,Q){var H;if(Q.status===w)return"";if(Y.maxContentLength&&Q.headers.has("content-length")&&Y.maxContentLength<Number.parseInt(((H=Q.headers)==null?void 0:H.get("content-length"))||""))throw new T.GaxiosError("Response's `Content-Length` is over the limit.",Y,Object.assign(Q,{config:Y}));switch(Y.responseType){case"stream":return Q.body;case"json":{const te=await Q.text();try{return JSON.parse(te)}catch{return te}}case"arraybuffer":return Q.arrayBuffer();case"blob":return Q.blob();case"text":return Q.text();default:return this.getResponseDataFromContentType(Q)}}validateStatus(Y){return Y>=200&&Y<300}async getResponseDataFromContentType(Y){let Q=Y.headers.get("Content-Type");if(Q===null)return Y.text();if(Q=Q.toLowerCase(),Q.includes("application/json")){let H=await Y.text();try{H=JSON.parse(H)}catch{}return H}else return Q.match(/^text\//)?Y.text():Y.blob()}async*getMultipartRequest(Y,Q){const H=`--${Q}--`;for(const te of Y){const ne=te.headers.get("Content-Type")||"application/octet-stream";yield`--${Q}\r
Content-Type: ${ne}\r
\r
`,typeof te.content=="string"?yield te.content:yield*te.content,yield`\r
`}yield H}static mergeHeaders(Y,...Q){Y=Y instanceof Headers?Y:new Headers(Y);for(const H of Q)(H instanceof Headers?H:new Headers(H)).forEach((ne,oe)=>{oe==="set-cookie"?Y.append(oe,ne):Y.set(oe,ne)});return Y}}return C=new WeakSet,na=function(Y,Q=[]){var oe;const H=new URL(Y),te=[...Q],ne=((oe=c.NO_PROXY??c.no_proxy)==null?void 0:oe.split(","))||[];for(const ie of ne)te.push(ie.trim());for(const ie of te)if(ie instanceof RegExp){if(ie.test(H.toString()))return!1}else if(ie instanceof URL){if(ie.origin===H.origin)return!1}else if(ie.startsWith("*.")||ie.startsWith(".")){const ee=ie.replace(/^\*\./,".");if(H.hostname.endsWith(ee))return!1}else if(ie===H.origin||ie===H.hostname||ie===H.href)return!1;return!0},ia=async function(Y){let Q=Promise.resolve(Y);for(const H of this.interceptors.request.values())H&&(Q=Q.then(H.resolved,H.rejected));return Q},oa=async function(Y){let Q=Promise.resolve(Y);for(const H of this.interceptors.response.values())H&&(Q=Q.then(H.resolved,H.rejected));return Q},aa=async function(Y){var oe,ie,ee,ue;const Q=new Headers(this.defaults.headers);d.mergeHeaders(Q,Y.headers);const H=(0,y.default)(!0,{},this.defaults,Y);if(!H.url)throw new Error("URL is required.");if(H.baseURL&&(H.url=new URL(H.url,H.baseURL)),H.url=new URL(H.url),H.params)if(H.paramsSerializer){let fe=H.paramsSerializer(H.params);fe.startsWith("?")&&(fe=fe.slice(1));const de=H.url.toString().includes("?")?"&":"?";H.url=H.url+de+fe}else{const fe=H.url instanceof URL?H.url:new URL(H.url);for(const[de,ge]of new URLSearchParams(H.params))fe.searchParams.append(de,ge);H.url=fe}typeof Y.maxContentLength=="number"&&(H.size=Y.maxContentLength),typeof Y.maxRedirects=="number"&&(H.follow=Y.maxRedirects);const te=typeof H.data=="string"||H.data instanceof ArrayBuffer||H.data instanceof Blob||globalThis.File&&H.data instanceof File||H.data instanceof FormData||H.data instanceof v.Readable||H.data instanceof ReadableStream||H.data instanceof String||H.data instanceof URLSearchParams||ArrayBuffer.isView(H.data)||["Blob","File","FormData"].includes(((ie=(oe=H.data)==null?void 0:oe.constructor)==null?void 0:ie.name)||"");if((ee=H.multipart)!=null&&ee.length){const fe=await g();Q.set("content-type",`multipart/related; boundary=${fe}`),H.body=v.Readable.from(this.getMultipartRequest(H.multipart,fe))}else te?H.body=H.data:typeof H.data=="object"?Q.get("Content-Type")==="application/x-www-form-urlencoded"?H.body=H.paramsSerializer?H.paramsSerializer(H.data):new URLSearchParams(H.data):(Q.has("content-type")||Q.set("content-type","application/json"),H.body=JSON.stringify(H.data)):H.data&&(H.body=H.data);H.validateStatus=H.validateStatus||this.validateStatus,H.responseType=H.responseType||"unknown",!Q.has("accept")&&H.responseType==="json"&&Q.set("accept","application/json");const ne=H.proxy||(c==null?void 0:c.HTTPS_PROXY)||(c==null?void 0:c.https_proxy)||(c==null?void 0:c.HTTP_PROXY)||(c==null?void 0:c.http_proxy);if(!H.agent)if(ne&&Qe(this,C,na).call(this,H.url,H.noProxy)){const fe=await Qe(ue=d,$,sa).call(ue);this.agentCache.has(ne)?H.agent=this.agentCache.get(ne):(H.agent=new fe(ne,{cert:H.cert,key:H.key}),this.agentCache.set(ne,H.agent))}else H.cert&&H.key&&(this.agentCache.has(H.key)?H.agent=this.agentCache.get(H.key):(H.agent=new O.Agent({cert:H.cert,key:H.key}),this.agentCache.set(H.key,H.agent)));return typeof H.errorRedactor!="function"&&H.errorRedactor!==!1&&(H.errorRedactor=T.defaultErrorRedactor),H.body&&!("duplex"in H)&&(H.duplex="half"),Qe(this,C,no).call(this,H),Object.assign(H,{headers:Q,url:H.url instanceof URL?H.url:new URL(H.url)})},no=function(Y){if(Y.timeout){const Q=AbortSignal.timeout(Y.timeout);Y.signal&&!Y.signal.aborted?Y.signal=AbortSignal.any([Y.signal,Q]):Y.signal=Q}},U=new WeakMap,V=new WeakMap,$=new WeakSet,sa=async function(){return Ie(this,U)||We(this,U,(await Promise.resolve().then(()=>index$1)).HttpsProxyAgent),Ie(this,U)},la=async function(){const Y=typeof window<"u"&&!!window;return Ie(this,V)||We(this,V,Y?window.fetch:(await Promise.resolve().then(()=>index)).default),Ie(this,V)},ze(R,$),ze(R,U),ze(R,V),gaxios.Gaxios=R,d=R,gaxios}var hasRequiredSrc$9;function requireSrc$9(){return hasRequiredSrc$9||(hasRequiredSrc$9=1,(function(c){var u=src$7&&src$7.__createBinding||(Object.create?(function(E,v,p,g){g===void 0&&(g=p);var w=Object.getOwnPropertyDescriptor(v,p);(!w||("get"in w?!v.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(E,g,w)}):(function(E,v,p,g){g===void 0&&(g=p),E[g]=v[p]})),d=src$7&&src$7.__exportStar||function(E,v){for(var p in E)p!=="default"&&!Object.prototype.hasOwnProperty.call(v,p)&&u(v,E,p)};Object.defineProperty(c,"__esModule",{value:!0}),c.instance=c.Gaxios=c.GaxiosError=void 0,c.request=T;const y=requireGaxios();Object.defineProperty(c,"Gaxios",{enumerable:!0,get:function(){return y.Gaxios}});var O=requireCommon$1();Object.defineProperty(c,"GaxiosError",{enumerable:!0,get:function(){return O.GaxiosError}}),d(requireInterceptor(),c),c.instance=new y.Gaxios;async function T(E){return c.instance.request(E)}})(src$7)),src$7}var src$6={},jsonBigint={exports:{}},stringify={exports:{}},bignumber$1={exports:{}},bignumber=bignumber$1.exports,hasRequiredBignumber;function requireBignumber(){return hasRequiredBignumber||(hasRequiredBignumber=1,(function(c){(function(u){var d,y=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,O=Math.ceil,T=Math.floor,E="[BigNumber Error] ",v=E+"Number primitive has more than 15 significant digits: ",p=1e14,g=14,w=9007199254740991,R=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],C=1e7,N=1e9;function D(W){var J,Y,Q,H=Te.prototype={constructor:Te,toString:null,valueOf:null},te=new Te(1),ne=20,oe=4,ie=-7,ee=21,ue=-1e7,fe=1e7,de=!1,ge=1,me=0,_e={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},we="0123456789abcdefghijklmnopqrstuvwxyz",Re=!0;function Te(l,P){var k,K,pe,Se,ye,a,j,G,o=this;if(!(o instanceof Te))return new Te(l,P);if(P==null){if(l&&l._isBigNumber===!0){o.s=l.s,!l.c||l.e>fe?o.c=o.e=null:l.e<ue?o.c=[o.e=0]:(o.e=l.e,o.c=l.c.slice());return}if((a=typeof l=="number")&&l*0==0){if(o.s=1/l<0?(l=-l,-1):1,l===~~l){for(Se=0,ye=l;ye>=10;ye/=10,Se++);Se>fe?o.c=o.e=null:(o.e=Se,o.c=[l]);return}G=String(l)}else{if(!y.test(G=String(l)))return Q(o,G,a);o.s=G.charCodeAt(0)==45?(G=G.slice(1),-1):1}(Se=G.indexOf("."))>-1&&(G=G.replace(".","")),(ye=G.search(/e/i))>0?(Se<0&&(Se=ye),Se+=+G.slice(ye+1),G=G.substring(0,ye)):Se<0&&(Se=G.length)}else{if(U(P,2,we.length,"Base"),P==10&&Re)return o=new Te(l),Ee(o,ne+o.e+1,oe);if(G=String(l),a=typeof l=="number"){if(l*0!=0)return Q(o,G,a,P);if(o.s=1/l<0?(G=G.slice(1),-1):1,Te.DEBUG&&G.replace(/^0\.0*|\./,"").length>15)throw Error(v+l)}else o.s=G.charCodeAt(0)===45?(G=G.slice(1),-1):1;for(k=we.slice(0,P),Se=ye=0,j=G.length;ye<j;ye++)if(k.indexOf(K=G.charAt(ye))<0){if(K=="."){if(ye>Se){Se=j;continue}}else if(!pe&&(G==G.toUpperCase()&&(G=G.toLowerCase())||G==G.toLowerCase()&&(G=G.toUpperCase()))){pe=!0,ye=-1,Se=0;continue}return Q(o,String(l),a,P)}a=!1,G=Y(G,P,10,o.s),(Se=G.indexOf("."))>-1?G=G.replace(".",""):Se=G.length}for(ye=0;G.charCodeAt(ye)===48;ye++);for(j=G.length;G.charCodeAt(--j)===48;);if(G=G.slice(ye,++j)){if(j-=ye,a&&Te.DEBUG&&j>15&&(l>w||l!==T(l)))throw Error(v+o.s*l);if((Se=Se-ye-1)>fe)o.c=o.e=null;else if(Se<ue)o.c=[o.e=0];else{if(o.e=Se,o.c=[],ye=(Se+1)%g,Se<0&&(ye+=g),ye<j){for(ye&&o.c.push(+G.slice(0,ye)),j-=g;ye<j;)o.c.push(+G.slice(ye,ye+=g));ye=g-(G=G.slice(ye)).length}else ye-=j;for(;ye--;G+="0");o.c.push(+G)}}else o.c=[o.e=0]}Te.clone=D,Te.ROUND_UP=0,Te.ROUND_DOWN=1,Te.ROUND_CEIL=2,Te.ROUND_FLOOR=3,Te.ROUND_HALF_UP=4,Te.ROUND_HALF_DOWN=5,Te.ROUND_HALF_EVEN=6,Te.ROUND_HALF_CEIL=7,Te.ROUND_HALF_FLOOR=8,Te.EUCLID=9,Te.config=Te.set=function(l){var P,k;if(l!=null)if(typeof l=="object"){if(l.hasOwnProperty(P="DECIMAL_PLACES")&&(k=l[P],U(k,0,N,P),ne=k),l.hasOwnProperty(P="ROUNDING_MODE")&&(k=l[P],U(k,0,8,P),oe=k),l.hasOwnProperty(P="EXPONENTIAL_AT")&&(k=l[P],k&&k.pop?(U(k[0],-N,0,P),U(k[1],0,N,P),ie=k[0],ee=k[1]):(U(k,-N,N,P),ie=-(ee=k<0?-k:k))),l.hasOwnProperty(P="RANGE"))if(k=l[P],k&&k.pop)U(k[0],-N,-1,P),U(k[1],1,N,P),ue=k[0],fe=k[1];else if(U(k,-N,N,P),k)ue=-(fe=k<0?-k:k);else throw Error(E+P+" cannot be zero: "+k);if(l.hasOwnProperty(P="CRYPTO"))if(k=l[P],k===!!k)if(k)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))de=k;else throw de=!k,Error(E+"crypto unavailable");else de=k;else throw Error(E+P+" not true or false: "+k);if(l.hasOwnProperty(P="MODULO_MODE")&&(k=l[P],U(k,0,9,P),ge=k),l.hasOwnProperty(P="POW_PRECISION")&&(k=l[P],U(k,0,N,P),me=k),l.hasOwnProperty(P="FORMAT"))if(k=l[P],typeof k=="object")_e=k;else throw Error(E+P+" not an object: "+k);if(l.hasOwnProperty(P="ALPHABET"))if(k=l[P],typeof k=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(k))Re=k.slice(0,10)=="0123456789",we=k;else throw Error(E+P+" invalid: "+k)}else throw Error(E+"Object expected: "+l);return{DECIMAL_PLACES:ne,ROUNDING_MODE:oe,EXPONENTIAL_AT:[ie,ee],RANGE:[ue,fe],CRYPTO:de,MODULO_MODE:ge,POW_PRECISION:me,FORMAT:_e,ALPHABET:we}},Te.isBigNumber=function(l){if(!l||l._isBigNumber!==!0)return!1;if(!Te.DEBUG)return!0;var P,k,K=l.c,pe=l.e,Se=l.s;e:if({}.toString.call(K)=="[object Array]"){if((Se===1||Se===-1)&&pe>=-N&&pe<=N&&pe===T(pe)){if(K[0]===0){if(pe===0&&K.length===1)return!0;break e}if(P=(pe+1)%g,P<1&&(P+=g),String(K[0]).length==P){for(P=0;P<K.length;P++)if(k=K[P],k<0||k>=p||k!==T(k))break e;if(k!==0)return!0}}}else if(K===null&&pe===null&&(Se===null||Se===1||Se===-1))return!0;throw Error(E+"Invalid BigNumber: "+l)},Te.maximum=Te.max=function(){return Oe(arguments,-1)},Te.minimum=Te.min=function(){return Oe(arguments,1)},Te.random=(function(){var l=9007199254740992,P=Math.random()*l&2097151?function(){return T(Math.random()*l)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(k){var K,pe,Se,ye,a,j=0,G=[],o=new Te(te);if(k==null?k=ne:U(k,0,N),ye=O(k/g),de)if(crypto.getRandomValues){for(K=crypto.getRandomValues(new Uint32Array(ye*=2));j<ye;)a=K[j]*131072+(K[j+1]>>>11),a>=9e15?(pe=crypto.getRandomValues(new Uint32Array(2)),K[j]=pe[0],K[j+1]=pe[1]):(G.push(a%1e14),j+=2);j=ye/2}else if(crypto.randomBytes){for(K=crypto.randomBytes(ye*=7);j<ye;)a=(K[j]&31)*281474976710656+K[j+1]*1099511627776+K[j+2]*4294967296+K[j+3]*16777216+(K[j+4]<<16)+(K[j+5]<<8)+K[j+6],a>=9e15?crypto.randomBytes(7).copy(K,j):(G.push(a%1e14),j+=7);j=ye/7}else throw de=!1,Error(E+"crypto unavailable");if(!de)for(;j<ye;)a=P(),a<9e15&&(G[j++]=a%1e14);for(ye=G[--j],k%=g,ye&&k&&(a=R[g-k],G[j]=T(ye/a)*a);G[j]===0;G.pop(),j--);if(j<0)G=[Se=0];else{for(Se=-1;G[0]===0;G.splice(0,1),Se-=g);for(j=1,a=G[0];a>=10;a/=10,j++);j<g&&(Se-=g-j)}return o.e=Se,o.c=G,o}})(),Te.sum=function(){for(var l=1,P=arguments,k=new Te(P[0]);l<P.length;)k=k.plus(P[l++]);return k},Y=(function(){var l="0123456789";function P(k,K,pe,Se){for(var ye,a=[0],j,G=0,o=k.length;G<o;){for(j=a.length;j--;a[j]*=K);for(a[0]+=Se.indexOf(k.charAt(G++)),ye=0;ye<a.length;ye++)a[ye]>pe-1&&(a[ye+1]==null&&(a[ye+1]=0),a[ye+1]+=a[ye]/pe|0,a[ye]%=pe)}return a.reverse()}return function(k,K,pe,Se,ye){var a,j,G,o,I,B,ae,Ce,Ue=k.indexOf("."),He=ne,Ve=oe;for(Ue>=0&&(o=me,me=0,k=k.replace(".",""),Ce=new Te(K),B=Ce.pow(k.length-Ue),me=o,Ce.c=P(z(q(B.c),B.e,"0"),10,pe,l),Ce.e=Ce.c.length),ae=P(k,K,pe,ye?(a=we,l):(a=l,we)),G=o=ae.length;ae[--o]==0;ae.pop());if(!ae[0])return a.charAt(0);if(Ue<0?--G:(B.c=ae,B.e=G,B.s=Se,B=J(B,Ce,He,Ve,pe),ae=B.c,I=B.r,G=B.e),j=G+He+1,Ue=ae[j],o=pe/2,I=I||j<0||ae[j+1]!=null,I=Ve<4?(Ue!=null||I)&&(Ve==0||Ve==(B.s<0?3:2)):Ue>o||Ue==o&&(Ve==4||I||Ve==6&&ae[j-1]&1||Ve==(B.s<0?8:7)),j<1||!ae[0])k=I?z(a.charAt(1),-He,a.charAt(0)):a.charAt(0);else{if(ae.length=j,I)for(--pe;++ae[--j]>pe;)ae[j]=0,j||(++G,ae=[1].concat(ae));for(o=ae.length;!ae[--o];);for(Ue=0,k="";Ue<=o;k+=a.charAt(ae[Ue++]));k=z(k,G,a.charAt(0))}return k}})(),J=(function(){function l(K,pe,Se){var ye,a,j,G,o=0,I=K.length,B=pe%C,ae=pe/C|0;for(K=K.slice();I--;)j=K[I]%C,G=K[I]/C|0,ye=ae*j+G*B,a=B*j+ye%C*C+o,o=(a/Se|0)+(ye/C|0)+ae*G,K[I]=a%Se;return o&&(K=[o].concat(K)),K}function P(K,pe,Se,ye){var a,j;if(Se!=ye)j=Se>ye?1:-1;else for(a=j=0;a<Se;a++)if(K[a]!=pe[a]){j=K[a]>pe[a]?1:-1;break}return j}function k(K,pe,Se,ye){for(var a=0;Se--;)K[Se]-=a,a=K[Se]<pe[Se]?1:0,K[Se]=a*ye+K[Se]-pe[Se];for(;!K[0]&&K.length>1;K.splice(0,1));}return function(K,pe,Se,ye,a){var j,G,o,I,B,ae,Ce,Ue,He,Ve,Ke,st,vt,ft,yt,tt,ke,je=K.s==pe.s?1:-1,Ne=K.c,Me=pe.c;if(!Ne||!Ne[0]||!Me||!Me[0])return new Te(!K.s||!pe.s||(Ne?Me&&Ne[0]==Me[0]:!Me)?NaN:Ne&&Ne[0]==0||!Me?je*0:je/0);for(Ue=new Te(je),He=Ue.c=[],G=K.e-pe.e,je=Se+G+1,a||(a=p,G=L(K.e/g)-L(pe.e/g),je=je/g|0),o=0;Me[o]==(Ne[o]||0);o++);if(Me[o]>(Ne[o]||0)&&G--,je<0)He.push(1),I=!0;else{for(ft=Ne.length,tt=Me.length,o=0,je+=2,B=T(a/(Me[0]+1)),B>1&&(Me=l(Me,B,a),Ne=l(Ne,B,a),tt=Me.length,ft=Ne.length),vt=tt,Ve=Ne.slice(0,tt),Ke=Ve.length;Ke<tt;Ve[Ke++]=0);ke=Me.slice(),ke=[0].concat(ke),yt=Me[0],Me[1]>=a/2&&yt++;do{if(B=0,j=P(Me,Ve,tt,Ke),j<0){if(st=Ve[0],tt!=Ke&&(st=st*a+(Ve[1]||0)),B=T(st/yt),B>1)for(B>=a&&(B=a-1),ae=l(Me,B,a),Ce=ae.length,Ke=Ve.length;P(ae,Ve,Ce,Ke)==1;)B--,k(ae,tt<Ce?ke:Me,Ce,a),Ce=ae.length,j=1;else B==0&&(j=B=1),ae=Me.slice(),Ce=ae.length;if(Ce<Ke&&(ae=[0].concat(ae)),k(Ve,ae,Ke,a),Ke=Ve.length,j==-1)for(;P(Me,Ve,tt,Ke)<1;)B++,k(Ve,tt<Ke?ke:Me,Ke,a),Ke=Ve.length}else j===0&&(B++,Ve=[0]);He[o++]=B,Ve[0]?Ve[Ke++]=Ne[vt]||0:(Ve=[Ne[vt]],Ke=1)}while((vt++<ft||Ve[0]!=null)&&je--);I=Ve[0]!=null,He[0]||He.splice(0,1)}if(a==p){for(o=1,je=He[0];je>=10;je/=10,o++);Ee(Ue,Se+(Ue.e=o+G*g-1)+1,ye,I)}else Ue.e=G,Ue.r=+I;return Ue}})();function Ae(l,P,k,K){var pe,Se,ye,a,j;if(k==null?k=oe:U(k,0,8),!l.c)return l.toString();if(pe=l.c[0],ye=l.e,P==null)j=q(l.c),j=K==1||K==2&&(ye<=ie||ye>=ee)?$(j,ye):z(j,ye,"0");else if(l=Ee(new Te(l),P,k),Se=l.e,j=q(l.c),a=j.length,K==1||K==2&&(P<=Se||Se<=ie)){for(;a<P;j+="0",a++);j=$(j,Se)}else if(P-=ye+(K===2&&Se>ye),j=z(j,Se,"0"),Se+1>a){if(--P>0)for(j+=".";P--;j+="0");}else if(P+=Se-a,P>0)for(Se+1==a&&(j+=".");P--;j+="0");return l.s<0&&pe?"-"+j:j}function Oe(l,P){for(var k,K,pe=1,Se=new Te(l[0]);pe<l.length;pe++)K=new Te(l[pe]),(!K.s||(k=M(Se,K))===P||k===0&&Se.s===P)&&(Se=K);return Se}function ve(l,P,k){for(var K=1,pe=P.length;!P[--pe];P.pop());for(pe=P[0];pe>=10;pe/=10,K++);return(k=K+k*g-1)>fe?l.c=l.e=null:k<ue?l.c=[l.e=0]:(l.e=k,l.c=P),l}Q=(function(){var l=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,k=/^\.([^.]+)$/,K=/^-?(Infinity|NaN)$/,pe=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Se,ye,a,j){var G,o=a?ye:ye.replace(pe,"");if(K.test(o))Se.s=isNaN(o)?null:o<0?-1:1;else{if(!a&&(o=o.replace(l,function(I,B,ae){return G=(ae=ae.toLowerCase())=="x"?16:ae=="b"?2:8,!j||j==G?B:I}),j&&(G=j,o=o.replace(P,"$1").replace(k,"0.$1")),ye!=o))return new Te(o,G);if(Te.DEBUG)throw Error(E+"Not a"+(j?" base "+j:"")+" number: "+ye);Se.s=null}Se.c=Se.e=null}})();function Ee(l,P,k,K){var pe,Se,ye,a,j,G,o,I=l.c,B=R;if(I){e:{for(pe=1,a=I[0];a>=10;a/=10,pe++);if(Se=P-pe,Se<0)Se+=g,ye=P,j=I[G=0],o=T(j/B[pe-ye-1]%10);else if(G=O((Se+1)/g),G>=I.length)if(K){for(;I.length<=G;I.push(0));j=o=0,pe=1,Se%=g,ye=Se-g+1}else break e;else{for(j=a=I[G],pe=1;a>=10;a/=10,pe++);Se%=g,ye=Se-g+pe,o=ye<0?0:T(j/B[pe-ye-1]%10)}if(K=K||P<0||I[G+1]!=null||(ye<0?j:j%B[pe-ye-1]),K=k<4?(o||K)&&(k==0||k==(l.s<0?3:2)):o>5||o==5&&(k==4||K||k==6&&(Se>0?ye>0?j/B[pe-ye]:0:I[G-1])%10&1||k==(l.s<0?8:7)),P<1||!I[0])return I.length=0,K?(P-=l.e+1,I[0]=B[(g-P%g)%g],l.e=-P||0):I[0]=l.e=0,l;if(Se==0?(I.length=G,a=1,G--):(I.length=G+1,a=B[g-Se],I[G]=ye>0?T(j/B[pe-ye]%B[ye])*a:0),K)for(;;)if(G==0){for(Se=1,ye=I[0];ye>=10;ye/=10,Se++);for(ye=I[0]+=a,a=1;ye>=10;ye/=10,a++);Se!=a&&(l.e++,I[0]==p&&(I[0]=1));break}else{if(I[G]+=a,I[G]!=p)break;I[G--]=0,a=1}for(Se=I.length;I[--Se]===0;I.pop());}l.e>fe?l.c=l.e=null:l.e<ue&&(l.c=[l.e=0])}return l}function he(l){var P,k=l.e;return k===null?l.toString():(P=q(l.c),P=k<=ie||k>=ee?$(P,k):z(P,k,"0"),l.s<0?"-"+P:P)}return H.absoluteValue=H.abs=function(){var l=new Te(this);return l.s<0&&(l.s=1),l},H.comparedTo=function(l,P){return M(this,new Te(l,P))},H.decimalPlaces=H.dp=function(l,P){var k,K,pe,Se=this;if(l!=null)return U(l,0,N),P==null?P=oe:U(P,0,8),Ee(new Te(Se),l+Se.e+1,P);if(!(k=Se.c))return null;if(K=((pe=k.length-1)-L(this.e/g))*g,pe=k[pe])for(;pe%10==0;pe/=10,K--);return K<0&&(K=0),K},H.dividedBy=H.div=function(l,P){return J(this,new Te(l,P),ne,oe)},H.dividedToIntegerBy=H.idiv=function(l,P){return J(this,new Te(l,P),0,1)},H.exponentiatedBy=H.pow=function(l,P){var k,K,pe,Se,ye,a,j,G,o,I=this;if(l=new Te(l),l.c&&!l.isInteger())throw Error(E+"Exponent not an integer: "+he(l));if(P!=null&&(P=new Te(P)),a=l.e>14,!I.c||!I.c[0]||I.c[0]==1&&!I.e&&I.c.length==1||!l.c||!l.c[0])return o=new Te(Math.pow(+he(I),a?l.s*(2-V(l)):+he(l))),P?o.mod(P):o;if(j=l.s<0,P){if(P.c?!P.c[0]:!P.s)return new Te(NaN);K=!j&&I.isInteger()&&P.isInteger(),K&&(I=I.mod(P))}else{if(l.e>9&&(I.e>0||I.e<-1||(I.e==0?I.c[0]>1||a&&I.c[1]>=24e7:I.c[0]<8e13||a&&I.c[0]<=9999975e7)))return Se=I.s<0&&V(l)?-0:0,I.e>-1&&(Se=1/Se),new Te(j?1/Se:Se);me&&(Se=O(me/g+2))}for(a?(k=new Te(.5),j&&(l.s=1),G=V(l)):(pe=Math.abs(+he(l)),G=pe%2),o=new Te(te);;){if(G){if(o=o.times(I),!o.c)break;Se?o.c.length>Se&&(o.c.length=Se):K&&(o=o.mod(P))}if(pe){if(pe=T(pe/2),pe===0)break;G=pe%2}else if(l=l.times(k),Ee(l,l.e+1,1),l.e>14)G=V(l);else{if(pe=+he(l),pe===0)break;G=pe%2}I=I.times(I),Se?I.c&&I.c.length>Se&&(I.c.length=Se):K&&(I=I.mod(P))}return K?o:(j&&(o=te.div(o)),P?o.mod(P):Se?Ee(o,me,oe,ye):o)},H.integerValue=function(l){var P=new Te(this);return l==null?l=oe:U(l,0,8),Ee(P,P.e+1,l)},H.isEqualTo=H.eq=function(l,P){return M(this,new Te(l,P))===0},H.isFinite=function(){return!!this.c},H.isGreaterThan=H.gt=function(l,P){return M(this,new Te(l,P))>0},H.isGreaterThanOrEqualTo=H.gte=function(l,P){return(P=M(this,new Te(l,P)))===1||P===0},H.isInteger=function(){return!!this.c&&L(this.e/g)>this.c.length-2},H.isLessThan=H.lt=function(l,P){return M(this,new Te(l,P))<0},H.isLessThanOrEqualTo=H.lte=function(l,P){return(P=M(this,new Te(l,P)))===-1||P===0},H.isNaN=function(){return!this.s},H.isNegative=function(){return this.s<0},H.isPositive=function(){return this.s>0},H.isZero=function(){return!!this.c&&this.c[0]==0},H.minus=function(l,P){var k,K,pe,Se,ye=this,a=ye.s;if(l=new Te(l,P),P=l.s,!a||!P)return new Te(NaN);if(a!=P)return l.s=-P,ye.plus(l);var j=ye.e/g,G=l.e/g,o=ye.c,I=l.c;if(!j||!G){if(!o||!I)return o?(l.s=-P,l):new Te(I?ye:NaN);if(!o[0]||!I[0])return I[0]?(l.s=-P,l):new Te(o[0]?ye:oe==3?-0:0)}if(j=L(j),G=L(G),o=o.slice(),a=j-G){for((Se=a<0)?(a=-a,pe=o):(G=j,pe=I),pe.reverse(),P=a;P--;pe.push(0));pe.reverse()}else for(K=(Se=(a=o.length)<(P=I.length))?a:P,a=P=0;P<K;P++)if(o[P]!=I[P]){Se=o[P]<I[P];break}if(Se&&(pe=o,o=I,I=pe,l.s=-l.s),P=(K=I.length)-(k=o.length),P>0)for(;P--;o[k++]=0);for(P=p-1;K>a;){if(o[--K]<I[K]){for(k=K;k&&!o[--k];o[k]=P);--o[k],o[K]+=p}o[K]-=I[K]}for(;o[0]==0;o.splice(0,1),--G);return o[0]?ve(l,o,G):(l.s=oe==3?-1:1,l.c=[l.e=0],l)},H.modulo=H.mod=function(l,P){var k,K,pe=this;return l=new Te(l,P),!pe.c||!l.s||l.c&&!l.c[0]?new Te(NaN):!l.c||pe.c&&!pe.c[0]?new Te(pe):(ge==9?(K=l.s,l.s=1,k=J(pe,l,0,3),l.s=K,k.s*=K):k=J(pe,l,0,ge),l=pe.minus(k.times(l)),!l.c[0]&&ge==1&&(l.s=pe.s),l)},H.multipliedBy=H.times=function(l,P){var k,K,pe,Se,ye,a,j,G,o,I,B,ae,Ce,Ue,He,Ve=this,Ke=Ve.c,st=(l=new Te(l,P)).c;if(!Ke||!st||!Ke[0]||!st[0])return!Ve.s||!l.s||Ke&&!Ke[0]&&!st||st&&!st[0]&&!Ke?l.c=l.e=l.s=null:(l.s*=Ve.s,!Ke||!st?l.c=l.e=null:(l.c=[0],l.e=0)),l;for(K=L(Ve.e/g)+L(l.e/g),l.s*=Ve.s,j=Ke.length,I=st.length,j<I&&(Ce=Ke,Ke=st,st=Ce,pe=j,j=I,I=pe),pe=j+I,Ce=[];pe--;Ce.push(0));for(Ue=p,He=C,pe=I;--pe>=0;){for(k=0,B=st[pe]%He,ae=st[pe]/He|0,ye=j,Se=pe+ye;Se>pe;)G=Ke[--ye]%He,o=Ke[ye]/He|0,a=ae*G+o*B,G=B*G+a%He*He+Ce[Se]+k,k=(G/Ue|0)+(a/He|0)+ae*o,Ce[Se--]=G%Ue;Ce[Se]=k}return k?++K:Ce.splice(0,1),ve(l,Ce,K)},H.negated=function(){var l=new Te(this);return l.s=-l.s||null,l},H.plus=function(l,P){var k,K=this,pe=K.s;if(l=new Te(l,P),P=l.s,!pe||!P)return new Te(NaN);if(pe!=P)return l.s=-P,K.minus(l);var Se=K.e/g,ye=l.e/g,a=K.c,j=l.c;if(!Se||!ye){if(!a||!j)return new Te(pe/0);if(!a[0]||!j[0])return j[0]?l:new Te(a[0]?K:pe*0)}if(Se=L(Se),ye=L(ye),a=a.slice(),pe=Se-ye){for(pe>0?(ye=Se,k=j):(pe=-pe,k=a),k.reverse();pe--;k.push(0));k.reverse()}for(pe=a.length,P=j.length,pe-P<0&&(k=j,j=a,a=k,P=pe),pe=0;P;)pe=(a[--P]=a[P]+j[P]+pe)/p|0,a[P]=p===a[P]?0:a[P]%p;return pe&&(a=[pe].concat(a),++ye),ve(l,a,ye)},H.precision=H.sd=function(l,P){var k,K,pe,Se=this;if(l!=null&&l!==!!l)return U(l,1,N),P==null?P=oe:U(P,0,8),Ee(new Te(Se),l,P);if(!(k=Se.c))return null;if(pe=k.length-1,K=pe*g+1,pe=k[pe]){for(;pe%10==0;pe/=10,K--);for(pe=k[0];pe>=10;pe/=10,K++);}return l&&Se.e+1>K&&(K=Se.e+1),K},H.shiftedBy=function(l){return U(l,-w,w),this.times("1e"+l)},H.squareRoot=H.sqrt=function(){var l,P,k,K,pe,Se=this,ye=Se.c,a=Se.s,j=Se.e,G=ne+4,o=new Te("0.5");if(a!==1||!ye||!ye[0])return new Te(!a||a<0&&(!ye||ye[0])?NaN:ye?Se:1/0);if(a=Math.sqrt(+he(Se)),a==0||a==1/0?(P=q(ye),(P.length+j)%2==0&&(P+="0"),a=Math.sqrt(+P),j=L((j+1)/2)-(j<0||j%2),a==1/0?P="5e"+j:(P=a.toExponential(),P=P.slice(0,P.indexOf("e")+1)+j),k=new Te(P)):k=new Te(a+""),k.c[0]){for(j=k.e,a=j+G,a<3&&(a=0);;)if(pe=k,k=o.times(pe.plus(J(Se,pe,G,1))),q(pe.c).slice(0,a)===(P=q(k.c)).slice(0,a))if(k.e<j&&--a,P=P.slice(a-3,a+1),P=="9999"||!K&&P=="4999"){if(!K&&(Ee(pe,pe.e+ne+2,0),pe.times(pe).eq(Se))){k=pe;break}G+=4,a+=4,K=1}else{(!+P||!+P.slice(1)&&P.charAt(0)=="5")&&(Ee(k,k.e+ne+2,1),l=!k.times(k).eq(Se));break}}return Ee(k,k.e+ne+1,oe,l)},H.toExponential=function(l,P){return l!=null&&(U(l,0,N),l++),Ae(this,l,P,1)},H.toFixed=function(l,P){return l!=null&&(U(l,0,N),l=l+this.e+1),Ae(this,l,P)},H.toFormat=function(l,P,k){var K,pe=this;if(k==null)l!=null&&P&&typeof P=="object"?(k=P,P=null):l&&typeof l=="object"?(k=l,l=P=null):k=_e;else if(typeof k!="object")throw Error(E+"Argument not an object: "+k);if(K=pe.toFixed(l,P),pe.c){var Se,ye=K.split("."),a=+k.groupSize,j=+k.secondaryGroupSize,G=k.groupSeparator||"",o=ye[0],I=ye[1],B=pe.s<0,ae=B?o.slice(1):o,Ce=ae.length;if(j&&(Se=a,a=j,j=Se,Ce-=Se),a>0&&Ce>0){for(Se=Ce%a||a,o=ae.substr(0,Se);Se<Ce;Se+=a)o+=G+ae.substr(Se,a);j>0&&(o+=G+ae.slice(Se)),B&&(o="-"+o)}K=I?o+(k.decimalSeparator||"")+((j=+k.fractionGroupSize)?I.replace(new RegExp("\\d{"+j+"}\\B","g"),"$&"+(k.fractionGroupSeparator||"")):I):o}return(k.prefix||"")+K+(k.suffix||"")},H.toFraction=function(l){var P,k,K,pe,Se,ye,a,j,G,o,I,B,ae=this,Ce=ae.c;if(l!=null&&(a=new Te(l),!a.isInteger()&&(a.c||a.s!==1)||a.lt(te)))throw Error(E+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+he(a));if(!Ce)return new Te(ae);for(P=new Te(te),G=k=new Te(te),K=j=new Te(te),B=q(Ce),Se=P.e=B.length-ae.e-1,P.c[0]=R[(ye=Se%g)<0?g+ye:ye],l=!l||a.comparedTo(P)>0?Se>0?P:G:a,ye=fe,fe=1/0,a=new Te(B),j.c[0]=0;o=J(a,P,0,1),pe=k.plus(o.times(K)),pe.comparedTo(l)!=1;)k=K,K=pe,G=j.plus(o.times(pe=G)),j=pe,P=a.minus(o.times(pe=P)),a=pe;return pe=J(l.minus(k),K,0,1),j=j.plus(pe.times(G)),k=k.plus(pe.times(K)),j.s=G.s=ae.s,Se=Se*2,I=J(G,K,Se,oe).minus(ae).abs().comparedTo(J(j,k,Se,oe).minus(ae).abs())<1?[G,K]:[j,k],fe=ye,I},H.toNumber=function(){return+he(this)},H.toPrecision=function(l,P){return l!=null&&U(l,1,N),Ae(this,l,P,2)},H.toString=function(l){var P,k=this,K=k.s,pe=k.e;return pe===null?K?(P="Infinity",K<0&&(P="-"+P)):P="NaN":(l==null?P=pe<=ie||pe>=ee?$(q(k.c),pe):z(q(k.c),pe,"0"):l===10&&Re?(k=Ee(new Te(k),ne+pe+1,oe),P=z(q(k.c),k.e,"0")):(U(l,2,we.length,"Base"),P=Y(z(q(k.c),pe,"0"),10,l,K,!0)),K<0&&k.c[0]&&(P="-"+P)),P},H.valueOf=H.toJSON=function(){return he(this)},H._isBigNumber=!0,W!=null&&Te.set(W),Te}function L(W){var J=W|0;return W>0||W===J?J:J-1}function q(W){for(var J,Y,Q=1,H=W.length,te=W[0]+"";Q<H;){for(J=W[Q++]+"",Y=g-J.length;Y--;J="0"+J);te+=J}for(H=te.length;te.charCodeAt(--H)===48;);return te.slice(0,H+1||1)}function M(W,J){var Y,Q,H=W.c,te=J.c,ne=W.s,oe=J.s,ie=W.e,ee=J.e;if(!ne||!oe)return null;if(Y=H&&!H[0],Q=te&&!te[0],Y||Q)return Y?Q?0:-oe:ne;if(ne!=oe)return ne;if(Y=ne<0,Q=ie==ee,!H||!te)return Q?0:!H^Y?1:-1;if(!Q)return ie>ee^Y?1:-1;for(oe=(ie=H.length)<(ee=te.length)?ie:ee,ne=0;ne<oe;ne++)if(H[ne]!=te[ne])return H[ne]>te[ne]^Y?1:-1;return ie==ee?0:ie>ee^Y?1:-1}function U(W,J,Y,Q){if(W<J||W>Y||W!==T(W))throw Error(E+(Q||"Argument")+(typeof W=="number"?W<J||W>Y?" out of range: ":" not an integer: ":" not a primitive number: ")+String(W))}function V(W){var J=W.c.length-1;return L(W.e/g)==J&&W.c[J]%2!=0}function $(W,J){return(W.length>1?W.charAt(0)+"."+W.slice(1):W)+(J<0?"e":"e+")+J}function z(W,J,Y){var Q,H;if(J<0){for(H=Y+".";++J;H+=Y);W=H+W}else if(Q=W.length,++J>Q){for(H=Y,J-=Q;--J;H+=Y);W+=H}else J<Q&&(W=W.slice(0,J)+"."+W.slice(J));return W}d=D(),d.default=d.BigNumber=d,c.exports?c.exports=d:(u||(u=typeof self<"u"&&self?self:window),u.BigNumber=d)})(bignumber)})(bignumber$1)),bignumber$1.exports}var hasRequiredStringify;function requireStringify(){return hasRequiredStringify||(hasRequiredStringify=1,(function(c){var u=requireBignumber(),d=c.exports;(function(){var y=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,O,T,E={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v;function p(w){return y.lastIndex=0,y.test(w)?'"'+w.replace(y,function(R){var C=E[R];return typeof C=="string"?C:"\\u"+("0000"+R.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function g(w,R){var C,N,D,L,q=O,M,U=R[w],V=U!=null&&(U instanceof u||u.isBigNumber(U));switch(U&&typeof U=="object"&&typeof U.toJSON=="function"&&(U=U.toJSON(w)),typeof v=="function"&&(U=v.call(R,w,U)),typeof U){case"string":return V?U:p(U);case"number":return isFinite(U)?String(U):"null";case"boolean":case"null":case"bigint":return String(U);case"object":if(!U)return"null";if(O+=T,M=[],Object.prototype.toString.apply(U)==="[object Array]"){for(L=U.length,C=0;C<L;C+=1)M[C]=g(C,U)||"null";return D=M.length===0?"[]":O?`[
`+O+M.join(`,
`+O)+`
`+q+"]":"["+M.join(",")+"]",O=q,D}if(v&&typeof v=="object")for(L=v.length,C=0;C<L;C+=1)typeof v[C]=="string"&&(N=v[C],D=g(N,U),D&&M.push(p(N)+(O?": ":":")+D));else Object.keys(U).forEach(function($){var z=g($,U);z&&M.push(p($)+(O?": ":":")+z)});return D=M.length===0?"{}":O?`{
`+O+M.join(`,
`+O)+`
`+q+"}":"{"+M.join(",")+"}",O=q,D}}typeof d.stringify!="function"&&(d.stringify=function(w,R,C){var N;if(O="",T="",typeof C=="number")for(N=0;N<C;N+=1)T+=" ";else typeof C=="string"&&(T=C);if(v=R,R&&typeof R!="function"&&(typeof R!="object"||typeof R.length!="number"))throw new Error("JSON.stringify");return g("",{"":w})})})()})(stringify)),stringify.exports}var parse,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse;hasRequiredParse=1;var c=null;const u=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,d=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var y=function(O){var T={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(O!=null){if(O.strict===!0&&(T.strict=!0),O.storeAsString===!0&&(T.storeAsString=!0),T.alwaysParseAsBig=O.alwaysParseAsBig===!0?O.alwaysParseAsBig:!1,T.useNativeBigInt=O.useNativeBigInt===!0?O.useNativeBigInt:!1,typeof O.constructorAction<"u")if(O.constructorAction==="error"||O.constructorAction==="ignore"||O.constructorAction==="preserve")T.constructorAction=O.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${O.constructorAction}`);if(typeof O.protoAction<"u")if(O.protoAction==="error"||O.protoAction==="ignore"||O.protoAction==="preserve")T.protoAction=O.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${O.protoAction}`)}var E,v,p={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},g,w=function(V){throw{name:"SyntaxError",message:V,at:E,text:g}},R=function(V){return V&&V!==v&&w("Expected '"+V+"' instead of '"+v+"'"),v=g.charAt(E),E+=1,v},C=function(){var V,$="";for(v==="-"&&($="-",R("-"));v>="0"&&v<="9";)$+=v,R();if(v===".")for($+=".";R()&&v>="0"&&v<="9";)$+=v;if(v==="e"||v==="E")for($+=v,R(),(v==="-"||v==="+")&&($+=v,R());v>="0"&&v<="9";)$+=v,R();if(V=+$,!isFinite(V))w("Bad number");else return c==null&&(c=requireBignumber()),$.length>15?T.storeAsString?$:T.useNativeBigInt?BigInt($):new c($):T.alwaysParseAsBig?T.useNativeBigInt?BigInt(V):new c(V):V},N=function(){var V,$,z="",W;if(v==='"')for(var J=E;R();){if(v==='"')return E-1>J&&(z+=g.substring(J,E-1)),R(),z;if(v==="\\"){if(E-1>J&&(z+=g.substring(J,E-1)),R(),v==="u"){for(W=0,$=0;$<4&&(V=parseInt(R(),16),!!isFinite(V));$+=1)W=W*16+V;z+=String.fromCharCode(W)}else if(typeof p[v]=="string")z+=p[v];else break;J=E}}w("Bad string")},D=function(){for(;v&&v<=" ";)R()},L=function(){switch(v){case"t":return R("t"),R("r"),R("u"),R("e"),!0;case"f":return R("f"),R("a"),R("l"),R("s"),R("e"),!1;case"n":return R("n"),R("u"),R("l"),R("l"),null}w("Unexpected '"+v+"'")},q,M=function(){var V=[];if(v==="["){if(R("["),D(),v==="]")return R("]"),V;for(;v;){if(V.push(q()),D(),v==="]")return R("]"),V;R(","),D()}}w("Bad array")},U=function(){var V,$=Object.create(null);if(v==="{"){if(R("{"),D(),v==="}")return R("}"),$;for(;v;){if(V=N(),D(),R(":"),T.strict===!0&&Object.hasOwnProperty.call($,V)&&w('Duplicate key "'+V+'"'),u.test(V)===!0?T.protoAction==="error"?w("Object contains forbidden prototype property"):T.protoAction==="ignore"?q():$[V]=q():d.test(V)===!0?T.constructorAction==="error"?w("Object contains forbidden constructor property"):T.constructorAction==="ignore"?q():$[V]=q():$[V]=q(),D(),v==="}")return R("}"),$;R(","),D()}}w("Bad object")};return q=function(){switch(D(),v){case"{":return U();case"[":return M();case'"':return N();case"-":return C();default:return v>="0"&&v<="9"?C():L()}},function(V,$){var z;return g=V+"",E=0,v=" ",z=q(),D(),v&&w("Syntax error"),typeof $=="function"?(function W(J,Y){var Q,H=J[Y];return H&&typeof H=="object"&&Object.keys(H).forEach(function(te){Q=W(H,te),Q!==void 0?H[te]=Q:delete H[te]}),$.call(J,Y,H)})({"":z},""):z}};return parse=y,parse}var hasRequiredJsonBigint;function requireJsonBigint(){if(hasRequiredJsonBigint)return jsonBigint.exports;hasRequiredJsonBigint=1;var c=requireStringify().stringify,u=requireParse();return jsonBigint.exports=function(d){return{parse:u(d),stringify:c}},jsonBigint.exports.parse=u(),jsonBigint.exports.stringify=c,jsonBigint.exports}var gcpResidency={},hasRequiredGcpResidency;function requireGcpResidency(){return hasRequiredGcpResidency||(hasRequiredGcpResidency=1,(function(c){var u={};Object.defineProperty(c,"__esModule",{value:!0}),c.GCE_LINUX_BIOS_PATHS=void 0,c.isGoogleCloudServerless=T,c.isGoogleComputeEngineLinux=E,c.isGoogleComputeEngineMACAddress=v,c.isGoogleComputeEngine=p,c.detectGCPResidency=g;const d=require$$0$7,y=require$$1$5;c.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};const O=/^42:01/;function T(){return!!(u.CLOUD_RUN_JOB||u.FUNCTION_NAME||u.K_SERVICE)}function E(){if((0,y.platform)()!=="linux")return!1;try{(0,d.statSync)(c.GCE_LINUX_BIOS_PATHS.BIOS_DATE);const w=(0,d.readFileSync)(c.GCE_LINUX_BIOS_PATHS.BIOS_VENDOR,"utf8");return/Google/.test(w)}catch{return!1}}function v(){const w=(0,y.networkInterfaces)();for(const R of Object.values(w))if(R){for(const{mac:C}of R)if(O.test(C))return!0}return!1}function p(){return E()||v()}function g(){return T()||p()}})(gcpResidency)),gcpResidency}var src$5={},loggingUtils={},colours={},hasRequiredColours;function requireColours(){if(hasRequiredColours)return colours;hasRequiredColours=1,Object.defineProperty(colours,"__esModule",{value:!0}),colours.Colours=void 0;class c{static isEnabled(d){return d&&d.isTTY&&(typeof d.getColorDepth=="function"?d.getColorDepth()>2:!0)}static refresh(){c.enabled=c.isEnabled(process==null?void 0:process.stderr),this.enabled?(c.reset="\x1B[0m",c.bright="\x1B[1m",c.dim="\x1B[2m",c.red="\x1B[31m",c.green="\x1B[32m",c.yellow="\x1B[33m",c.blue="\x1B[34m",c.magenta="\x1B[35m",c.cyan="\x1B[36m",c.white="\x1B[37m",c.grey="\x1B[90m"):(c.reset="",c.bright="",c.dim="",c.red="",c.green="",c.yellow="",c.blue="",c.magenta="",c.cyan="",c.white="",c.grey="")}}return colours.Colours=c,c.enabled=!1,c.reset="",c.bright="",c.dim="",c.red="",c.green="",c.yellow="",c.blue="",c.magenta="",c.cyan="",c.white="",c.grey="",c.refresh(),colours}var hasRequiredLoggingUtils;function requireLoggingUtils(){return hasRequiredLoggingUtils||(hasRequiredLoggingUtils=1,(function(c){var u=loggingUtils&&loggingUtils.__createBinding||(Object.create?(function(z,W,J,Y){Y===void 0&&(Y=J);var Q=Object.getOwnPropertyDescriptor(W,J);(!Q||("get"in Q?!W.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return W[J]}}),Object.defineProperty(z,Y,Q)}):(function(z,W,J,Y){Y===void 0&&(Y=J),z[Y]=W[J]})),d=loggingUtils&&loggingUtils.__setModuleDefault||(Object.create?(function(z,W){Object.defineProperty(z,"default",{enumerable:!0,value:W})}):function(z,W){z.default=W}),y=loggingUtils&&loggingUtils.__importStar||(function(){var z=function(W){return z=Object.getOwnPropertyNames||function(J){var Y=[];for(var Q in J)Object.prototype.hasOwnProperty.call(J,Q)&&(Y[Y.length]=Q);return Y},z(W)};return function(W){if(W&&W.__esModule)return W;var J={};if(W!=null)for(var Y=z(W),Q=0;Q<Y.length;Q++)Y[Q]!=="default"&&u(J,W,Y[Q]);return d(J,W),J}})();Object.defineProperty(c,"__esModule",{value:!0}),c.env=c.DebugLogBackendBase=c.placeholder=c.AdhocDebugLogger=c.LogSeverity=void 0,c.getNodeBackend=C,c.getDebugBackend=D,c.getStructuredBackend=q,c.setBackend=V,c.log=$;const O=require$$0$8,T=y(require$$1$6),E=y(require$$3$2),v=requireColours();var p;(function(z){z.DEFAULT="DEFAULT",z.DEBUG="DEBUG",z.INFO="INFO",z.WARNING="WARNING",z.ERROR="ERROR"})(p||(c.LogSeverity=p={}));class g extends O.EventEmitter{constructor(W,J){super(),this.namespace=W,this.upstream=J,this.func=Object.assign(this.invoke.bind(this),{instance:this,on:(Y,Q)=>this.on(Y,Q)}),this.func.debug=(...Y)=>this.invokeSeverity(p.DEBUG,...Y),this.func.info=(...Y)=>this.invokeSeverity(p.INFO,...Y),this.func.warn=(...Y)=>this.invokeSeverity(p.WARNING,...Y),this.func.error=(...Y)=>this.invokeSeverity(p.ERROR,...Y),this.func.sublog=Y=>$(Y,this.func)}invoke(W,...J){if(this.upstream)try{this.upstream(W,...J)}catch{}try{this.emit("log",W,J)}catch{}}invokeSeverity(W,...J){this.invoke({severity:W},...J)}}c.AdhocDebugLogger=g,c.placeholder=new g("",()=>{}).func;class w{constructor(){var W;this.cached=new Map,this.filters=[],this.filtersSet=!1;let J=(W=T.env[c.env.nodeEnables])!==null&&W!==void 0?W:"*";J==="all"&&(J="*"),this.filters=J.split(",")}log(W,J,...Y){try{this.filtersSet||(this.setFilters(),this.filtersSet=!0);let Q=this.cached.get(W);Q||(Q=this.makeLogger(W),this.cached.set(W,Q)),Q(J,...Y)}catch(Q){console.error(Q)}}}c.DebugLogBackendBase=w;class R extends w{constructor(){super(...arguments),this.enabledRegexp=/.*/g}isEnabled(W){return this.enabledRegexp.test(W)}makeLogger(W){return this.enabledRegexp.test(W)?(J,...Y)=>{var Q;const H=`${v.Colours.green}${W}${v.Colours.reset}`,te=`${v.Colours.yellow}${T.pid}${v.Colours.reset}`;let ne;switch(J.severity){case p.ERROR:ne=`${v.Colours.red}${J.severity}${v.Colours.reset}`;break;case p.INFO:ne=`${v.Colours.magenta}${J.severity}${v.Colours.reset}`;break;case p.WARNING:ne=`${v.Colours.yellow}${J.severity}${v.Colours.reset}`;break;default:ne=(Q=J.severity)!==null&&Q!==void 0?Q:p.DEFAULT;break}const oe=E.formatWithOptions({colors:v.Colours.enabled},...Y),ie=Object.assign({},J);delete ie.severity;const ee=Object.getOwnPropertyNames(ie).length?JSON.stringify(ie):"",ue=ee?`${v.Colours.grey}${ee}${v.Colours.reset}`:"";console.error("%s [%s|%s] %s%s",te,H,ne,oe,ee?` ${ue}`:"")}:()=>{}}setFilters(){const J=this.filters.join(",").replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^");this.enabledRegexp=new RegExp(`^${J}$`,"i")}}function C(){return new R}class N extends w{constructor(W){super(),this.debugPkg=W}makeLogger(W){const J=this.debugPkg(W);return(Y,...Q)=>{J(Q[0],...Q.slice(1))}}setFilters(){var W;const J=(W=T.env.NODE_DEBUG)!==null&&W!==void 0?W:"";T.env.NODE_DEBUG=`${J}${J?",":""}${this.filters.join(",")}`}}function D(z){return new N(z)}class L extends w{constructor(W){var J;super(),this.upstream=(J=W)!==null&&J!==void 0?J:void 0}makeLogger(W){var J;const Y=(J=this.upstream)===null||J===void 0?void 0:J.makeLogger(W);return(Q,...H)=>{var te;const ne=(te=Q.severity)!==null&&te!==void 0?te:p.INFO,oe=Object.assign({severity:ne,message:E.format(...H)},Q),ie=JSON.stringify(oe);Y?Y(Q,ie):console.log("%s",ie)}}setFilters(){var W;(W=this.upstream)===null||W===void 0||W.setFilters()}}function q(z){return new L(z)}c.env={nodeEnables:"GOOGLE_SDK_NODE_LOGGING"};const M=new Map;let U;function V(z){U=z,M.clear()}function $(z,W){if(!U&&!T.env[c.env.nodeEnables]||!z)return c.placeholder;W&&(z=`${W.instance.namespace}:${z}`);const J=M.get(z);if(J)return J.func;if(U===null)return c.placeholder;U===void 0&&(U=C());const Y=(()=>{let Q;return new g(z,(te,...ne)=>{if(Q!==U){if(U===null)return;U===void 0&&(U=C()),Q=U}U==null||U.log(z,te,...ne)})})();return M.set(z,Y),Y.func}})(loggingUtils)),loggingUtils}var hasRequiredSrc$8;function requireSrc$8(){return hasRequiredSrc$8||(hasRequiredSrc$8=1,(function(c){var u=src$5&&src$5.__createBinding||(Object.create?(function(y,O,T,E){E===void 0&&(E=T);var v=Object.getOwnPropertyDescriptor(O,T);(!v||("get"in v?!O.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return O[T]}}),Object.defineProperty(y,E,v)}):(function(y,O,T,E){E===void 0&&(E=T),y[E]=O[T]})),d=src$5&&src$5.__exportStar||function(y,O){for(var T in y)T!=="default"&&!Object.prototype.hasOwnProperty.call(O,T)&&u(O,y,T)};Object.defineProperty(c,"__esModule",{value:!0}),d(requireLoggingUtils(),c)})(src$5)),src$5}var hasRequiredSrc$7;function requireSrc$7(){return hasRequiredSrc$7||(hasRequiredSrc$7=1,(function(c){var u={},d=src$6&&src$6.__createBinding||(Object.create?(function(H,te,ne,oe){oe===void 0&&(oe=ne);var ie=Object.getOwnPropertyDescriptor(te,ne);(!ie||("get"in ie?!te.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return te[ne]}}),Object.defineProperty(H,oe,ie)}):(function(H,te,ne,oe){oe===void 0&&(oe=ne),H[oe]=te[ne]})),y=src$6&&src$6.__setModuleDefault||(Object.create?(function(H,te){Object.defineProperty(H,"default",{enumerable:!0,value:te})}):function(H,te){H.default=te}),O=src$6&&src$6.__importStar||(function(){var H=function(te){return H=Object.getOwnPropertyNames||function(ne){var oe=[];for(var ie in ne)Object.prototype.hasOwnProperty.call(ne,ie)&&(oe[oe.length]=ie);return oe},H(te)};return function(te){if(te&&te.__esModule)return te;var ne={};if(te!=null)for(var oe=H(te),ie=0;ie<oe.length;ie++)oe[ie]!=="default"&&d(ne,te,oe[ie]);return y(ne,te),ne}})(),T=src$6&&src$6.__exportStar||function(H,te){for(var ne in H)ne!=="default"&&!Object.prototype.hasOwnProperty.call(te,ne)&&d(te,H,ne)};Object.defineProperty(c,"__esModule",{value:!0}),c.gcpResidencyCache=c.METADATA_SERVER_DETECTION=c.HEADERS=c.HEADER_VALUE=c.HEADER_NAME=c.SECONDARY_HOST_ADDRESS=c.HOST_ADDRESS=c.BASE_PATH=void 0,c.instance=L,c.project=q,c.universe=M,c.bulk=U,c.isAvailable=z,c.resetIsAvailableCache=W,c.getGCPResidency=J,c.setGCPResidency=Y,c.requestTimeout=Q;const E=requireSrc$9(),v=requireJsonBigint(),p=requireGcpResidency(),g=O(requireSrc$8());c.BASE_PATH="/computeMetadata/v1",c.HOST_ADDRESS="http://169.254.169.254",c.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",c.HEADER_NAME="Metadata-Flavor",c.HEADER_VALUE="Google",c.HEADERS=Object.freeze({[c.HEADER_NAME]:c.HEADER_VALUE});const w=g.log("gcp-metadata");c.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"});function R(H){return H||(H=u.GCE_METADATA_IP||u.GCE_METADATA_HOST||c.HOST_ADDRESS),/^https?:\/\//.test(H)||(H=`http://${H}`),new URL(c.BASE_PATH,H).href}function C(H){Object.keys(H).forEach(te=>{switch(te){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${te}' is not a valid configuration option.`)}})}async function N(H,te={},ne=3,oe=!1){const ie=new Headers(c.HEADERS);let ee="",ue={};if(typeof H=="object"){const _e=H;new Headers(_e.headers).forEach((we,Re)=>ie.set(Re,we)),ee=_e.metadataKey,ue=_e.params||ue,ne=_e.noResponseRetries||ne,oe=_e.fastFail||oe}else ee=H;typeof te=="string"?ee+=`/${te}`:(C(te),te.property&&(ee+=`/${te.property}`),new Headers(te.headers).forEach((_e,we)=>ie.set(we,_e)),ue=te.params||ue);const fe=oe?D:E.request,de={url:`${R()}/${ee}`,headers:ie,retryConfig:{noResponseRetries:ne},params:ue,responseType:"text",timeout:Q()};w.info("instance request %j",de);const ge=await fe(de);w.info("instance metadata is %s",ge.data);const me=ge.headers.get(c.HEADER_NAME);if(me!==c.HEADER_VALUE)throw new RangeError(`Invalid response from metadata service: incorrect ${c.HEADER_NAME} header. Expected '${c.HEADER_VALUE}', got ${me?`'${me}'`:"no header"}`);if(typeof ge.data=="string")try{return v.parse(ge.data)}catch{}return ge.data}async function D(H){var ie;const te={...H,url:(ie=H.url)==null?void 0:ie.toString().replace(R(),R(c.SECONDARY_HOST_ADDRESS))},ne=(0,E.request)(H),oe=(0,E.request)(te);return Promise.any([ne,oe])}function L(H){return N("instance",H)}function q(H){return N("project",H)}function M(H){return N("universe",H)}async function U(H){const te={};return await Promise.all(H.map(ne=>(async()=>{const oe=await N(ne),ie=ne.metadataKey;te[ie]=oe})())),te}function V(){return u.DETECT_GCP_RETRIES?Number(u.DETECT_GCP_RETRIES):0}let $;async function z(){if(u.METADATA_SERVER_DETECTION){const H=u.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(H in c.METADATA_SERVER_DETECTION))throw new RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${H}\`, but it should be \`${Object.keys(c.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(H){case"assume-present":return!0;case"none":return!1;case"bios-only":return J()}}try{return $===void 0&&($=N("instance",void 0,V(),!(u.GCE_METADATA_IP||u.GCE_METADATA_HOST))),await $,!0}catch(H){const te=H;if(u.DEBUG_AUTH&&console.info(te),te.type==="request-timeout"||te.response&&te.response.status===404)return!1;if(!(te.response&&te.response.status===404)&&(!te.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(te.code.toString()))){let ne="UNKNOWN";te.code&&(ne=te.code.toString()),process.emitWarning(`received unexpected error = ${te.message} code = ${ne}`,"MetadataLookupWarning")}return!1}}function W(){$=void 0}c.gcpResidencyCache=null;function J(){return c.gcpResidencyCache===null&&Y(),c.gcpResidencyCache}function Y(H=null){c.gcpResidencyCache=H!==null?H:(0,p.detectGCPResidency)()}function Q(){return J()?0:3e3}T(requireGcpResidency(),c)})(src$6)),src$6}var crypto$3={},crypto$2={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=v,base64Js.toByteArray=g,base64Js.fromByteArray=C;for(var c=[],u=[],d=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0,T=y.length;O<T;++O)c[O]=y[O],u[y.charCodeAt(O)]=O;u[45]=62,u[95]=63;function E(N){var D=N.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=N.indexOf("=");L===-1&&(L=D);var q=L===D?0:4-L%4;return[L,q]}function v(N){var D=E(N),L=D[0],q=D[1];return(L+q)*3/4-q}function p(N,D,L){return(D+L)*3/4-L}function g(N){var D,L=E(N),q=L[0],M=L[1],U=new d(p(N,q,M)),V=0,$=M>0?q-4:q,z;for(z=0;z<$;z+=4)D=u[N.charCodeAt(z)]<<18|u[N.charCodeAt(z+1)]<<12|u[N.charCodeAt(z+2)]<<6|u[N.charCodeAt(z+3)],U[V++]=D>>16&255,U[V++]=D>>8&255,U[V++]=D&255;return M===2&&(D=u[N.charCodeAt(z)]<<2|u[N.charCodeAt(z+1)]>>4,U[V++]=D&255),M===1&&(D=u[N.charCodeAt(z)]<<10|u[N.charCodeAt(z+1)]<<4|u[N.charCodeAt(z+2)]>>2,U[V++]=D>>8&255,U[V++]=D&255),U}function w(N){return c[N>>18&63]+c[N>>12&63]+c[N>>6&63]+c[N&63]}function R(N,D,L){for(var q,M=[],U=D;U<L;U+=3)q=(N[U]<<16&16711680)+(N[U+1]<<8&65280)+(N[U+2]&255),M.push(w(q));return M.join("")}function C(N){for(var D,L=N.length,q=L%3,M=[],U=16383,V=0,$=L-q;V<$;V+=U)M.push(R(N,V,V+U>$?$:V+U));return q===1?(D=N[L-1],M.push(c[D>>2]+c[D<<4&63]+"==")):q===2&&(D=(N[L-2]<<8)+N[L-1],M.push(c[D>>10]+c[D>>4&63]+c[D<<2&63]+"=")),M.join("")}return base64Js}var shared$1={},hasRequiredShared$1;function requireShared$1(){if(hasRequiredShared$1)return shared$1;hasRequiredShared$1=1,Object.defineProperty(shared$1,"__esModule",{value:!0}),shared$1.fromArrayBufferToHex=c;function c(u){return Array.from(new Uint8Array(u)).map(y=>y.toString(16).padStart(2,"0")).join("")}return shared$1}var hasRequiredCrypto$2;function requireCrypto$2(){if(hasRequiredCrypto$2)return crypto$2;hasRequiredCrypto$2=1,Object.defineProperty(crypto$2,"__esModule",{value:!0}),crypto$2.BrowserCrypto=void 0;const c=requireBase64Js(),u=requireShared$1();class d{constructor(){if(typeof window>"u"||window.crypto===void 0||window.crypto.subtle===void 0)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(O){const T=new TextEncoder().encode(O),E=await window.crypto.subtle.digest("SHA-256",T);return c.fromByteArray(new Uint8Array(E))}randomBytesBase64(O){const T=new Uint8Array(O);return window.crypto.getRandomValues(T),c.fromByteArray(T)}static padBase64(O){for(;O.length%4!==0;)O+="=";return O}async verify(O,T,E){const v={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},p=new TextEncoder().encode(T),g=c.toByteArray(d.padBase64(E)),w=await window.crypto.subtle.importKey("jwk",O,v,!0,["verify"]);return await window.crypto.subtle.verify(v,w,g,p)}async sign(O,T){const E={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},v=new TextEncoder().encode(T),p=await window.crypto.subtle.importKey("jwk",O,E,!0,["sign"]),g=await window.crypto.subtle.sign(E,p,v);return c.fromByteArray(new Uint8Array(g))}decodeBase64StringUtf8(O){const T=c.toByteArray(d.padBase64(O));return new TextDecoder().decode(T)}encodeBase64StringUtf8(O){const T=new TextEncoder().encode(O);return c.fromByteArray(T)}async sha256DigestHex(O){const T=new TextEncoder().encode(O),E=await window.crypto.subtle.digest("SHA-256",T);return(0,u.fromArrayBufferToHex)(E)}async signWithHmacSha256(O,T){const E=typeof O=="string"?O:String.fromCharCode(...new Uint16Array(O)),v=new TextEncoder,p=await window.crypto.subtle.importKey("raw",v.encode(E),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",p,v.encode(T))}}return crypto$2.BrowserCrypto=d,crypto$2}var crypto$1={},hasRequiredCrypto$1;function requireCrypto$1(){if(hasRequiredCrypto$1)return crypto$1;hasRequiredCrypto$1=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.NodeCrypto=void 0;const c=require$$0$4;class u{async sha256DigestBase64(T){return c.createHash("sha256").update(T).digest("base64")}randomBytesBase64(T){return c.randomBytes(T).toString("base64")}async verify(T,E,v){const p=c.createVerify("RSA-SHA256");return p.update(E),p.end(),p.verify(T,v,"base64")}async sign(T,E){const v=c.createSign("RSA-SHA256");return v.update(E),v.end(),v.sign(T,"base64")}decodeBase64StringUtf8(T){return Buffer.from(T,"base64").toString("utf-8")}encodeBase64StringUtf8(T){return Buffer.from(T,"utf-8").toString("base64")}async sha256DigestHex(T){return c.createHash("sha256").update(T).digest("hex")}async signWithHmacSha256(T,E){const v=typeof T=="string"?T:y(T);return d(c.createHmac("sha256",v).update(E).digest())}}crypto$1.NodeCrypto=u;function d(O){return O.buffer.slice(O.byteOffset,O.byteOffset+O.byteLength)}function y(O){return Buffer.from(O)}return crypto$1}var hasRequiredCrypto;function requireCrypto(){return hasRequiredCrypto||(hasRequiredCrypto=1,(function(c){var u=crypto$3&&crypto$3.__createBinding||(Object.create?(function(v,p,g,w){w===void 0&&(w=g);var R=Object.getOwnPropertyDescriptor(p,g);(!R||("get"in R?!p.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(v,w,R)}):(function(v,p,g,w){w===void 0&&(w=g),v[w]=p[g]})),d=crypto$3&&crypto$3.__exportStar||function(v,p){for(var g in v)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&u(p,v,g)};Object.defineProperty(c,"__esModule",{value:!0}),c.createCrypto=T,c.hasBrowserCrypto=E;const y=requireCrypto$2(),O=requireCrypto$1();d(requireShared$1(),c);function T(){return E()?new y.BrowserCrypto:new O.NodeCrypto}function E(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}})(crypto$3)),crypto$3}var computeclient={},oauth2client={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,(function(c,u){var d=require$$0$9,y=d.Buffer;function O(E,v){for(var p in E)v[p]=E[p]}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?c.exports=d:(O(d,u),u.Buffer=T);function T(E,v,p){return y(E,v,p)}T.prototype=Object.create(y.prototype),O(y,T),T.from=function(E,v,p){if(typeof E=="number")throw new TypeError("Argument must not be a number");return y(E,v,p)},T.alloc=function(E,v,p){if(typeof E!="number")throw new TypeError("Argument must be a number");var g=y(E);return v!==void 0?typeof p=="string"?g.fill(v,p):g.fill(v):g.fill(0),g},T.allocUnsafe=function(E){if(typeof E!="number")throw new TypeError("Argument must be a number");return y(E)},T.allocUnsafeSlow=function(E){if(typeof E!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(E)}})(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var paramBytesForAlg_1,hasRequiredParamBytesForAlg;function requireParamBytesForAlg(){if(hasRequiredParamBytesForAlg)return paramBytesForAlg_1;hasRequiredParamBytesForAlg=1;function c(y){var O=(y/8|0)+(y%8===0?0:1);return O}var u={ES256:c(256),ES384:c(384),ES512:c(521)};function d(y){var O=u[y];if(O)return O;throw new Error('Unknown algorithm "'+y+'"')}return paramBytesForAlg_1=d,paramBytesForAlg_1}var ecdsaSigFormatter,hasRequiredEcdsaSigFormatter;function requireEcdsaSigFormatter(){if(hasRequiredEcdsaSigFormatter)return ecdsaSigFormatter;hasRequiredEcdsaSigFormatter=1;var c=requireSafeBuffer().Buffer,u=requireParamBytesForAlg(),d=128,y=0,O=32,T=16,E=2,v=T|O|y<<6,p=E|y<<6;function g(D){return D.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function w(D){if(c.isBuffer(D))return D;if(typeof D=="string")return c.from(D,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function R(D,L){D=w(D);var q=u(L),M=q+1,U=D.length,V=0;if(D[V++]!==v)throw new Error('Could not find expected "seq"');var $=D[V++];if($===(d|1)&&($=D[V++]),U-V<$)throw new Error('"seq" specified length of "'+$+'", only "'+(U-V)+'" remaining');if(D[V++]!==p)throw new Error('Could not find expected "int" for "r"');var z=D[V++];if(U-V-2<z)throw new Error('"r" specified length of "'+z+'", only "'+(U-V-2)+'" available');if(M<z)throw new Error('"r" specified length of "'+z+'", max of "'+M+'" is acceptable');var W=V;if(V+=z,D[V++]!==p)throw new Error('Could not find expected "int" for "s"');var J=D[V++];if(U-V!==J)throw new Error('"s" specified length of "'+J+'", expected "'+(U-V)+'"');if(M<J)throw new Error('"s" specified length of "'+J+'", max of "'+M+'" is acceptable');var Y=V;if(V+=J,V!==U)throw new Error('Expected to consume entire buffer, but "'+(U-V)+'" bytes remain');var Q=q-z,H=q-J,te=c.allocUnsafe(Q+z+H+J);for(V=0;V<Q;++V)te[V]=0;D.copy(te,V,W+Math.max(-Q,0),W+z),V=q;for(var ne=V;V<ne+H;++V)te[V]=0;return D.copy(te,V,Y+Math.max(-H,0),Y+J),te=te.toString("base64"),te=g(te),te}function C(D,L,q){for(var M=0;L+M<q&&D[L+M]===0;)++M;var U=D[L+M]>=d;return U&&--M,M}function N(D,L){D=w(D);var q=u(L),M=D.length;if(M!==q*2)throw new TypeError('"'+L+'" signatures must be "'+q*2+'" bytes, saw "'+M+'"');var U=C(D,0,q),V=C(D,q,D.length),$=q-U,z=q-V,W=2+$+1+1+z,J=W<d,Y=c.allocUnsafe((J?2:3)+W),Q=0;return Y[Q++]=v,J?Y[Q++]=W:(Y[Q++]=d|1,Y[Q++]=W&255),Y[Q++]=p,Y[Q++]=$,U<0?(Y[Q++]=0,Q+=D.copy(Y,Q,0,q)):Q+=D.copy(Y,Q,U,q),Y[Q++]=p,Y[Q++]=z,V<0?(Y[Q++]=0,D.copy(Y,Q,q)):D.copy(Y,Q,q+V),Y}return ecdsaSigFormatter={derToJose:R,joseToDer:N},ecdsaSigFormatter}var util$2={},hasRequiredUtil$3;function requireUtil$3(){var N,D,io,oo;if(hasRequiredUtil$3)return util$2;hasRequiredUtil$3=1;var c={};Object.defineProperty(util$2,"__esModule",{value:!0}),util$2.LRUCache=void 0,util$2.snakeToCamel=E,util$2.originalOrCamelOptions=v,util$2.removeUndefinedValuesInObject=g,util$2.isValidFile=w,util$2.getWellKnownCertificateConfigFileLocation=R;const u=require$$0$7,d=require$$1$5,y=require$$6$2,O="certificate_config.json",T="gcloud";function E(M){return M.replace(/([_][^_])/g,U=>U.slice(1).toUpperCase())}function v(M){function U(V){const $=M||{};return $[V]??$[E(V)]}return{get:U}}class p{constructor(U){ze(this,D);ce(this,"capacity");ze(this,N,new Map);ce(this,"maxAge");this.capacity=U.capacity,this.maxAge=U.maxAge}set(U,V){Qe(this,D,io).call(this,U,V),Qe(this,D,oo).call(this)}get(U){const V=Ie(this,N).get(U);if(V)return Qe(this,D,io).call(this,U,V.value),Qe(this,D,oo).call(this),V.value}}N=new WeakMap,D=new WeakSet,io=function(U,V){Ie(this,N).delete(U),Ie(this,N).set(U,{value:V,lastAccessed:Date.now()})},oo=function(){const U=this.maxAge?Date.now()-this.maxAge:0;let V=Ie(this,N).entries().next();for(;!V.done&&(Ie(this,N).size>this.capacity||V.value[1].lastAccessed<U);)Ie(this,N).delete(V.value[0]),V=Ie(this,N).entries().next()},util$2.LRUCache=p;function g(M){return Object.entries(M).forEach(([U,V])=>{(V===void 0||V==="undefined")&&delete M[U]}),M}async function w(M){try{return(await u.promises.lstat(M)).isFile()}catch{return!1}}function R(){const M=c.CLOUDSDK_CONFIG||(C()?y.join(c.APPDATA||"",T):y.join(c.HOME||"",".config",T));return y.join(M,O)}function C(){return d.platform().startsWith("win")}return util$2}var authclient={},shared={};const name$1="google-auth-library",version$3="10.5.0",author="Google Inc.",description="Google APIs Authentication Client Library for Node.js",engines={node:">=18"},main="./build/src/index.js",types$2="./build/src/index.d.ts",repository="googleapis/google-auth-library-nodejs.git",keywords=["google","api","google apis","client","client library"],dependencies={"base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11",gaxios:"^7.0.0","gcp-metadata":"^8.0.0","google-logging-utils":"^1.0.0",gtoken:"^8.0.0",jws:"^4.0.0"},devDependencies={"@types/base64-js":"^1.2.5","@types/jws":"^3.1.0","@types/mocha":"^10.0.10","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^22.0.0","@types/sinon":"^17.0.0","assert-rejects":"^1.0.0",c8:"^10.0.0",codecov:"^3.0.2",gts:"^6.0.0","is-docker":"^3.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^5.0.0","jsdoc-region-tag":"^4.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.4.0","karma-webpack":"^5.0.1",keypair:"^1.0.4",mocha:"^11.1.0",mv:"^2.1.1",ncp:"^2.0.0",nock:"^14.0.5","null-loader":"^4.0.0",puppeteer:"^24.0.0",sinon:"^21.0.0","ts-loader":"^8.0.0",typescript:"5.8.2",webpack:"^5.21.2","webpack-cli":"^4.0.0"},files=["build/src","!build/src/**/*.map"],scripts={test:"c8 mocha build/test",clean:"gts clean",prepare:"npm run compile",lint:"gts check --no-inline-config",compile:"tsc -p .",fix:"gts fix",pretest:"npm run compile -- --sourceMap",docs:"jsdoc -c .jsdoc.js","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","presystem-test":"npm run compile -- --sourceMap",webpack:"webpack","browser-test":"karma start","docs-test":"echo 'disabled until linkinator is fixed'","predocs-test":"npm run docs",prelint:"cd samples; npm link ../; npm install"},license="Apache-2.0",require$$0$2={name:name$1,version:version$3,author,description,engines,main,types:types$2,repository,keywords,dependencies,devDependencies,files,scripts,license};var hasRequiredShared;function requireShared(){if(hasRequiredShared)return shared;hasRequiredShared=1,Object.defineProperty(shared,"__esModule",{value:!0}),shared.USER_AGENT=shared.PRODUCT_NAME=shared.pkg=void 0;const c=require$$0$2;shared.pkg=c;const u="google-api-nodejs-client";shared.PRODUCT_NAME=u;const d=`${u}/${c.version}`;return shared.USER_AGENT=d,shared}var hasRequiredAuthclient;function requireAuthclient(){return hasRequiredAuthclient||(hasRequiredAuthclient=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.AuthClient=c.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=c.DEFAULT_UNIVERSE=void 0;const u=require$$0$8,d=requireSrc$9(),y=requireUtil$3(),O=requireSrc$8(),T=requireShared();c.DEFAULT_UNIVERSE="googleapis.com",c.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=300*1e3;const v=class v extends u.EventEmitter{constructor(w={}){super();ce(this,"apiKey");ce(this,"projectId");ce(this,"quotaProjectId");ce(this,"transporter");ce(this,"credentials",{});ce(this,"eagerRefreshThresholdMillis",c.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS);ce(this,"forceRefreshOnFailure",!1);ce(this,"universeDomain",c.DEFAULT_UNIVERSE);const R=(0,y.originalOrCamelOptions)(w);this.apiKey=w.apiKey,this.projectId=R.get("project_id")??null,this.quotaProjectId=R.get("quota_project_id"),this.credentials=R.get("credentials")??{},this.universeDomain=R.get("universe_domain")??c.DEFAULT_UNIVERSE,this.transporter=w.transporter??new d.Gaxios(w.transporterOptions),R.get("useAuthRequestParameters")!==!1&&(this.transporter.interceptors.request.add(v.DEFAULT_REQUEST_INTERCEPTOR),this.transporter.interceptors.response.add(v.DEFAULT_RESPONSE_INTERCEPTOR)),w.eagerRefreshThresholdMillis&&(this.eagerRefreshThresholdMillis=w.eagerRefreshThresholdMillis),this.forceRefreshOnFailure=w.forceRefreshOnFailure??!1}fetch(...w){const R=w[0],C=w[1];let N;const D=new Headers;return typeof R=="string"?N=new URL(R):R instanceof URL?N=R:R&&R.url&&(N=new URL(R.url)),R&&typeof R=="object"&&"headers"in R&&d.Gaxios.mergeHeaders(D,R.headers),C&&d.Gaxios.mergeHeaders(D,new Headers(C.headers)),typeof R=="object"&&!(R instanceof URL)?this.request({...C,...R,headers:D,url:N}):this.request({...C,headers:D,url:N})}setCredentials(w){this.credentials=w}addSharedMetadataHeaders(w){return!w.has("x-goog-user-project")&&this.quotaProjectId&&w.set("x-goog-user-project",this.quotaProjectId),w}addUserProjectAndAuthHeaders(w,R){const C=R.get("x-goog-user-project"),N=R.get("authorization");return C&&w.set("x-goog-user-project",C),N&&w.set("authorization",N),w}static setMethodName(w,R){try{const C=w;C[v.RequestMethodNameSymbol]=R}catch{}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}};ce(v,"RequestMethodNameSymbol",Symbol("request method name")),ce(v,"RequestLogIdSymbol",Symbol("request log id")),ce(v,"log",(0,O.log)("auth")),ce(v,"DEFAULT_REQUEST_INTERCEPTOR",{resolved:async w=>{if(!w.headers.has("x-goog-api-client")){const C=process.version.replace(/^v/,"");w.headers.set("x-goog-api-client",`gl-node/${C}`)}const R=w.headers.get("User-Agent");R?R.includes(`${T.PRODUCT_NAME}/`)||w.headers.set("User-Agent",`${R} ${T.USER_AGENT}`):w.headers.set("User-Agent",T.USER_AGENT);try{const C=w,N=C[v.RequestMethodNameSymbol],D=`${Math.floor(Math.random()*1e3)}`;C[v.RequestLogIdSymbol]=D;const L={url:w.url,headers:w.headers};N?v.log.info("%s [%s] request %j",N,D,L):v.log.info("[%s] request %j",D,L)}catch{}return w}}),ce(v,"DEFAULT_RESPONSE_INTERCEPTOR",{resolved:async w=>{try{const R=w.config,C=R[v.RequestMethodNameSymbol],N=R[v.RequestLogIdSymbol];C?v.log.info("%s [%s] response %j",C,N,w.data):v.log.info("[%s] response %j",N,w.data)}catch{}return w},rejected:async w=>{var R,C;try{const N=w.config,D=N[v.RequestMethodNameSymbol],L=N[v.RequestLogIdSymbol];D?v.log.info("%s [%s] error %j",D,L,(R=w.response)==null?void 0:R.data):v.log.error("[%s] error %j",L,(C=w.response)==null?void 0:C.data)}catch{}throw w}});let E=v;c.AuthClient=E})(authclient)),authclient}var loginticket={},hasRequiredLoginticket;function requireLoginticket(){if(hasRequiredLoginticket)return loginticket;hasRequiredLoginticket=1,Object.defineProperty(loginticket,"__esModule",{value:!0}),loginticket.LoginTicket=void 0;class c{constructor(d,y){ce(this,"envelope");ce(this,"payload");this.envelope=d,this.payload=y}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){const d=this.getPayload();return d&&d.sub?d.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}return loginticket.LoginTicket=c,loginticket}var hasRequiredOauth2client;function requireOauth2client(){if(hasRequiredOauth2client)return oauth2client;hasRequiredOauth2client=1,Object.defineProperty(oauth2client,"__esModule",{value:!0}),oauth2client.OAuth2Client=oauth2client.ClientAuthentication=oauth2client.CertificateFormat=oauth2client.CodeChallengeMethod=void 0;const c=requireSrc$9(),u=require$$0$5,d=require$$0$6,y=requireEcdsaSigFormatter(),O=requireUtil$3(),T=requireCrypto(),E=requireAuthclient(),v=requireLoginticket();var p;(function(N){N.Plain="plain",N.S256="S256"})(p||(oauth2client.CodeChallengeMethod=p={}));var g;(function(N){N.PEM="PEM",N.JWK="JWK"})(g||(oauth2client.CertificateFormat=g={}));var w;(function(N){N.ClientSecretPost="ClientSecretPost",N.ClientSecretBasic="ClientSecretBasic",N.None="None"})(w||(oauth2client.ClientAuthentication=w={}));const C=class C extends E.AuthClient{constructor(L={},q,M){var U;super(typeof L=="object"?L:{});ce(this,"redirectUri");ce(this,"certificateCache",{});ce(this,"certificateExpiry",null);ce(this,"certificateCacheFormat",g.PEM);ce(this,"refreshTokenPromises",new Map);ce(this,"endpoints");ce(this,"issuers");ce(this,"clientAuthentication");ce(this,"_clientId");ce(this,"_clientSecret");ce(this,"refreshHandler");typeof L!="object"&&(L={clientId:L,clientSecret:q,redirectUri:M}),this._clientId=L.clientId||L.client_id,this._clientSecret=L.clientSecret||L.client_secret,this.redirectUri=L.redirectUri||((U=L.redirect_uris)==null?void 0:U[0]),this.endpoints={tokenInfoUrl:"https://oauth2.googleapis.com/tokeninfo",oauth2AuthBaseUrl:"https://accounts.google.com/o/oauth2/v2/auth",oauth2TokenUrl:"https://oauth2.googleapis.com/token",oauth2RevokeUrl:"https://oauth2.googleapis.com/revoke",oauth2FederatedSignonPemCertsUrl:"https://www.googleapis.com/oauth2/v1/certs",oauth2FederatedSignonJwkCertsUrl:"https://www.googleapis.com/oauth2/v3/certs",oauth2IapPublicKeyUrl:"https://www.gstatic.com/iap/verify/public_key",...L.endpoints},this.clientAuthentication=L.clientAuthentication||w.ClientSecretPost,this.issuers=L.issuers||["accounts.google.com","https://accounts.google.com",this.universeDomain]}generateAuthUrl(L={}){if(L.code_challenge_method&&!L.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return L.response_type=L.response_type||"code",L.client_id=L.client_id||this._clientId,L.redirect_uri=L.redirect_uri||this.redirectUri,Array.isArray(L.scope)&&(L.scope=L.scope.join(" ")),this.endpoints.oauth2AuthBaseUrl.toString()+"?"+u.stringify(L)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){const L=(0,T.createCrypto)(),M=L.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),V=(await L.sha256DigestBase64(M)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:M,codeChallenge:V}}getToken(L,q){const M=typeof L=="string"?{code:L}:L;if(q)this.getTokenAsync(M).then(U=>q(null,U.tokens,U.res),U=>q(U,null,U.response));else return this.getTokenAsync(M)}async getTokenAsync(L){const q=this.endpoints.oauth2TokenUrl.toString(),M=new Headers,U={client_id:L.client_id||this._clientId,code_verifier:L.codeVerifier,code:L.code,grant_type:"authorization_code",redirect_uri:L.redirect_uri||this.redirectUri};if(this.clientAuthentication===w.ClientSecretBasic){const W=Buffer.from(`${this._clientId}:${this._clientSecret}`);M.set("authorization",`Basic ${W.toString("base64")}`)}this.clientAuthentication===w.ClientSecretPost&&(U.client_secret=this._clientSecret);const V={...C.RETRY_CONFIG,method:"POST",url:q,data:new URLSearchParams((0,O.removeUndefinedValuesInObject)(U)),headers:M};E.AuthClient.setMethodName(V,"getTokenAsync");const $=await this.transporter.request(V),z=$.data;return $.data&&$.data.expires_in&&(z.expiry_date=new Date().getTime()+$.data.expires_in*1e3,delete z.expires_in),this.emit("tokens",z),{tokens:z,res:$}}async refreshToken(L){if(!L)return this.refreshTokenNoCache(L);if(this.refreshTokenPromises.has(L))return this.refreshTokenPromises.get(L);const q=this.refreshTokenNoCache(L).then(M=>(this.refreshTokenPromises.delete(L),M),M=>{throw this.refreshTokenPromises.delete(L),M});return this.refreshTokenPromises.set(L,q),q}async refreshTokenNoCache(L){var $;if(!L)throw new Error("No refresh token is set.");const q=this.endpoints.oauth2TokenUrl.toString(),M={refresh_token:L,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"};let U;try{const z={...C.RETRY_CONFIG,method:"POST",url:q,data:new URLSearchParams((0,O.removeUndefinedValuesInObject)(M))};E.AuthClient.setMethodName(z,"refreshTokenNoCache"),U=await this.transporter.request(z)}catch(z){throw z instanceof c.GaxiosError&&z.message==="invalid_grant"&&(($=z.response)!=null&&$.data)&&/ReAuth/i.test(z.response.data.error_description)&&(z.message=JSON.stringify(z.response.data)),z}const V=U.data;return U.data&&U.data.expires_in&&(V.expiry_date=new Date().getTime()+U.data.expires_in*1e3,delete V.expires_in),this.emit("tokens",V),{tokens:V,res:U}}refreshAccessToken(L){if(L)this.refreshAccessTokenAsync().then(q=>L(null,q.credentials,q.res),L);else return this.refreshAccessTokenAsync()}async refreshAccessTokenAsync(){const L=await this.refreshToken(this.credentials.refresh_token),q=L.tokens;return q.refresh_token=this.credentials.refresh_token,this.credentials=q,{credentials:this.credentials,res:L.res}}getAccessToken(L){if(L)this.getAccessTokenAsync().then(q=>L(null,q.token,q.res),L);else return this.getAccessTokenAsync()}async getAccessTokenAsync(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)if(this.refreshHandler){const M=await this.processAndValidateRefreshHandler();if(M!=null&&M.access_token)return this.setCredentials(M),{token:this.credentials.access_token}}else throw new Error("No refresh token or refresh handler callback is set.");const q=await this.refreshAccessTokenAsync();if(!q.credentials||q.credentials&&!q.credentials.access_token)throw new Error("Could not refresh access token.");return{token:q.credentials.access_token,res:q.res}}else return{token:this.credentials.access_token}}async getRequestHeaders(L){return(await this.getRequestMetadataAsync(L)).headers}async getRequestMetadataAsync(L){const q=this.credentials;if(!q.access_token&&!q.refresh_token&&!this.apiKey&&!this.refreshHandler)throw new Error("No access, refresh token, API key or refresh handler callback is set.");if(q.access_token&&!this.isTokenExpiring()){q.token_type=q.token_type||"Bearer";const z=new Headers({authorization:q.token_type+" "+q.access_token});return{headers:this.addSharedMetadataHeaders(z)}}if(this.refreshHandler){const z=await this.processAndValidateRefreshHandler();if(z!=null&&z.access_token){this.setCredentials(z);const W=new Headers({authorization:"Bearer "+this.credentials.access_token});return{headers:this.addSharedMetadataHeaders(W)}}}if(this.apiKey)return{headers:new Headers({"X-Goog-Api-Key":this.apiKey})};let M=null,U=null;try{M=await this.refreshToken(q.refresh_token),U=M.tokens}catch(z){const W=z;throw W.response&&(W.response.status===403||W.response.status===404)&&(W.message=`Could not refresh access token: ${W.message}`),W}const V=this.credentials;V.token_type=V.token_type||"Bearer",U.refresh_token=V.refresh_token,this.credentials=U;const $=new Headers({authorization:V.token_type+" "+U.access_token});return{headers:this.addSharedMetadataHeaders($),res:M.res}}static getRevokeTokenUrl(L){return new C().getRevokeTokenURL(L).toString()}getRevokeTokenURL(L){const q=new URL(this.endpoints.oauth2RevokeUrl);return q.searchParams.append("token",L),q}revokeToken(L,q){const M={...C.RETRY_CONFIG,url:this.getRevokeTokenURL(L).toString(),method:"POST"};if(E.AuthClient.setMethodName(M,"revokeToken"),q)this.transporter.request(M).then(U=>q(null,U),q);else return this.transporter.request(M)}revokeCredentials(L){if(L)this.revokeCredentialsAsync().then(q=>L(null,q),L);else return this.revokeCredentialsAsync()}async revokeCredentialsAsync(){const L=this.credentials.access_token;if(this.credentials={},L)return this.revokeToken(L);throw new Error("No access token to revoke.")}request(L,q){if(q)this.requestAsync(L).then(M=>q(null,M),M=>q(M,M.response));else return this.requestAsync(L)}async requestAsync(L,q=!1){try{const M=await this.getRequestMetadataAsync();return L.headers=c.Gaxios.mergeHeaders(L.headers),this.addUserProjectAndAuthHeaders(L.headers,M.headers),this.apiKey&&L.headers.set("X-Goog-Api-Key",this.apiKey),await this.transporter.request(L)}catch(M){const U=M.response;if(U){const V=U.status,$=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),z=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,W=U.config.data instanceof d.Readable,J=V===401||V===403;if(!q&&J&&!W&&$)return await this.refreshAccessTokenAsync(),this.requestAsync(L,!0);if(!q&&J&&!W&&z){const Y=await this.processAndValidateRefreshHandler();return Y!=null&&Y.access_token&&this.setCredentials(Y),this.requestAsync(L,!0)}}throw M}}verifyIdToken(L,q){if(q&&typeof q!="function")throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(q)this.verifyIdTokenAsync(L).then(M=>q(null,M),q);else return this.verifyIdTokenAsync(L)}async verifyIdTokenAsync(L){if(!L.idToken)throw new Error("The verifyIdToken method requires an ID Token");const q=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(L.idToken,q.certs,L.audience,this.issuers,L.maxExpiry)}async getTokenInfo(L){const{data:q}=await this.transporter.request({...C.RETRY_CONFIG,method:"POST",headers:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8",authorization:`Bearer ${L}`},url:this.endpoints.tokenInfoUrl.toString()}),M=Object.assign({expiry_date:new Date().getTime()+q.expires_in*1e3,scopes:q.scope.split(" ")},q);return delete M.expires_in,delete M.scope,M}getFederatedSignonCerts(L){if(L)this.getFederatedSignonCertsAsync().then(q=>L(null,q.certs,q.res),L);else return this.getFederatedSignonCertsAsync()}async getFederatedSignonCertsAsync(){var J,Y;const L=new Date().getTime(),q=(0,T.hasBrowserCrypto)()?g.JWK:g.PEM;if(this.certificateExpiry&&L<this.certificateExpiry.getTime()&&this.certificateCacheFormat===q)return{certs:this.certificateCache,format:q};let M,U;switch(q){case g.PEM:U=this.endpoints.oauth2FederatedSignonPemCertsUrl.toString();break;case g.JWK:U=this.endpoints.oauth2FederatedSignonJwkCertsUrl.toString();break;default:throw new Error(`Unsupported certificate format ${q}`)}try{const Q={...C.RETRY_CONFIG,url:U};E.AuthClient.setMethodName(Q,"getFederatedSignonCertsAsync"),M=await this.transporter.request(Q)}catch(Q){throw Q instanceof Error&&(Q.message=`Failed to retrieve verification certificates: ${Q.message}`),Q}const V=M==null?void 0:M.headers.get("cache-control");let $=-1;if(V){const Q=(Y=(J=/max-age=(?<maxAge>[0-9]+)/.exec(V))==null?void 0:J.groups)==null?void 0:Y.maxAge;Q&&($=Number(Q)*1e3)}let z={};switch(q){case g.PEM:z=M.data;break;case g.JWK:for(const Q of M.data.keys)z[Q.kid]=Q;break;default:throw new Error(`Unsupported certificate format ${q}`)}const W=new Date;return this.certificateExpiry=$===-1?null:new Date(W.getTime()+$),this.certificateCache=z,this.certificateCacheFormat=q,{certs:z,format:q,res:M}}getIapPublicKeys(L){if(L)this.getIapPublicKeysAsync().then(q=>L(null,q.pubkeys,q.res),L);else return this.getIapPublicKeysAsync()}async getIapPublicKeysAsync(){let L;const q=this.endpoints.oauth2IapPublicKeyUrl.toString();try{const M={...C.RETRY_CONFIG,url:q};E.AuthClient.setMethodName(M,"getIapPublicKeysAsync"),L=await this.transporter.request(M)}catch(M){throw M instanceof Error&&(M.message=`Failed to retrieve verification certificates: ${M.message}`),M}return{pubkeys:L.data,res:L}}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(L,q,M,U,V){const $=(0,T.createCrypto)();V||(V=C.DEFAULT_MAX_TOKEN_LIFETIME_SECS_);const z=L.split(".");if(z.length!==3)throw new Error("Wrong number of segments in token: "+L);const W=z[0]+"."+z[1];let J=z[2],Y,Q;try{Y=JSON.parse($.decodeBase64StringUtf8(z[0]))}catch(fe){throw fe instanceof Error&&(fe.message=`Can't parse token envelope: ${z[0]}': ${fe.message}`),fe}if(!Y)throw new Error("Can't parse token envelope: "+z[0]);try{Q=JSON.parse($.decodeBase64StringUtf8(z[1]))}catch(fe){throw fe instanceof Error&&(fe.message=`Can't parse token payload '${z[0]}`),fe}if(!Q)throw new Error("Can't parse token payload: "+z[1]);if(!Object.prototype.hasOwnProperty.call(q,Y.kid))throw new Error("No pem found for envelope: "+JSON.stringify(Y));const H=q[Y.kid];if(Y.alg==="ES256"&&(J=y.joseToDer(J,"ES256").toString("base64")),!await $.verify(H,W,J))throw new Error("Invalid token signature: "+L);if(!Q.iat)throw new Error("No issue time in token: "+JSON.stringify(Q));if(!Q.exp)throw new Error("No expiration time in token: "+JSON.stringify(Q));const ne=Number(Q.iat);if(isNaN(ne))throw new Error("iat field using invalid format");const oe=Number(Q.exp);if(isNaN(oe))throw new Error("exp field using invalid format");const ie=new Date().getTime()/1e3;if(oe>=ie+V)throw new Error("Expiration time too far in future: "+JSON.stringify(Q));const ee=ne-C.CLOCK_SKEW_SECS_,ue=oe+C.CLOCK_SKEW_SECS_;if(ie<ee)throw new Error("Token used too early, "+ie+" < "+ee+": "+JSON.stringify(Q));if(ie>ue)throw new Error("Token used too late, "+ie+" > "+ue+": "+JSON.stringify(Q));if(U&&U.indexOf(Q.iss)<0)throw new Error("Invalid issuer, expected one of ["+U+"], but got "+Q.iss);if(typeof M<"u"&&M!==null){const fe=Q.aud;let de=!1;if(M.constructor===Array?de=M.indexOf(fe)>-1:de=fe===M,!de)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new v.LoginTicket(Y,Q)}async processAndValidateRefreshHandler(){if(this.refreshHandler){const L=await this.refreshHandler();if(!L.access_token)throw new Error("No access token is returned by the refreshHandler callback.");return L}}isTokenExpiring(){const L=this.credentials.expiry_date;return L?L<=new Date().getTime()+this.eagerRefreshThresholdMillis:!1}};ce(C,"GOOGLE_TOKEN_INFO_URL","https://oauth2.googleapis.com/tokeninfo"),ce(C,"CLOCK_SKEW_SECS_",300),ce(C,"DEFAULT_MAX_TOKEN_LIFETIME_SECS_",86400);let R=C;return oauth2client.OAuth2Client=R,oauth2client}var hasRequiredComputeclient;function requireComputeclient(){if(hasRequiredComputeclient)return computeclient;hasRequiredComputeclient=1,Object.defineProperty(computeclient,"__esModule",{value:!0}),computeclient.Compute=void 0;const c=requireSrc$9(),u=requireSrc$7(),d=requireOauth2client();class y extends d.OAuth2Client{constructor(E={}){super(E);ce(this,"serviceAccountEmail");ce(this,"scopes");this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=E.serviceAccountEmail||"default",this.scopes=Array.isArray(E.scopes)?E.scopes:E.scopes?[E.scopes]:[]}async refreshTokenNoCache(){const E=`service-accounts/${this.serviceAccountEmail}/token`;let v;try{const g={property:E};this.scopes.length>0&&(g.params={scopes:this.scopes.join(",")}),v=await u.instance(g)}catch(g){throw g instanceof c.GaxiosError&&(g.message=`Could not refresh access token: ${g.message}`,this.wrapError(g)),g}const p=v;return v&&v.expires_in&&(p.expiry_date=new Date().getTime()+v.expires_in*1e3,delete p.expires_in),this.emit("tokens",p),{tokens:p,res:null}}async fetchIdToken(E){const v=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${E}`;let p;try{const g={property:v};p=await u.instance(g)}catch(g){throw g instanceof Error&&(g.message=`Could not fetch ID token: ${g.message}`),g}return p}wrapError(E){const v=E.response;v&&v.status&&(E.status=v.status,v.status===403?E.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+E.message:v.status===404&&(E.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+E.message))}}return computeclient.Compute=y,computeclient}var idtokenclient={},hasRequiredIdtokenclient;function requireIdtokenclient(){if(hasRequiredIdtokenclient)return idtokenclient;hasRequiredIdtokenclient=1,Object.defineProperty(idtokenclient,"__esModule",{value:!0}),idtokenclient.IdTokenClient=void 0;const c=requireOauth2client();class u extends c.OAuth2Client{constructor(O){super(O);ce(this,"targetAudience");ce(this,"idTokenProvider");this.targetAudience=O.targetAudience,this.idTokenProvider=O.idTokenProvider}async getRequestMetadataAsync(){if(!this.credentials.id_token||!this.credentials.expiry_date||this.isTokenExpiring()){const T=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:T,expiry_date:this.getIdTokenExpiryDate(T)}}return{headers:new Headers({authorization:"Bearer "+this.credentials.id_token})}}getIdTokenExpiryDate(O){const T=O.split(".")[1];if(T)return JSON.parse(Buffer.from(T,"base64").toString("ascii")).exp*1e3}}return idtokenclient.IdTokenClient=u,idtokenclient}var envDetect={},hasRequiredEnvDetect;function requireEnvDetect(){if(hasRequiredEnvDetect)return envDetect;hasRequiredEnvDetect=1;var c={};Object.defineProperty(envDetect,"__esModule",{value:!0}),envDetect.GCPEnv=void 0,envDetect.clear=O,envDetect.getEnv=T;const u=requireSrc$7();var d;(function(N){N.APP_ENGINE="APP_ENGINE",N.KUBERNETES_ENGINE="KUBERNETES_ENGINE",N.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",N.COMPUTE_ENGINE="COMPUTE_ENGINE",N.CLOUD_RUN="CLOUD_RUN",N.CLOUD_RUN_JOBS="CLOUD_RUN_JOBS",N.NONE="NONE"})(d||(envDetect.GCPEnv=d={}));let y;function O(){y=void 0}async function T(){return y||(y=E(),y)}async function E(){let N=d.NONE;return v()?N=d.APP_ENGINE:p()?N=d.CLOUD_FUNCTIONS:await C()?await R()?N=d.KUBERNETES_ENGINE:g()?N=d.CLOUD_RUN:w()?N=d.CLOUD_RUN_JOBS:N=d.COMPUTE_ENGINE:N=d.NONE,N}function v(){return!!(c.GAE_SERVICE||c.GAE_MODULE_NAME)}function p(){return!!(c.FUNCTION_NAME||c.FUNCTION_TARGET)}function g(){return!!c.K_CONFIGURATION}function w(){return!!c.CLOUD_RUN_JOB}async function R(){try{return await u.instance("attributes/cluster-name"),!0}catch{return!1}}async function C(){return u.isAvailable()}return envDetect}var jwtclient={},src$4={},jws={},dataStream,hasRequiredDataStream;function requireDataStream(){if(hasRequiredDataStream)return dataStream;hasRequiredDataStream=1;var c=requireSafeBuffer().Buffer,u=require$$0$6,d=require$$3$2;function y(O){if(this.buffer=null,this.writable=!0,this.readable=!0,!O)return this.buffer=c.alloc(0),this;if(typeof O.pipe=="function")return this.buffer=c.alloc(0),O.pipe(this),this;if(O.length||typeof O=="object")return this.buffer=O,this.writable=!1,process.nextTick((function(){this.emit("end",O),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof O+")")}return d.inherits(y,u),y.prototype.write=function(T){this.buffer=c.concat([this.buffer,c.from(T)]),this.emit("data",T)},y.prototype.end=function(T){T&&this.write(T),this.emit("end",T),this.emit("close"),this.writable=!1,this.readable=!1},dataStream=y,dataStream}var bufferEqualConstantTime,hasRequiredBufferEqualConstantTime;function requireBufferEqualConstantTime(){if(hasRequiredBufferEqualConstantTime)return bufferEqualConstantTime;hasRequiredBufferEqualConstantTime=1;var c=require$$0$9.Buffer,u=require$$0$9.SlowBuffer;bufferEqualConstantTime=d;function d(T,E){if(!c.isBuffer(T)||!c.isBuffer(E)||T.length!==E.length)return!1;for(var v=0,p=0;p<T.length;p++)v|=T[p]^E[p];return v===0}d.install=function(){c.prototype.equal=u.prototype.equal=function(E){return d(this,E)}};var y=c.prototype.equal,O=u.prototype.equal;return d.restore=function(){c.prototype.equal=y,u.prototype.equal=O},bufferEqualConstantTime}var jwa,hasRequiredJwa;function requireJwa(){if(hasRequiredJwa)return jwa;hasRequiredJwa=1;var c=requireSafeBuffer().Buffer,u=require$$0$4,d=requireEcdsaSigFormatter(),y=require$$3$2,O=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,T="secret must be a string or buffer",E="key must be a string or a buffer",v="key must be a string, a buffer or an object",p=typeof u.createPublicKey=="function";p&&(E+=" or a KeyObject",T+="or a KeyObject");function g(oe){if(!c.isBuffer(oe)&&typeof oe!="string"&&(!p||typeof oe!="object"||typeof oe.type!="string"||typeof oe.asymmetricKeyType!="string"||typeof oe.export!="function"))throw D(E)}function w(oe){if(!c.isBuffer(oe)&&typeof oe!="string"&&typeof oe!="object")throw D(v)}function R(oe){if(!c.isBuffer(oe)){if(typeof oe=="string")return oe;if(!p||typeof oe!="object"||oe.type!=="secret"||typeof oe.export!="function")throw D(T)}}function C(oe){return oe.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function N(oe){oe=oe.toString();var ie=4-oe.length%4;if(ie!==4)for(var ee=0;ee<ie;++ee)oe+="=";return oe.replace(/\-/g,"+").replace(/_/g,"/")}function D(oe){var ie=[].slice.call(arguments,1),ee=y.format.bind(y,oe).apply(null,ie);return new TypeError(ee)}function L(oe){return c.isBuffer(oe)||typeof oe=="string"}function q(oe){return L(oe)||(oe=JSON.stringify(oe)),oe}function M(oe){return function(ee,ue){R(ue),ee=q(ee);var fe=u.createHmac("sha"+oe,ue),de=(fe.update(ee),fe.digest("base64"));return C(de)}}var U,V="timingSafeEqual"in u?function(ie,ee){return ie.byteLength!==ee.byteLength?!1:u.timingSafeEqual(ie,ee)}:function(ie,ee){return U||(U=requireBufferEqualConstantTime()),U(ie,ee)};function $(oe){return function(ee,ue,fe){var de=M(oe)(ee,fe);return V(c.from(ue),c.from(de))}}function z(oe){return function(ee,ue){w(ue),ee=q(ee);var fe=u.createSign("RSA-SHA"+oe),de=(fe.update(ee),fe.sign(ue,"base64"));return C(de)}}function W(oe){return function(ee,ue,fe){g(fe),ee=q(ee),ue=N(ue);var de=u.createVerify("RSA-SHA"+oe);return de.update(ee),de.verify(fe,ue,"base64")}}function J(oe){return function(ee,ue){w(ue),ee=q(ee);var fe=u.createSign("RSA-SHA"+oe),de=(fe.update(ee),fe.sign({key:ue,padding:u.constants.RSA_PKCS1_PSS_PADDING,saltLength:u.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return C(de)}}function Y(oe){return function(ee,ue,fe){g(fe),ee=q(ee),ue=N(ue);var de=u.createVerify("RSA-SHA"+oe);return de.update(ee),de.verify({key:fe,padding:u.constants.RSA_PKCS1_PSS_PADDING,saltLength:u.constants.RSA_PSS_SALTLEN_DIGEST},ue,"base64")}}function Q(oe){var ie=z(oe);return function(){var ue=ie.apply(null,arguments);return ue=d.derToJose(ue,"ES"+oe),ue}}function H(oe){var ie=W(oe);return function(ue,fe,de){fe=d.joseToDer(fe,"ES"+oe).toString("base64");var ge=ie(ue,fe,de);return ge}}function te(){return function(){return""}}function ne(){return function(ie,ee){return ee===""}}return jwa=function(ie){var ee={hs:M,rs:z,ps:J,es:Q,none:te},ue={hs:$,rs:W,ps:Y,es:H,none:ne},fe=ie.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!fe)throw D(O,ie);var de=(fe[1]||fe[3]).toLowerCase(),ge=fe[2];return{sign:ee[de](ge),verify:ue[de](ge)}},jwa}var tostring,hasRequiredTostring;function requireTostring(){if(hasRequiredTostring)return tostring;hasRequiredTostring=1;var c=require$$0$9.Buffer;return tostring=function(d){return typeof d=="string"?d:typeof d=="number"||c.isBuffer(d)?d.toString():JSON.stringify(d)},tostring}var signStream,hasRequiredSignStream;function requireSignStream(){if(hasRequiredSignStream)return signStream;hasRequiredSignStream=1;var c=requireSafeBuffer().Buffer,u=requireDataStream(),d=requireJwa(),y=require$$0$6,O=requireTostring(),T=require$$3$2;function E(w,R){return c.from(w,R).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function v(w,R,C){C=C||"utf8";var N=E(O(w),"binary"),D=E(O(R),C);return T.format("%s.%s",N,D)}function p(w){var R=w.header,C=w.payload,N=w.secret||w.privateKey,D=w.encoding,L=d(R.alg),q=v(R,C,D),M=L.sign(q,N);return T.format("%s.%s",q,M)}function g(w){var R=w.secret;if(R=R??w.privateKey,R=R??w.key,/^hs/i.test(w.header.alg)===!0&&R==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var C=new u(R);this.readable=!0,this.header=w.header,this.encoding=w.encoding,this.secret=this.privateKey=this.key=C,this.payload=new u(w.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}return T.inherits(g,y),g.prototype.sign=function(){try{var R=p({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",R),this.emit("data",R),this.emit("end"),this.readable=!1,R}catch(C){this.readable=!1,this.emit("error",C),this.emit("close")}},g.sign=p,signStream=g,signStream}var verifyStream,hasRequiredVerifyStream;function requireVerifyStream(){if(hasRequiredVerifyStream)return verifyStream;hasRequiredVerifyStream=1;var c=requireSafeBuffer().Buffer,u=requireDataStream(),d=requireJwa(),y=require$$0$6,O=requireTostring(),T=require$$3$2,E=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function v(M){return Object.prototype.toString.call(M)==="[object Object]"}function p(M){if(v(M))return M;try{return JSON.parse(M)}catch{return}}function g(M){var U=M.split(".",1)[0];return p(c.from(U,"base64").toString("binary"))}function w(M){return M.split(".",2).join(".")}function R(M){return M.split(".")[2]}function C(M,U){U=U||"utf8";var V=M.split(".")[1];return c.from(V,"base64").toString(U)}function N(M){return E.test(M)&&!!g(M)}function D(M,U,V){if(!U){var $=new Error("Missing algorithm parameter for jws.verify");throw $.code="MISSING_ALGORITHM",$}M=O(M);var z=R(M),W=w(M),J=d(U);return J.verify(W,z,V)}function L(M,U){if(U=U||{},M=O(M),!N(M))return null;var V=g(M);if(!V)return null;var $=C(M);return(V.typ==="JWT"||U.json)&&($=JSON.parse($,U.encoding)),{header:V,payload:$,signature:R(M)}}function q(M){M=M||{};var U=M.secret;if(U=U??M.publicKey,U=U??M.key,/^hs/i.test(M.algorithm)===!0&&U==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var V=new u(U);this.readable=!0,this.algorithm=M.algorithm,this.encoding=M.encoding,this.secret=this.publicKey=this.key=V,this.signature=new u(M.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}return T.inherits(q,y),q.prototype.verify=function(){try{var U=D(this.signature.buffer,this.algorithm,this.key.buffer),V=L(this.signature.buffer,this.encoding);return this.emit("done",U,V),this.emit("data",U),this.emit("end"),this.readable=!1,U}catch($){this.readable=!1,this.emit("error",$),this.emit("close")}},q.decode=L,q.isValid=N,q.verify=D,verifyStream=q,verifyStream}var hasRequiredJws;function requireJws(){if(hasRequiredJws)return jws;hasRequiredJws=1;var c=requireSignStream(),u=requireVerifyStream(),d=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return jws.ALGORITHMS=d,jws.sign=c.sign,jws.verify=u.verify,jws.decode=u.decode,jws.isValid=u.isValid,jws.createSign=function(O){return new c(O)},jws.createVerify=function(O){return new u(O)},jws}var hasRequiredSrc$6;function requireSrc$6(){if(hasRequiredSrc$6)return src$4;hasRequiredSrc$6=1,Object.defineProperty(src$4,"__esModule",{value:!0}),src$4.GoogleToken=void 0;var c=T(require$$0$7),u=requireSrc$9(),d=T(requireJws()),y=T(require$$6$2),O=require$$3$2;function T(K,pe){if(typeof WeakMap=="function")var Se=new WeakMap,ye=new WeakMap;return(T=function(j,G){if(!G&&j&&j.__esModule)return j;var o,I,B={__proto__:null,default:j};if(j===null||E(j)!="object"&&typeof j!="function")return B;if(o=G?ye:Se){if(o.has(j))return o.get(j);o.set(j,B)}for(var ae in j)ae!=="default"&&{}.hasOwnProperty.call(j,ae)&&((I=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(j,ae))&&(I.get||I.set)?o(B,ae,I):B[ae]=j[ae]);return B})(K,pe)}function E(K){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},E(K)}function v(K,pe){g(K,pe),pe.add(K)}function p(K,pe,Se){g(K,pe),pe.set(K,Se)}function g(K,pe){if(pe.has(K))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(K,pe,Se){return K.set(C(K,pe),Se),Se}function R(K,pe){return K.get(C(K,pe))}function C(K,pe,Se){if(typeof K=="function"?K===pe:K.has(pe))return arguments.length<3?pe:Se;throw new TypeError("Private element is not present on this object")}function N(K,pe){for(var Se=0;Se<pe.length;Se++){var ye=pe[Se];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(K,te(ye.key),ye)}}function D(K,pe,Se){return pe&&N(K.prototype,pe),Object.defineProperty(K,"prototype",{writable:!1}),K}function L(K,pe){if(!(K instanceof pe))throw new TypeError("Cannot call a class as a function")}function q(K,pe,Se){return pe=Q(pe),M(K,W()?Reflect.construct(pe,Se||[],Q(K).constructor):pe.apply(K,Se))}function M(K,pe){if(pe&&(E(pe)=="object"||typeof pe=="function"))return pe;if(pe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(K)}function U(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function V(K,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(pe&&pe.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),pe&&Y(K,pe)}function $(K){var pe=typeof Map=="function"?new Map:void 0;return $=function(ye){if(ye===null||!J(ye))return ye;if(typeof ye!="function")throw new TypeError("Super expression must either be null or a function");if(pe!==void 0){if(pe.has(ye))return pe.get(ye);pe.set(ye,a)}function a(){return z(ye,arguments,Q(this).constructor)}return a.prototype=Object.create(ye.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Y(a,ye)},$(K)}function z(K,pe,Se){if(W())return Reflect.construct.apply(null,arguments);var ye=[null];ye.push.apply(ye,pe);var a=new(K.bind.apply(K,ye));return Se&&Y(a,Se.prototype),a}function W(){try{var K=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W=function(){return!!K})()}function J(K){try{return Function.toString.call(K).indexOf("[native code]")!==-1}catch{return typeof K=="function"}}function Y(K,pe){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,ye){return Se.__proto__=ye,Se},Y(K,pe)}function Q(K){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Q(K)}function H(K,pe,Se){return(pe=te(pe))in K?Object.defineProperty(K,pe,{value:Se,enumerable:!0,configurable:!0,writable:!0}):K[pe]=Se,K}function te(K){var pe=ne(K,"string");return E(pe)=="symbol"?pe:pe+""}function ne(K,pe){if(E(K)!="object"||!K)return K;var Se=K[Symbol.toPrimitive];if(Se!==void 0){var ye=Se.call(K,pe);if(E(ye)!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}function oe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var K,pe,Se=typeof Symbol=="function"?Symbol:{},ye=Se.iterator||"@@iterator",a=Se.toStringTag||"@@toStringTag";function j(He,Ve,Ke,st){var vt=Ve&&Ve.prototype instanceof o?Ve:o,ft=Object.create(vt.prototype);return ie(ft,"_invoke",(function(yt,tt,ke){var je,Ne,Me,Be=0,Je=ke||[],et=!1,rt={p:0,n:0,v:K,a:Le,f:Le.bind(K,4),d:function(Ye,lt){return je=Ye,Ne=0,Me=K,rt.n=lt,G}};function Le($e,Ye){for(Ne=$e,Me=Ye,pe=0;!et&&Be&&!lt&&pe<Je.length;pe++){var lt,ot=Je[pe],Et=rt.p,kt=ot[2];$e>3?(lt=kt===Ye)&&(Me=ot[(Ne=ot[4])?5:(Ne=3,3)],ot[4]=ot[5]=K):ot[0]<=Et&&((lt=$e<2&&Et<ot[1])?(Ne=0,rt.v=Ye,rt.n=ot[1]):Et<kt&&(lt=$e<3||ot[0]>Ye||Ye>kt)&&(ot[4]=$e,ot[5]=Ye,rt.n=kt,Ne=0))}if(lt||$e>1)return G;throw et=!0,Ye}return function($e,Ye,lt){if(Be>1)throw TypeError("Generator is already running");for(et&&Ye===1&&Le(Ye,lt),Ne=Ye,Me=lt;(pe=Ne<2?K:Me)||!et;){je||(Ne?Ne<3?(Ne>1&&(rt.n=-1),Le(Ne,Me)):rt.n=Me:rt.v=Me);try{if(Be=2,je){if(Ne||($e="next"),pe=je[$e]){if(!(pe=pe.call(je,Me)))throw TypeError("iterator result is not an object");if(!pe.done)return pe;Me=pe.value,Ne<2&&(Ne=0)}else Ne===1&&(pe=je.return)&&pe.call(je),Ne<2&&(Me=TypeError("The iterator does not provide a '"+$e+"' method"),Ne=1);je=K}else if((pe=(et=rt.n<0)?Me:yt.call(tt,rt))!==G)break}catch(ot){je=K,Ne=1,Me=ot}finally{Be=1}}return{value:pe,done:et}}})(He,Ke,st),!0),ft}var G={};function o(){}function I(){}function B(){}pe=Object.getPrototypeOf;var ae=[][ye]?pe(pe([][ye]())):(ie(pe={},ye,function(){return this}),pe),Ce=B.prototype=o.prototype=Object.create(ae);function Ue(He){return Object.setPrototypeOf?Object.setPrototypeOf(He,B):(He.__proto__=B,ie(He,a,"GeneratorFunction")),He.prototype=Object.create(Ce),He}return I.prototype=B,ie(Ce,"constructor",B),ie(B,"constructor",I),I.displayName="GeneratorFunction",ie(B,a,"GeneratorFunction"),ie(Ce),ie(Ce,a,"Generator"),ie(Ce,ye,function(){return this}),ie(Ce,"toString",function(){return"[object Generator]"}),(oe=function(){return{w:j,m:Ue}})()}function ie(K,pe,Se,ye){var a=Object.defineProperty;try{a({},"",{})}catch{a=0}ie=function(G,o,I,B){if(o)a?a(G,o,{value:I,enumerable:!B,configurable:!B,writable:!B}):G[o]=I;else{var ae=function(Ue,He){ie(G,Ue,function(Ve){return this._invoke(Ue,He,Ve)})};ae("next",0),ae("throw",1),ae("return",2)}},ie(K,pe,Se,ye)}function ee(K,pe,Se,ye,a,j,G){try{var o=K[j](G),I=o.value}catch(B){return void Se(B)}o.done?pe(I):Promise.resolve(I).then(ye,a)}function ue(K){return function(){var pe=this,Se=arguments;return new Promise(function(ye,a){var j=K.apply(pe,Se);function G(I){ee(j,ye,a,G,o,"next",I)}function o(I){ee(j,ye,a,G,o,"throw",I)}G(void 0)})}}var fe=c.readFile?(0,O.promisify)(c.readFile):ue(oe().m(function K(){return oe().w(function(pe){for(;;)switch(pe.n){case 0:throw new me("use key rather than keyFile.","MISSING_CREDENTIALS");case 1:return pe.a(2)}},K)})),de="https://oauth2.googleapis.com/token",ge="https://oauth2.googleapis.com/revoke?token=",me=(function(K){function pe(Se,ye){var a;return L(this,pe),a=q(this,pe,[Se]),H(a,"code",void 0),a.code=ye,a}return V(pe,K),D(pe)})($(Error)),_e=new WeakMap,we=new WeakSet;src$4.GoogleToken=(function(){function K(pe){L(this,K),v(this,we),H(this,"expiresAt",void 0),H(this,"key",void 0),H(this,"keyFile",void 0),H(this,"iss",void 0),H(this,"sub",void 0),H(this,"scope",void 0),H(this,"rawToken",void 0),H(this,"tokenExpires",void 0),H(this,"email",void 0),H(this,"additionalClaims",void 0),H(this,"eagerRefreshThresholdMillis",void 0),H(this,"transporter",{request:function(ye){return(0,u.request)(ye)}}),p(this,_e,void 0),C(we,this,l).call(this,pe)}return D(K,[{key:"accessToken",get:function(){return this.rawToken?this.rawToken.access_token:void 0}},{key:"idToken",get:function(){return this.rawToken?this.rawToken.id_token:void 0}},{key:"tokenType",get:function(){return this.rawToken?this.rawToken.token_type:void 0}},{key:"refreshToken",get:function(){return this.rawToken?this.rawToken.refresh_token:void 0}},{key:"hasExpired",value:function(){var Se=new Date().getTime();return this.rawToken&&this.expiresAt?Se>=this.expiresAt:!0}},{key:"isTokenExpiring",value:function(){var Se,ye=new Date().getTime(),a=(Se=this.eagerRefreshThresholdMillis)!==null&&Se!==void 0?Se:0;return this.rawToken&&this.expiresAt?this.expiresAt<=ye+a:!0}},{key:"getToken",value:function(Se){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(Se)==="object"&&(ye=Se,Se=void 0),ye=Object.assign({forceRefresh:!1},ye),Se){var a=Se;C(we,this,Re).call(this,ye).then(function(j){return a(null,j)},Se);return}return C(we,this,Re).call(this,ye)}},{key:"getCredentials",value:(function(){var pe=ue(oe().m(function ye(a){var j,G,o,I,B,ae,Ce;return oe().w(function(Ue){for(;;)switch(Ue.n){case 0:j=y.extname(a),Ce=j,Ue.n=Ce===".json"?1:Ce===".der"||Ce===".crt"||Ce===".pem"?4:Ce===".p12"||Ce===".pfx"?6:7;break;case 1:return Ue.n=2,fe(a,"utf8");case 2:if(G=Ue.v,o=JSON.parse(G),I=o.private_key,B=o.client_email,!(!I||!B)){Ue.n=3;break}throw new me("private_key and client_email are required.","MISSING_CREDENTIALS");case 3:return Ue.a(2,{privateKey:I,clientEmail:B});case 4:return Ue.n=5,fe(a,"utf8");case 5:return ae=Ue.v,Ue.a(2,{privateKey:ae});case 6:throw new me("*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.","UNKNOWN_CERTIFICATE_TYPE");case 7:throw new me("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.","UNKNOWN_CERTIFICATE_TYPE");case 8:return Ue.a(2)}},ye)}));function Se(ye){return pe.apply(this,arguments)}return Se})()},{key:"revokeToken",value:function(Se){if(Se){C(we,this,Ee).call(this).then(function(){return Se()},Se);return}return C(we,this,Ee).call(this)}}])})();function Re(K){return Te.apply(this,arguments)}function Te(){return Te=ue(oe().m(function K(pe){return oe().w(function(Se){for(;;)switch(Se.n){case 0:if(!(R(_e,this)&&!pe.forceRefresh)){Se.n=1;break}return Se.a(2,R(_e,this));case 1:return Se.p=1,Se.n=2,w(_e,this,C(we,this,Ae).call(this,pe));case 2:return Se.a(2,Se.v);case 3:return Se.p=3,w(_e,this,void 0),Se.f(3);case 4:return Se.a(2)}},K,this,[[1,,3,4]])})),Te.apply(this,arguments)}function Ae(K){return Oe.apply(this,arguments)}function Oe(){return Oe=ue(oe().m(function K(pe){var Se;return oe().w(function(ye){for(;;)switch(ye.n){case 0:if(!(this.isTokenExpiring()===!1&&pe.forceRefresh===!1)){ye.n=1;break}return ye.a(2,Promise.resolve(this.rawToken));case 1:if(!(!this.key&&!this.keyFile)){ye.n=2;break}throw new Error("No key or keyFile set.");case 2:if(!(!this.key&&this.keyFile)){ye.n=4;break}return ye.n=3,this.getCredentials(this.keyFile);case 3:Se=ye.v,this.key=Se.privateKey,this.iss=Se.clientEmail||this.iss,Se.clientEmail||C(we,this,ve).call(this);case 4:return ye.a(2,C(we,this,P).call(this))}},K,this)})),Oe.apply(this,arguments)}function ve(){if(!this.iss)throw new me("email is required.","MISSING_CREDENTIALS")}function Ee(){return he.apply(this,arguments)}function he(){return he=ue(oe().m(function K(){var pe;return oe().w(function(Se){for(;;)switch(Se.n){case 0:if(this.accessToken){Se.n=1;break}throw new Error("No token to revoke.");case 1:return pe=ge+this.accessToken,Se.n=2,this.transporter.request({url:pe,retry:!0});case 2:C(we,this,l).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims});case 3:return Se.a(2)}},K,this)})),he.apply(this,arguments)}function l(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.keyFile=K.keyFile,this.key=K.key,this.rawToken=void 0,this.iss=K.email||K.iss,this.sub=K.sub,this.additionalClaims=K.additionalClaims,E(K.scope)==="object"?this.scope=K.scope.join(" "):this.scope=K.scope,this.eagerRefreshThresholdMillis=K.eagerRefreshThresholdMillis,K.transporter&&(this.transporter=K.transporter)}function P(){return k.apply(this,arguments)}function k(){return k=ue(oe().m(function K(){var pe,Se,ye,a,j,G,o,I,B,ae;return oe().w(function(Ce){for(;;)switch(Ce.n){case 0:return pe=Math.floor(new Date().getTime()/1e3),Se=this.additionalClaims||{},ye=Object.assign({iss:this.iss,scope:this.scope,aud:de,exp:pe+3600,iat:pe,sub:this.sub},Se),a=d.sign({header:{alg:"RS256"},payload:ye,secret:this.key}),Ce.p=1,Ce.n=2,this.transporter.request({method:"POST",url:de,data:new URLSearchParams({grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:a}),responseType:"json",retryConfig:{httpMethodsToRetry:["POST"]}});case 2:return j=Ce.v,this.rawToken=j.data,this.expiresAt=j.data.expires_in===null||j.data.expires_in===void 0?void 0:(pe+j.data.expires_in)*1e3,Ce.a(2,this.rawToken);case 3:throw Ce.p=3,ae=Ce.v,this.rawToken=void 0,this.tokenExpires=void 0,I=ae.response&&(G=ae.response)!==null&&G!==void 0&&G.data?(o=ae.response)===null||o===void 0?void 0:o.data:{},I.error&&(B=I.error_description?": ".concat(I.error_description):"",ae.message="".concat(I.error).concat(B)),ae;case 4:return Ce.a(2)}},K,this,[[1,3]])})),k.apply(this,arguments)}return src$4}var jwtaccess={},hasRequiredJwtaccess;function requireJwtaccess(){if(hasRequiredJwtaccess)return jwtaccess;hasRequiredJwtaccess=1,Object.defineProperty(jwtaccess,"__esModule",{value:!0}),jwtaccess.JWTAccess=void 0;const c=requireJws(),u=requireUtil$3(),d={alg:"RS256",typ:"JWT"};class y{constructor(T,E,v,p){ce(this,"email");ce(this,"key");ce(this,"keyId");ce(this,"projectId");ce(this,"eagerRefreshThresholdMillis");ce(this,"cache",new u.LRUCache({capacity:500,maxAge:3600*1e3}));this.email=T,this.key=E,this.keyId=v,this.eagerRefreshThresholdMillis=p??300*1e3}getCachedKey(T,E){let v=T;if(E&&Array.isArray(E)&&E.length?v=T?`${T}_${E.join("_")}`:`${E.join("_")}`:typeof E=="string"&&(v=T?`${T}_${E}`:E),!v)throw Error("Scopes or url must be provided");return v}getRequestHeaders(T,E,v){const p=this.getCachedKey(T,v),g=this.cache.get(p),w=Date.now();if(g&&g.expiration-w>this.eagerRefreshThresholdMillis)return new Headers(g.headers);const R=Math.floor(Date.now()/1e3),C=y.getExpirationTime(R);let N;if(Array.isArray(v)&&(v=v.join(" ")),v?N={iss:this.email,sub:this.email,scope:v,exp:C,iat:R}:N={iss:this.email,sub:this.email,aud:T,exp:C,iat:R},E){for(const U in N)if(E[U])throw new Error(`The '${U}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}const D=this.keyId?{...d,kid:this.keyId}:d,L=Object.assign(N,E),q=c.sign({header:D,payload:L,secret:this.key}),M=new Headers({authorization:`Bearer ${q}`});return this.cache.set(p,{expiration:C*1e3,headers:M}),M}static getExpirationTime(T){return T+3600}fromJSON(T){if(!T)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!T.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!T.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=T.client_email,this.key=T.private_key,this.keyId=T.private_key_id,this.projectId=T.project_id}fromStream(T,E){if(E)this.fromStreamAsync(T).then(()=>E(),E);else return this.fromStreamAsync(T)}fromStreamAsync(T){return new Promise((E,v)=>{T||v(new Error("Must pass in a stream containing the service account auth settings."));let p="";T.setEncoding("utf8").on("data",g=>p+=g).on("error",v).on("end",()=>{try{const g=JSON.parse(p);this.fromJSON(g),E()}catch(g){v(g)}})})}}return jwtaccess.JWTAccess=y,jwtaccess}var hasRequiredJwtclient;function requireJwtclient(){if(hasRequiredJwtclient)return jwtclient;hasRequiredJwtclient=1,Object.defineProperty(jwtclient,"__esModule",{value:!0}),jwtclient.JWT=void 0;const c=requireSrc$6(),u=requireJwtaccess(),d=requireOauth2client(),y=requireAuthclient();class O extends d.OAuth2Client{constructor(v={}){super(v);ce(this,"email");ce(this,"keyFile");ce(this,"key");ce(this,"keyId");ce(this,"defaultScopes");ce(this,"scopes");ce(this,"scope");ce(this,"subject");ce(this,"gtoken");ce(this,"additionalClaims");ce(this,"useJWTAccessWithScope");ce(this,"defaultServicePath");ce(this,"access");this.email=v.email,this.keyFile=v.keyFile,this.key=v.key,this.keyId=v.keyId,this.scopes=v.scopes,this.subject=v.subject,this.additionalClaims=v.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(v){const p=new O(this);return p.scopes=v,p}async getRequestMetadataAsync(v){v=this.defaultServicePath?`https://${this.defaultServicePath}/`:v;const p=!this.hasUserScopes()&&v||this.useJWTAccessWithScope&&this.hasAnyScopes()||this.universeDomain!==y.DEFAULT_UNIVERSE;if(this.subject&&this.universeDomain!==y.DEFAULT_UNIVERSE)throw new RangeError(`Service Account user is configured for the credential. Domain-wide delegation is not supported in universes other than ${y.DEFAULT_UNIVERSE}`);if(!this.apiKey&&p)if(this.additionalClaims&&this.additionalClaims.target_audience){const{tokens:g}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders(new Headers({authorization:`Bearer ${g.id_token}`}))}}else{this.access||(this.access=new u.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));let g;this.hasUserScopes()?g=this.scopes:v||(g=this.defaultScopes);const w=this.useJWTAccessWithScope||this.universeDomain!==y.DEFAULT_UNIVERSE,R=await this.access.getRequestHeaders(v??void 0,this.additionalClaims,w?g:void 0);return{headers:this.addSharedMetadataHeaders(R)}}else return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(v):{headers:new Headers}}async fetchIdToken(v){const p=new c.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:v},transporter:this.transporter});if(await p.getToken({forceRefresh:!0}),!p.idToken)throw new Error("Unknown error: Failed to fetch ID token");return p.idToken}hasUserScopes(){return this.scopes?this.scopes.length>0:!1}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0||this.defaultScopes&&this.defaultScopes.length>0)}authorize(v){if(v)this.authorizeAsync().then(p=>v(null,p),v);else return this.authorizeAsync()}async authorizeAsync(){const v=await this.refreshToken();if(!v)throw new Error("No result returned");return this.credentials=v.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,v.tokens}async refreshTokenNoCache(){const v=this.createGToken(),g={access_token:(await v.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:v.expiresAt,id_token:v.idToken};return this.emit("tokens",g),{res:null,tokens:g}}createGToken(){return this.gtoken||(this.gtoken=new c.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims,transporter:this.transporter})),this.gtoken}fromJSON(v){if(!v)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!v.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!v.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=v.client_email,this.key=v.private_key,this.keyId=v.private_key_id,this.projectId=v.project_id,this.quotaProjectId=v.quota_project_id,this.universeDomain=v.universe_domain||this.universeDomain}fromStream(v,p){if(p)this.fromStreamAsync(v).then(()=>p(),p);else return this.fromStreamAsync(v)}fromStreamAsync(v){return new Promise((p,g)=>{if(!v)throw new Error("Must pass in a stream containing the service account auth settings.");let w="";v.setEncoding("utf8").on("error",g).on("data",R=>w+=R).on("end",()=>{try{const R=JSON.parse(w);this.fromJSON(R),p()}catch(R){g(R)}})})}fromAPIKey(v){if(typeof v!="string")throw new Error("Must provide an API Key string.");this.apiKey=v}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){const p=await this.createGToken().getCredentials(this.keyFile);return{private_key:p.privateKey,client_email:p.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")}}return jwtclient.JWT=O,jwtclient}var refreshclient={},hasRequiredRefreshclient;function requireRefreshclient(){if(hasRequiredRefreshclient)return refreshclient;hasRequiredRefreshclient=1,Object.defineProperty(refreshclient,"__esModule",{value:!0}),refreshclient.UserRefreshClient=refreshclient.USER_REFRESH_ACCOUNT_TYPE=void 0;const c=requireOauth2client(),u=requireAuthclient();refreshclient.USER_REFRESH_ACCOUNT_TYPE="authorized_user";class d extends c.OAuth2Client{constructor(T,E,v,p,g){const w=T&&typeof T=="object"?T:{clientId:T,clientSecret:E,refreshToken:v,eagerRefreshThresholdMillis:p,forceRefreshOnFailure:g};super(w);ce(this,"_refreshToken");this._refreshToken=w.refreshToken,this.credentials.refresh_token=w.refreshToken}async refreshTokenNoCache(){return super.refreshTokenNoCache(this._refreshToken)}async fetchIdToken(T){const E={...d.RETRY_CONFIG,url:this.endpoints.oauth2TokenUrl,method:"POST",data:new URLSearchParams({client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token",refresh_token:this._refreshToken,target_audience:T})};return u.AuthClient.setMethodName(E,"fetchIdToken"),(await this.transporter.request(E)).data.id_token}fromJSON(T){if(!T)throw new Error("Must pass in a JSON object containing the user refresh token");if(T.type!=="authorized_user")throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!T.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!T.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!T.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=T.client_id,this._clientSecret=T.client_secret,this._refreshToken=T.refresh_token,this.credentials.refresh_token=T.refresh_token,this.quotaProjectId=T.quota_project_id,this.universeDomain=T.universe_domain||this.universeDomain}fromStream(T,E){if(E)this.fromStreamAsync(T).then(()=>E(),E);else return this.fromStreamAsync(T)}async fromStreamAsync(T){return new Promise((E,v)=>{if(!T)return v(new Error("Must pass in a stream containing the user refresh token."));let p="";T.setEncoding("utf8").on("error",v).on("data",g=>p+=g).on("end",()=>{try{const g=JSON.parse(p);return this.fromJSON(g),E()}catch(g){return v(g)}})})}static fromJSON(T){const E=new d;return E.fromJSON(T),E}}return refreshclient.UserRefreshClient=d,refreshclient}var impersonated={},hasRequiredImpersonated;function requireImpersonated(){if(hasRequiredImpersonated)return impersonated;hasRequiredImpersonated=1,Object.defineProperty(impersonated,"__esModule",{value:!0}),impersonated.Impersonated=impersonated.IMPERSONATED_ACCOUNT_TYPE=void 0;const c=requireOauth2client(),u=requireSrc$9(),d=requireUtil$3();impersonated.IMPERSONATED_ACCOUNT_TYPE="impersonated_service_account";class y extends c.OAuth2Client{constructor(E={}){super(E);ce(this,"sourceClient");ce(this,"targetPrincipal");ce(this,"targetScopes");ce(this,"delegates");ce(this,"lifetime");ce(this,"endpoint");if(this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=E.sourceClient??new c.OAuth2Client,this.targetPrincipal=E.targetPrincipal??"",this.delegates=E.delegates??[],this.targetScopes=E.targetScopes??[],this.lifetime=E.lifetime??3600,!!!(0,d.originalOrCamelOptions)(E).get("universe_domain"))this.universeDomain=this.sourceClient.universeDomain;else if(this.sourceClient.universeDomain!==this.universeDomain)throw new RangeError(`Universe domain ${this.sourceClient.universeDomain} in source credentials does not match ${this.universeDomain} universe domain set for impersonated credentials.`);this.endpoint=E.endpoint??`https://iamcredentials.${this.universeDomain}`}async sign(E){await this.sourceClient.getAccessToken();const v=`projects/-/serviceAccounts/${this.targetPrincipal}`,p=`${this.endpoint}/v1/${v}:signBlob`,g={delegates:this.delegates,payload:Buffer.from(E).toString("base64")};return(await this.sourceClient.request({...y.RETRY_CONFIG,url:p,data:g,method:"POST"})).data}getTargetPrincipal(){return this.targetPrincipal}async refreshToken(){var E,v,p,g,w,R;try{await this.sourceClient.getAccessToken();const C="projects/-/serviceAccounts/"+this.targetPrincipal,N=`${this.endpoint}/v1/${C}:generateAccessToken`,D={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},L=await this.sourceClient.request({...y.RETRY_CONFIG,url:N,data:D,method:"POST"}),q=L.data;return this.credentials.access_token=q.accessToken,this.credentials.expiry_date=Date.parse(q.expireTime),{tokens:this.credentials,res:L}}catch(C){if(!(C instanceof Error))throw C;let N=0,D="";throw C instanceof u.GaxiosError&&(N=(p=(v=(E=C==null?void 0:C.response)==null?void 0:E.data)==null?void 0:v.error)==null?void 0:p.status,D=(R=(w=(g=C==null?void 0:C.response)==null?void 0:g.data)==null?void 0:w.error)==null?void 0:R.message),N&&D?(C.message=`${N}: unable to impersonate: ${D}`,C):(C.message=`unable to impersonate: ${C}`,C)}}async fetchIdToken(E,v){await this.sourceClient.getAccessToken();const p=`projects/-/serviceAccounts/${this.targetPrincipal}`,g=`${this.endpoint}/v1/${p}:generateIdToken`,w={delegates:this.delegates,audience:E,includeEmail:(v==null?void 0:v.includeEmail)??!0,useEmailAzp:(v==null?void 0:v.includeEmail)??!0};return(await this.sourceClient.request({...y.RETRY_CONFIG,url:g,data:w,method:"POST"})).data.token}}return impersonated.Impersonated=y,impersonated}var externalclient={},baseexternalclient={},stscredentials={},oauth2common={},hasRequiredOauth2common;function requireOauth2common(){var T,E;if(hasRequiredOauth2common)return oauth2common;hasRequiredOauth2common=1,Object.defineProperty(oauth2common,"__esModule",{value:!0}),oauth2common.OAuthClientAuthHandler=void 0,oauth2common.getErrorFromOAuthErrorResponse=O;const c=requireSrc$9(),u=requireCrypto(),d=["PUT","POST","PATCH"];class y{constructor(p){ze(this,T,(0,u.createCrypto)());ze(this,E);ce(this,"transporter");p&&"clientId"in p?(We(this,E,p),this.transporter=new c.Gaxios):(We(this,E,p==null?void 0:p.clientAuthentication),this.transporter=(p==null?void 0:p.transporter)||new c.Gaxios)}applyClientAuthenticationOptions(p,g){p.headers=c.Gaxios.mergeHeaders(p.headers),this.injectAuthenticatedHeaders(p,g),g||this.injectAuthenticatedRequestBody(p)}injectAuthenticatedHeaders(p,g){var w;if(g)p.headers=c.Gaxios.mergeHeaders(p.headers,{authorization:`Bearer ${g}`});else if(((w=Ie(this,E))==null?void 0:w.confidentialClientType)==="basic"){p.headers=c.Gaxios.mergeHeaders(p.headers);const R=Ie(this,E).clientId,C=Ie(this,E).clientSecret||"",N=Ie(this,T).encodeBase64StringUtf8(`${R}:${C}`);c.Gaxios.mergeHeaders(p.headers,{authorization:`Basic ${N}`})}}injectAuthenticatedRequestBody(p){var g;if(((g=Ie(this,E))==null?void 0:g.confidentialClientType)==="request-body"){const w=(p.method||"GET").toUpperCase();if(!d.includes(w))throw new Error(`${w} HTTP method does not support ${Ie(this,E).confidentialClientType} client authentication`);const C=new Headers(p.headers).get("content-type");if(C!=null&&C.startsWith("application/x-www-form-urlencoded")||p.data instanceof URLSearchParams){const N=new URLSearchParams(p.data??"");N.append("client_id",Ie(this,E).clientId),N.append("client_secret",Ie(this,E).clientSecret||""),p.data=N}else if(C!=null&&C.startsWith("application/json"))p.data=p.data||{},Object.assign(p.data,{client_id:Ie(this,E).clientId,client_secret:Ie(this,E).clientSecret||""});else throw new Error(`${C} content-types are not supported with ${Ie(this,E).confidentialClientType} client authentication`)}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}T=new WeakMap,E=new WeakMap,oauth2common.OAuthClientAuthHandler=y;function O(v,p){const g=v.error,w=v.error_description,R=v.error_uri;let C=`Error code ${g}`;typeof w<"u"&&(C+=`: ${w}`),typeof R<"u"&&(C+=` - ${R}`);const N=new Error(C);if(p){const D=Object.keys(p);p.stack&&D.push("stack"),D.forEach(L=>{L!=="message"&&Object.defineProperty(N,L,{value:p[L],writable:!1,enumerable:!0})})}return N}return oauth2common}var hasRequiredStscredentials;function requireStscredentials(){var T;if(hasRequiredStscredentials)return stscredentials;hasRequiredStscredentials=1,Object.defineProperty(stscredentials,"__esModule",{value:!0}),stscredentials.StsCredentials=void 0;const c=requireSrc$9(),u=requireAuthclient(),d=requireOauth2common(),y=requireUtil$3(),E=class E extends d.OAuthClientAuthHandler{constructor(g={tokenExchangeEndpoint:""},w){(typeof g!="object"||g instanceof URL)&&(g={tokenExchangeEndpoint:g,clientAuthentication:w});super(g);ze(this,T);We(this,T,g.tokenExchangeEndpoint)}async exchangeToken(g,w,R){var D,L,q;const C={grant_type:g.grantType,resource:g.resource,audience:g.audience,scope:(D=g.scope)==null?void 0:D.join(" "),requested_token_type:g.requestedTokenType,subject_token:g.subjectToken,subject_token_type:g.subjectTokenType,actor_token:(L=g.actingParty)==null?void 0:L.actorToken,actor_token_type:(q=g.actingParty)==null?void 0:q.actorTokenType,options:R&&JSON.stringify(R)},N={...E.RETRY_CONFIG,url:Ie(this,T).toString(),method:"POST",headers:w,data:new URLSearchParams((0,y.removeUndefinedValuesInObject)(C))};u.AuthClient.setMethodName(N,"exchangeToken"),this.applyClientAuthenticationOptions(N);try{const M=await this.transporter.request(N),U=M.data;return U.res=M,U}catch(M){throw M instanceof c.GaxiosError&&M.response?(0,d.getErrorFromOAuthErrorResponse)(M.response.data,M):M}}};T=new WeakMap;let O=E;return stscredentials.StsCredentials=O,stscredentials}var hasRequiredBaseexternalclient;function requireBaseexternalclient(){return hasRequiredBaseexternalclient||(hasRequiredBaseexternalclient=1,(function(c){var D,L,ua;Object.defineProperty(c,"__esModule",{value:!0}),c.BaseExternalAccountClient=c.CLOUD_RESOURCE_MANAGER=c.EXTERNAL_ACCOUNT_TYPE=c.EXPIRATION_TIME_OFFSET=void 0;const u=requireSrc$9(),d=require$$0$6,y=requireAuthclient(),O=requireStscredentials(),T=requireUtil$3(),E=requireShared(),v="urn:ietf:params:oauth:grant-type:token-exchange",p="urn:ietf:params:oauth:token-type:access_token",g="https://www.googleapis.com/auth/cloud-platform",w=3600;c.EXPIRATION_TIME_OFFSET=300*1e3,c.EXTERNAL_ACCOUNT_TYPE="external_account",c.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";const R="//iam\\.googleapis\\.com/locations/[^/]+/workforcePools/[^/]+/providers/.+",C="https://sts.{universeDomain}/v1/token",M=class M extends y.AuthClient{constructor($){super($);ze(this,L);ce(this,"scopes");ce(this,"projectNumber");ce(this,"audience");ce(this,"subjectTokenType");ce(this,"stsCredential");ce(this,"clientAuth");ce(this,"credentialSourceType");ce(this,"cachedAccessToken");ce(this,"serviceAccountImpersonationUrl");ce(this,"serviceAccountImpersonationLifetime");ce(this,"workforcePoolUserProject");ce(this,"configLifetimeRequested");ce(this,"tokenUrl");ce(this,"cloudResourceManagerURL");ce(this,"supplierContext");ze(this,D,null);const z=(0,T.originalOrCamelOptions)($),W=z.get("type");if(W&&W!==c.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${c.EXTERNAL_ACCOUNT_TYPE}" type but received "${$.type}"`);const J=z.get("client_id"),Y=z.get("client_secret");this.tokenUrl=z.get("token_url")??C.replace("{universeDomain}",this.universeDomain);const Q=z.get("subject_token_type"),H=z.get("workforce_pool_user_project"),te=z.get("service_account_impersonation_url"),ne=z.get("service_account_impersonation"),oe=(0,T.originalOrCamelOptions)(ne).get("token_lifetime_seconds");this.cloudResourceManagerURL=new URL(z.get("cloud_resource_manager_url")||`https://cloudresourcemanager.${this.universeDomain}/v1/projects/`),J&&(this.clientAuth={confidentialClientType:"basic",clientId:J,clientSecret:Y}),this.stsCredential=new O.StsCredentials({tokenExchangeEndpoint:this.tokenUrl,clientAuthentication:this.clientAuth}),this.scopes=z.get("scopes")||[g],this.cachedAccessToken=null,this.audience=z.get("audience"),this.subjectTokenType=Q,this.workforcePoolUserProject=H;const ie=new RegExp(R);if(this.workforcePoolUserProject&&!this.audience.match(ie))throw new Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");this.serviceAccountImpersonationUrl=te,this.serviceAccountImpersonationLifetime=oe,this.serviceAccountImpersonationLifetime?this.configLifetimeRequested=!0:(this.configLifetimeRequested=!1,this.serviceAccountImpersonationLifetime=w),this.projectNumber=this.getProjectNumber(this.audience),this.supplierContext={audience:this.audience,subjectTokenType:this.subjectTokenType,transporter:this.transporter}}getServiceAccountEmail(){var $;if(this.serviceAccountImpersonationUrl){if(this.serviceAccountImpersonationUrl.length>256)throw new RangeError(`URL is too long: ${this.serviceAccountImpersonationUrl}`);const W=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return(($=W==null?void 0:W.groups)==null?void 0:$.email)||null}return null}setCredentials($){super.setCredentials($),this.cachedAccessToken=$}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const $=await this.getAccessToken(),z=new Headers({authorization:`Bearer ${$.token}`});return this.addSharedMetadataHeaders(z)}request($,z){if(z)this.requestAsync($).then(W=>z(null,W),W=>z(W,W.response));else return this.requestAsync($)}async getProjectId(){const $=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if($){const z=await this.getRequestHeaders(),W={...M.RETRY_CONFIG,headers:z,url:`${this.cloudResourceManagerURL.toString()}${$}`};y.AuthClient.setMethodName(W,"getProjectId");const J=await this.transporter.request(W);return this.projectId=J.data.projectId,this.projectId}return null}async requestAsync($,z=!1){let W;try{const J=await this.getRequestHeaders();$.headers=u.Gaxios.mergeHeaders($.headers),this.addUserProjectAndAuthHeaders($.headers,J),W=await this.transporter.request($)}catch(J){const Y=J.response;if(Y){const Q=Y.status,H=Y.config.data instanceof d.Readable;if(!z&&(Q===401||Q===403)&&!H&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync($,!0)}throw J}return W}async refreshAccessTokenAsync(){We(this,D,Ie(this,D)||Qe(this,L,ua).call(this));try{return await Ie(this,D)}finally{We(this,D,null)}}getProjectNumber($){const z=$.match(/\/projects\/([^/]+)/);return z?z[1]:null}async getImpersonatedAccessToken($){const z={...M.RETRY_CONFIG,url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${$}`},data:{scope:this.getScopesArray(),lifetime:this.serviceAccountImpersonationLifetime+"s"}};y.AuthClient.setMethodName(z,"getImpersonatedAccessToken");const W=await this.transporter.request(z),J=W.data;return{access_token:J.accessToken,expiry_date:new Date(J.expireTime).getTime(),res:W}}isExpired($){const z=new Date().getTime();return $.expiry_date?z>=$.expiry_date-this.eagerRefreshThresholdMillis:!1}getScopesArray(){return typeof this.scopes=="string"?[this.scopes]:this.scopes||[g]}getMetricsHeaderValue(){const $=process.version.replace(/^v/,""),z=this.serviceAccountImpersonationUrl!==void 0,W=this.credentialSourceType?this.credentialSourceType:"unknown";return`gl-node/${$} auth/${E.pkg.version} google-byoid-sdk source/${W} sa-impersonation/${z} config-lifetime/${this.configLifetimeRequested}`}getTokenUrl(){return this.tokenUrl}};D=new WeakMap,L=new WeakSet,ua=async function(){const $=await this.retrieveSubjectToken(),z={grantType:v,audience:this.audience,requestedTokenType:p,subjectToken:$,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[g]:this.getScopesArray()},W=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,J=new Headers({"x-goog-api-client":this.getMetricsHeaderValue()}),Y=await this.stsCredential.exchangeToken(z,J,W);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=await this.getImpersonatedAccessToken(Y.access_token):Y.expires_in?this.cachedAccessToken={access_token:Y.access_token,expiry_date:new Date().getTime()+Y.expires_in*1e3,res:Y.res}:this.cachedAccessToken={access_token:Y.access_token,res:Y.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken};let N=M;c.BaseExternalAccountClient=N})(baseexternalclient)),baseexternalclient}var identitypoolclient={},filesubjecttokensupplier={},hasRequiredFilesubjecttokensupplier;function requireFilesubjecttokensupplier(){if(hasRequiredFilesubjecttokensupplier)return filesubjecttokensupplier;hasRequiredFilesubjecttokensupplier=1,Object.defineProperty(filesubjecttokensupplier,"__esModule",{value:!0}),filesubjecttokensupplier.FileSubjectTokenSupplier=void 0;const c=require$$3$2,u=require$$0$7,d=(0,c.promisify)(u.readFile??(()=>{})),y=(0,c.promisify)(u.realpath??(()=>{})),O=(0,c.promisify)(u.lstat??(()=>{}));class T{constructor(v){ce(this,"filePath");ce(this,"formatType");ce(this,"subjectTokenFieldName");this.filePath=v.filePath,this.formatType=v.formatType,this.subjectTokenFieldName=v.subjectTokenFieldName}async getSubjectToken(){let v=this.filePath;try{if(v=await y(v),!(await O(v)).isFile())throw new Error}catch(w){throw w instanceof Error&&(w.message=`The file at ${v} does not exist, or it is not a file. ${w.message}`),w}let p;const g=await d(v,{encoding:"utf8"});if(this.formatType==="text"?p=g:this.formatType==="json"&&this.subjectTokenFieldName&&(p=JSON.parse(g)[this.subjectTokenFieldName]),!p)throw new Error("Unable to parse the subject_token from the credential_source file");return p}}return filesubjecttokensupplier.FileSubjectTokenSupplier=T,filesubjecttokensupplier}var urlsubjecttokensupplier={},hasRequiredUrlsubjecttokensupplier;function requireUrlsubjecttokensupplier(){if(hasRequiredUrlsubjecttokensupplier)return urlsubjecttokensupplier;hasRequiredUrlsubjecttokensupplier=1,Object.defineProperty(urlsubjecttokensupplier,"__esModule",{value:!0}),urlsubjecttokensupplier.UrlSubjectTokenSupplier=void 0;const c=requireAuthclient();class u{constructor(y){ce(this,"url");ce(this,"headers");ce(this,"formatType");ce(this,"subjectTokenFieldName");ce(this,"additionalGaxiosOptions");this.url=y.url,this.formatType=y.formatType,this.subjectTokenFieldName=y.subjectTokenFieldName,this.headers=y.headers,this.additionalGaxiosOptions=y.additionalGaxiosOptions}async getSubjectToken(y){const O={...this.additionalGaxiosOptions,url:this.url,method:"GET",headers:this.headers};c.AuthClient.setMethodName(O,"getSubjectToken");let T;if(this.formatType==="text"?T=(await y.transporter.request(O)).data:this.formatType==="json"&&this.subjectTokenFieldName&&(T=(await y.transporter.request(O)).data[this.subjectTokenFieldName]),!T)throw new Error("Unable to parse the subject_token from the credential_source URL");return T}}return urlsubjecttokensupplier.UrlSubjectTokenSupplier=u,urlsubjecttokensupplier}var certificatesubjecttokensupplier={},hasRequiredCertificatesubjecttokensupplier;function requireCertificatesubjecttokensupplier(){return hasRequiredCertificatesubjecttokensupplier||(hasRequiredCertificatesubjecttokensupplier=1,(function(c){var g,ca,da,pa,fa;var u={};Object.defineProperty(c,"__esModule",{value:!0}),c.CertificateSubjectTokenSupplier=c.InvalidConfigurationError=c.CertificateSourceUnavailableError=c.CERTIFICATE_CONFIGURATION_ENV_VARIABLE=void 0;const d=requireUtil$3(),y=require$$0$7,O=require$$0$4,T=require$$1$4;c.CERTIFICATE_CONFIGURATION_ENV_VARIABLE="GOOGLE_API_CERTIFICATE_CONFIG";class E extends Error{constructor(L){super(L),this.name="CertificateSourceUnavailableError"}}c.CertificateSourceUnavailableError=E;class v extends Error{constructor(L){super(L),this.name="InvalidConfigurationError"}}c.InvalidConfigurationError=v;class p{constructor(L){ze(this,g);ce(this,"certificateConfigPath");ce(this,"trustChainPath");ce(this,"cert");ce(this,"key");if(!L.useDefaultCertificateConfig&&!L.certificateConfigLocation)throw new v("Either `useDefaultCertificateConfig` must be true or a `certificateConfigLocation` must be provided.");if(L.useDefaultCertificateConfig&&L.certificateConfigLocation)throw new v("Both `useDefaultCertificateConfig` and `certificateConfigLocation` cannot be provided.");this.trustChainPath=L.trustChainPath,this.certificateConfigPath=L.certificateConfigLocation??""}async createMtlsHttpsAgent(){if(!this.key||!this.cert)throw new v("Cannot create mTLS Agent with missing certificate or key");return new T.Agent({key:this.key,cert:this.cert})}async getSubjectToken(){this.certificateConfigPath=await Qe(this,g,ca).call(this);const{certPath:L,keyPath:q}=await Qe(this,g,da).call(this);return{cert:this.cert,key:this.key}=await Qe(this,g,pa).call(this,L,q),await Qe(this,g,fa).call(this,this.cert)}}g=new WeakSet,ca=async function(){const L=this.certificateConfigPath;if(L){if(await(0,d.isValidFile)(L))return L;throw new E(`Provided certificate config path is invalid: ${L}`)}const q=u[c.CERTIFICATE_CONFIGURATION_ENV_VARIABLE];if(q){if(await(0,d.isValidFile)(q))return q;throw new E(`Path from environment variable "${c.CERTIFICATE_CONFIGURATION_ENV_VARIABLE}" is invalid: ${q}`)}const M=(0,d.getWellKnownCertificateConfigFileLocation)();if(await(0,d.isValidFile)(M))return M;throw new E(`Could not find certificate configuration file. Searched override path, the "${c.CERTIFICATE_CONFIGURATION_ENV_VARIABLE}" env var, and the gcloud path (${M}).`)},da=async function(){var M,U,V,$;const L=this.certificateConfigPath;let q;try{q=await y.promises.readFile(L,"utf8")}catch{throw new E(`Failed to read certificate config file at: ${L}`)}try{const z=JSON.parse(q),W=(U=(M=z==null?void 0:z.cert_configs)==null?void 0:M.workload)==null?void 0:U.cert_path,J=($=(V=z==null?void 0:z.cert_configs)==null?void 0:V.workload)==null?void 0:$.key_path;if(!W||!J)throw new v(`Certificate config file (${L}) is missing required "cert_path" or "key_path" in the workload config.`);return{certPath:W,keyPath:J}}catch(z){throw z instanceof v?z:new v(`Failed to parse certificate config from ${L}: ${z.message}`)}},pa=async function(L,q){let M,U;try{M=await y.promises.readFile(L),new O.X509Certificate(M)}catch(V){const $=V instanceof Error?V.message:String(V);throw new E(`Failed to read certificate file at ${L}: ${$}`)}try{U=await y.promises.readFile(q),(0,O.createPrivateKey)(U)}catch(V){const $=V instanceof Error?V.message:String(V);throw new E(`Failed to read private key file at ${q}: ${$}`)}return{cert:M,key:U}},fa=async function(L){const q=new O.X509Certificate(L);if(!this.trustChainPath)return JSON.stringify([q.raw.toString("base64")]);try{const V=((await y.promises.readFile(this.trustChainPath,"utf8")).match(/-----BEGIN CERTIFICATE-----[^-]+-----END CERTIFICATE-----/g)??[]).map((W,J)=>{try{return new O.X509Certificate(W)}catch(Y){const Q=Y instanceof Error?Y.message:String(Y);throw new v(`Failed to parse certificate at index ${J} in trust chain file ${this.trustChainPath}: ${Q}`)}}),$=V.findIndex(W=>q.raw.equals(W.raw));let z;if($===-1)z=[q,...V];else if($===0)z=V;else throw new v(`Leaf certificate exists in the trust chain but is not the first entry (found at index ${$}).`);return JSON.stringify(z.map(W=>W.raw.toString("base64")))}catch(M){if(M instanceof v)throw M;const U=M instanceof Error?M.message:String(M);throw new E(`Failed to process certificate chain from ${this.trustChainPath}: ${U}`)}},c.CertificateSubjectTokenSupplier=p})(certificatesubjecttokensupplier)),certificatesubjecttokensupplier}var hasRequiredIdentitypoolclient;function requireIdentitypoolclient(){if(hasRequiredIdentitypoolclient)return identitypoolclient;hasRequiredIdentitypoolclient=1,Object.defineProperty(identitypoolclient,"__esModule",{value:!0}),identitypoolclient.IdentityPoolClient=void 0;const c=requireBaseexternalclient(),u=requireUtil$3(),d=requireFilesubjecttokensupplier(),y=requireUrlsubjecttokensupplier(),O=requireCertificatesubjecttokensupplier(),T=requireStscredentials(),E=requireSrc$9();class v extends c.BaseExternalAccountClient{constructor(w){super(w);ce(this,"subjectTokenSupplier");const R=(0,u.originalOrCamelOptions)(w),C=R.get("credential_source"),N=R.get("subject_token_supplier");if(!C&&!N)throw new Error("A credential source or subject token supplier must be specified.");if(C&&N)throw new Error("Only one of credential source or subject token supplier can be specified.");if(N)this.subjectTokenSupplier=N,this.credentialSourceType="programmatic";else{const D=(0,u.originalOrCamelOptions)(C),L=(0,u.originalOrCamelOptions)(D.get("format")),q=L.get("type")||"text",M=L.get("subject_token_field_name");if(q!=="json"&&q!=="text")throw new Error(`Invalid credential_source format "${q}"`);if(q==="json"&&!M)throw new Error("Missing subject_token_field_name for JSON credential_source format");const U=D.get("file"),V=D.get("url"),$=D.get("certificate"),z=D.get("headers");if(U&&V||V&&$||U&&$)throw new Error('No valid Identity Pool "credential_source" provided, must be either file, url, or certificate.');if(U)this.credentialSourceType="file",this.subjectTokenSupplier=new d.FileSubjectTokenSupplier({filePath:U,formatType:q,subjectTokenFieldName:M});else if(V)this.credentialSourceType="url",this.subjectTokenSupplier=new y.UrlSubjectTokenSupplier({url:V,formatType:q,subjectTokenFieldName:M,headers:z,additionalGaxiosOptions:v.RETRY_CONFIG});else if($){this.credentialSourceType="certificate";const W=new O.CertificateSubjectTokenSupplier({useDefaultCertificateConfig:$.use_default_certificate_config,certificateConfigLocation:$.certificate_config_location,trustChainPath:$.trust_chain_path});this.subjectTokenSupplier=W}else throw new Error('No valid Identity Pool "credential_source" provided, must be either file, url, or certificate.')}}async retrieveSubjectToken(){const w=await this.subjectTokenSupplier.getSubjectToken(this.supplierContext);if(this.subjectTokenSupplier instanceof O.CertificateSubjectTokenSupplier){const R=await this.subjectTokenSupplier.createMtlsHttpsAgent();this.stsCredential=new T.StsCredentials({tokenExchangeEndpoint:this.getTokenUrl(),clientAuthentication:this.clientAuth,transporter:new E.Gaxios({agent:R})}),this.transporter=new E.Gaxios({...this.transporter.defaults||{},agent:R})}return w}}return identitypoolclient.IdentityPoolClient=v,identitypoolclient}var awsclient={},awsrequestsigner={},hasRequiredAwsrequestsigner;function requireAwsrequestsigner(){if(hasRequiredAwsrequestsigner)return awsrequestsigner;hasRequiredAwsrequestsigner=1,Object.defineProperty(awsrequestsigner,"__esModule",{value:!0}),awsrequestsigner.AwsRequestSigner=void 0;const c=requireSrc$9(),u=requireCrypto(),d="AWS4-HMAC-SHA256",y="aws4_request";class O{constructor(g,w){ce(this,"getCredentials");ce(this,"region");ce(this,"crypto");this.getCredentials=g,this.region=w,this.crypto=(0,u.createCrypto)()}async getRequestOptions(g){if(!g.url)throw new RangeError('"url" is required in "amzOptions"');const w=typeof g.data=="object"?JSON.stringify(g.data):g.data,R=g.url,C=g.method||"GET",N=g.body||w,D=g.headers,L=await this.getCredentials(),q=new URL(R);if(typeof N!="string"&&N!==void 0)throw new TypeError(`'requestPayload' is expected to be a string if provided. Got: ${N}`);const M=await v({crypto:this.crypto,host:q.host,canonicalUri:q.pathname,canonicalQuerystring:q.search.slice(1),method:C,region:this.region,securityCredentials:L,requestPayload:N,additionalAmzHeaders:D}),U=c.Gaxios.mergeHeaders(M.amzDate?{"x-amz-date":M.amzDate}:{},{authorization:M.authorizationHeader,host:q.host},D||{});L.token&&c.Gaxios.mergeHeaders(U,{"x-amz-security-token":L.token});const V={url:R,method:C,headers:U};return N!==void 0&&(V.body=N),V}}awsrequestsigner.AwsRequestSigner=O;async function T(p,g,w){return await p.signWithHmacSha256(g,w)}async function E(p,g,w,R,C){const N=await T(p,`AWS4${g}`,w),D=await T(p,N,R),L=await T(p,D,C);return await T(p,L,"aws4_request")}async function v(p){const g=c.Gaxios.mergeHeaders(p.additionalAmzHeaders),w=p.requestPayload||"",R=p.host.split(".")[0],C=new Date,N=C.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),D=C.toISOString().replace(/[-]/g,"").replace(/T.*/,"");p.securityCredentials.token&&g.set("x-amz-security-token",p.securityCredentials.token);const L=c.Gaxios.mergeHeaders({host:p.host},g.has("date")?{}:{"x-amz-date":N},g);let q="";const M=[...L.keys()].sort();M.forEach(H=>{q+=`${H}:${L.get(H)}
`});const U=M.join(";"),V=await p.crypto.sha256DigestHex(w),$=`${p.method.toUpperCase()}
${p.canonicalUri}
${p.canonicalQuerystring}
${q}
${U}
${V}`,z=`${D}/${p.region}/${R}/${y}`,W=`${d}
${N}
${z}
`+await p.crypto.sha256DigestHex($),J=await E(p.crypto,p.securityCredentials.secretAccessKey,D,p.region,R),Y=await T(p.crypto,J,W),Q=`${d} Credential=${p.securityCredentials.accessKeyId}/${z}, SignedHeaders=${U}, Signature=${(0,u.fromArrayBufferToHex)(Y)}`;return{amzDate:g.has("date")?void 0:N,authorizationHeader:Q,canonicalQuerystring:p.canonicalQuerystring}}return awsrequestsigner}var defaultawssecuritycredentialssupplier={},hasRequiredDefaultawssecuritycredentialssupplier;function requireDefaultawssecuritycredentialssupplier(){var y,ao,ga,ha,Mi,so;if(hasRequiredDefaultawssecuritycredentialssupplier)return defaultawssecuritycredentialssupplier;hasRequiredDefaultawssecuritycredentialssupplier=1;var c={};Object.defineProperty(defaultawssecuritycredentialssupplier,"__esModule",{value:!0}),defaultawssecuritycredentialssupplier.DefaultAwsSecurityCredentialsSupplier=void 0;const u=requireAuthclient();class d{constructor(w){ze(this,y);ce(this,"regionUrl");ce(this,"securityCredentialsUrl");ce(this,"imdsV2SessionTokenUrl");ce(this,"additionalGaxiosOptions");this.regionUrl=w.regionUrl,this.securityCredentialsUrl=w.securityCredentialsUrl,this.imdsV2SessionTokenUrl=w.imdsV2SessionTokenUrl,this.additionalGaxiosOptions=w.additionalGaxiosOptions}async getAwsRegion(w){if(Ie(this,y,Mi))return Ie(this,y,Mi);const R=new Headers;if(!Ie(this,y,Mi)&&this.imdsV2SessionTokenUrl&&R.set("x-aws-ec2-metadata-token",await Qe(this,y,ao).call(this,w.transporter)),!this.regionUrl)throw new RangeError('Unable to determine AWS region due to missing "options.credential_source.region_url"');const C={...this.additionalGaxiosOptions,url:this.regionUrl,method:"GET",headers:R};u.AuthClient.setMethodName(C,"getAwsRegion");const N=await w.transporter.request(C);return N.data.substr(0,N.data.length-1)}async getAwsSecurityCredentials(w){if(Ie(this,y,so))return Ie(this,y,so);const R=new Headers;this.imdsV2SessionTokenUrl&&R.set("x-aws-ec2-metadata-token",await Qe(this,y,ao).call(this,w.transporter));const C=await Qe(this,y,ga).call(this,R,w.transporter),N=await Qe(this,y,ha).call(this,C,R,w.transporter);return{accessKeyId:N.AccessKeyId,secretAccessKey:N.SecretAccessKey,token:N.Token}}}return y=new WeakSet,ao=async function(w){const R={...this.additionalGaxiosOptions,url:this.imdsV2SessionTokenUrl,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return u.AuthClient.setMethodName(R,"#getImdsV2SessionToken"),(await w.request(R)).data},ga=async function(w,R){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');const C={...this.additionalGaxiosOptions,url:this.securityCredentialsUrl,method:"GET",headers:w};return u.AuthClient.setMethodName(C,"#getAwsRoleName"),(await R.request(C)).data},ha=async function(w,R,C){const N={...this.additionalGaxiosOptions,url:`${this.securityCredentialsUrl}/${w}`,headers:R};return u.AuthClient.setMethodName(N,"#retrieveAwsSecurityCredentials"),(await C.request(N)).data},Mi=function(){return c.AWS_REGION||c.AWS_DEFAULT_REGION||null},so=function(){return c.AWS_ACCESS_KEY_ID&&c.AWS_SECRET_ACCESS_KEY?{accessKeyId:c.AWS_ACCESS_KEY_ID,secretAccessKey:c.AWS_SECRET_ACCESS_KEY,token:c.AWS_SESSION_TOKEN}:null},defaultawssecuritycredentialssupplier.DefaultAwsSecurityCredentialsSupplier=d,defaultawssecuritycredentialssupplier}var hasRequiredAwsclient;function requireAwsclient(){var E;if(hasRequiredAwsclient)return awsclient;hasRequiredAwsclient=1,Object.defineProperty(awsclient,"__esModule",{value:!0}),awsclient.AwsClient=void 0;const c=requireAwsrequestsigner(),u=requireBaseexternalclient(),d=requireDefaultawssecuritycredentialssupplier(),y=requireUtil$3(),O=requireSrc$9(),v=class v extends u.BaseExternalAccountClient{constructor(w){super(w);ce(this,"environmentId");ce(this,"awsSecurityCredentialsSupplier");ce(this,"regionalCredVerificationUrl");ce(this,"awsRequestSigner");ce(this,"region");const R=(0,y.originalOrCamelOptions)(w),C=R.get("credential_source"),N=R.get("aws_security_credentials_supplier");if(!C&&!N)throw new Error("A credential source or AWS security credentials supplier must be specified.");if(C&&N)throw new Error("Only one of credential source or AWS security credentials supplier can be specified.");if(N)this.awsSecurityCredentialsSupplier=N,this.regionalCredVerificationUrl=Ie(v,E),this.credentialSourceType="programmatic";else{const D=(0,y.originalOrCamelOptions)(C);this.environmentId=D.get("environment_id");const L=D.get("region_url"),q=D.get("url"),M=D.get("imdsv2_session_token_url");this.awsSecurityCredentialsSupplier=new d.DefaultAwsSecurityCredentialsSupplier({regionUrl:L,securityCredentialsUrl:q,imdsV2SessionTokenUrl:M}),this.regionalCredVerificationUrl=D.get("regional_cred_verification_url"),this.credentialSourceType="aws",this.validateEnvironmentId()}this.awsRequestSigner=null,this.region=""}validateEnvironmentId(){var R;const w=(R=this.environmentId)==null?void 0:R.match(/^(aws)(\d+)$/);if(!w||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(parseInt(w[2],10)!==1)throw new Error(`aws version "${w[2]}" is not supported in the current build.`)}async retrieveSubjectToken(){this.awsRequestSigner||(this.region=await this.awsSecurityCredentialsSupplier.getAwsRegion(this.supplierContext),this.awsRequestSigner=new c.AwsRequestSigner(async()=>this.awsSecurityCredentialsSupplier.getAwsSecurityCredentials(this.supplierContext),this.region));const w=await this.awsRequestSigner.getRequestOptions({...v.RETRY_CONFIG,url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),R=[];return O.Gaxios.mergeHeaders({"x-goog-cloud-target-resource":this.audience},w.headers).forEach((N,D)=>R.push({key:D,value:N})),encodeURIComponent(JSON.stringify({url:w.url,method:w.method,headers:R}))}};E=new WeakMap,ze(v,E,"https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&Version=2011-06-15"),ce(v,"AWS_EC2_METADATA_IPV4_ADDRESS","169.254.169.254"),ce(v,"AWS_EC2_METADATA_IPV6_ADDRESS","fd00:ec2::254");let T=v;return awsclient.AwsClient=T,awsclient}var pluggableAuthClient={},executableResponse={},hasRequiredExecutableResponse;function requireExecutableResponse(){if(hasRequiredExecutableResponse)return executableResponse;hasRequiredExecutableResponse=1,Object.defineProperty(executableResponse,"__esModule",{value:!0}),executableResponse.InvalidSubjectTokenError=executableResponse.InvalidMessageFieldError=executableResponse.InvalidCodeFieldError=executableResponse.InvalidTokenTypeFieldError=executableResponse.InvalidExpirationTimeFieldError=executableResponse.InvalidSuccessFieldError=executableResponse.InvalidVersionFieldError=executableResponse.ExecutableResponseError=executableResponse.ExecutableResponse=void 0;const c="urn:ietf:params:oauth:token-type:saml2",u="urn:ietf:params:oauth:token-type:id_token",d="urn:ietf:params:oauth:token-type:jwt";class y{constructor(N){ce(this,"version");ce(this,"success");ce(this,"expirationTime");ce(this,"tokenType");ce(this,"errorCode");ce(this,"errorMessage");ce(this,"subjectToken");if(!N.version)throw new T("Executable response must contain a 'version' field.");if(N.success===void 0)throw new E("Executable response must contain a 'success' field.");if(this.version=N.version,this.success=N.success,this.success){if(this.expirationTime=N.expiration_time,this.tokenType=N.token_type,this.tokenType!==c&&this.tokenType!==u&&this.tokenType!==d)throw new p(`Executable response must contain a 'token_type' field when successful and it must be one of ${u}, ${d}, or ${c}.`);if(this.tokenType===c){if(!N.saml_response)throw new R(`Executable response must contain a 'saml_response' field when token_type=${c}.`);this.subjectToken=N.saml_response}else{if(!N.id_token)throw new R(`Executable response must contain a 'id_token' field when token_type=${u} or ${d}.`);this.subjectToken=N.id_token}}else{if(!N.code)throw new g("Executable response must contain a 'code' field when unsuccessful.");if(!N.message)throw new w("Executable response must contain a 'message' field when unsuccessful.");this.errorCode=N.code,this.errorMessage=N.message}}isValid(){return!this.isExpired()&&this.success}isExpired(){return this.expirationTime!==void 0&&this.expirationTime<Math.round(Date.now()/1e3)}}executableResponse.ExecutableResponse=y;class O extends Error{constructor(N){super(N),Object.setPrototypeOf(this,new.target.prototype)}}executableResponse.ExecutableResponseError=O;class T extends O{}executableResponse.InvalidVersionFieldError=T;class E extends O{}executableResponse.InvalidSuccessFieldError=E;class v extends O{}executableResponse.InvalidExpirationTimeFieldError=v;class p extends O{}executableResponse.InvalidTokenTypeFieldError=p;class g extends O{}executableResponse.InvalidCodeFieldError=g;class w extends O{}executableResponse.InvalidMessageFieldError=w;class R extends O{}return executableResponse.InvalidSubjectTokenError=R,executableResponse}var pluggableAuthHandler={},hasRequiredPluggableAuthHandler;function requirePluggableAuthHandler(){if(hasRequiredPluggableAuthHandler)return pluggableAuthHandler;hasRequiredPluggableAuthHandler=1;var c={};Object.defineProperty(pluggableAuthHandler,"__esModule",{value:!0}),pluggableAuthHandler.PluggableAuthHandler=pluggableAuthHandler.ExecutableError=void 0;const u=requireExecutableResponse(),d=require$$1$7,y=require$$0$7;class O extends Error{constructor(p,g){super(`The executable failed with exit code: ${g} and error message: ${p}.`);ce(this,"code");this.code=g,Object.setPrototypeOf(this,new.target.prototype)}}pluggableAuthHandler.ExecutableError=O;class T{constructor(v){ce(this,"commandComponents");ce(this,"timeoutMillis");ce(this,"outputFile");if(!v.command)throw new Error("No command provided.");if(this.commandComponents=T.parseCommand(v.command),this.timeoutMillis=v.timeoutMillis,!this.timeoutMillis)throw new Error("No timeoutMillis provided.");this.outputFile=v.outputFile}retrieveResponseFromExecutable(v){return new Promise((p,g)=>{const w=d.spawn(this.commandComponents[0],this.commandComponents.slice(1),{env:{...c,...Object.fromEntries(v)}});let R="";w.stdout.on("data",N=>{R+=N}),w.stderr.on("data",N=>{R+=N});const C=setTimeout(()=>(w.removeAllListeners(),w.kill(),g(new Error("The executable failed to finish within the timeout specified."))),this.timeoutMillis);w.on("close",N=>{if(clearTimeout(C),N===0)try{const D=JSON.parse(R),L=new u.ExecutableResponse(D);return p(L)}catch(D){return D instanceof u.ExecutableResponseError?g(D):g(new u.ExecutableResponseError(`The executable returned an invalid response: ${R}`))}else return g(new O(R,N.toString()))})})}async retrieveCachedResponse(){if(!this.outputFile||this.outputFile.length===0)return;let v;try{v=await y.promises.realpath(this.outputFile)}catch{return}if(!(await y.promises.lstat(v)).isFile())return;const p=await y.promises.readFile(v,{encoding:"utf8"});if(p!=="")try{const g=JSON.parse(p);return new u.ExecutableResponse(g).isValid()?new u.ExecutableResponse(g):void 0}catch(g){throw g instanceof u.ExecutableResponseError?g:new u.ExecutableResponseError(`The output file contained an invalid response: ${p}`)}}static parseCommand(v){const p=v.match(/(?:[^\s"]+|"[^"]*")+/g);if(!p)throw new Error(`Provided command: "${v}" could not be parsed.`);for(let g=0;g<p.length;g++)p[g][0]==='"'&&p[g].slice(-1)==='"'&&(p[g]=p[g].slice(1,-1));return p}}return pluggableAuthHandler.PluggableAuthHandler=T,pluggableAuthHandler}var hasRequiredPluggableAuthClient;function requirePluggableAuthClient(){return hasRequiredPluggableAuthClient||(hasRequiredPluggableAuthClient=1,(function(c){var u={};Object.defineProperty(c,"__esModule",{value:!0}),c.PluggableAuthClient=c.ExecutableError=void 0;const d=requireBaseexternalclient(),y=requireExecutableResponse(),O=requirePluggableAuthHandler();var T=requirePluggableAuthHandler();Object.defineProperty(c,"ExecutableError",{enumerable:!0,get:function(){return T.ExecutableError}});const E=30*1e3,v=5*1e3,p=120*1e3,g="GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES",w=1;class R extends d.BaseExternalAccountClient{constructor(D){super(D);ce(this,"command");ce(this,"timeoutMillis");ce(this,"outputFile");ce(this,"handler");if(!D.credential_source.executable)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(this.command=D.credential_source.executable.command,!this.command)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(D.credential_source.executable.timeout_millis===void 0)this.timeoutMillis=E;else if(this.timeoutMillis=D.credential_source.executable.timeout_millis,this.timeoutMillis<v||this.timeoutMillis>p)throw new Error(`Timeout must be between ${v} and ${p} milliseconds.`);this.outputFile=D.credential_source.executable.output_file,this.handler=new O.PluggableAuthHandler({command:this.command,timeoutMillis:this.timeoutMillis,outputFile:this.outputFile}),this.credentialSourceType="executable"}async retrieveSubjectToken(){if(u[g]!=="1")throw new Error("Pluggable Auth executables need to be explicitly allowed to run by setting the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment Variable to 1.");let D;if(this.outputFile&&(D=await this.handler.retrieveCachedResponse()),!D){const L=new Map;L.set("GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE",this.audience),L.set("GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE",this.subjectTokenType),L.set("GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE","0"),this.outputFile&&L.set("GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE",this.outputFile);const q=this.getServiceAccountEmail();q&&L.set("GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL",q),D=await this.handler.retrieveResponseFromExecutable(L)}if(D.version>w)throw new Error(`Version of executable is not currently supported, maximum supported version is ${w}.`);if(!D.success)throw new O.ExecutableError(D.errorMessage,D.errorCode);if(this.outputFile&&!D.expirationTime)throw new y.InvalidExpirationTimeFieldError("The executable response must contain the `expiration_time` field for successful responses when an output_file has been specified in the configuration.");if(D.isExpired())throw new Error("Executable response is expired.");return D.subjectToken}}c.PluggableAuthClient=R})(pluggableAuthClient)),pluggableAuthClient}var hasRequiredExternalclient;function requireExternalclient(){if(hasRequiredExternalclient)return externalclient;hasRequiredExternalclient=1,Object.defineProperty(externalclient,"__esModule",{value:!0}),externalclient.ExternalAccountClient=void 0;const c=requireBaseexternalclient(),u=requireIdentitypoolclient(),d=requireAwsclient(),y=requirePluggableAuthClient();class O{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options), newPluggableAuthClientOptions, or via new GoogleAuth(options).getClient()")}static fromJSON(E){var v,p;return E&&E.type===c.EXTERNAL_ACCOUNT_TYPE?(v=E.credential_source)!=null&&v.environment_id?new d.AwsClient(E):(p=E.credential_source)!=null&&p.executable?new y.PluggableAuthClient(E):new u.IdentityPoolClient(E):null}}return externalclient.ExternalAccountClient=O,externalclient}var externalAccountAuthorizedUserClient={},hasRequiredExternalAccountAuthorizedUserClient;function requireExternalAccountAuthorizedUserClient(){var p;if(hasRequiredExternalAccountAuthorizedUserClient)return externalAccountAuthorizedUserClient;hasRequiredExternalAccountAuthorizedUserClient=1,Object.defineProperty(externalAccountAuthorizedUserClient,"__esModule",{value:!0}),externalAccountAuthorizedUserClient.ExternalAccountAuthorizedUserClient=externalAccountAuthorizedUserClient.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=void 0;const c=requireAuthclient(),u=requireOauth2common(),d=requireSrc$9(),y=require$$0$6,O=requireBaseexternalclient();externalAccountAuthorizedUserClient.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE="external_account_authorized_user";const T="https://sts.{universeDomain}/v1/oauthtoken",g=class g extends u.OAuthClientAuthHandler{constructor(C){super(C);ze(this,p);We(this,p,C.tokenRefreshEndpoint)}async refreshToken(C,N){const D={...g.RETRY_CONFIG,url:Ie(this,p),method:"POST",headers:N,data:new URLSearchParams({grant_type:"refresh_token",refresh_token:C})};c.AuthClient.setMethodName(D,"refreshToken"),this.applyClientAuthenticationOptions(D);try{const L=await this.transporter.request(D),q=L.data;return q.res=L,q}catch(L){throw L instanceof d.GaxiosError&&L.response?(0,u.getErrorFromOAuthErrorResponse)(L.response.data,L):L}}};p=new WeakMap;let E=g;class v extends c.AuthClient{constructor(C){super(C);ce(this,"cachedAccessToken");ce(this,"externalAccountAuthorizedUserHandler");ce(this,"refreshToken");C.universe_domain&&(this.universeDomain=C.universe_domain),this.refreshToken=C.refresh_token;const N={confidentialClientType:"basic",clientId:C.client_id,clientSecret:C.client_secret};this.externalAccountAuthorizedUserHandler=new E({tokenRefreshEndpoint:C.token_url??T.replace("{universeDomain}",this.universeDomain),transporter:this.transporter,clientAuthentication:N}),this.cachedAccessToken=null,this.quotaProjectId=C.quota_project_id,typeof(C==null?void 0:C.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=O.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=C.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(C!=null&&C.forceRefreshOnFailure)}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const C=await this.getAccessToken(),N=new Headers({authorization:`Bearer ${C.token}`});return this.addSharedMetadataHeaders(N)}request(C,N){if(N)this.requestAsync(C).then(D=>N(null,D),D=>N(D,D.response));else return this.requestAsync(C)}async requestAsync(C,N=!1){let D;try{const L=await this.getRequestHeaders();C.headers=d.Gaxios.mergeHeaders(C.headers),this.addUserProjectAndAuthHeaders(C.headers,L),D=await this.transporter.request(C)}catch(L){const q=L.response;if(q){const M=q.status,U=q.config.data instanceof y.Readable;if(!N&&(M===401||M===403)&&!U&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(C,!0)}throw L}return D}async refreshAccessTokenAsync(){const C=await this.externalAccountAuthorizedUserHandler.refreshToken(this.refreshToken);return this.cachedAccessToken={access_token:C.access_token,expiry_date:new Date().getTime()+C.expires_in*1e3,res:C.res},C.refresh_token!==void 0&&(this.refreshToken=C.refresh_token),this.cachedAccessToken}isExpired(C){const N=new Date().getTime();return C.expiry_date?N>=C.expiry_date-this.eagerRefreshThresholdMillis:!1}}return externalAccountAuthorizedUserClient.ExternalAccountAuthorizedUserClient=v,externalAccountAuthorizedUserClient}var hasRequiredGoogleauth;function requireGoogleauth(){return hasRequiredGoogleauth||(hasRequiredGoogleauth=1,(function(c){var z,W,Qn,ma;var u={};Object.defineProperty(c,"__esModule",{value:!0}),c.GoogleAuth=c.GoogleAuthExceptionMessages=void 0;const d=require$$1$7,y=require$$0$7,O=requireSrc$9(),T=requireSrc$7(),E=require$$1$5,v=require$$6$2,p=requireCrypto(),g=requireComputeclient(),w=requireIdtokenclient(),R=requireEnvDetect(),C=requireJwtclient(),N=requireRefreshclient(),D=requireImpersonated(),L=requireExternalclient(),q=requireBaseexternalclient(),M=requireAuthclient(),U=requireExternalAccountAuthorizedUserClient(),V=requireUtil$3();c.GoogleAuthExceptionMessages={API_KEY_WITH_CREDENTIALS:"API Keys and Credentials are mutually exclusive authentication methods and cannot be used together.",NO_PROJECT_ID_FOUND:`Unable to detect a Project Id in the current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`,NO_CREDENTIALS_FOUND:`Unable to find credentials in current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`,NO_ADC_FOUND:"Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.",NO_UNIVERSE_DOMAIN_FOUND:`Unable to detect a Universe Domain in the current environment.
To learn more about Universe Domain retrieval, visit: 
https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys`};class ${constructor(H={}){ze(this,W);ce(this,"checkIsGCE");ce(this,"useJWTAccessWithScope");ce(this,"defaultServicePath");ce(this,"_findProjectIdPromise");ce(this,"_cachedProjectId");ce(this,"jsonContent",null);ce(this,"apiKey");ce(this,"cachedCredential",null);ze(this,z,null);ce(this,"defaultScopes");ce(this,"keyFilename");ce(this,"scopes");ce(this,"clientOptions",{});if(this._cachedProjectId=H.projectId||null,this.cachedCredential=H.authClient||null,this.keyFilename=H.keyFilename||H.keyFile,this.scopes=H.scopes,this.clientOptions=H.clientOptions||{},this.jsonContent=H.credentials||null,this.apiKey=H.apiKey||this.clientOptions.apiKey||null,this.apiKey&&(this.jsonContent||this.clientOptions.credentials))throw new RangeError(c.GoogleAuthExceptionMessages.API_KEY_WITH_CREDENTIALS);H.universeDomain&&(this.clientOptions.universeDomain=H.universeDomain)}get isGCE(){return this.checkIsGCE}setGapicJWTValues(H){H.defaultServicePath=this.defaultServicePath,H.useJWTAccessWithScope=this.useJWTAccessWithScope,H.defaultScopes=this.defaultScopes}getProjectId(H){if(H)this.getProjectIdAsync().then(te=>H(null,te),H);else return this.getProjectIdAsync()}async getProjectIdOptional(){try{return await this.getProjectId()}catch(H){if(H instanceof Error&&H.message===c.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)return null;throw H}}async findAndCacheProjectId(){let H=null;if(H||(H=await this.getProductionProjectId()),H||(H=await this.getFileProjectId()),H||(H=await this.getDefaultServiceProjectId()),H||(H=await this.getGCEProjectId()),H||(H=await this.getExternalAccountClientProjectId()),H)return this._cachedProjectId=H,H;throw new Error(c.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)}async getProjectIdAsync(){return this._cachedProjectId?this._cachedProjectId:(this._findProjectIdPromise||(this._findProjectIdPromise=this.findAndCacheProjectId()),this._findProjectIdPromise)}async getUniverseDomainFromMetadataServer(){var te;let H;try{H=await T.universe("universe-domain"),H||(H=M.DEFAULT_UNIVERSE)}catch(ne){if(ne&&((te=ne==null?void 0:ne.response)==null?void 0:te.status)===404)H=M.DEFAULT_UNIVERSE;else throw ne}return H}async getUniverseDomain(){let H=(0,V.originalOrCamelOptions)(this.clientOptions).get("universe_domain");try{H??(H=(await this.getClient()).universeDomain)}catch{H??(H=M.DEFAULT_UNIVERSE)}return H}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(H={},te){let ne;if(typeof H=="function"?te=H:ne=H,te)this.getApplicationDefaultAsync(ne).then(oe=>te(null,oe.credential,oe.projectId),te);else return this.getApplicationDefaultAsync(ne)}async getApplicationDefaultAsync(H={}){if(this.cachedCredential)return await Qe(this,W,Qn).call(this,this.cachedCredential,null);let te;if(te=await this._tryGetApplicationCredentialsFromEnvironmentVariable(H),te)return te instanceof C.JWT?te.scopes=this.scopes:te instanceof q.BaseExternalAccountClient&&(te.scopes=this.getAnyScopes()),await Qe(this,W,Qn).call(this,te);if(te=await this._tryGetApplicationCredentialsFromWellKnownFile(H),te)return te instanceof C.JWT?te.scopes=this.scopes:te instanceof q.BaseExternalAccountClient&&(te.scopes=this.getAnyScopes()),await Qe(this,W,Qn).call(this,te);if(await this._checkIsGCE())return H.scopes=this.getAnyScopes(),await Qe(this,W,Qn).call(this,new g.Compute(H));throw new Error(c.GoogleAuthExceptionMessages.NO_ADC_FOUND)}async _checkIsGCE(){return this.checkIsGCE===void 0&&(this.checkIsGCE=T.getGCPResidency()||await T.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(H){const te=u.GOOGLE_APPLICATION_CREDENTIALS||u.google_application_credentials;if(!te||te.length===0)return null;try{return this._getApplicationCredentialsFromFilePath(te,H)}catch(ne){throw ne instanceof Error&&(ne.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${ne.message}`),ne}}async _tryGetApplicationCredentialsFromWellKnownFile(H){let te=null;if(this._isWindows())te=u.APPDATA;else{const oe=u.HOME;oe&&(te=v.join(oe,".config"))}return te&&(te=v.join(te,"gcloud","application_default_credentials.json"),y.existsSync(te)||(te=null)),te?await this._getApplicationCredentialsFromFilePath(te,H):null}async _getApplicationCredentialsFromFilePath(H,te={}){if(!H||H.length===0)throw new Error("The file path is invalid.");try{if(H=y.realpathSync(H),!y.lstatSync(H).isFile())throw new Error}catch(oe){throw oe instanceof Error&&(oe.message=`The file at ${H} does not exist, or it is not a file. ${oe.message}`),oe}const ne=y.createReadStream(H);return this.fromStream(ne,te)}fromImpersonatedJSON(H){var ie,ee,ue;if(!H)throw new Error("Must pass in a JSON object containing an  impersonated refresh token");if(H.type!==D.IMPERSONATED_ACCOUNT_TYPE)throw new Error(`The incoming JSON object does not have the "${D.IMPERSONATED_ACCOUNT_TYPE}" type`);if(!H.source_credentials)throw new Error("The incoming JSON object does not contain a source_credentials field");if(!H.service_account_impersonation_url)throw new Error("The incoming JSON object does not contain a service_account_impersonation_url field");const te=this.fromJSON(H.source_credentials);if(((ie=H.service_account_impersonation_url)==null?void 0:ie.length)>256)throw new RangeError(`Target principal is too long: ${H.service_account_impersonation_url}`);const ne=(ue=(ee=/(?<target>[^/]+):(generateAccessToken|generateIdToken)$/.exec(H.service_account_impersonation_url))==null?void 0:ee.groups)==null?void 0:ue.target;if(!ne)throw new RangeError(`Cannot extract target principal from ${H.service_account_impersonation_url}`);const oe=(this.scopes||H.scopes||this.defaultScopes)??[];return new D.Impersonated({...H,sourceClient:te,targetPrincipal:ne,targetScopes:Array.isArray(oe)?oe:[oe]})}fromJSON(H,te={}){let ne;const oe=(0,V.originalOrCamelOptions)(te).get("universe_domain");return H.type===N.USER_REFRESH_ACCOUNT_TYPE?(ne=new N.UserRefreshClient(te),ne.fromJSON(H)):H.type===D.IMPERSONATED_ACCOUNT_TYPE?ne=this.fromImpersonatedJSON(H):H.type===q.EXTERNAL_ACCOUNT_TYPE?(ne=L.ExternalAccountClient.fromJSON({...H,...te}),ne.scopes=this.getAnyScopes()):H.type===U.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE?ne=new U.ExternalAccountAuthorizedUserClient({...H,...te}):(te.scopes=this.scopes,ne=new C.JWT(te),this.setGapicJWTValues(ne),ne.fromJSON(H)),oe&&(ne.universeDomain=oe),ne}_cacheClientFromJSON(H,te){const ne=this.fromJSON(H,te);return this.jsonContent=H,this.cachedCredential=ne,ne}fromStream(H,te={},ne){let oe={};if(typeof te=="function"?ne=te:oe=te,ne)this.fromStreamAsync(H,oe).then(ie=>ne(null,ie),ne);else return this.fromStreamAsync(H,oe)}fromStreamAsync(H,te){return new Promise((ne,oe)=>{if(!H)throw new Error("Must pass in a stream containing the Google auth settings.");const ie=[];H.setEncoding("utf8").on("error",oe).on("data",ee=>ie.push(ee)).on("end",()=>{try{try{const ee=JSON.parse(ie.join("")),ue=this._cacheClientFromJSON(ee,te);return ne(ue)}catch(ee){if(!this.keyFilename)throw ee;const ue=new C.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=ue,this.setGapicJWTValues(ue),ne(ue)}}catch(ee){return oe(ee)}})})}fromAPIKey(H,te={}){return new C.JWT({...te,apiKey:H})}_isWindows(){const H=E.platform();return!!(H&&H.length>=3&&H.substring(0,3).toLowerCase()==="win")}async getDefaultServiceProjectId(){return new Promise(H=>{(0,d.exec)("gcloud config config-helper --format json",(te,ne)=>{if(!te&&ne)try{const oe=JSON.parse(ne).configuration.properties.core.project;H(oe);return}catch{}H(null)})})}getProductionProjectId(){return u.GCLOUD_PROJECT||u.GOOGLE_CLOUD_PROJECT||u.gcloud_project||u.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){const te=await this.getClient();if(te&&te.projectId)return te.projectId}const H=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return H?H.projectId:null}async getExternalAccountClientProjectId(){return!this.jsonContent||this.jsonContent.type!==q.EXTERNAL_ACCOUNT_TYPE?null:await(await this.getClient()).getProjectId()}async getGCEProjectId(){try{return await T.project("project-id")}catch{return null}}getCredentials(H){if(H)this.getCredentialsAsync().then(te=>H(null,te),H);else return this.getCredentialsAsync()}async getCredentialsAsync(){const H=await this.getClient();if(H instanceof D.Impersonated)return{client_email:H.getTargetPrincipal()};if(H instanceof q.BaseExternalAccountClient){const te=H.getServiceAccountEmail();if(te)return{client_email:te,universe_domain:H.universeDomain}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key,universe_domain:this.jsonContent.universe_domain};if(await this._checkIsGCE()){const[te,ne]=await Promise.all([T.instance("service-accounts/default/email"),this.getUniverseDomain()]);return{client_email:te,universe_domain:ne}}throw new Error(c.GoogleAuthExceptionMessages.NO_CREDENTIALS_FOUND)}async getClient(){if(this.cachedCredential)return this.cachedCredential;We(this,z,Ie(this,z)||Qe(this,W,ma).call(this));try{return await Ie(this,z)}finally{We(this,z,null)}}async getIdTokenClient(H){const te=await this.getClient();if(!("fetchIdToken"in te))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new w.IdTokenClient({targetAudience:H,idTokenProvider:te})}async getAccessToken(){return(await(await this.getClient()).getAccessToken()).token}async getRequestHeaders(H){return(await this.getClient()).getRequestHeaders(H)}async authorizeRequest(H={}){const te=H.url,oe=await(await this.getClient()).getRequestHeaders(te);return H.headers=O.Gaxios.mergeHeaders(H.headers,oe),H}async fetch(...H){return(await this.getClient()).fetch(...H)}async request(H){return(await this.getClient()).request(H)}getEnv(){return(0,R.getEnv)()}async sign(H,te){const ne=await this.getClient(),oe=await this.getUniverseDomain();if(te=te||`https://iamcredentials.${oe}/v1/projects/-/serviceAccounts/`,ne instanceof D.Impersonated)return(await ne.sign(H)).signedBlob;const ie=(0,p.createCrypto)();if(ne instanceof C.JWT&&ne.key)return await ie.sign(ne.key,H);const ee=await this.getCredentials();if(!ee.client_email)throw new Error("Cannot sign data without `client_email`.");return this.signBlob(ie,ee.client_email,H,te)}async signBlob(H,te,ne,oe){const ie=new URL(oe+`${te}:signBlob`);return(await this.request({method:"POST",url:ie.href,data:{payload:H.encodeBase64StringUtf8(ne)},retry:!0,retryConfig:{httpMethodsToRetry:["POST"]}})).data.signedBlob}}z=new WeakMap,W=new WeakSet,Qn=async function(H,te=u.GOOGLE_CLOUD_QUOTA_PROJECT||null){const ne=await this.getProjectIdOptional();return te&&(H.quotaProjectId=te),this.cachedCredential=H,{credential:H,projectId:ne}},ma=async function(){if(this.jsonContent)return this._cacheClientFromJSON(this.jsonContent,this.clientOptions);if(this.keyFilename){const H=v.resolve(this.keyFilename),te=y.createReadStream(H);return await this.fromStreamAsync(te,this.clientOptions)}else if(this.apiKey){const H=await this.fromAPIKey(this.apiKey,this.clientOptions);H.scopes=this.scopes;const{credential:te}=await Qe(this,W,Qn).call(this,H);return te}else{const{credential:H}=await this.getApplicationDefaultAsync(this.clientOptions);return H}},c.GoogleAuth=$})(googleauth)),googleauth}var iam={},hasRequiredIam;function requireIam(){if(hasRequiredIam)return iam;hasRequiredIam=1,Object.defineProperty(iam,"__esModule",{value:!0}),iam.IAMAuth=void 0;class c{constructor(d,y){ce(this,"selector");ce(this,"token");this.selector=d,this.token=y,this.selector=d,this.token=y}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}return iam.IAMAuth=c,iam}var downscopedclient={},hasRequiredDownscopedclient;function requireDownscopedclient(){return hasRequiredDownscopedclient||(hasRequiredDownscopedclient=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.DownscopedClient=c.EXPIRATION_TIME_OFFSET=c.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;const u=requireSrc$9(),d=require$$0$6,y=requireAuthclient(),O=requireStscredentials(),T="urn:ietf:params:oauth:grant-type:token-exchange",E="urn:ietf:params:oauth:token-type:access_token",v="urn:ietf:params:oauth:token-type:access_token";c.MAX_ACCESS_BOUNDARY_RULES_COUNT=10,c.EXPIRATION_TIME_OFFSET=300*1e3;class p extends y.AuthClient{constructor(R,C={accessBoundary:{accessBoundaryRules:[]}}){super(R instanceof y.AuthClient?{}:R);ce(this,"authClient");ce(this,"credentialAccessBoundary");ce(this,"cachedDownscopedAccessToken");ce(this,"stsCredential");if(R instanceof y.AuthClient?(this.authClient=R,this.credentialAccessBoundary=C):(this.authClient=R.authClient,this.credentialAccessBoundary=R.credentialAccessBoundary),this.credentialAccessBoundary.accessBoundary.accessBoundaryRules.length===0)throw new Error("At least one access boundary rule needs to be defined.");if(this.credentialAccessBoundary.accessBoundary.accessBoundaryRules.length>c.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw new Error(`The provided access boundary has more than ${c.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(const N of this.credentialAccessBoundary.accessBoundary.accessBoundaryRules)if(N.availablePermissions.length===0)throw new Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new O.StsCredentials({tokenExchangeEndpoint:`https://sts.${this.universeDomain}/v1/token`}),this.cachedDownscopedAccessToken=null}setCredentials(R){if(!R.expiry_date)throw new Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(R),this.cachedDownscopedAccessToken=R}async getAccessToken(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}}async getRequestHeaders(){const R=await this.getAccessToken(),C=new Headers({authorization:`Bearer ${R.token}`});return this.addSharedMetadataHeaders(C)}request(R,C){if(C)this.requestAsync(R).then(N=>C(null,N),N=>C(N,N.response));else return this.requestAsync(R)}async requestAsync(R,C=!1){let N;try{const D=await this.getRequestHeaders();R.headers=u.Gaxios.mergeHeaders(R.headers),this.addUserProjectAndAuthHeaders(R.headers,D),N=await this.transporter.request(R)}catch(D){const L=D.response;if(L){const q=L.status,M=L.config.data instanceof d.Readable;if(!C&&(q===401||q===403)&&!M&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(R,!0)}throw D}return N}async refreshAccessTokenAsync(){var q;const R=(await this.authClient.getAccessToken()).token,C={grantType:T,requestedTokenType:E,subjectToken:R,subjectTokenType:v},N=await this.stsCredential.exchangeToken(C,void 0,this.credentialAccessBoundary),D=((q=this.authClient.credentials)==null?void 0:q.expiry_date)||null,L=N.expires_in?new Date().getTime()+N.expires_in*1e3:D;return this.cachedDownscopedAccessToken={access_token:N.access_token,expiry_date:L,res:N.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken}isExpired(R){const C=new Date().getTime();return R.expiry_date?C>=R.expiry_date-this.eagerRefreshThresholdMillis:!1}}c.DownscopedClient=p})(downscopedclient)),downscopedclient}var passthrough={},hasRequiredPassthrough;function requirePassthrough(){if(hasRequiredPassthrough)return passthrough;hasRequiredPassthrough=1,Object.defineProperty(passthrough,"__esModule",{value:!0}),passthrough.PassThroughClient=void 0;const c=requireAuthclient();class u extends c.AuthClient{async request(y){return this.transporter.request(y)}async getAccessToken(){return{}}async getRequestHeaders(){return new Headers}}return passthrough.PassThroughClient=u,passthrough}var hasRequiredSrc$5;function requireSrc$5(){return hasRequiredSrc$5||(hasRequiredSrc$5=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.GoogleAuth=c.auth=c.PassThroughClient=c.ExternalAccountAuthorizedUserClient=c.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=c.ExecutableError=c.PluggableAuthClient=c.DownscopedClient=c.BaseExternalAccountClient=c.ExternalAccountClient=c.IdentityPoolClient=c.AwsRequestSigner=c.AwsClient=c.UserRefreshClient=c.LoginTicket=c.ClientAuthentication=c.OAuth2Client=c.CodeChallengeMethod=c.Impersonated=c.JWT=c.JWTAccess=c.IdTokenClient=c.IAMAuth=c.GCPEnv=c.Compute=c.DEFAULT_UNIVERSE=c.AuthClient=c.gaxios=c.gcpMetadata=void 0;const u=requireGoogleauth();Object.defineProperty(c,"GoogleAuth",{enumerable:!0,get:function(){return u.GoogleAuth}}),c.gcpMetadata=requireSrc$7(),c.gaxios=requireSrc$9();var d=requireAuthclient();Object.defineProperty(c,"AuthClient",{enumerable:!0,get:function(){return d.AuthClient}}),Object.defineProperty(c,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return d.DEFAULT_UNIVERSE}});var y=requireComputeclient();Object.defineProperty(c,"Compute",{enumerable:!0,get:function(){return y.Compute}});var O=requireEnvDetect();Object.defineProperty(c,"GCPEnv",{enumerable:!0,get:function(){return O.GCPEnv}});var T=requireIam();Object.defineProperty(c,"IAMAuth",{enumerable:!0,get:function(){return T.IAMAuth}});var E=requireIdtokenclient();Object.defineProperty(c,"IdTokenClient",{enumerable:!0,get:function(){return E.IdTokenClient}});var v=requireJwtaccess();Object.defineProperty(c,"JWTAccess",{enumerable:!0,get:function(){return v.JWTAccess}});var p=requireJwtclient();Object.defineProperty(c,"JWT",{enumerable:!0,get:function(){return p.JWT}});var g=requireImpersonated();Object.defineProperty(c,"Impersonated",{enumerable:!0,get:function(){return g.Impersonated}});var w=requireOauth2client();Object.defineProperty(c,"CodeChallengeMethod",{enumerable:!0,get:function(){return w.CodeChallengeMethod}}),Object.defineProperty(c,"OAuth2Client",{enumerable:!0,get:function(){return w.OAuth2Client}}),Object.defineProperty(c,"ClientAuthentication",{enumerable:!0,get:function(){return w.ClientAuthentication}});var R=requireLoginticket();Object.defineProperty(c,"LoginTicket",{enumerable:!0,get:function(){return R.LoginTicket}});var C=requireRefreshclient();Object.defineProperty(c,"UserRefreshClient",{enumerable:!0,get:function(){return C.UserRefreshClient}});var N=requireAwsclient();Object.defineProperty(c,"AwsClient",{enumerable:!0,get:function(){return N.AwsClient}});var D=requireAwsrequestsigner();Object.defineProperty(c,"AwsRequestSigner",{enumerable:!0,get:function(){return D.AwsRequestSigner}});var L=requireIdentitypoolclient();Object.defineProperty(c,"IdentityPoolClient",{enumerable:!0,get:function(){return L.IdentityPoolClient}});var q=requireExternalclient();Object.defineProperty(c,"ExternalAccountClient",{enumerable:!0,get:function(){return q.ExternalAccountClient}});var M=requireBaseexternalclient();Object.defineProperty(c,"BaseExternalAccountClient",{enumerable:!0,get:function(){return M.BaseExternalAccountClient}});var U=requireDownscopedclient();Object.defineProperty(c,"DownscopedClient",{enumerable:!0,get:function(){return U.DownscopedClient}});var V=requirePluggableAuthClient();Object.defineProperty(c,"PluggableAuthClient",{enumerable:!0,get:function(){return V.PluggableAuthClient}}),Object.defineProperty(c,"ExecutableError",{enumerable:!0,get:function(){return V.ExecutableError}});var $=requireExternalAccountAuthorizedUserClient();Object.defineProperty(c,"EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE",{enumerable:!0,get:function(){return $.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE}}),Object.defineProperty(c,"ExternalAccountAuthorizedUserClient",{enumerable:!0,get:function(){return $.ExternalAccountAuthorizedUserClient}});var z=requirePassthrough();Object.defineProperty(c,"PassThroughClient",{enumerable:!0,get:function(){return z.PassThroughClient}});const W=new u.GoogleAuth;c.auth=W})(src$8)),src$8}var operationsClient={},createApiCall={},apiCaller={},normalApiCaller={},call$1={},googleError={},src$3={},toproto3json={},any={},fromproto3json={},bytes={},hasRequiredBytes;function requireBytes(){if(hasRequiredBytes)return bytes;hasRequiredBytes=1,Object.defineProperty(bytes,"__esModule",{value:!0}),bytes.bytesToProto3JSON=c,bytes.bytesFromProto3JSON=u;function c(d){return Buffer.isBuffer(d)?d.toString("base64"):Buffer.from(d.buffer,0,d.byteLength).toString("base64")}function u(d){return Buffer.from(d,"base64")}return bytes}var _enum={},hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,Object.defineProperty(_enum,"__esModule",{value:!0}),_enum.resolveEnumValueToString=c,_enum.resolveEnumValueToNumber=u;function c(d,y){if(typeof y=="number"){const O=d.valuesById[y];return typeof O>"u"?y:O}if(typeof y=="string")return y;throw new Error("resolveEnumValueToString: enum value must be a string or a number")}function u(d,y){if(typeof y=="number")return y;if(typeof y=="string"){const O=d.values[y];return typeof O>"u"?y:O}throw new Error("resolveEnumValueToNumber: enum value must be a string or a number")}return _enum}var value={},util$1={},hasRequiredUtil$2;function requireUtil$2(){if(hasRequiredUtil$2)return util$1;hasRequiredUtil$2=1,Object.defineProperty(util$1,"__esModule",{value:!0}),util$1.wrapperTypes=void 0,util$1.getFullyQualifiedTypeName=c,util$1.assert=u;function c(d){let y="";for(;d.parent;)y=`.${d.name}${y}`,d=d.parent;return y}util$1.wrapperTypes=new Set([".google.protobuf.DoubleValue",".google.protobuf.FloatValue",".google.protobuf.Int64Value",".google.protobuf.UInt64Value",".google.protobuf.Int32Value",".google.protobuf.UInt32Value",".google.protobuf.BoolValue",".google.protobuf.StringValue",".google.protobuf.BytesValue"]);function u(d,y){if(!d)throw new Error(y)}return util$1}var hasRequiredValue;function requireValue(){if(hasRequiredValue)return value;hasRequiredValue=1,Object.defineProperty(value,"__esModule",{value:!0}),value.googleProtobufStructToProto3JSON=u,value.googleProtobufListValueToProto3JSON=d,value.googleProtobufValueToProto3JSON=y,value.googleProtobufStructFromProto3JSON=O,value.googleProtobufListValueFromProto3JSON=T,value.googleProtobufValueFromProto3JSON=E;const c=requireUtil$2();function u(v){const p={},g=v.fields;for(const[w,R]of Object.entries(g))p[w]=y(R);return p}function d(v){return(0,c.assert)(Array.isArray(v.values),"ListValue internal representation must contain array of values"),v.values.map(y)}function y(v){return Object.prototype.hasOwnProperty.call(v,"nullValue")?null:Object.prototype.hasOwnProperty.call(v,"numberValue")&&typeof v.numberValue=="number"?Number.isFinite(v.numberValue)?v.numberValue:v.numberValue.toString():Object.prototype.hasOwnProperty.call(v,"stringValue")&&typeof v.stringValue=="string"?v.stringValue:Object.prototype.hasOwnProperty.call(v,"boolValue")&&typeof v.boolValue=="boolean"?v.boolValue:Object.prototype.hasOwnProperty.call(v,"structValue")&&typeof v.structValue=="object"?u(v.structValue):Object.prototype.hasOwnProperty.call(v,"listValue")&&typeof v=="object"&&typeof v.listValue=="object"?d(v.listValue):null}function O(v){const p={};for(const[g,w]of Object.entries(v))p[g]=E(w);return{fields:p}}function T(v){return{values:v.map(p=>E(p))}}function E(v){if(v===null)return{nullValue:"NULL_VALUE"};if(typeof v=="number")return{numberValue:v};if(typeof v=="string")return{stringValue:v};if(typeof v=="boolean")return{boolValue:v};if(Array.isArray(v))return{listValue:T(v)};if(typeof v=="object")return{structValue:O(v)};throw new Error(`googleProtobufValueFromProto3JSON: incorrect parameter type: ${typeof v}`)}return value}var duration$1={},hasRequiredDuration$1;function requireDuration$1(){if(hasRequiredDuration$1)return duration$1;hasRequiredDuration$1=1,Object.defineProperty(duration$1,"__esModule",{value:!0}),duration$1.googleProtobufDurationToProto3JSON=c,duration$1.googleProtobufDurationFromProto3JSON=u;function c(d){let y=d.seconds.toString();if(typeof d.nanos=="number"&&d.nanos>0){const O=d.nanos.toString().padStart(9,"0").replace(/^((?:\d\d\d)+?)(?:0*)$/,"$1");y+="."+O}return y+="s",y}function u(d){const y=d.match(/^(\d*)(?:\.(\d*))?s$/);if(!y)throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${d} passed as google.protobuf.Duration`);let O=0,T=0;typeof y[1]=="string"&&y[1].length>0&&(O=parseInt(y[1])),typeof y[2]=="string"&&y[2].length>0&&(T=parseInt(y[2].padEnd(9,"0")));const E={};return O!==0&&(E.seconds=O),T!==0&&(E.nanos=T),E}return duration$1}var timestamp$1={},hasRequiredTimestamp$1;function requireTimestamp$1(){if(hasRequiredTimestamp$1)return timestamp$1;hasRequiredTimestamp$1=1,Object.defineProperty(timestamp$1,"__esModule",{value:!0}),timestamp$1.googleProtobufTimestampToProto3JSON=c,timestamp$1.googleProtobufTimestampFromProto3JSON=u;function c(d){var E;const y=d.seconds,O=new Date(y*1e3).toISOString();let T=(E=d.nanos)==null?void 0:E.toString().padStart(9,"0");for(;T&&T.length>3&&T.endsWith("000");)T=T.slice(0,-3);return O.replace(/(?:\.\d{0,9})/,"."+T)}function u(d){if(!d.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?/))throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${d} passed as google.protobuf.Duration`);const T=new Date(d).getTime(),E=Math.floor(T/1e3);let v=0;const p=d.split(".")[1];p&&(v=parseInt(p.slice(0,-1).padEnd(9,"0")));const g={};return E!==0&&(g.seconds=E),v!==0&&(g.nanos=v),g}return timestamp$1}var wrappers={},hasRequiredWrappers;function requireWrappers(){if(hasRequiredWrappers)return wrappers;hasRequiredWrappers=1,Object.defineProperty(wrappers,"__esModule",{value:!0}),wrappers.wrapperToProto3JSON=d,wrappers.wrapperFromProto3JSON=y;const c=requireBytes(),u=requireUtil$2();function d(O){return Object.prototype.hasOwnProperty.call(O,"value")?Buffer.isBuffer(O.value)||O.value instanceof Uint8Array?(0,c.bytesToProto3JSON)(O.value):typeof O.value=="object"?((0,u.assert)(O.value.constructor.name==="Long",`wrapperToProto3JSON: expected to see a number, a string, a boolean, or a Long, but got ${O.value}`),O.value.toString()):typeof O.value=="number"&&!Number.isFinite(O.value)?O.value.toString():O.value:null}function y(O,T){if(T===null)return{value:null};if(O===".google.protobuf.BytesValue"){if(typeof T!="string")throw new Error(`numberWrapperFromProto3JSON: expected to get a string for google.protobuf.BytesValue but got ${typeof T}`);return{value:(0,c.bytesFromProto3JSON)(T)}}return{value:T}}return wrappers}var fieldmask={},hasRequiredFieldmask;function requireFieldmask(){if(hasRequiredFieldmask)return fieldmask;hasRequiredFieldmask=1,Object.defineProperty(fieldmask,"__esModule",{value:!0}),fieldmask.googleProtobufFieldMaskToProto3JSON=c,fieldmask.googleProtobufFieldMaskFromProto3JSON=u;function c(d){return d.paths.join(",")}function u(d){return{paths:d.split(",")}}return fieldmask}var hasRequiredFromproto3json;function requireFromproto3json(){if(hasRequiredFromproto3json)return fromproto3json;hasRequiredFromproto3json=1,Object.defineProperty(fromproto3json,"__esModule",{value:!0}),fromproto3json.fromProto3JSONToInternalRepresentation=g,fromproto3json.fromProto3JSON=w;const c=requireAny(),u=requireBytes(),d=require_enum(),y=requireValue(),O=requireUtil$2(),T=requireDuration$1(),E=requireTimestamp$1(),v=requireWrappers(),p=requireFieldmask();function g(R,C){const N=typeof R=="string"?R:(0,O.getFullyQualifiedTypeName)(R);if(typeof R!="string"&&"values"in R)return N===".google.protobuf.NullValue"?"NULL_VALUE":(0,d.resolveEnumValueToString)(R,C);if(typeof R!="string"&&R.resolveAll(),typeof R=="string")return C;if(N===".google.protobuf.Value")return(0,y.googleProtobufValueFromProto3JSON)(C);if(O.wrapperTypes.has(N)){if(C!==null&&typeof C=="object"||Array.isArray(C))throw new Error(`fromProto3JSONToInternalRepresentation: JSON representation for ${N} expects a string, a number, or a boolean, but got ${typeof C}`);return(0,v.wrapperFromProto3JSON)(N,C)}if(C===null)return null;if(N===".google.protobuf.Any")return(0,c.googleProtobufAnyFromProto3JSON)(R.root,C);if(N===".google.protobuf.Struct"){if(typeof C!="object")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got ${typeof C}`);if(Array.isArray(C))throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got an array");return(0,y.googleProtobufStructFromProto3JSON)(C)}if(N===".google.protobuf.ListValue"){if(!Array.isArray(C))throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.ListValue must be an array but got ${typeof C}`);return(0,y.googleProtobufListValueFromProto3JSON)(C)}if(N===".google.protobuf.Duration"){if(typeof C!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Duration must be a string but got ${typeof C}`);return(0,T.googleProtobufDurationFromProto3JSON)(C)}if(N===".google.protobuf.Timestamp"){if(typeof C!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.Timestamp must be a string but got ${typeof C}`);return(0,E.googleProtobufTimestampFromProto3JSON)(C)}if(N===".google.protobuf.FieldMask"){if(typeof C!="string")throw new Error(`fromProto3JSONToInternalRepresentation: google.protobuf.FieldMask must be a string but got ${typeof C}`);return(0,p.googleProtobufFieldMaskFromProto3JSON)(C)}const D={};for(const[L,q]of Object.entries(C)){const M=R.fields[L];if(!M)continue;const U=M.resolvedType,V=M.type;if(M.repeated)if(q===null)D[L]=[];else{if(!Array.isArray(q))throw new Error(`fromProto3JSONToInternalRepresentation: expected an array for field ${L}`);D[L]=q.map($=>g(U||V,$))}else if(M.map){const $={};for(const[z,W]of Object.entries(q))$[z]=g(U||V,W);D[L]=$}else if(V.match(/^(?:(?:(?:u?int|fixed)(?:32|64))|float|double)$/)){if(typeof q!="number"&&typeof q!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${L} of type ${M.type} cannot contain value ${q}`);D[L]=q}else if(V==="string"){if(typeof q!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${L} of type ${M.type} cannot contain value ${q}`);D[L]=q}else if(V==="bool"){if(typeof q!="boolean")throw new Error(`fromProto3JSONToInternalRepresentation: field ${L} of type ${M.type} cannot contain value ${q}`);D[L]=q}else if(V==="bytes"){if(typeof q!="string")throw new Error(`fromProto3JSONToInternalRepresentation: field ${L} of type ${M.type} cannot contain value ${q}`);D[L]=(0,u.bytesFromProto3JSON)(q)}else{(0,O.assert)(U!==null,`Expected to be able to resolve type for field ${M.name}`);const $=g(U,q);D[L]=$}}return D}function w(R,C){const N=g(R,C);return N===null?null:((0,O.assert)(typeof N=="object"&&!Array.isArray(N),`fromProto3JSON: expected an object, not ${C}`),R.fromObject(N))}return fromproto3json}var hasRequiredAny;function requireAny(){if(hasRequiredAny)return any;hasRequiredAny=1,Object.defineProperty(any,"__esModule",{value:!0}),any.googleProtobufAnyToProto3JSON=y,any.googleProtobufAnyFromProto3JSON=O;const c=requireFromproto3json(),u=requireToproto3json(),d=new Set(["google.protobuf.Any","google.protobuf.Duration","google.protobuf.FieldMask","google.protobuf.ListValue","google.protobuf.Struct","google.protobuf.Timestamp","google.protobuf.Value"]);function y(T,E){const v=T.type_url.replace(/^.*\//,"");let p;try{p=T.$type.root.lookupType(v)}catch(R){throw new Error(`googleProtobufAnyToProto3JSON: cannot find type ${v}: ${R}`)}const g=p.decode(T.value),w=(0,u.toProto3JSON)(g,E);return d.has(v)?{"@type":T.type_url,value:w}:(w["@type"]=T.type_url,w)}function O(T,E){if(E===null||typeof E!="object"||Array.isArray(E))throw new Error("googleProtobufAnyFromProto3JSON: must be an object to decode google.protobuf.Any");const v=E["@type"];if(!v||typeof v!="string")throw new Error("googleProtobufAnyFromProto3JSON: JSON serialization of google.protobuf.Any must contain @type field");const p=v.replace(/^.*\//,"");let g;try{g=T.lookupType(p)}catch(L){throw new Error(`googleProtobufAnyFromProto3JSON: cannot find type ${p}: ${L}`)}let w=E;if(d.has(p)){if(!("value"in E))throw new Error(`googleProtobufAnyFromProto3JSON: JSON representation of google.protobuf.Any with type ${p} must contain the value field`);w=E.value}const R=(0,c.fromProto3JSON)(g,w);if(R===null)return{type_url:v,value:null};const C=g.encode(R).finish(),D=Buffer.from(C,0,C.byteLength).toString("base64");return{type_url:v,value:D}}return any}var hasRequiredToproto3json;function requireToproto3json(){if(hasRequiredToproto3json)return toproto3json;hasRequiredToproto3json=1,Object.defineProperty(toproto3json,"__esModule",{value:!0}),toproto3json.toProto3JSON=C;const c=requireAny(),u=requireBytes(),d=requireUtil$2(),y=require_enum(),O=requireValue(),T=requireDuration$1(),E=requireTimestamp$1(),v=requireWrappers(),p=requireFieldmask();function g(N){var D;if(typeof N=="object"){if(((D=N==null?void 0:N.constructor)==null?void 0:D.name)==="Long")return N.toString();throw new Error(`toProto3JSON: don't know how to convert value ${N}`)}return N}function w(N,D,L){return N&&"values"in N?R(N,D,L):N?C(D,L):g(D)}function R(N,D,L){return L!=null&&L.numericEnums?(0,y.resolveEnumValueToNumber)(N,D):(0,y.resolveEnumValueToString)(N,D)}function C(N,D){const L=N.$type;if(!L)throw new Error("Cannot serialize object to proto3 JSON since its .$type is unknown. Use Type.fromObject(obj) before calling toProto3JSON.");L.resolveAll();const q=(0,d.getFullyQualifiedTypeName)(L);if(q===".google.protobuf.Any")return(0,c.googleProtobufAnyToProto3JSON)(N,D);if(q===".google.protobuf.Value")return(0,O.googleProtobufValueToProto3JSON)(N);if(q===".google.protobuf.Struct")return(0,O.googleProtobufStructToProto3JSON)(N);if(q===".google.protobuf.ListValue")return(0,O.googleProtobufListValueToProto3JSON)(N);if(q===".google.protobuf.Duration")return(0,T.googleProtobufDurationToProto3JSON)(N);if(q===".google.protobuf.Timestamp")return(0,E.googleProtobufTimestampToProto3JSON)(N);if(q===".google.protobuf.FieldMask")return(0,p.googleProtobufFieldMaskToProto3JSON)(N);if(d.wrapperTypes.has(q))return(0,v.wrapperToProto3JSON)(N);const M={};for(const[U,V]of Object.entries(N)){const $=L.fields[U],z=$.resolvedType,W=z?(0,d.getFullyQualifiedTypeName)(z):null;if(V===null){M[U]=null;continue}if(Array.isArray(V)){if(V.length===0)continue;M[U]=V.map(J=>w(z,J,D));continue}if($.map){const J={};for(const[Y,Q]of Object.entries(V))J[Y]=w(z,Q,D);M[U]=J;continue}if(W===".google.protobuf.NullValue"){M[U]=null;continue}if(z&&"values"in z&&V!==null){M[U]=R(z,V,D);continue}if(z){M[U]=C(V,D);continue}if(typeof V=="string"||typeof V=="number"||typeof V=="boolean"||V===null){if(typeof V=="number"&&!Number.isFinite(V)){M[U]=V.toString();continue}M[U]=V;continue}if(Buffer.isBuffer(V)||V instanceof Uint8Array){M[U]=(0,u.bytesToProto3JSON)(V);continue}M[U]=g(V)}return M}return toproto3json}var hasRequiredSrc$4;function requireSrc$4(){return hasRequiredSrc$4||(hasRequiredSrc$4=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.fromProto3JSON=c.toProto3JSON=void 0;var u=requireToproto3json();Object.defineProperty(c,"toProto3JSON",{enumerable:!0,get:function(){return u.toProto3JSON}});var d=requireFromproto3json();Object.defineProperty(c,"fromProto3JSON",{enumerable:!0,get:function(){return d.fromProto3JSON}})})(src$3)),src$3}const nested$a={google:{nested:{protobuf:{nested:{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/errdetails;errdetails",java_multiple_files:!0,java_outer_classname:"ErrorDetailsProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}},RetryInfo:{fields:{retryDelay:{type:"google.protobuf.Duration",id:1}}},DebugInfo:{fields:{stackEntries:{rule:"repeated",type:"string",id:1},detail:{type:"string",id:2}}},QuotaFailure:{fields:{violations:{rule:"repeated",type:"Violation",id:1}},nested:{Violation:{fields:{subject:{type:"string",id:1},description:{type:"string",id:2}}}}},ErrorInfo:{fields:{reason:{type:"string",id:1},domain:{type:"string",id:2},metadata:{keyType:"string",type:"string",id:3}}},PreconditionFailure:{fields:{violations:{rule:"repeated",type:"Violation",id:1}},nested:{Violation:{fields:{type:{type:"string",id:1},subject:{type:"string",id:2},description:{type:"string",id:3}}}}},BadRequest:{fields:{fieldViolations:{rule:"repeated",type:"FieldViolation",id:1}},nested:{FieldViolation:{fields:{field:{type:"string",id:1},description:{type:"string",id:2}}}}},RequestInfo:{fields:{requestId:{type:"string",id:1},servingData:{type:"string",id:2}}},ResourceInfo:{fields:{resourceType:{type:"string",id:1},resourceName:{type:"string",id:2},owner:{type:"string",id:3},description:{type:"string",id:4}}},Help:{fields:{links:{rule:"repeated",type:"Link",id:1}},nested:{Link:{fields:{description:{type:"string",id:1},url:{type:"string",id:2}}}}},LocalizedMessage:{fields:{locale:{type:"string",id:1},message:{type:"string",id:2}}}}}}}},require$$4$2={nested:nested$a};var hasRequiredGoogleError;function requireGoogleError(){if(hasRequiredGoogleError)return googleError;hasRequiredGoogleError=1;var c=googleError&&googleError.__createBinding||(Object.create?(function(J,Y,Q,H){H===void 0&&(H=Q);var te=Object.getOwnPropertyDescriptor(Y,Q);(!te||("get"in te?!Y.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return Y[Q]}}),Object.defineProperty(J,H,te)}):(function(J,Y,Q,H){H===void 0&&(H=Q),J[H]=Y[Q]})),u=googleError&&googleError.__setModuleDefault||(Object.create?(function(J,Y){Object.defineProperty(J,"default",{enumerable:!0,value:Y})}):function(J,Y){J.default=Y}),d=googleError&&googleError.__importStar||(function(){var J=function(Y){return J=Object.getOwnPropertyNames||function(Q){var H=[];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(H[H.length]=te);return H},J(Y)};return function(Y){if(Y&&Y.__esModule)return Y;var Q={};if(Y!=null)for(var H=J(Y),te=0;te<H.length;te++)H[te]!=="default"&&c(Q,Y,H[te]);return u(Q,Y),Q}})();Object.defineProperty(googleError,"__esModule",{value:!0}),googleError.GoogleErrorDecoder=googleError.GoogleError=void 0;const y=requireStatus(),O=d(requireProtobufjs()),T=d(requireSrc$4()),E=requireFallback(),v="type.googleapis.com/",p="type.googleapis.com/google.rpc.ResourceInfo",g="Unknown type",w="google.protobuf.Any",R="Unknown type encoded in",C="no such type",N=2;class D extends Error{constructor(){super(...arguments);ce(this,"code");ce(this,"note");ce(this,"metadata");ce(this,"statusDetails");ce(this,"reason");ce(this,"domain");ce(this,"errorInfoMetadata")}static parseGRPCStatusDetails(Q){const H=new W;try{if(Q.metadata&&Q.metadata.get("grpc-status-details-bin")){const te=H.decodeGRPCStatusDetails(Q.metadata.get("grpc-status-details-bin"));te&&te.details&&te.details.length>0&&(Q.statusDetails=te.details),te&&te.errorInfo&&(Q.reason=te.errorInfo.reason,Q.domain=te.errorInfo.domain,Q.errorInfoMetadata=te.errorInfo.metadata)}}catch{}return Q}static parseHttpError(Q){Array.isArray(Q)&&(Q=Q.find(oe=>"error"in oe)),Q.error||(Q.error={},Object.keys(Q).filter(oe=>oe!=="error").forEach(oe=>{Q.error[oe]=Q[oe],delete Q[oe]}));const H=new W,te=H.decodeHTTPError(Q.error),ne=Object.assign(new D(Q.error.message),te);if(Q.error.status&&y.Status[Q.error.status]?ne.code=y.Status[Q.error.status]:Q.error.code?ne.code=(0,y.rpcCodeFromHttpStatusCode)(Q.error.code):delete ne.code,ne.details)try{const oe=H.decodeHttpStatusDetails(ne.details);oe&&oe.details&&oe.details.length>0&&(ne.statusDetails=oe.details),oe&&oe.errorInfo&&(ne.reason=oe.errorInfo.reason,ne.domain=oe.errorInfo.domain,ne.errorInfoMetadata=oe.errorInfo.metadata)}catch{}return ne}}googleError.GoogleError=D;const L=J=>{const Y=J.split(v);if(Y.length!==N)throw Error("Can't convert full type name");return Y[1]},q=(J,Y)=>{try{const Q=L(Y["@type"]);return Q===w?q(J,Y.value):!!J.lookup(Q)}catch{return!1}},M=J=>typeof J=="object"&&J&&"message"in J?J.message.includes(R)||J.message.includes(C):!1,U=(J,Y)=>Y.create({type_url:J.type_url,value:J.value}),V=(J,Y)=>{const Q={knownDetails:[],unknownDetails:[]};if(typeof Y=="object"&&Y!==null&&"details"in Y){const H=Y.details;for(const te of H)q(J,te)?Q.knownDetails.push(te):Q.unknownDetails.push(te)}return Q},$=(J,Y)=>({"@type":p,resourceType:J,description:Y}),z=J=>{const Y=[];for(const Q of J)try{let H=g;typeof Q=="object"&&Q!==null&&"@type"in Q&&(H=Q["@type"]);const te=JSON.stringify(Q);Y.push($(H,te))}catch{}return Y};class W{constructor(){ce(this,"root");ce(this,"anyType");ce(this,"statusType");const Y=require$$4$2;this.root=O.Root.fromJSON(Y),this.anyType=this.root.lookupType("google.protobuf.Any"),this.statusType=this.root.lookupType("google.rpc.Status")}decodeProtobufAny(Y){const Q=Y.type_url.match(/^type.googleapis.com\/(.*)/);if(!Q)throw new Error(`Unknown type encoded in google.protobuf.any: ${Y.type_url}`);const H=Q[1],te=this.root.lookupType(H);if(!te)throw new Error(`Cannot lookup type ${H}`);return te.decode(Y.value)}decodeRpcStatus(Y){const Q=new Uint8Array(Y),H=this.statusType.decode(Q),te=[];let ne;for(const ie of H.details)try{const ee=this.decodeProtobufAny(ie);te.push(ee),ie.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(ne=ee)}catch{}return{code:H.code,message:H.message,statusDetails:te,reason:ne==null?void 0:ne.reason,domain:ne==null?void 0:ne.domain,errorInfoMetadata:ne==null?void 0:ne.metadata}}callErrorFromStatus(Y){return Y.message=`${Y.code} ${y.Status[Y.code]}: ${Y.message}`,Object.assign(new D(Y.message),Y)}decodeErrorFromBuffer(Y){return this.callErrorFromStatus(this.decodeRpcStatus(Y))}decodeGRPCStatusDetails(Y){const Q=[];let H;return Y.forEach(ne=>{const oe=new Uint8Array(ne),ie=this.statusType.decode(oe);for(const ee of ie.details)try{const ue=this.decodeProtobufAny(ee);Q.push(ue),ee.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(H=ue)}catch(ue){if(M(ue)){const fe=U(ee,this.anyType);Q.push(fe)}}}),{details:Q,errorInfo:H}}decodeHTTPError(Y){const Q=V(this.root,Y);let H=[];if(typeof Y=="object"&&Y!==null&&"details"in Y){if(Q.knownDetails.length&&(H=Q.knownDetails),Q.unknownDetails.length){const ne=z(Q.unknownDetails);H=[...H,...ne]}H.length&&(Y.details=H)}const te=T.fromProto3JSON(this.statusType,Y);if(!te)throw new Error(`Received error message ${Y}, but failed to serialize as proto3 message`);return this.statusType.toObject(te,E.defaultToObjectOptions)}decodeHttpStatusDetails(Y){const Q=[];let H;for(const te of Y)try{const ne=this.decodeProtobufAny(te);Q.push(ne),te.type_url==="type.googleapis.com/google.rpc.ErrorInfo"&&(H=ne)}catch{}return{details:Q,errorInfo:H}}}return googleError.GoogleErrorDecoder=W,googleError}var hasRequiredCall$1;function requireCall$1(){if(hasRequiredCall$1)return call$1;hasRequiredCall$1=1,Object.defineProperty(call$1,"__esModule",{value:!0}),call$1.OngoingCallPromise=call$1.OngoingCall=void 0;const c=requireStatus(),u=requireGoogleError();class d{constructor(T){ce(this,"callback");ce(this,"cancelFunc");ce(this,"completed");this.callback=T,this.completed=!1}cancel(){if(!this.completed)if(this.completed=!0,this.cancelFunc)this.cancelFunc();else{const T=new u.GoogleError("cancelled");T.code=c.Status.CANCELLED,this.callback(T)}}call(T,E){if(this.completed)return;const v=T(E,(p,g,w,R)=>{this.completed=!0,setImmediate(this.callback,p,g,w,R)});v instanceof Promise&&v.catch(p=>{setImmediate(this.callback,new u.GoogleError(p),null,null,null)}),this.cancelFunc=()=>v.cancel()}}call$1.OngoingCall=d;class y extends d{constructor(){let E,v;const p=(w,R,C,N)=>{if(w)w.metadata?v(u.GoogleError.parseGRPCStatusDetails(w)):v(w);else if(R!==void 0)E([R,C||null,N||null]);else throw new u.GoogleError("Neither error nor response are defined")},g=new Promise((w,R)=>{E=w,v=R});super(p);ce(this,"promise");this.promise=g,this.promise.cancel=()=>{this.cancel()}}}return call$1.OngoingCallPromise=y,call$1}var hasRequiredNormalApiCaller;function requireNormalApiCaller(){if(hasRequiredNormalApiCaller)return normalApiCaller;hasRequiredNormalApiCaller=1,Object.defineProperty(normalApiCaller,"__esModule",{value:!0}),normalApiCaller.NormalApiCaller=void 0;const c=requireCall$1();class u{init(y){return y?new c.OngoingCall(y):new c.OngoingCallPromise}wrap(y){return y}call(y,O,T,E){E.call(y,O)}fail(y,O){y.callback(O)}result(y){return y.promise}}return normalApiCaller.NormalApiCaller=u,normalApiCaller}var hasRequiredApiCaller;function requireApiCaller(){if(hasRequiredApiCaller)return apiCaller;hasRequiredApiCaller=1,Object.defineProperty(apiCaller,"__esModule",{value:!0}),apiCaller.createAPICaller=u;const c=requireNormalApiCaller();function u(d,y){return y?y.getApiCaller(d):new c.NormalApiCaller}return apiCaller}var retries={},timeout={},hasRequiredTimeout;function requireTimeout(){if(hasRequiredTimeout)return timeout;hasRequiredTimeout=1,Object.defineProperty(timeout,"__esModule",{value:!0}),timeout.addTimeoutArg=c;function c(u,d,y,O){return(T,E)=>{const v=new Date,p=y.options||{};p.deadline=new Date(v.getTime()+d);const g=y.metadataBuilder?y.metadataBuilder(O,y.headers||{}):null;return u(T,g,p,E)}}return timeout}var hasRequiredRetries;function requireRetries(){if(hasRequiredRetries)return retries;hasRequiredRetries=1,Object.defineProperty(retries,"__esModule",{value:!0}),retries.retryable=y;const c=requireStatus(),u=requireGoogleError(),d=requireTimeout();function y(O,T,E,v){const p=T.backoffSettings.retryDelayMultiplier,g=T.backoffSettings.maxRetryDelayMillis,w=T.backoffSettings.rpcTimeoutMultiplier,R=T.backoffSettings.maxRpcTimeoutMillis;let C=T.backoffSettings.initialRetryDelayMillis,N=T.backoffSettings.initialRpcTimeoutMillis;return(D,L)=>{let q,M,U=new Date,V;T.backoffSettings.totalTimeoutMillis&&(V=U.getTime()+T.backoffSettings.totalTimeoutMillis);let $=0;const z=T.backoffSettings.maxRetries,W=[];function J(Q){return Q.length<2?"":` : Previous errors : [${Q.map(te=>{const ne=te.statusDetails?te.statusDetails.toString():"",oe=te.code&&te.code.toString?te.code.toString():"",ie=te.note&&te.note.toString?te.note.toString():"";return`{message: ${te.message&&te.message.toString?te.message.toString():""}, code: ${oe}, details: ${ne}, note: ${ie}}`}).join(",")}]`}function Y(Q){if(Q&&W.push(Q),M=null,V&&U.getTime()>=V){const ne=new u.GoogleError(`Total timeout of API ${v} exceeded ${T.backoffSettings.totalTimeoutMillis} milliseconds ${Q?`retrying error ${Q} `:""} before any response was received.${J(W)}`);ne.code=c.Status.DEADLINE_EXCEEDED,L(ne);return}if($&&$>=z){const ne=new u.GoogleError("Exceeded maximum number of retries "+(Q?`retrying error ${Q} `:"")+"before any response was received"+J(W));ne.code=c.Status.DEADLINE_EXCEEDED,L(ne);return}$++;let H=Q;q=(0,d.addTimeoutArg)(O,N,E)(D,(ne,oe,ie,ee)=>{if(ne&&(H=ne),!ne){L(null,oe,ie,ee);return}if(q=null,T.retryCodes.length>0&&T.retryCodes.indexOf(ne.code)<0)ne.note="Exception occurred in retry method that was not classified as transient",L(ne);else{const ue=Math.random()*C;M=setTimeout(()=>{U=new Date,C=Math.min(C*p,g);const fe=N&&w?N*w:0,de=R||0,ge=V?V-U.getTime():1/0;N=Math.min(fe,de,ge),Y(H)},ue)}}),q instanceof Promise&&q.catch(ne=>{L(new u.GoogleError(ne))})}if(z&&V){const Q=new u.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");Q.code=c.Status.INVALID_ARGUMENT,L(Q)}else Y();return{cancel(){if(M&&clearTimeout(M),q)q.cancel();else{const Q=new u.GoogleError("cancelled"+J(W));Q.code=c.Status.CANCELLED,L(Q)}}}}}return retries}var streamingApiCaller={},streaming={},readableBrowser={exports:{}},streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=require$$0$8.EventEmitter),streamBrowser}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function c(D,L){var q=Object.keys(D);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(D);L&&(M=M.filter(function(U){return Object.getOwnPropertyDescriptor(D,U).enumerable})),q.push.apply(q,M)}return q}function u(D){for(var L=1;L<arguments.length;L++){var q=arguments[L]!=null?arguments[L]:{};L%2?c(Object(q),!0).forEach(function(M){d(D,M,q[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(q)):c(Object(q)).forEach(function(M){Object.defineProperty(D,M,Object.getOwnPropertyDescriptor(q,M))})}return D}function d(D,L,q){return L=E(L),L in D?Object.defineProperty(D,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[L]=q,D}function y(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}function O(D,L){for(var q=0;q<L.length;q++){var M=L[q];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(D,E(M.key),M)}}function T(D,L,q){return L&&O(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D}function E(D){var L=v(D,"string");return typeof L=="symbol"?L:String(L)}function v(D,L){if(typeof D!="object"||D===null)return D;var q=D[Symbol.toPrimitive];if(q!==void 0){var M=q.call(D,L);if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}var p=require$$0$9,g=p.Buffer,w=require$$3$2,R=w.inspect,C=R&&R.custom||"inspect";function N(D,L,q){g.prototype.copy.call(D,L,q)}return buffer_list=(function(){function D(){y(this,D),this.head=null,this.tail=null,this.length=0}return T(D,[{key:"push",value:function(q){var M={data:q,next:null};this.length>0?this.tail.next=M:this.head=M,this.tail=M,++this.length}},{key:"unshift",value:function(q){var M={data:q,next:this.head};this.length===0&&(this.tail=M),this.head=M,++this.length}},{key:"shift",value:function(){if(this.length!==0){var q=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(this.length===0)return"";for(var M=this.head,U=""+M.data;M=M.next;)U+=q+M.data;return U}},{key:"concat",value:function(q){if(this.length===0)return g.alloc(0);for(var M=g.allocUnsafe(q>>>0),U=this.head,V=0;U;)N(U.data,M,V),V+=U.data.length,U=U.next;return M}},{key:"consume",value:function(q,M){var U;return q<this.head.data.length?(U=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):q===this.head.data.length?U=this.shift():U=M?this._getString(q):this._getBuffer(q),U}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var M=this.head,U=1,V=M.data;for(q-=V.length;M=M.next;){var $=M.data,z=q>$.length?$.length:q;if(z===$.length?V+=$:V+=$.slice(0,q),q-=z,q===0){z===$.length?(++U,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=$.slice(z));break}++U}return this.length-=U,V}},{key:"_getBuffer",value:function(q){var M=g.allocUnsafe(q),U=this.head,V=1;for(U.data.copy(M),q-=U.data.length;U=U.next;){var $=U.data,z=q>$.length?$.length:q;if($.copy(M,M.length-q,0,z),q-=z,q===0){z===$.length?(++V,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=$.slice(z));break}++V}return this.length-=V,M}},{key:C,value:function(q,M){return R(this,u(u({},M),{},{depth:0,customInspect:!1}))}}]),D})(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function c(E,v){var p=this,g=this._readableState&&this._readableState.destroyed,w=this._writableState&&this._writableState.destroyed;return g||w?(v?v(E):E&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(O,this,E)):process.nextTick(O,this,E)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(E||null,function(R){!v&&R?p._writableState?p._writableState.errorEmitted?process.nextTick(d,p):(p._writableState.errorEmitted=!0,process.nextTick(u,p,R)):process.nextTick(u,p,R):v?(process.nextTick(d,p),v(R)):process.nextTick(d,p)}),this)}function u(E,v){O(E,v),d(E)}function d(E){E._writableState&&!E._writableState.emitClose||E._readableState&&!E._readableState.emitClose||E.emit("close")}function y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function O(E,v){E.emit("error",v)}function T(E,v){var p=E._readableState,g=E._writableState;p&&p.autoDestroy||g&&g.autoDestroy?E.destroy(v):E.emit("error",v)}return destroy_1={destroy:c,undestroy:y,errorOrDestroy:T},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function c(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var u={};function d(v,p,g){g||(g=Error);function w(C,N,D){return typeof p=="string"?p:p(C,N,D)}var R=(function(C){c(N,C);function N(D,L,q){return C.call(this,w(D,L,q))||this}return N})(g);R.prototype.name=g.name,R.prototype.code=v,u[v]=R}function y(v,p){if(Array.isArray(v)){var g=v.length;return v=v.map(function(w){return String(w)}),g>2?"one of ".concat(p," ").concat(v.slice(0,g-1).join(", "),", or ")+v[g-1]:g===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function O(v,p,g){return v.substr(0,p.length)===p}function T(v,p,g){return(g===void 0||g>v.length)&&(g=v.length),v.substring(g-p.length,g)===p}function E(v,p,g){return typeof g!="number"&&(g=0),g+p.length>v.length?!1:v.indexOf(p,g)!==-1}return d("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(v,p,g){var w;typeof p=="string"&&O(p,"not ")?(w="must not be",p=p.replace(/^not /,"")):w="must be";var R;if(T(v," argument"))R="The ".concat(v," ").concat(w," ").concat(y(p,"type"));else{var C=E(v,".")?"property":"argument";R='The "'.concat(v,'" ').concat(C," ").concat(w," ").concat(y(p,"type"))}return R+=". Received type ".concat(typeof g),R},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=u,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var c=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function u(y,O,T){return y.highWaterMark!=null?y.highWaterMark:O?y[T]:null}function d(y,O,T,E){var v=u(O,E,T);if(v!=null){if(!(isFinite(v)&&Math.floor(v)===v)||v<0){var p=E?T:"highWaterMark";throw new c(p,v)}return Math.floor(v)}return y.objectMode?16:16*1024}return state={getHighWaterMark:d},state}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(u,d){d&&(u.super_=d,u.prototype=Object.create(d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(u,d){if(d){u.super_=d;var y=function(){};y.prototype=d.prototype,u.prototype=new y,u.prototype.constructor=u}}),inherits_browser.exports}var browser$1,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1;hasRequiredBrowser$1=1,browser$1=c;function c(d,y){if(u("noDeprecation"))return d;var O=!1;function T(){if(!O){if(u("throwDeprecation"))throw new Error(y);u("traceDeprecation")?console.trace(y):console.warn(y),O=!0}return d.apply(this,arguments)}return T}function u(d){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var y=commonjsGlobal.localStorage[d];return y==null?!1:String(y).toLowerCase()==="true"}return browser$1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=Y;function c(Oe){var ve=this;this.next=null,this.entry=null,this.finish=function(){Ae(ve,Oe)}}var u;Y.WritableState=W;var d={deprecate:requireBrowser$1()},y=requireStreamBrowser(),O=require$$0$9.Buffer,T=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function E(Oe){return O.from(Oe)}function v(Oe){return O.isBuffer(Oe)||Oe instanceof T}var p=requireDestroy(),g=requireState(),w=g.getHighWaterMark,R=requireErrorsBrowser().codes,C=R.ERR_INVALID_ARG_TYPE,N=R.ERR_METHOD_NOT_IMPLEMENTED,D=R.ERR_MULTIPLE_CALLBACK,L=R.ERR_STREAM_CANNOT_PIPE,q=R.ERR_STREAM_DESTROYED,M=R.ERR_STREAM_NULL_VALUES,U=R.ERR_STREAM_WRITE_AFTER_END,V=R.ERR_UNKNOWN_ENCODING,$=p.errorOrDestroy;requireInherits_browser()(Y,y);function z(){}function W(Oe,ve,Ee){u=u||require_stream_duplex(),Oe=Oe||{},typeof Ee!="boolean"&&(Ee=ve instanceof u),this.objectMode=!!Oe.objectMode,Ee&&(this.objectMode=this.objectMode||!!Oe.writableObjectMode),this.highWaterMark=w(this,Oe,"writableHighWaterMark",Ee),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=Oe.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=Oe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(l){ue(ve,l)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Oe.emitClose!==!1,this.autoDestroy=!!Oe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}W.prototype.getBuffer=function(){for(var ve=this.bufferedRequest,Ee=[];ve;)Ee.push(ve),ve=ve.next;return Ee},(function(){try{Object.defineProperty(W.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ve){return J.call(this,ve)?!0:this!==Y?!1:ve&&ve._writableState instanceof W}})):J=function(ve){return ve instanceof this};function Y(Oe){u=u||require_stream_duplex();var ve=this instanceof u;if(!ve&&!J.call(Y,this))return new Y(Oe);this._writableState=new W(Oe,this,ve),this.writable=!0,Oe&&(typeof Oe.write=="function"&&(this._write=Oe.write),typeof Oe.writev=="function"&&(this._writev=Oe.writev),typeof Oe.destroy=="function"&&(this._destroy=Oe.destroy),typeof Oe.final=="function"&&(this._final=Oe.final)),y.call(this)}Y.prototype.pipe=function(){$(this,new L)};function Q(Oe,ve){var Ee=new U;$(Oe,Ee),process.nextTick(ve,Ee)}function H(Oe,ve,Ee,he){var l;return Ee===null?l=new M:typeof Ee!="string"&&!ve.objectMode&&(l=new C("chunk",["string","Buffer"],Ee)),l?($(Oe,l),process.nextTick(he,l),!1):!0}Y.prototype.write=function(Oe,ve,Ee){var he=this._writableState,l=!1,P=!he.objectMode&&v(Oe);return P&&!O.isBuffer(Oe)&&(Oe=E(Oe)),typeof ve=="function"&&(Ee=ve,ve=null),P?ve="buffer":ve||(ve=he.defaultEncoding),typeof Ee!="function"&&(Ee=z),he.ending?Q(this,Ee):(P||H(this,he,Oe,Ee))&&(he.pendingcb++,l=ne(this,he,P,Oe,ve,Ee)),l},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var Oe=this._writableState;Oe.corked&&(Oe.corked--,!Oe.writing&&!Oe.corked&&!Oe.bufferProcessing&&Oe.bufferedRequest&&ge(this,Oe))},Y.prototype.setDefaultEncoding=function(ve){if(typeof ve=="string"&&(ve=ve.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ve+"").toLowerCase())>-1))throw new V(ve);return this._writableState.defaultEncoding=ve,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function te(Oe,ve,Ee){return!Oe.objectMode&&Oe.decodeStrings!==!1&&typeof ve=="string"&&(ve=O.from(ve,Ee)),ve}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ne(Oe,ve,Ee,he,l,P){if(!Ee){var k=te(ve,he,l);he!==k&&(Ee=!0,l="buffer",he=k)}var K=ve.objectMode?1:he.length;ve.length+=K;var pe=ve.length<ve.highWaterMark;if(pe||(ve.needDrain=!0),ve.writing||ve.corked){var Se=ve.lastBufferedRequest;ve.lastBufferedRequest={chunk:he,encoding:l,isBuf:Ee,callback:P,next:null},Se?Se.next=ve.lastBufferedRequest:ve.bufferedRequest=ve.lastBufferedRequest,ve.bufferedRequestCount+=1}else oe(Oe,ve,!1,K,he,l,P);return pe}function oe(Oe,ve,Ee,he,l,P,k){ve.writelen=he,ve.writecb=k,ve.writing=!0,ve.sync=!0,ve.destroyed?ve.onwrite(new q("write")):Ee?Oe._writev(l,ve.onwrite):Oe._write(l,P,ve.onwrite),ve.sync=!1}function ie(Oe,ve,Ee,he,l){--ve.pendingcb,Ee?(process.nextTick(l,he),process.nextTick(Re,Oe,ve),Oe._writableState.errorEmitted=!0,$(Oe,he)):(l(he),Oe._writableState.errorEmitted=!0,$(Oe,he),Re(Oe,ve))}function ee(Oe){Oe.writing=!1,Oe.writecb=null,Oe.length-=Oe.writelen,Oe.writelen=0}function ue(Oe,ve){var Ee=Oe._writableState,he=Ee.sync,l=Ee.writecb;if(typeof l!="function")throw new D;if(ee(Ee),ve)ie(Oe,Ee,he,ve,l);else{var P=me(Ee)||Oe.destroyed;!P&&!Ee.corked&&!Ee.bufferProcessing&&Ee.bufferedRequest&&ge(Oe,Ee),he?process.nextTick(fe,Oe,Ee,P,l):fe(Oe,Ee,P,l)}}function fe(Oe,ve,Ee,he){Ee||de(Oe,ve),ve.pendingcb--,he(),Re(Oe,ve)}function de(Oe,ve){ve.length===0&&ve.needDrain&&(ve.needDrain=!1,Oe.emit("drain"))}function ge(Oe,ve){ve.bufferProcessing=!0;var Ee=ve.bufferedRequest;if(Oe._writev&&Ee&&Ee.next){var he=ve.bufferedRequestCount,l=new Array(he),P=ve.corkedRequestsFree;P.entry=Ee;for(var k=0,K=!0;Ee;)l[k]=Ee,Ee.isBuf||(K=!1),Ee=Ee.next,k+=1;l.allBuffers=K,oe(Oe,ve,!0,ve.length,l,"",P.finish),ve.pendingcb++,ve.lastBufferedRequest=null,P.next?(ve.corkedRequestsFree=P.next,P.next=null):ve.corkedRequestsFree=new c(ve),ve.bufferedRequestCount=0}else{for(;Ee;){var pe=Ee.chunk,Se=Ee.encoding,ye=Ee.callback,a=ve.objectMode?1:pe.length;if(oe(Oe,ve,!1,a,pe,Se,ye),Ee=Ee.next,ve.bufferedRequestCount--,ve.writing)break}Ee===null&&(ve.lastBufferedRequest=null)}ve.bufferedRequest=Ee,ve.bufferProcessing=!1}Y.prototype._write=function(Oe,ve,Ee){Ee(new N("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(Oe,ve,Ee){var he=this._writableState;return typeof Oe=="function"?(Ee=Oe,Oe=null,ve=null):typeof ve=="function"&&(Ee=ve,ve=null),Oe!=null&&this.write(Oe,ve),he.corked&&(he.corked=1,this.uncork()),he.ending||Te(this,he,Ee),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function me(Oe){return Oe.ending&&Oe.length===0&&Oe.bufferedRequest===null&&!Oe.finished&&!Oe.writing}function _e(Oe,ve){Oe._final(function(Ee){ve.pendingcb--,Ee&&$(Oe,Ee),ve.prefinished=!0,Oe.emit("prefinish"),Re(Oe,ve)})}function we(Oe,ve){!ve.prefinished&&!ve.finalCalled&&(typeof Oe._final=="function"&&!ve.destroyed?(ve.pendingcb++,ve.finalCalled=!0,process.nextTick(_e,Oe,ve)):(ve.prefinished=!0,Oe.emit("prefinish")))}function Re(Oe,ve){var Ee=me(ve);if(Ee&&(we(Oe,ve),ve.pendingcb===0&&(ve.finished=!0,Oe.emit("finish"),ve.autoDestroy))){var he=Oe._readableState;(!he||he.autoDestroy&&he.endEmitted)&&Oe.destroy()}return Ee}function Te(Oe,ve,Ee){ve.ending=!0,Re(Oe,ve),Ee&&(ve.finished?process.nextTick(Ee):Oe.once("finish",Ee)),ve.ended=!0,Oe.writable=!1}function Ae(Oe,ve,Ee){var he=Oe.entry;for(Oe.entry=null;he;){var l=he.callback;ve.pendingcb--,l(Ee),he=he.next}ve.corkedRequestsFree.next=Oe}return Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ve){this._writableState&&(this._writableState.destroyed=ve)}}),Y.prototype.destroy=p.destroy,Y.prototype._undestroy=p.undestroy,Y.prototype._destroy=function(Oe,ve){ve(Oe)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var c=Object.keys||function(g){var w=[];for(var R in g)w.push(R);return w};_stream_duplex=E;var u=require_stream_readable(),d=require_stream_writable();requireInherits_browser()(E,u);for(var y=c(d.prototype),O=0;O<y.length;O++){var T=y[O];E.prototype[T]||(E.prototype[T]=d.prototype[T])}function E(g){if(!(this instanceof E))return new E(g);u.call(this,g),d.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v)))}Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function v(){this._writableState.ended||process.nextTick(p,this)}function p(g){g.end()}return Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(w){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=w,this._writableState.destroyed=w)}}),_stream_duplex}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var c=requireSafeBuffer().Buffer,u=c.isEncoding||function(M){switch(M=""+M,M&&M.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(M){if(!M)return"utf8";for(var U;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(U)return;M=(""+M).toLowerCase(),U=!0}}function y(M){var U=d(M);if(typeof U!="string"&&(c.isEncoding===u||!u(M)))throw new Error("Unknown encoding: "+M);return U||M}string_decoder.StringDecoder=O;function O(M){this.encoding=y(M);var U;switch(this.encoding){case"utf16le":this.text=R,this.end=C,U=4;break;case"utf8":this.fillLast=p,U=4;break;case"base64":this.text=N,this.end=D,U=3;break;default:this.write=L,this.end=q;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(U)}O.prototype.write=function(M){if(M.length===0)return"";var U,V;if(this.lastNeed){if(U=this.fillLast(M),U===void 0)return"";V=this.lastNeed,this.lastNeed=0}else V=0;return V<M.length?U?U+this.text(M,V):this.text(M,V):U||""},O.prototype.end=w,O.prototype.text=g,O.prototype.fillLast=function(M){if(this.lastNeed<=M.length)return M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,M.length),this.lastNeed-=M.length};function T(M){return M<=127?0:M>>5===6?2:M>>4===14?3:M>>3===30?4:M>>6===2?-1:-2}function E(M,U,V){var $=U.length-1;if($<V)return 0;var z=T(U[$]);return z>=0?(z>0&&(M.lastNeed=z-1),z):--$<V||z===-2?0:(z=T(U[$]),z>=0?(z>0&&(M.lastNeed=z-2),z):--$<V||z===-2?0:(z=T(U[$]),z>=0?(z>0&&(z===2?z=0:M.lastNeed=z-3),z):0))}function v(M,U,V){if((U[0]&192)!==128)return M.lastNeed=0,"";if(M.lastNeed>1&&U.length>1){if((U[1]&192)!==128)return M.lastNeed=1,"";if(M.lastNeed>2&&U.length>2&&(U[2]&192)!==128)return M.lastNeed=2,""}}function p(M){var U=this.lastTotal-this.lastNeed,V=v(this,M);if(V!==void 0)return V;if(this.lastNeed<=M.length)return M.copy(this.lastChar,U,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,U,0,M.length),this.lastNeed-=M.length}function g(M,U){var V=E(this,M,U);if(!this.lastNeed)return M.toString("utf8",U);this.lastTotal=V;var $=M.length-(V-this.lastNeed);return M.copy(this.lastChar,0,$),M.toString("utf8",U,$)}function w(M){var U=M&&M.length?this.write(M):"";return this.lastNeed?U+"":U}function R(M,U){if((M.length-U)%2===0){var V=M.toString("utf16le",U);if(V){var $=V.charCodeAt(V.length-1);if($>=55296&&$<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1],V.slice(0,-1)}return V}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=M[M.length-1],M.toString("utf16le",U,M.length-1)}function C(M){var U=M&&M.length?this.write(M):"";if(this.lastNeed){var V=this.lastTotal-this.lastNeed;return U+this.lastChar.toString("utf16le",0,V)}return U}function N(M,U){var V=(M.length-U)%3;return V===0?M.toString("base64",U):(this.lastNeed=3-V,this.lastTotal=3,V===1?this.lastChar[0]=M[M.length-1]:(this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1]),M.toString("base64",U,M.length-V))}function D(M){var U=M&&M.length?this.write(M):"";return this.lastNeed?U+this.lastChar.toString("base64",0,3-this.lastNeed):U}function L(M){return M.toString(this.encoding)}function q(M){return M&&M.length?this.write(M):""}return string_decoder}var endOfStream$1,hasRequiredEndOfStream$1;function requireEndOfStream$1(){if(hasRequiredEndOfStream$1)return endOfStream$1;hasRequiredEndOfStream$1=1;var c=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function u(T){var E=!1;return function(){if(!E){E=!0;for(var v=arguments.length,p=new Array(v),g=0;g<v;g++)p[g]=arguments[g];T.apply(this,p)}}}function d(){}function y(T){return T.setHeader&&typeof T.abort=="function"}function O(T,E,v){if(typeof E=="function")return O(T,null,E);E||(E={}),v=u(v||d);var p=E.readable||E.readable!==!1&&T.readable,g=E.writable||E.writable!==!1&&T.writable,w=function(){T.writable||C()},R=T._writableState&&T._writableState.finished,C=function(){g=!1,R=!0,p||v.call(T)},N=T._readableState&&T._readableState.endEmitted,D=function(){p=!1,N=!0,g||v.call(T)},L=function(V){v.call(T,V)},q=function(){var V;if(p&&!N)return(!T._readableState||!T._readableState.ended)&&(V=new c),v.call(T,V);if(g&&!R)return(!T._writableState||!T._writableState.ended)&&(V=new c),v.call(T,V)},M=function(){T.req.on("finish",C)};return y(T)?(T.on("complete",C),T.on("abort",q),T.req?M():T.on("request",M)):g&&!T._writableState&&(T.on("end",w),T.on("close",w)),T.on("end",D),T.on("finish",C),E.error!==!1&&T.on("error",L),T.on("close",q),function(){T.removeListener("complete",C),T.removeListener("abort",q),T.removeListener("request",M),T.req&&T.req.removeListener("finish",C),T.removeListener("end",w),T.removeListener("close",w),T.removeListener("finish",C),T.removeListener("end",D),T.removeListener("error",L),T.removeListener("close",q)}}return endOfStream$1=O,endOfStream$1}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var c;function u(V,$,z){return $=d($),$ in V?Object.defineProperty(V,$,{value:z,enumerable:!0,configurable:!0,writable:!0}):V[$]=z,V}function d(V){var $=y(V,"string");return typeof $=="symbol"?$:String($)}function y(V,$){if(typeof V!="object"||V===null)return V;var z=V[Symbol.toPrimitive];if(z!==void 0){var W=z.call(V,$);if(typeof W!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(V)}var O=requireEndOfStream$1(),T=Symbol("lastResolve"),E=Symbol("lastReject"),v=Symbol("error"),p=Symbol("ended"),g=Symbol("lastPromise"),w=Symbol("handlePromise"),R=Symbol("stream");function C(V,$){return{value:V,done:$}}function N(V){var $=V[T];if($!==null){var z=V[R].read();z!==null&&(V[g]=null,V[T]=null,V[E]=null,$(C(z,!1)))}}function D(V){process.nextTick(N,V)}function L(V,$){return function(z,W){V.then(function(){if($[p]){z(C(void 0,!0));return}$[w](z,W)},W)}}var q=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((c={get stream(){return this[R]},next:function(){var $=this,z=this[v];if(z!==null)return Promise.reject(z);if(this[p])return Promise.resolve(C(void 0,!0));if(this[R].destroyed)return new Promise(function(Q,H){process.nextTick(function(){$[v]?H($[v]):Q(C(void 0,!0))})});var W=this[g],J;if(W)J=new Promise(L(W,this));else{var Y=this[R].read();if(Y!==null)return Promise.resolve(C(Y,!1));J=new Promise(this[w])}return this[g]=J,J}},u(c,Symbol.asyncIterator,function(){return this}),u(c,"return",function(){var $=this;return new Promise(function(z,W){$[R].destroy(null,function(J){if(J){W(J);return}z(C(void 0,!0))})})}),c),q),U=function($){var z,W=Object.create(M,(z={},u(z,R,{value:$,writable:!0}),u(z,T,{value:null,writable:!0}),u(z,E,{value:null,writable:!0}),u(z,v,{value:null,writable:!0}),u(z,p,{value:$._readableState.endEmitted,writable:!0}),u(z,w,{value:function(Y,Q){var H=W[R].read();H?(W[g]=null,W[T]=null,W[E]=null,Y(C(H,!1))):(W[T]=Y,W[E]=Q)},writable:!0}),z));return W[g]=null,O($,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=W[E];Y!==null&&(W[g]=null,W[T]=null,W[E]=null,Y(J)),W[v]=J;return}var Q=W[T];Q!==null&&(W[g]=null,W[T]=null,W[E]=null,Q(C(void 0,!0))),W[p]=!0}),$.on("readable",D.bind(null,W)),W};return async_iterator=U,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=Q;var c;Q.ReadableState=Y,require$$0$8.EventEmitter;var u=function(k,K){return k.listeners(K).length},d=requireStreamBrowser(),y=require$$0$9.Buffer,O=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function T(P){return y.from(P)}function E(P){return y.isBuffer(P)||P instanceof O}var v=require$$3$2,p;v&&v.debuglog?p=v.debuglog("stream"):p=function(){};var g=requireBuffer_list(),w=requireDestroy(),R=requireState(),C=R.getHighWaterMark,N=requireErrorsBrowser().codes,D=N.ERR_INVALID_ARG_TYPE,L=N.ERR_STREAM_PUSH_AFTER_EOF,q=N.ERR_METHOD_NOT_IMPLEMENTED,M=N.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,U,V,$;requireInherits_browser()(Q,d);var z=w.errorOrDestroy,W=["error","close","destroy","pause","resume"];function J(P,k,K){if(typeof P.prependListener=="function")return P.prependListener(k,K);!P._events||!P._events[k]?P.on(k,K):Array.isArray(P._events[k])?P._events[k].unshift(K):P._events[k]=[K,P._events[k]]}function Y(P,k,K){c=c||require_stream_duplex(),P=P||{},typeof K!="boolean"&&(K=k instanceof c),this.objectMode=!!P.objectMode,K&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=C(this,P,"readableHighWaterMark",K),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(U||(U=requireString_decoder().StringDecoder),this.decoder=new U(P.encoding),this.encoding=P.encoding)}function Q(P){if(c=c||require_stream_duplex(),!(this instanceof Q))return new Q(P);var k=this instanceof c;this._readableState=new Y(P,this,k),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),d.call(this)}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(k){this._readableState&&(this._readableState.destroyed=k)}}),Q.prototype.destroy=w.destroy,Q.prototype._undestroy=w.undestroy,Q.prototype._destroy=function(P,k){k(P)},Q.prototype.push=function(P,k){var K=this._readableState,pe;return K.objectMode?pe=!0:typeof P=="string"&&(k=k||K.defaultEncoding,k!==K.encoding&&(P=y.from(P,k),k=""),pe=!0),H(this,P,k,!1,pe)},Q.prototype.unshift=function(P){return H(this,P,null,!0,!1)};function H(P,k,K,pe,Se){p("readableAddChunk",k);var ye=P._readableState;if(k===null)ye.reading=!1,ue(P,ye);else{var a;if(Se||(a=ne(ye,k)),a)z(P,a);else if(ye.objectMode||k&&k.length>0)if(typeof k!="string"&&!ye.objectMode&&Object.getPrototypeOf(k)!==y.prototype&&(k=T(k)),pe)ye.endEmitted?z(P,new M):te(P,ye,k,!0);else if(ye.ended)z(P,new L);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!K?(k=ye.decoder.write(k),ye.objectMode||k.length!==0?te(P,ye,k,!1):ge(P,ye)):te(P,ye,k,!1)}else pe||(ye.reading=!1,ge(P,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function te(P,k,K,pe){k.flowing&&k.length===0&&!k.sync?(k.awaitDrain=0,P.emit("data",K)):(k.length+=k.objectMode?1:K.length,pe?k.buffer.unshift(K):k.buffer.push(K),k.needReadable&&fe(P)),ge(P,k)}function ne(P,k){var K;return!E(k)&&typeof k!="string"&&k!==void 0&&!P.objectMode&&(K=new D("chunk",["string","Buffer","Uint8Array"],k)),K}Q.prototype.isPaused=function(){return this._readableState.flowing===!1},Q.prototype.setEncoding=function(P){U||(U=requireString_decoder().StringDecoder);var k=new U(P);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,pe="";K!==null;)pe+=k.write(K.data),K=K.next;return this._readableState.buffer.clear(),pe!==""&&this._readableState.buffer.push(pe),this._readableState.length=pe.length,this};var oe=1073741824;function ie(P){return P>=oe?P=oe:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function ee(P,k){return P<=0||k.length===0&&k.ended?0:k.objectMode?1:P!==P?k.flowing&&k.length?k.buffer.head.data.length:k.length:(P>k.highWaterMark&&(k.highWaterMark=ie(P)),P<=k.length?P:k.ended?k.length:(k.needReadable=!0,0))}Q.prototype.read=function(P){p("read",P),P=parseInt(P,10);var k=this._readableState,K=P;if(P!==0&&(k.emittedReadable=!1),P===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return p("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?Ee(this):fe(this),null;if(P=ee(P,k),P===0&&k.ended)return k.length===0&&Ee(this),null;var pe=k.needReadable;p("need readable",pe),(k.length===0||k.length-P<k.highWaterMark)&&(pe=!0,p("length less than watermark",pe)),k.ended||k.reading?(pe=!1,p("reading or ended",pe)):pe&&(p("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(P=ee(K,k)));var Se;return P>0?Se=ve(P,k):Se=null,Se===null?(k.needReadable=k.length<=k.highWaterMark,P=0):(k.length-=P,k.awaitDrain=0),k.length===0&&(k.ended||(k.needReadable=!0),K!==P&&k.ended&&Ee(this)),Se!==null&&this.emit("data",Se),Se};function ue(P,k){if(p("onEofChunk"),!k.ended){if(k.decoder){var K=k.decoder.end();K&&K.length&&(k.buffer.push(K),k.length+=k.objectMode?1:K.length)}k.ended=!0,k.sync?fe(P):(k.needReadable=!1,k.emittedReadable||(k.emittedReadable=!0,de(P)))}}function fe(P){var k=P._readableState;p("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(p("emitReadable",k.flowing),k.emittedReadable=!0,process.nextTick(de,P))}function de(P){var k=P._readableState;p("emitReadable_",k.destroyed,k.length,k.ended),!k.destroyed&&(k.length||k.ended)&&(P.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,Oe(P)}function ge(P,k){k.readingMore||(k.readingMore=!0,process.nextTick(me,P,k))}function me(P,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){var K=k.length;if(p("maybeReadMore read 0"),P.read(0),K===k.length)break}k.readingMore=!1}Q.prototype._read=function(P){z(this,new q("_read()"))},Q.prototype.pipe=function(P,k){var K=this,pe=this._readableState;switch(pe.pipesCount){case 0:pe.pipes=P;break;case 1:pe.pipes=[pe.pipes,P];break;default:pe.pipes.push(P);break}pe.pipesCount+=1,p("pipe count=%d opts=%j",pe.pipesCount,k);var Se=(!k||k.end!==!1)&&P!==process.stdout&&P!==process.stderr,ye=Se?j:He;pe.endEmitted?process.nextTick(ye):K.once("end",ye),P.on("unpipe",a);function a(Ve,Ke){p("onunpipe"),Ve===K&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,I())}function j(){p("onend"),P.end()}var G=_e(K);P.on("drain",G);var o=!1;function I(){p("cleanup"),P.removeListener("close",Ce),P.removeListener("finish",Ue),P.removeListener("drain",G),P.removeListener("error",ae),P.removeListener("unpipe",a),K.removeListener("end",j),K.removeListener("end",He),K.removeListener("data",B),o=!0,pe.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&G()}K.on("data",B);function B(Ve){p("ondata");var Ke=P.write(Ve);p("dest.write",Ke),Ke===!1&&((pe.pipesCount===1&&pe.pipes===P||pe.pipesCount>1&&l(pe.pipes,P)!==-1)&&!o&&(p("false write response, pause",pe.awaitDrain),pe.awaitDrain++),K.pause())}function ae(Ve){p("onerror",Ve),He(),P.removeListener("error",ae),u(P,"error")===0&&z(P,Ve)}J(P,"error",ae);function Ce(){P.removeListener("finish",Ue),He()}P.once("close",Ce);function Ue(){p("onfinish"),P.removeListener("close",Ce),He()}P.once("finish",Ue);function He(){p("unpipe"),K.unpipe(P)}return P.emit("pipe",K),pe.flowing||(p("pipe resume"),K.resume()),P};function _e(P){return function(){var K=P._readableState;p("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&u(P,"data")&&(K.flowing=!0,Oe(P))}}Q.prototype.unpipe=function(P){var k=this._readableState,K={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return P&&P!==k.pipes?this:(P||(P=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,P&&P.emit("unpipe",this,K),this);if(!P){var pe=k.pipes,Se=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var ye=0;ye<Se;ye++)pe[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var a=l(k.pipes,P);return a===-1?this:(k.pipes.splice(a,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),P.emit("unpipe",this,K),this)},Q.prototype.on=function(P,k){var K=d.prototype.on.call(this,P,k),pe=this._readableState;return P==="data"?(pe.readableListening=this.listenerCount("readable")>0,pe.flowing!==!1&&this.resume()):P==="readable"&&!pe.endEmitted&&!pe.readableListening&&(pe.readableListening=pe.needReadable=!0,pe.flowing=!1,pe.emittedReadable=!1,p("on readable",pe.length,pe.reading),pe.length?fe(this):pe.reading||process.nextTick(Re,this)),K},Q.prototype.addListener=Q.prototype.on,Q.prototype.removeListener=function(P,k){var K=d.prototype.removeListener.call(this,P,k);return P==="readable"&&process.nextTick(we,this),K},Q.prototype.removeAllListeners=function(P){var k=d.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&process.nextTick(we,this),k};function we(P){var k=P._readableState;k.readableListening=P.listenerCount("readable")>0,k.resumeScheduled&&!k.paused?k.flowing=!0:P.listenerCount("data")>0&&P.resume()}function Re(P){p("readable nexttick read 0"),P.read(0)}Q.prototype.resume=function(){var P=this._readableState;return P.flowing||(p("resume"),P.flowing=!P.readableListening,Te(this,P)),P.paused=!1,this};function Te(P,k){k.resumeScheduled||(k.resumeScheduled=!0,process.nextTick(Ae,P,k))}function Ae(P,k){p("resume",k.reading),k.reading||P.read(0),k.resumeScheduled=!1,P.emit("resume"),Oe(P),k.flowing&&!k.reading&&P.read(0)}Q.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Oe(P){var k=P._readableState;for(p("flow",k.flowing);k.flowing&&P.read()!==null;);}Q.prototype.wrap=function(P){var k=this,K=this._readableState,pe=!1;P.on("end",function(){if(p("wrapped end"),K.decoder&&!K.ended){var a=K.decoder.end();a&&a.length&&k.push(a)}k.push(null)}),P.on("data",function(a){if(p("wrapped data"),K.decoder&&(a=K.decoder.write(a)),!(K.objectMode&&a==null)&&!(!K.objectMode&&(!a||!a.length))){var j=k.push(a);j||(pe=!0,P.pause())}});for(var Se in P)this[Se]===void 0&&typeof P[Se]=="function"&&(this[Se]=(function(j){return function(){return P[j].apply(P,arguments)}})(Se));for(var ye=0;ye<W.length;ye++)P.on(W[ye],this.emit.bind(this,W[ye]));return this._read=function(a){p("wrapped _read",a),pe&&(pe=!1,P.resume())},this},typeof Symbol=="function"&&(Q.prototype[Symbol.asyncIterator]=function(){return V===void 0&&(V=requireAsync_iterator()),V(this)}),Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}}),Q._fromList=ve,Object.defineProperty(Q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ve(P,k){if(k.length===0)return null;var K;return k.objectMode?K=k.buffer.shift():!P||P>=k.length?(k.decoder?K=k.buffer.join(""):k.buffer.length===1?K=k.buffer.first():K=k.buffer.concat(k.length),k.buffer.clear()):K=k.buffer.consume(P,k.decoder),K}function Ee(P){var k=P._readableState;p("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,process.nextTick(he,k,P))}function he(P,k){if(p("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,k.readable=!1,k.emit("end"),P.autoDestroy)){var K=k._writableState;(!K||K.autoDestroy&&K.finished)&&k.destroy()}}typeof Symbol=="function"&&(Q.from=function(P,k){return $===void 0&&($=requireFromBrowser()),$(Q,P,k)});function l(P,k){for(var K=0,pe=P.length;K<pe;K++)if(P[K]===k)return K;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=v;var c=requireErrorsBrowser().codes,u=c.ERR_METHOD_NOT_IMPLEMENTED,d=c.ERR_MULTIPLE_CALLBACK,y=c.ERR_TRANSFORM_ALREADY_TRANSFORMING,O=c.ERR_TRANSFORM_WITH_LENGTH_0,T=require_stream_duplex();requireInherits_browser()(v,T);function E(w,R){var C=this._transformState;C.transforming=!1;var N=C.writecb;if(N===null)return this.emit("error",new d);C.writechunk=null,C.writecb=null,R!=null&&this.push(R),N(w);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function v(w){if(!(this instanceof v))return new v(w);T.call(this,w),this._transformState={afterTransform:E.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,w&&(typeof w.transform=="function"&&(this._transform=w.transform),typeof w.flush=="function"&&(this._flush=w.flush)),this.on("prefinish",p)}function p(){var w=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(R,C){g(w,R,C)}):g(this,null,null)}v.prototype.push=function(w,R){return this._transformState.needTransform=!1,T.prototype.push.call(this,w,R)},v.prototype._transform=function(w,R,C){C(new u("_transform()"))},v.prototype._write=function(w,R,C){var N=this._transformState;if(N.writecb=C,N.writechunk=w,N.writeencoding=R,!N.transforming){var D=this._readableState;(N.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},v.prototype._read=function(w){var R=this._transformState;R.writechunk!==null&&!R.transforming?(R.transforming=!0,this._transform(R.writechunk,R.writeencoding,R.afterTransform)):R.needTransform=!0},v.prototype._destroy=function(w,R){T.prototype._destroy.call(this,w,function(C){R(C)})};function g(w,R,C){if(R)return w.emit("error",R);if(C!=null&&w.push(C),w._writableState.length)throw new O;if(w._transformState.transforming)throw new y;return w.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=u;var c=require_stream_transform();requireInherits_browser()(u,c);function u(d){if(!(this instanceof u))return new u(d);c.call(this,d)}return u.prototype._transform=function(d,y,O){O(null,d)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var c;function u(C){var N=!1;return function(){N||(N=!0,C.apply(void 0,arguments))}}var d=requireErrorsBrowser().codes,y=d.ERR_MISSING_ARGS,O=d.ERR_STREAM_DESTROYED;function T(C){if(C)throw C}function E(C){return C.setHeader&&typeof C.abort=="function"}function v(C,N,D,L){L=u(L);var q=!1;C.on("close",function(){q=!0}),c===void 0&&(c=requireEndOfStream$1()),c(C,{readable:N,writable:D},function(U){if(U)return L(U);q=!0,L()});var M=!1;return function(U){if(!q&&!M){if(M=!0,E(C))return C.abort();if(typeof C.destroy=="function")return C.destroy();L(U||new O("pipe"))}}}function p(C){C()}function g(C,N){return C.pipe(N)}function w(C){return!C.length||typeof C[C.length-1]!="function"?T:C.pop()}function R(){for(var C=arguments.length,N=new Array(C),D=0;D<C;D++)N[D]=arguments[D];var L=w(N);if(Array.isArray(N[0])&&(N=N[0]),N.length<2)throw new y("streams");var q,M=N.map(function(U,V){var $=V<N.length-1,z=V>0;return v(U,$,z,function(W){q||(q=W),W&&M.forEach(p),!$&&(M.forEach(p),L(q))})});return N.reduce(g)}return pipeline_1=R,pipeline_1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,(function(c,u){u=c.exports=require_stream_readable(),u.Stream=u,u.Readable=u,u.Writable=require_stream_writable(),u.Duplex=require_stream_duplex(),u.Transform=require_stream_transform(),u.PassThrough=require_stream_passthrough(),u.finished=requireEndOfStream$1(),u.pipeline=requirePipeline()})(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var once={exports:{}},wrappy_1,hasRequiredWrappy;function requireWrappy(){if(hasRequiredWrappy)return wrappy_1;hasRequiredWrappy=1,wrappy_1=c;function c(u,d){if(u&&d)return c(u)(d);if(typeof u!="function")throw new TypeError("need wrapper function");return Object.keys(u).forEach(function(O){y[O]=u[O]}),y;function y(){for(var O=new Array(arguments.length),T=0;T<O.length;T++)O[T]=arguments[T];var E=u.apply(this,O),v=O[O.length-1];return typeof E=="function"&&E!==v&&Object.keys(v).forEach(function(p){E[p]=v[p]}),E}}return wrappy_1}var hasRequiredOnce;function requireOnce(){if(hasRequiredOnce)return once.exports;hasRequiredOnce=1;var c=requireWrappy();once.exports=c(u),once.exports.strict=c(d),u.proto=u(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return u(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return d(this)},configurable:!0})});function u(y){var O=function(){return O.called?O.value:(O.called=!0,O.value=y.apply(this,arguments))};return O.called=!1,O}function d(y){var O=function(){if(O.called)throw new Error(O.onceError);return O.called=!0,O.value=y.apply(this,arguments)},T=y.name||"Function wrapped with `once`";return O.onceError=T+" shouldn't be called more than once",O.called=!1,O}return once.exports}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var c=requireOnce(),u=function(){},d=commonjsGlobal.Bare?queueMicrotask:process.nextTick.bind(process),y=function(E){return E.setHeader&&typeof E.abort=="function"},O=function(E){return E.stdio&&Array.isArray(E.stdio)&&E.stdio.length===3},T=function(E,v,p){if(typeof v=="function")return T(E,null,v);v||(v={}),p=c(p||u);var g=E._writableState,w=E._readableState,R=v.readable||v.readable!==!1&&E.readable,C=v.writable||v.writable!==!1&&E.writable,N=!1,D=function(){E.writable||L()},L=function(){C=!1,R||p.call(E)},q=function(){R=!1,C||p.call(E)},M=function(W){p.call(E,W?new Error("exited with error code: "+W):null)},U=function(W){p.call(E,W)},V=function(){d($)},$=function(){if(!N){if(R&&!(w&&w.ended&&!w.destroyed))return p.call(E,new Error("premature close"));if(C&&!(g&&g.ended&&!g.destroyed))return p.call(E,new Error("premature close"))}},z=function(){E.req.on("finish",L)};return y(E)?(E.on("complete",L),E.on("abort",V),E.req?z():E.on("request",z)):C&&!g&&(E.on("end",D),E.on("close",D)),O(E)&&E.on("exit",M),E.on("end",q),E.on("finish",L),v.error!==!1&&E.on("error",U),E.on("close",V),function(){N=!0,E.removeListener("complete",L),E.removeListener("abort",V),E.removeListener("request",z),E.req&&E.req.removeListener("finish",L),E.removeListener("end",D),E.removeListener("close",D),E.removeListener("finish",L),E.removeListener("exit",M),E.removeListener("end",q),E.removeListener("error",U),E.removeListener("close",V)}};return endOfStream=T,endOfStream}var streamShift,hasRequiredStreamShift;function requireStreamShift(){if(hasRequiredStreamShift)return streamShift;hasRequiredStreamShift=1,streamShift=c;function c(d){var y=d._readableState;return y?y.objectMode||typeof d._duplexState=="number"?d.read():d.read(u(y)):null}function u(d){if(d.buffer.length){var y=d.bufferIndex||0;if(d.buffer.head)return d.buffer.head.data.length;if(d.buffer.length-y>0&&d.buffer[y])return d.buffer[y].length}return d.length}return streamShift}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;var c=requireReadableBrowser(),u=requireEndOfStream(),d=requireInherits_browser(),y=requireStreamShift(),O=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),T=function(C,N){C._corked?C.once("uncork",N):N()},E=function(C,N){C._autoDestroy&&C.destroy(N)},v=function(C,N){return function(D){D?E(C,D.message==="premature close"?null:D):N&&!C._ended&&C.end()}},p=function(C,N){if(!C||C._writableState&&C._writableState.finished)return N();if(C._writableState)return C.end(N);C.end(),N()},g=function(){},w=function(C){return new c.Readable({objectMode:!0,highWaterMark:16}).wrap(C)},R=function(C,N,D){if(!(this instanceof R))return new R(C,N,D);c.Duplex.call(this,D),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!D||D.autoDestroy!==!1,this._forwardDestroy=!D||D.destroy!==!1,this._forwardEnd=!D||D.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,C&&this.setWritable(C),N&&this.setReadable(N)};return d(R,c.Duplex),R.obj=function(C,N,D){return D||(D={}),D.objectMode=!0,D.highWaterMark=16,new R(C,N,D)},R.prototype.cork=function(){++this._corked===1&&this.emit("cork")},R.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},R.prototype.setWritable=function(C){if(this._unwrite&&this._unwrite(),this.destroyed){C&&C.destroy&&C.destroy();return}if(C===null||C===!1){this.end();return}var N=this,D=u(C,{writable:!0,readable:!1},v(this,this._forwardEnd)),L=function(){var M=N._ondrain;N._ondrain=null,M&&M()},q=function(){N._writable.removeListener("drain",L),D()};this._unwrite&&process.nextTick(L),this._writable=C,this._writable.on("drain",L),this._unwrite=q,this.uncork()},R.prototype.setReadable=function(C){if(this._unread&&this._unread(),this.destroyed){C&&C.destroy&&C.destroy();return}if(C===null||C===!1){this.push(null),this.resume();return}var N=this,D=u(C,{writable:!1,readable:!0},v(this)),L=function(){N._forward()},q=function(){N.push(null)},M=function(){N._readable2.removeListener("readable",L),N._readable2.removeListener("end",q),D()};this._drained=!0,this._readable=C,this._readable2=C._readableState?C:w(C),this._readable2.on("readable",L),this._readable2.on("end",q),this._unread=M,this._forward()},R.prototype._read=function(){this._drained=!0,this._forward()},R.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var C;this._drained&&(C=y(this._readable2))!==null;)this.destroyed||(this._drained=this.push(C));this._forwarding=!1}},R.prototype.destroy=function(C,N){if(N||(N=g),this.destroyed)return N(null);this.destroyed=!0;var D=this;process.nextTick(function(){D._destroy(C),N(null)})},R.prototype._destroy=function(C){if(C){var N=this._ondrain;this._ondrain=null,N?N(C):this.emit("error",C)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},R.prototype._write=function(C,N,D){if(!this.destroyed){if(this._corked)return T(this,this._write.bind(this,C,N,D));if(C===O)return this._finish(D);if(!this._writable)return D();this._writable.write(C)===!1?this._ondrain=D:this.destroyed||D()}},R.prototype._finish=function(C){var N=this;this.emit("preend"),T(this,function(){p(N._forwardEnd&&N._writable,function(){N._writableState.prefinished===!1&&(N._writableState.prefinished=!0),N.emit("prefinish"),T(N,C)})})},R.prototype.end=function(C,N,D){return typeof C=="function"?this.end(null,null,C):typeof N=="function"?this.end(C,null,N):(this._ended=!0,C&&this.write(C),!this._writableState.ending&&!this._writableState.destroyed&&this.write(O),c.Writable.prototype.end.call(this,D))},duplexify=R,duplexify}var retryRequest={exports:{}},hasRequiredRetryRequest;function requireRetryRequest(){if(hasRequiredRetryRequest)return retryRequest.exports;hasRequiredRetryRequest=1;var c={};const{PassThrough:u}=require$$0$6,d=requireExtend();let y=()=>{};typeof process<"u"&&"env"in process&&typeof c=="object"&&c.DEBUG==="retry-request"&&(y=v=>{console.log("retry-request:",v)});const O={objectMode:!1,retries:2,maxRetryDelay:64,retryDelayMultiplier:2,totalTimeout:600,noResponseRetries:2,currentRetryAttempt:0,shouldRetryFn:function(v){const p=[[100,199],[429,429],[500,599]],g=v.statusCode;y(`Response status: ${g}`);let w;for(;w=p.shift();)if(g>=w[0]&&g<=w[1])return!0}};function T(v,p,g){typeof v=="string"&&(v={url:v});const w=typeof arguments[arguments.length-1]!="function";typeof p=="function"&&(g=p);const R=p&&typeof p.currentRetryAttempt=="number";if(p=d({},O,p),typeof p.request>"u")throw new Error("A request library must be provided to retry-request.");let C=p.currentRetryAttempt,N=0,D=!1,L,q,M,U;const V={abort:function(){U&&U.abort&&U.abort()}};w&&(L=new u({objectMode:p.objectMode}),L.abort=z);const $=Date.now();if(C>0?J(C):W(),w)return L;return V;function z(){M=null,q&&(q.abort&&q.abort(),q.cancel&&q.cancel(),q.destroy?q.destroy():q.end&&q.end())}function W(){let Q=!1;C++,y(`Current retry attempt: ${C}`);function H(te=[]){Q||(Q=!0,L.emit("complete",...te))}w?(D=!1,M=new u({objectMode:p.objectMode}),q=p.request(v),setImmediate(()=>{L.emit("request")}),q.on("error",te=>{D||(D=!0,Y(te))}).on("response",(te,ne)=>{D||(D=!0,Y(null,te,ne))}).on("complete",(...te)=>H(te)).on("finish",(...te)=>H(te)),q.pipe(M)):U=p.request(v,Y)}function J(Q){w&&z();const H=E({maxRetryDelay:p.maxRetryDelay,retryDelayMultiplier:p.retryDelayMultiplier,retryNumber:Q,timeOfFirstRequest:$,totalTimeout:p.totalTimeout});if(y(`Next retry delay: ${H}`),H<=0){N=p.noResponseRetries+1;return}setTimeout(W,H)}function Y(Q,H,te){if(Q){N++,N<=p.noResponseRetries?J(N):w?(L.emit("error",Q),L.end()):g(Q,H,te);return}if((R?C:C-1)<p.retries&&p.shouldRetryFn(H)){J(C);return}w?(L.emit("response",H),M.pipe(L),q.on("error",oe=>{L.destroy(oe)})):g(Q,H,te)}}retryRequest.exports=T;function E(v){const{maxRetryDelay:p,retryDelayMultiplier:g,retryNumber:w,timeOfFirstRequest:R,totalTimeout:C}=v,N=p*1e3,D=C*1e3,L=Math.floor(Math.random()*1e3),q=Math.pow(g,w)*1e3+L,M=D-(Date.now()-R);return Math.min(q,M,N)}return retryRequest.exports.defaults=O,retryRequest.exports.getNextRetryDelay=E,retryRequest.exports}var hasRequiredStreaming;function requireStreaming(){if(hasRequiredStreaming)return streaming;hasRequiredStreaming=1,Object.defineProperty(streaming,"__esModule",{value:!0}),streaming.StreamProxy=streaming.StreamType=void 0;const c=requireGax(),u=requireGoogleError(),d=requireStatus(),y=require$$0$6,O=requireDuplexify(),T=requireRetryRequest();var E;(function(g){g[g.SERVER_STREAMING=1]="SERVER_STREAMING",g[g.CLIENT_STREAMING=2]="CLIENT_STREAMING",g[g.BIDI_STREAMING=3]="BIDI_STREAMING"})(E||(streaming.StreamType=E={}));const v=null;class p extends O{constructor(R,C,N,D){super(void 0,void 0,{objectMode:!0,readable:R!==E.CLIENT_STREAMING,writable:R!==E.SERVER_STREAMING});ce(this,"type");ce(this,"_callback");ce(this,"_isCancelCalled");ce(this,"stream");ce(this,"_responseHasSent");ce(this,"rest");ce(this,"gaxServerStreamingRetries");ce(this,"apiCall");ce(this,"argument");this.type=R,this._callback=C,this._isCancelCalled=!1,this._responseHasSent=!1,this.rest=N,this.gaxServerStreamingRetries=D}shouldRetryRequest(R,C){const N=u.GoogleError.parseGRPCStatusDetails(R);let D=this.defaultShouldRetry(N,C);return C.shouldRetryFn&&(D=C.shouldRetryFn(N)),D}cancel(){this.stream?this.stream.cancel():this._isCancelCalled=!0}throwIfMaxRetriesOrTotalTimeoutExceeded(R,C,N,D,L,q){const U=new Date().getTime();if(L&&(N===0||N<0||R&&U>=R)){const V=new u.GoogleError(`Total timeout of API exceeded ${L} milliseconds ${D?`retrying error ${D} `:""} before any response was received.`);throw V.code=d.Status.DEADLINE_EXCEEDED,V}if(C===0){const V=D;throw V.note="Max retries is set to zero.",V}if(q&&q>=C){const V=new u.GoogleError("Exceeded maximum number of retries "+(D?`retrying error ${D} `:"")+"before any response was received");throw V.code=d.Status.DEADLINE_EXCEEDED,V}}eventForwardHelper(R){["metadata","response","status"].forEach(N=>{R.on(N,this.emit.bind(this,N))})}statusMetadataHelper(R){R.on("status",()=>{this._responseHasSent||R.emit("response",{code:200,details:"",message:"OK"})}),R.on("metadata",C=>{R.emit("response",{code:200,details:"",message:"OK",metadata:C}),this._responseHasSent=!0})}forwardEvents(R){this.eventForwardHelper(R),this.statusMetadataHelper(R),R.on("error",C=>{u.GoogleError.parseGRPCStatusDetails(C)})}defaultShouldRetry(R,C){return!(C.retryCodes.length>0&&C.retryCodes.indexOf(R.code)<0||C.retryCodes.length===0)}setStream(R,C,N={},D){if(this.apiCall=R,this.argument=C,this.type===E.SERVER_STREAMING){if(this.rest){const q=R(C,this._callback);this.stream=q,this.setReadable(q)}else if(this.gaxServerStreamingRetries){const q=()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}return R(C,this._callback)},M=this.newStreamingRetryRequest({request:q,retry:D});this.stream=M,this.eventForwardHelper(M),this.setReadable(M)}else{const q=T(null,{objectMode:!0,request:()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}const M=R(C,this._callback);return this.stream=M,this.forwardEvents(M),M},retries:N.retries,currentRetryAttempt:N.currentRetryAttempt,noResponseRetries:N.noResponseRetries,shouldRetryFn:N.shouldRetryFn});this.setReadable(q)}return}const L=R(C,this._callback);this.stream=L,this.forwardEvents(L),this.type===E.CLIENT_STREAMING&&this.setWritable(L),this.type===E.BIDI_STREAMING&&(this.setReadable(L),this.setWritable(L)),this._isCancelCalled&&this.stream&&this.stream.cancel()}newStreamingRetryRequest(R){const C=R.retry??{retryCodes:[],backoffSettings:(0,c.createDefaultBackoffSettings)()};let N=0;const D=new y.PassThrough({objectMode:!0}),L=C.backoffSettings.totalTimeoutMillis??void 0,q=C.backoffSettings.maxRetries??void 0;let M=C.backoffSettings.initialRpcTimeoutMillis??void 0,U=new Date,V=0;L&&(V=U.getTime()+L);const $=(W,J)=>{const Y=u.GoogleError.parseGRPCStatusDetails(W);return Y.note="Exception occurred in retry method that was not classified as transient",J.destroy(),D.destroy(Y),D},z=W=>{let J=!1,Y=!1,Q=!1;const H=W.request(v);return D.cancel=H.cancel,["metadata","response","status"].forEach(ne=>{H.on(ne,D.emit.bind(D,ne))}),this.statusMetadataHelper(H),H.on("data",ne=>{N=0,this.emit.bind(this,"data")(ne)}),H.on("status",()=>(Y=!0,J&&D.end(),D)),H.on("end",()=>(Q||(J=!0,Y&&D.end()),D)),H.on("error",ne=>{if(Q=!0,typeof q!==void 0||typeof L!==void 0)if(this.shouldRetryRequest(ne,C))if(q&&L){const oe=new u.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");return oe.code=d.Status.INVALID_ARGUMENT,H.destroy(),D.destroy(oe),D}else{try{this.throwIfMaxRetriesOrTotalTimeoutExceeded(V,q,M,ne,L,N)}catch(me){const _e=u.GoogleError.parseGRPCStatusDetails(me);return H.destroy(),D.destroy(_e),D}const oe=C.backoffSettings.retryDelayMultiplier,ie=C.backoffSettings.maxRetryDelayMillis,ee=C.backoffSettings.rpcTimeoutMultiplier,ue=C.backoffSettings.maxRpcTimeoutMillis;let fe=C.backoffSettings.initialRetryDelayMillis;const de=Math.random()*fe;return(()=>{setTimeout(()=>{if(M){U=new Date,fe=Math.min(fe*oe,ie);const we=M&&ee?M*ee:0,Re=ue||0,Te=V?V-U.getTime():0;M=Math.min(we,Re,Te)}N++;let me=this.argument;C.getResumptionRequestFn!==void 0&&(me=C.getResumptionRequestFn(me));const _e=()=>{if(this._isCancelCalled){this.stream&&this.stream.cancel();return}return this.apiCall(me,this._callback)};return R.request=_e,z(R)},de)})()}else return $(ne,H);else return $(ne,H)}),D};return z(R)}}return streaming.StreamProxy=p,streaming}var hasRequiredStreamingApiCaller;function requireStreamingApiCaller(){if(hasRequiredStreamingApiCaller)return streamingApiCaller;hasRequiredStreamingApiCaller=1,Object.defineProperty(streamingApiCaller,"__esModule",{value:!0}),streamingApiCaller.StreamingApiCaller=void 0;const c=requireWarnings(),u=requireStreaming();class d{constructor(O){ce(this,"descriptor");this.descriptor=O}init(O){return new u.StreamProxy(this.descriptor.type,O,this.descriptor.rest,this.descriptor.gaxStreamingRetries)}wrap(O){switch(this.descriptor.type){case u.StreamType.SERVER_STREAMING:return(T,E,v)=>O(T,E,v);case u.StreamType.CLIENT_STREAMING:return(T,E,v,p)=>O(E,v,p);case u.StreamType.BIDI_STREAMING:return(T,E,v)=>O(E,v);default:(0,c.warn)("streaming_wrap_unknown_stream_type",`Unknown stream type: ${this.descriptor.type}`)}return O}call(O,T,E,v){v.setStream(O,T,E.retryRequestOptions,E.retry)}fail(O,T){O.emit("error",T)}result(O){return O}}return streamingApiCaller.StreamingApiCaller=d,streamingApiCaller}var hasRequiredCreateApiCall;function requireCreateApiCall(){if(hasRequiredCreateApiCall)return createApiCall;hasRequiredCreateApiCall=1,Object.defineProperty(createApiCall,"__esModule",{value:!0}),createApiCall.createApiCall=E;const c=requireApiCaller(),u=requireGax(),d=requireRetries(),y=requireTimeout(),O=requireStreamingApiCaller(),T=requireWarnings();function E(v,p,g,w){const R=typeof v=="function"?Promise.resolve(v):v,C=(0,c.createAPICaller)(p,g);return(N,D,L)=>{var V;let q=C,M;if(q instanceof O.StreamingApiCaller){const $=((V=q.descriptor)==null?void 0:V.gaxStreamingRetries)??!1,z=(0,u.convertRetryOptions)(D,$);M=p.merge(z)}else M=p.merge(D);p.isBundling&&!M.isBundling&&(q=(0,c.createAPICaller)(p,void 0));const U=q.init(L);return R.then($=>{var J,Y;$=q.wrap($);const z=(J=q.descriptor)==null?void 0:J.streaming,W=M.retry;if(z&&W&&(W.retryCodes.length>0&&W.shouldRetryFn&&((0,T.warn)("either_retrycodes_or_shouldretryfn","Only one of retryCodes or shouldRetryFn may be defined. Ignoring retryCodes."),W.retryCodes=[]),!q.descriptor.gaxStreamingRetries&&W.getResumptionRequestFn))throw new Error("getResumptionRequestFn can only be used when gaxStreamingRetries is set to true.");if(!z&&W){if(W.shouldRetryFn)throw new Error("Using a function to determine retry eligibility is only supported with server streaming calls");if(W.getResumptionRequestFn)throw new Error("Resumption strategy can only be used with server streaming retries");if(W.retryCodes&&W.retryCodes.length>0)return(Y=W.backoffSettings).initialRpcTimeoutMillis??(Y.initialRpcTimeoutMillis=M.timeout),(0,d.retryable)($,M.retry,M.otherArgs,M.apiName)}return(0,y.addTimeoutArg)($,M.timeout,M.otherArgs)}).then($=>{q.call($,N,M,U)}).catch($=>{q.fail(U,$)}),q.result(U)}}return createApiCall}var descriptor$1={},longRunningDescriptor={},longRunningApiCaller={},longrunning={},operations={exports:{}},minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var hasRequiredOperations;function requireOperations(){return hasRequiredOperations||(hasRequiredOperations=1,(function(c){(u=>{typeof commonjsRequire=="function"&&c&&c.exports&&(c.exports=u(requireMinimal()))})(function(u){var d,y,O,T,E=u.Reader,v=u.Writer,p=u.util,g=u.roots.operations_protos||(u.roots.operations_protos={});function w(a,j,G){u.rpc.Service.call(this,a,j,G)}function R(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function C(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function N(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function D(a){if(this.operations=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function L(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function q(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function M(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function U(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function V(a){if(this.rules=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function $(a){if(this.additionalBindings=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function z(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function W(a){if(this.file=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function J(a){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function Y(a){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function Q(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function H(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function te(a){if(this.uninterpretedOption=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function ne(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function oe(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function ie(a){if(this.value=[],this.reservedRange=[],this.reservedName=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function ee(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function ue(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function fe(a){if(this.method=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function de(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function ge(a){if(this.uninterpretedOption=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function me(a){if(this.uninterpretedOption=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function _e(a){if(this.uninterpretedOption=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function we(a){if(this.uninterpretedOption=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function Re(a){if(this.uninterpretedOption=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function Te(a){if(this.uninterpretedOption=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function Ae(a){if(this.uninterpretedOption=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function Oe(a){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function ve(a){if(this.name=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function Ee(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function he(a){if(this.location=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function l(a){if(this.path=[],this.span=[],this.leadingDetachedComments=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function P(a){if(this.annotation=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function k(a){if(this.path=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function K(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function pe(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function Se(a){if(a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}function ye(a){if(this.details=[],a)for(var j=Object.keys(a),G=0;G<j.length;++G)a[j[G]]!=null&&(this[j[G]]=a[j[G]])}return g.google=((T={}).longrunning=((y={}).Operations=(((w.prototype=Object.create(u.rpc.Service.prototype)).constructor=w).create=function(a,j,G){return new this(a,j,G)},Object.defineProperty(w.prototype.listOperations=function a(j,G){return this.rpcCall(a,g.google.longrunning.ListOperationsRequest,g.google.longrunning.ListOperationsResponse,j,G)},"name",{value:"ListOperations"}),Object.defineProperty(w.prototype.getOperation=function a(j,G){return this.rpcCall(a,g.google.longrunning.GetOperationRequest,g.google.longrunning.Operation,j,G)},"name",{value:"GetOperation"}),Object.defineProperty(w.prototype.deleteOperation=function a(j,G){return this.rpcCall(a,g.google.longrunning.DeleteOperationRequest,g.google.protobuf.Empty,j,G)},"name",{value:"DeleteOperation"}),Object.defineProperty(w.prototype.cancelOperation=function a(j,G){return this.rpcCall(a,g.google.longrunning.CancelOperationRequest,g.google.protobuf.Empty,j,G)},"name",{value:"CancelOperation"}),Object.defineProperty(w.prototype.waitOperation=function a(j,G){return this.rpcCall(a,g.google.longrunning.WaitOperationRequest,g.google.longrunning.Operation,j,G)},"name",{value:"WaitOperation"}),w),y.Operation=(R.prototype.name="",R.prototype.metadata=null,R.prototype.done=!1,R.prototype.error=null,R.prototype.response=null,Object.defineProperty(R.prototype,"result",{get:p.oneOfGetter(O=["error","response"]),set:p.oneOfSetter(O)}),R.create=function(a){return new R(a)},R.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.metadata!=null&&Object.hasOwnProperty.call(a,"metadata")&&g.google.protobuf.Any.encode(a.metadata,j.uint32(18).fork()).ldelim(),a.done!=null&&Object.hasOwnProperty.call(a,"done")&&j.uint32(24).bool(a.done),a.error!=null&&Object.hasOwnProperty.call(a,"error")&&g.google.rpc.Status.encode(a.error,j.uint32(34).fork()).ldelim(),a.response!=null&&Object.hasOwnProperty.call(a,"response")&&g.google.protobuf.Any.encode(a.response,j.uint32(42).fork()).ldelim(),j},R.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},R.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.longrunning.Operation;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.metadata=g.google.protobuf.Any.decode(a,a.uint32());break;case 3:o.done=a.bool();break;case 4:o.error=g.google.rpc.Status.decode(a,a.uint32());break;case 5:o.response=g.google.protobuf.Any.decode(a,a.uint32());break;default:a.skipType(7&I)}}return o},R.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},R.verify=function(a){if(typeof a!="object"||a===null)return"object expected";var j,G={};if(a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name))return"name: string expected";if(a.metadata!=null&&a.hasOwnProperty("metadata")&&(j=g.google.protobuf.Any.verify(a.metadata)))return"metadata."+j;if(a.done!=null&&a.hasOwnProperty("done")&&typeof a.done!="boolean")return"done: boolean expected";if(a.error!=null&&a.hasOwnProperty("error")&&(G.result=1,j=g.google.rpc.Status.verify(a.error)))return"error."+j;if(a.response!=null&&a.hasOwnProperty("response")){if(G.result===1)return"result: multiple values";if(G.result=1,j=g.google.protobuf.Any.verify(a.response))return"response."+j}return null},R.fromObject=function(a){if(a instanceof g.google.longrunning.Operation)return a;var j=new g.google.longrunning.Operation;if(a.name!=null&&(j.name=String(a.name)),a.metadata!=null){if(typeof a.metadata!="object")throw TypeError(".google.longrunning.Operation.metadata: object expected");j.metadata=g.google.protobuf.Any.fromObject(a.metadata)}if(a.done!=null&&(j.done=!!a.done),a.error!=null){if(typeof a.error!="object")throw TypeError(".google.longrunning.Operation.error: object expected");j.error=g.google.rpc.Status.fromObject(a.error)}if(a.response!=null){if(typeof a.response!="object")throw TypeError(".google.longrunning.Operation.response: object expected");j.response=g.google.protobuf.Any.fromObject(a.response)}return j},R.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name="",G.metadata=null,G.done=!1),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.metadata!=null&&a.hasOwnProperty("metadata")&&(G.metadata=g.google.protobuf.Any.toObject(a.metadata,j)),a.done!=null&&a.hasOwnProperty("done")&&(G.done=a.done),a.error!=null&&a.hasOwnProperty("error")&&(G.error=g.google.rpc.Status.toObject(a.error,j),j.oneofs)&&(G.result="error"),a.response!=null&&a.hasOwnProperty("response")&&(G.response=g.google.protobuf.Any.toObject(a.response,j),j.oneofs)&&(G.result="response"),G},R.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},R),y.GetOperationRequest=(C.prototype.name="",C.create=function(a){return new C(a)},C.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),j},C.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},C.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.longrunning.GetOperationRequest;a.pos<G;){var I=a.uint32();I>>>3==1?o.name=a.string():a.skipType(7&I)}return o},C.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},C.verify=function(a){return typeof a!="object"||a===null?"object expected":a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name)?"name: string expected":null},C.fromObject=function(a){var j;return a instanceof g.google.longrunning.GetOperationRequest?a:(j=new g.google.longrunning.GetOperationRequest,a.name!=null&&(j.name=String(a.name)),j)},C.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name=""),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),G},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C),y.ListOperationsRequest=(N.prototype.name="",N.prototype.filter="",N.prototype.pageSize=0,N.prototype.pageToken="",N.create=function(a){return new N(a)},N.encode=function(a,j){return j=j||v.create(),a.filter!=null&&Object.hasOwnProperty.call(a,"filter")&&j.uint32(10).string(a.filter),a.pageSize!=null&&Object.hasOwnProperty.call(a,"pageSize")&&j.uint32(16).int32(a.pageSize),a.pageToken!=null&&Object.hasOwnProperty.call(a,"pageToken")&&j.uint32(26).string(a.pageToken),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(34).string(a.name),j},N.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},N.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.longrunning.ListOperationsRequest;a.pos<G;){var I=a.uint32();switch(I>>>3){case 4:o.name=a.string();break;case 1:o.filter=a.string();break;case 2:o.pageSize=a.int32();break;case 3:o.pageToken=a.string();break;default:a.skipType(7&I)}}return o},N.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},N.verify=function(a){return typeof a!="object"||a===null?"object expected":a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name)?"name: string expected":a.filter!=null&&a.hasOwnProperty("filter")&&!p.isString(a.filter)?"filter: string expected":a.pageSize!=null&&a.hasOwnProperty("pageSize")&&!p.isInteger(a.pageSize)?"pageSize: integer expected":a.pageToken!=null&&a.hasOwnProperty("pageToken")&&!p.isString(a.pageToken)?"pageToken: string expected":null},N.fromObject=function(a){var j;return a instanceof g.google.longrunning.ListOperationsRequest?a:(j=new g.google.longrunning.ListOperationsRequest,a.name!=null&&(j.name=String(a.name)),a.filter!=null&&(j.filter=String(a.filter)),a.pageSize!=null&&(j.pageSize=0|a.pageSize),a.pageToken!=null&&(j.pageToken=String(a.pageToken)),j)},N.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.filter="",G.pageSize=0,G.pageToken="",G.name=""),a.filter!=null&&a.hasOwnProperty("filter")&&(G.filter=a.filter),a.pageSize!=null&&a.hasOwnProperty("pageSize")&&(G.pageSize=a.pageSize),a.pageToken!=null&&a.hasOwnProperty("pageToken")&&(G.pageToken=a.pageToken),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),G},N.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},N),y.ListOperationsResponse=(D.prototype.operations=p.emptyArray,D.prototype.nextPageToken="",D.create=function(a){return new D(a)},D.encode=function(a,j){if(j=j||v.create(),a.operations!=null&&a.operations.length)for(var G=0;G<a.operations.length;++G)g.google.longrunning.Operation.encode(a.operations[G],j.uint32(10).fork()).ldelim();return a.nextPageToken!=null&&Object.hasOwnProperty.call(a,"nextPageToken")&&j.uint32(18).string(a.nextPageToken),j},D.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},D.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.longrunning.ListOperationsResponse;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.operations&&o.operations.length||(o.operations=[]),o.operations.push(g.google.longrunning.Operation.decode(a,a.uint32()));break;case 2:o.nextPageToken=a.string();break;default:a.skipType(7&I)}}return o},D.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},D.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.operations!=null&&a.hasOwnProperty("operations")){if(!Array.isArray(a.operations))return"operations: array expected";for(var j=0;j<a.operations.length;++j){var G=g.google.longrunning.Operation.verify(a.operations[j]);if(G)return"operations."+G}}return a.nextPageToken!=null&&a.hasOwnProperty("nextPageToken")&&!p.isString(a.nextPageToken)?"nextPageToken: string expected":null},D.fromObject=function(a){if(a instanceof g.google.longrunning.ListOperationsResponse)return a;var j=new g.google.longrunning.ListOperationsResponse;if(a.operations){if(!Array.isArray(a.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");j.operations=[];for(var G=0;G<a.operations.length;++G){if(typeof a.operations[G]!="object")throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");j.operations[G]=g.google.longrunning.Operation.fromObject(a.operations[G])}}return a.nextPageToken!=null&&(j.nextPageToken=String(a.nextPageToken)),j},D.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.operations=[]),j.defaults&&(G.nextPageToken=""),a.operations&&a.operations.length){G.operations=[];for(var o=0;o<a.operations.length;++o)G.operations[o]=g.google.longrunning.Operation.toObject(a.operations[o],j)}return a.nextPageToken!=null&&a.hasOwnProperty("nextPageToken")&&(G.nextPageToken=a.nextPageToken),G},D.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},D),y.CancelOperationRequest=(L.prototype.name="",L.create=function(a){return new L(a)},L.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),j},L.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},L.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.longrunning.CancelOperationRequest;a.pos<G;){var I=a.uint32();I>>>3==1?o.name=a.string():a.skipType(7&I)}return o},L.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},L.verify=function(a){return typeof a!="object"||a===null?"object expected":a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name)?"name: string expected":null},L.fromObject=function(a){var j;return a instanceof g.google.longrunning.CancelOperationRequest?a:(j=new g.google.longrunning.CancelOperationRequest,a.name!=null&&(j.name=String(a.name)),j)},L.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name=""),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),G},L.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},L),y.DeleteOperationRequest=(q.prototype.name="",q.create=function(a){return new q(a)},q.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),j},q.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},q.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.longrunning.DeleteOperationRequest;a.pos<G;){var I=a.uint32();I>>>3==1?o.name=a.string():a.skipType(7&I)}return o},q.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},q.verify=function(a){return typeof a!="object"||a===null?"object expected":a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name)?"name: string expected":null},q.fromObject=function(a){var j;return a instanceof g.google.longrunning.DeleteOperationRequest?a:(j=new g.google.longrunning.DeleteOperationRequest,a.name!=null&&(j.name=String(a.name)),j)},q.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name=""),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),G},q.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},q),y.WaitOperationRequest=(M.prototype.name="",M.prototype.timeout=null,M.create=function(a){return new M(a)},M.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.timeout!=null&&Object.hasOwnProperty.call(a,"timeout")&&g.google.protobuf.Duration.encode(a.timeout,j.uint32(18).fork()).ldelim(),j},M.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},M.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.longrunning.WaitOperationRequest;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.timeout=g.google.protobuf.Duration.decode(a,a.uint32());break;default:a.skipType(7&I)}}return o},M.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},M.verify=function(a){return typeof a!="object"||a===null?"object expected":a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name)?"name: string expected":a.timeout!=null&&a.hasOwnProperty("timeout")&&(a=g.google.protobuf.Duration.verify(a.timeout),a)?"timeout."+a:null},M.fromObject=function(a){if(a instanceof g.google.longrunning.WaitOperationRequest)return a;var j=new g.google.longrunning.WaitOperationRequest;if(a.name!=null&&(j.name=String(a.name)),a.timeout!=null){if(typeof a.timeout!="object")throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");j.timeout=g.google.protobuf.Duration.fromObject(a.timeout)}return j},M.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name="",G.timeout=null),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.timeout!=null&&a.hasOwnProperty("timeout")&&(G.timeout=g.google.protobuf.Duration.toObject(a.timeout,j)),G},M.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},M),y.OperationInfo=(U.prototype.responseType="",U.prototype.metadataType="",U.create=function(a){return new U(a)},U.encode=function(a,j){return j=j||v.create(),a.responseType!=null&&Object.hasOwnProperty.call(a,"responseType")&&j.uint32(10).string(a.responseType),a.metadataType!=null&&Object.hasOwnProperty.call(a,"metadataType")&&j.uint32(18).string(a.metadataType),j},U.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},U.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.longrunning.OperationInfo;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.responseType=a.string();break;case 2:o.metadataType=a.string();break;default:a.skipType(7&I)}}return o},U.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},U.verify=function(a){return typeof a!="object"||a===null?"object expected":a.responseType!=null&&a.hasOwnProperty("responseType")&&!p.isString(a.responseType)?"responseType: string expected":a.metadataType!=null&&a.hasOwnProperty("metadataType")&&!p.isString(a.metadataType)?"metadataType: string expected":null},U.fromObject=function(a){var j;return a instanceof g.google.longrunning.OperationInfo?a:(j=new g.google.longrunning.OperationInfo,a.responseType!=null&&(j.responseType=String(a.responseType)),a.metadataType!=null&&(j.metadataType=String(a.metadataType)),j)},U.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.responseType="",G.metadataType=""),a.responseType!=null&&a.hasOwnProperty("responseType")&&(G.responseType=a.responseType),a.metadataType!=null&&a.hasOwnProperty("metadataType")&&(G.metadataType=a.metadataType),G},U.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},U),y),T.api=((O={}).Http=(V.prototype.rules=p.emptyArray,V.prototype.fullyDecodeReservedExpansion=!1,V.create=function(a){return new V(a)},V.encode=function(a,j){if(j=j||v.create(),a.rules!=null&&a.rules.length)for(var G=0;G<a.rules.length;++G)g.google.api.HttpRule.encode(a.rules[G],j.uint32(10).fork()).ldelim();return a.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(a,"fullyDecodeReservedExpansion")&&j.uint32(16).bool(a.fullyDecodeReservedExpansion),j},V.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},V.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.api.Http;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.rules&&o.rules.length||(o.rules=[]),o.rules.push(g.google.api.HttpRule.decode(a,a.uint32()));break;case 2:o.fullyDecodeReservedExpansion=a.bool();break;default:a.skipType(7&I)}}return o},V.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},V.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.rules!=null&&a.hasOwnProperty("rules")){if(!Array.isArray(a.rules))return"rules: array expected";for(var j=0;j<a.rules.length;++j){var G=g.google.api.HttpRule.verify(a.rules[j]);if(G)return"rules."+G}}return a.fullyDecodeReservedExpansion!=null&&a.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof a.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},V.fromObject=function(a){if(a instanceof g.google.api.Http)return a;var j=new g.google.api.Http;if(a.rules){if(!Array.isArray(a.rules))throw TypeError(".google.api.Http.rules: array expected");j.rules=[];for(var G=0;G<a.rules.length;++G){if(typeof a.rules[G]!="object")throw TypeError(".google.api.Http.rules: object expected");j.rules[G]=g.google.api.HttpRule.fromObject(a.rules[G])}}return a.fullyDecodeReservedExpansion!=null&&(j.fullyDecodeReservedExpansion=!!a.fullyDecodeReservedExpansion),j},V.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.rules=[]),j.defaults&&(G.fullyDecodeReservedExpansion=!1),a.rules&&a.rules.length){G.rules=[];for(var o=0;o<a.rules.length;++o)G.rules[o]=g.google.api.HttpRule.toObject(a.rules[o],j)}return a.fullyDecodeReservedExpansion!=null&&a.hasOwnProperty("fullyDecodeReservedExpansion")&&(G.fullyDecodeReservedExpansion=a.fullyDecodeReservedExpansion),G},V.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},V),O.HttpRule=($.prototype.selector="",$.prototype.get="",$.prototype.put="",$.prototype.post="",$.prototype.delete="",$.prototype.patch="",$.prototype.custom=null,$.prototype.body="",$.prototype.responseBody="",$.prototype.additionalBindings=p.emptyArray,Object.defineProperty($.prototype,"pattern",{get:p.oneOfGetter(y=["get","put","post","delete","patch","custom"]),set:p.oneOfSetter(y)}),$.create=function(a){return new $(a)},$.encode=function(a,j){if(j=j||v.create(),a.selector!=null&&Object.hasOwnProperty.call(a,"selector")&&j.uint32(10).string(a.selector),a.get!=null&&Object.hasOwnProperty.call(a,"get")&&j.uint32(18).string(a.get),a.put!=null&&Object.hasOwnProperty.call(a,"put")&&j.uint32(26).string(a.put),a.post!=null&&Object.hasOwnProperty.call(a,"post")&&j.uint32(34).string(a.post),a.delete!=null&&Object.hasOwnProperty.call(a,"delete")&&j.uint32(42).string(a.delete),a.patch!=null&&Object.hasOwnProperty.call(a,"patch")&&j.uint32(50).string(a.patch),a.body!=null&&Object.hasOwnProperty.call(a,"body")&&j.uint32(58).string(a.body),a.custom!=null&&Object.hasOwnProperty.call(a,"custom")&&g.google.api.CustomHttpPattern.encode(a.custom,j.uint32(66).fork()).ldelim(),a.additionalBindings!=null&&a.additionalBindings.length)for(var G=0;G<a.additionalBindings.length;++G)g.google.api.HttpRule.encode(a.additionalBindings[G],j.uint32(90).fork()).ldelim();return a.responseBody!=null&&Object.hasOwnProperty.call(a,"responseBody")&&j.uint32(98).string(a.responseBody),j},$.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},$.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.api.HttpRule;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.selector=a.string();break;case 2:o.get=a.string();break;case 3:o.put=a.string();break;case 4:o.post=a.string();break;case 5:o.delete=a.string();break;case 6:o.patch=a.string();break;case 8:o.custom=g.google.api.CustomHttpPattern.decode(a,a.uint32());break;case 7:o.body=a.string();break;case 12:o.responseBody=a.string();break;case 11:o.additionalBindings&&o.additionalBindings.length||(o.additionalBindings=[]),o.additionalBindings.push(g.google.api.HttpRule.decode(a,a.uint32()));break;default:a.skipType(7&I)}}return o},$.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";var j={};if(a.selector!=null&&a.hasOwnProperty("selector")&&!p.isString(a.selector))return"selector: string expected";if(a.get!=null&&a.hasOwnProperty("get")&&(j.pattern=1,!p.isString(a.get)))return"get: string expected";if(a.put!=null&&a.hasOwnProperty("put")){if(j.pattern===1)return"pattern: multiple values";if(j.pattern=1,!p.isString(a.put))return"put: string expected"}if(a.post!=null&&a.hasOwnProperty("post")){if(j.pattern===1)return"pattern: multiple values";if(j.pattern=1,!p.isString(a.post))return"post: string expected"}if(a.delete!=null&&a.hasOwnProperty("delete")){if(j.pattern===1)return"pattern: multiple values";if(j.pattern=1,!p.isString(a.delete))return"delete: string expected"}if(a.patch!=null&&a.hasOwnProperty("patch")){if(j.pattern===1)return"pattern: multiple values";if(j.pattern=1,!p.isString(a.patch))return"patch: string expected"}if(a.custom!=null&&a.hasOwnProperty("custom")){if(j.pattern===1)return"pattern: multiple values";if(j.pattern=1,G=g.google.api.CustomHttpPattern.verify(a.custom))return"custom."+G}if(a.body!=null&&a.hasOwnProperty("body")&&!p.isString(a.body))return"body: string expected";if(a.responseBody!=null&&a.hasOwnProperty("responseBody")&&!p.isString(a.responseBody))return"responseBody: string expected";if(a.additionalBindings!=null&&a.hasOwnProperty("additionalBindings")){if(!Array.isArray(a.additionalBindings))return"additionalBindings: array expected";for(var G,o=0;o<a.additionalBindings.length;++o)if(G=g.google.api.HttpRule.verify(a.additionalBindings[o]))return"additionalBindings."+G}return null},$.fromObject=function(a){if(a instanceof g.google.api.HttpRule)return a;var j=new g.google.api.HttpRule;if(a.selector!=null&&(j.selector=String(a.selector)),a.get!=null&&(j.get=String(a.get)),a.put!=null&&(j.put=String(a.put)),a.post!=null&&(j.post=String(a.post)),a.delete!=null&&(j.delete=String(a.delete)),a.patch!=null&&(j.patch=String(a.patch)),a.custom!=null){if(typeof a.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");j.custom=g.google.api.CustomHttpPattern.fromObject(a.custom)}if(a.body!=null&&(j.body=String(a.body)),a.responseBody!=null&&(j.responseBody=String(a.responseBody)),a.additionalBindings){if(!Array.isArray(a.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");j.additionalBindings=[];for(var G=0;G<a.additionalBindings.length;++G){if(typeof a.additionalBindings[G]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");j.additionalBindings[G]=g.google.api.HttpRule.fromObject(a.additionalBindings[G])}}return j},$.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.additionalBindings=[]),j.defaults&&(G.selector="",G.body="",G.responseBody=""),a.selector!=null&&a.hasOwnProperty("selector")&&(G.selector=a.selector),a.get!=null&&a.hasOwnProperty("get")&&(G.get=a.get,j.oneofs)&&(G.pattern="get"),a.put!=null&&a.hasOwnProperty("put")&&(G.put=a.put,j.oneofs)&&(G.pattern="put"),a.post!=null&&a.hasOwnProperty("post")&&(G.post=a.post,j.oneofs)&&(G.pattern="post"),a.delete!=null&&a.hasOwnProperty("delete")&&(G.delete=a.delete,j.oneofs)&&(G.pattern="delete"),a.patch!=null&&a.hasOwnProperty("patch")&&(G.patch=a.patch,j.oneofs)&&(G.pattern="patch"),a.body!=null&&a.hasOwnProperty("body")&&(G.body=a.body),a.custom!=null&&a.hasOwnProperty("custom")&&(G.custom=g.google.api.CustomHttpPattern.toObject(a.custom,j),j.oneofs)&&(G.pattern="custom"),a.additionalBindings&&a.additionalBindings.length){G.additionalBindings=[];for(var o=0;o<a.additionalBindings.length;++o)G.additionalBindings[o]=g.google.api.HttpRule.toObject(a.additionalBindings[o],j)}return a.responseBody!=null&&a.hasOwnProperty("responseBody")&&(G.responseBody=a.responseBody),G},$.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},$),O.CustomHttpPattern=(z.prototype.kind="",z.prototype.path="",z.create=function(a){return new z(a)},z.encode=function(a,j){return j=j||v.create(),a.kind!=null&&Object.hasOwnProperty.call(a,"kind")&&j.uint32(10).string(a.kind),a.path!=null&&Object.hasOwnProperty.call(a,"path")&&j.uint32(18).string(a.path),j},z.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},z.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.api.CustomHttpPattern;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.kind=a.string();break;case 2:o.path=a.string();break;default:a.skipType(7&I)}}return o},z.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},z.verify=function(a){return typeof a!="object"||a===null?"object expected":a.kind!=null&&a.hasOwnProperty("kind")&&!p.isString(a.kind)?"kind: string expected":a.path!=null&&a.hasOwnProperty("path")&&!p.isString(a.path)?"path: string expected":null},z.fromObject=function(a){var j;return a instanceof g.google.api.CustomHttpPattern?a:(j=new g.google.api.CustomHttpPattern,a.kind!=null&&(j.kind=String(a.kind)),a.path!=null&&(j.path=String(a.path)),j)},z.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.kind="",G.path=""),a.kind!=null&&a.hasOwnProperty("kind")&&(G.kind=a.kind),a.path!=null&&a.hasOwnProperty("path")&&(G.path=a.path),G},z.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},z),O),T.protobuf=((y={}).FileDescriptorSet=(W.prototype.file=p.emptyArray,W.create=function(a){return new W(a)},W.encode=function(a,j){if(j=j||v.create(),a.file!=null&&a.file.length)for(var G=0;G<a.file.length;++G)g.google.protobuf.FileDescriptorProto.encode(a.file[G],j.uint32(10).fork()).ldelim();return j},W.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},W.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.FileDescriptorSet;a.pos<G;){var I=a.uint32();I>>>3==1?(o.file&&o.file.length||(o.file=[]),o.file.push(g.google.protobuf.FileDescriptorProto.decode(a,a.uint32()))):a.skipType(7&I)}return o},W.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},W.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.file!=null&&a.hasOwnProperty("file")){if(!Array.isArray(a.file))return"file: array expected";for(var j=0;j<a.file.length;++j){var G=g.google.protobuf.FileDescriptorProto.verify(a.file[j]);if(G)return"file."+G}}return null},W.fromObject=function(a){if(a instanceof g.google.protobuf.FileDescriptorSet)return a;var j=new g.google.protobuf.FileDescriptorSet;if(a.file){if(!Array.isArray(a.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");j.file=[];for(var G=0;G<a.file.length;++G){if(typeof a.file[G]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");j.file[G]=g.google.protobuf.FileDescriptorProto.fromObject(a.file[G])}}return j},W.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.file=[]),a.file&&a.file.length){G.file=[];for(var o=0;o<a.file.length;++o)G.file[o]=g.google.protobuf.FileDescriptorProto.toObject(a.file[o],j)}return G},W.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},W),y.FileDescriptorProto=(J.prototype.name="",J.prototype.package="",J.prototype.dependency=p.emptyArray,J.prototype.publicDependency=p.emptyArray,J.prototype.weakDependency=p.emptyArray,J.prototype.messageType=p.emptyArray,J.prototype.enumType=p.emptyArray,J.prototype.service=p.emptyArray,J.prototype.extension=p.emptyArray,J.prototype.options=null,J.prototype.sourceCodeInfo=null,J.prototype.syntax="",J.create=function(a){return new J(a)},J.encode=function(a,j){if(j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.package!=null&&Object.hasOwnProperty.call(a,"package")&&j.uint32(18).string(a.package),a.dependency!=null&&a.dependency.length)for(var G=0;G<a.dependency.length;++G)j.uint32(26).string(a.dependency[G]);if(a.messageType!=null&&a.messageType.length)for(G=0;G<a.messageType.length;++G)g.google.protobuf.DescriptorProto.encode(a.messageType[G],j.uint32(34).fork()).ldelim();if(a.enumType!=null&&a.enumType.length)for(G=0;G<a.enumType.length;++G)g.google.protobuf.EnumDescriptorProto.encode(a.enumType[G],j.uint32(42).fork()).ldelim();if(a.service!=null&&a.service.length)for(G=0;G<a.service.length;++G)g.google.protobuf.ServiceDescriptorProto.encode(a.service[G],j.uint32(50).fork()).ldelim();if(a.extension!=null&&a.extension.length)for(G=0;G<a.extension.length;++G)g.google.protobuf.FieldDescriptorProto.encode(a.extension[G],j.uint32(58).fork()).ldelim();if(a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.FileOptions.encode(a.options,j.uint32(66).fork()).ldelim(),a.sourceCodeInfo!=null&&Object.hasOwnProperty.call(a,"sourceCodeInfo")&&g.google.protobuf.SourceCodeInfo.encode(a.sourceCodeInfo,j.uint32(74).fork()).ldelim(),a.publicDependency!=null&&a.publicDependency.length)for(G=0;G<a.publicDependency.length;++G)j.uint32(80).int32(a.publicDependency[G]);if(a.weakDependency!=null&&a.weakDependency.length)for(G=0;G<a.weakDependency.length;++G)j.uint32(88).int32(a.weakDependency[G]);return a.syntax!=null&&Object.hasOwnProperty.call(a,"syntax")&&j.uint32(98).string(a.syntax),j},J.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},J.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.FileDescriptorProto;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.package=a.string();break;case 3:o.dependency&&o.dependency.length||(o.dependency=[]),o.dependency.push(a.string());break;case 10:if(o.publicDependency&&o.publicDependency.length||(o.publicDependency=[]),(7&I)==2)for(var B=a.uint32()+a.pos;a.pos<B;)o.publicDependency.push(a.int32());else o.publicDependency.push(a.int32());break;case 11:if(o.weakDependency&&o.weakDependency.length||(o.weakDependency=[]),(7&I)==2)for(B=a.uint32()+a.pos;a.pos<B;)o.weakDependency.push(a.int32());else o.weakDependency.push(a.int32());break;case 4:o.messageType&&o.messageType.length||(o.messageType=[]),o.messageType.push(g.google.protobuf.DescriptorProto.decode(a,a.uint32()));break;case 5:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(g.google.protobuf.EnumDescriptorProto.decode(a,a.uint32()));break;case 6:o.service&&o.service.length||(o.service=[]),o.service.push(g.google.protobuf.ServiceDescriptorProto.decode(a,a.uint32()));break;case 7:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(g.google.protobuf.FieldDescriptorProto.decode(a,a.uint32()));break;case 8:o.options=g.google.protobuf.FileOptions.decode(a,a.uint32());break;case 9:o.sourceCodeInfo=g.google.protobuf.SourceCodeInfo.decode(a,a.uint32());break;case 12:o.syntax=a.string();break;default:a.skipType(7&I)}}return o},J.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},J.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name))return"name: string expected";if(a.package!=null&&a.hasOwnProperty("package")&&!p.isString(a.package))return"package: string expected";if(a.dependency!=null&&a.hasOwnProperty("dependency")){if(!Array.isArray(a.dependency))return"dependency: array expected";for(var j=0;j<a.dependency.length;++j)if(!p.isString(a.dependency[j]))return"dependency: string[] expected"}if(a.publicDependency!=null&&a.hasOwnProperty("publicDependency")){if(!Array.isArray(a.publicDependency))return"publicDependency: array expected";for(j=0;j<a.publicDependency.length;++j)if(!p.isInteger(a.publicDependency[j]))return"publicDependency: integer[] expected"}if(a.weakDependency!=null&&a.hasOwnProperty("weakDependency")){if(!Array.isArray(a.weakDependency))return"weakDependency: array expected";for(j=0;j<a.weakDependency.length;++j)if(!p.isInteger(a.weakDependency[j]))return"weakDependency: integer[] expected"}if(a.messageType!=null&&a.hasOwnProperty("messageType")){if(!Array.isArray(a.messageType))return"messageType: array expected";for(j=0;j<a.messageType.length;++j)if(G=g.google.protobuf.DescriptorProto.verify(a.messageType[j]))return"messageType."+G}if(a.enumType!=null&&a.hasOwnProperty("enumType")){if(!Array.isArray(a.enumType))return"enumType: array expected";for(j=0;j<a.enumType.length;++j)if(G=g.google.protobuf.EnumDescriptorProto.verify(a.enumType[j]))return"enumType."+G}if(a.service!=null&&a.hasOwnProperty("service")){if(!Array.isArray(a.service))return"service: array expected";for(j=0;j<a.service.length;++j)if(G=g.google.protobuf.ServiceDescriptorProto.verify(a.service[j]))return"service."+G}if(a.extension!=null&&a.hasOwnProperty("extension")){if(!Array.isArray(a.extension))return"extension: array expected";for(j=0;j<a.extension.length;++j)if(G=g.google.protobuf.FieldDescriptorProto.verify(a.extension[j]))return"extension."+G}var G;return a.options!=null&&a.hasOwnProperty("options")&&(G=g.google.protobuf.FileOptions.verify(a.options))?"options."+G:a.sourceCodeInfo!=null&&a.hasOwnProperty("sourceCodeInfo")&&(G=g.google.protobuf.SourceCodeInfo.verify(a.sourceCodeInfo))?"sourceCodeInfo."+G:a.syntax!=null&&a.hasOwnProperty("syntax")&&!p.isString(a.syntax)?"syntax: string expected":null},J.fromObject=function(a){if(a instanceof g.google.protobuf.FileDescriptorProto)return a;var j=new g.google.protobuf.FileDescriptorProto;if(a.name!=null&&(j.name=String(a.name)),a.package!=null&&(j.package=String(a.package)),a.dependency){if(!Array.isArray(a.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");j.dependency=[];for(var G=0;G<a.dependency.length;++G)j.dependency[G]=String(a.dependency[G])}if(a.publicDependency){if(!Array.isArray(a.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(j.publicDependency=[],G=0;G<a.publicDependency.length;++G)j.publicDependency[G]=0|a.publicDependency[G]}if(a.weakDependency){if(!Array.isArray(a.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(j.weakDependency=[],G=0;G<a.weakDependency.length;++G)j.weakDependency[G]=0|a.weakDependency[G]}if(a.messageType){if(!Array.isArray(a.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(j.messageType=[],G=0;G<a.messageType.length;++G){if(typeof a.messageType[G]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");j.messageType[G]=g.google.protobuf.DescriptorProto.fromObject(a.messageType[G])}}if(a.enumType){if(!Array.isArray(a.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(j.enumType=[],G=0;G<a.enumType.length;++G){if(typeof a.enumType[G]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");j.enumType[G]=g.google.protobuf.EnumDescriptorProto.fromObject(a.enumType[G])}}if(a.service){if(!Array.isArray(a.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(j.service=[],G=0;G<a.service.length;++G){if(typeof a.service[G]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");j.service[G]=g.google.protobuf.ServiceDescriptorProto.fromObject(a.service[G])}}if(a.extension){if(!Array.isArray(a.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(j.extension=[],G=0;G<a.extension.length;++G){if(typeof a.extension[G]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");j.extension[G]=g.google.protobuf.FieldDescriptorProto.fromObject(a.extension[G])}}if(a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");j.options=g.google.protobuf.FileOptions.fromObject(a.options)}if(a.sourceCodeInfo!=null){if(typeof a.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");j.sourceCodeInfo=g.google.protobuf.SourceCodeInfo.fromObject(a.sourceCodeInfo)}return a.syntax!=null&&(j.syntax=String(a.syntax)),j},J.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.dependency=[],G.messageType=[],G.enumType=[],G.service=[],G.extension=[],G.publicDependency=[],G.weakDependency=[]),j.defaults&&(G.name="",G.package="",G.options=null,G.sourceCodeInfo=null,G.syntax=""),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.package!=null&&a.hasOwnProperty("package")&&(G.package=a.package),a.dependency&&a.dependency.length){G.dependency=[];for(var o=0;o<a.dependency.length;++o)G.dependency[o]=a.dependency[o]}if(a.messageType&&a.messageType.length)for(G.messageType=[],o=0;o<a.messageType.length;++o)G.messageType[o]=g.google.protobuf.DescriptorProto.toObject(a.messageType[o],j);if(a.enumType&&a.enumType.length)for(G.enumType=[],o=0;o<a.enumType.length;++o)G.enumType[o]=g.google.protobuf.EnumDescriptorProto.toObject(a.enumType[o],j);if(a.service&&a.service.length)for(G.service=[],o=0;o<a.service.length;++o)G.service[o]=g.google.protobuf.ServiceDescriptorProto.toObject(a.service[o],j);if(a.extension&&a.extension.length)for(G.extension=[],o=0;o<a.extension.length;++o)G.extension[o]=g.google.protobuf.FieldDescriptorProto.toObject(a.extension[o],j);if(a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.FileOptions.toObject(a.options,j)),a.sourceCodeInfo!=null&&a.hasOwnProperty("sourceCodeInfo")&&(G.sourceCodeInfo=g.google.protobuf.SourceCodeInfo.toObject(a.sourceCodeInfo,j)),a.publicDependency&&a.publicDependency.length)for(G.publicDependency=[],o=0;o<a.publicDependency.length;++o)G.publicDependency[o]=a.publicDependency[o];if(a.weakDependency&&a.weakDependency.length)for(G.weakDependency=[],o=0;o<a.weakDependency.length;++o)G.weakDependency[o]=a.weakDependency[o];return a.syntax!=null&&a.hasOwnProperty("syntax")&&(G.syntax=a.syntax),G},J.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},J),y.DescriptorProto=(Y.prototype.name="",Y.prototype.field=p.emptyArray,Y.prototype.extension=p.emptyArray,Y.prototype.nestedType=p.emptyArray,Y.prototype.enumType=p.emptyArray,Y.prototype.extensionRange=p.emptyArray,Y.prototype.oneofDecl=p.emptyArray,Y.prototype.options=null,Y.prototype.reservedRange=p.emptyArray,Y.prototype.reservedName=p.emptyArray,Y.create=function(a){return new Y(a)},Y.encode=function(a,j){if(j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.field!=null&&a.field.length)for(var G=0;G<a.field.length;++G)g.google.protobuf.FieldDescriptorProto.encode(a.field[G],j.uint32(18).fork()).ldelim();if(a.nestedType!=null&&a.nestedType.length)for(G=0;G<a.nestedType.length;++G)g.google.protobuf.DescriptorProto.encode(a.nestedType[G],j.uint32(26).fork()).ldelim();if(a.enumType!=null&&a.enumType.length)for(G=0;G<a.enumType.length;++G)g.google.protobuf.EnumDescriptorProto.encode(a.enumType[G],j.uint32(34).fork()).ldelim();if(a.extensionRange!=null&&a.extensionRange.length)for(G=0;G<a.extensionRange.length;++G)g.google.protobuf.DescriptorProto.ExtensionRange.encode(a.extensionRange[G],j.uint32(42).fork()).ldelim();if(a.extension!=null&&a.extension.length)for(G=0;G<a.extension.length;++G)g.google.protobuf.FieldDescriptorProto.encode(a.extension[G],j.uint32(50).fork()).ldelim();if(a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.MessageOptions.encode(a.options,j.uint32(58).fork()).ldelim(),a.oneofDecl!=null&&a.oneofDecl.length)for(G=0;G<a.oneofDecl.length;++G)g.google.protobuf.OneofDescriptorProto.encode(a.oneofDecl[G],j.uint32(66).fork()).ldelim();if(a.reservedRange!=null&&a.reservedRange.length)for(G=0;G<a.reservedRange.length;++G)g.google.protobuf.DescriptorProto.ReservedRange.encode(a.reservedRange[G],j.uint32(74).fork()).ldelim();if(a.reservedName!=null&&a.reservedName.length)for(G=0;G<a.reservedName.length;++G)j.uint32(82).string(a.reservedName[G]);return j},Y.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},Y.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.DescriptorProto;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.field&&o.field.length||(o.field=[]),o.field.push(g.google.protobuf.FieldDescriptorProto.decode(a,a.uint32()));break;case 6:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(g.google.protobuf.FieldDescriptorProto.decode(a,a.uint32()));break;case 3:o.nestedType&&o.nestedType.length||(o.nestedType=[]),o.nestedType.push(g.google.protobuf.DescriptorProto.decode(a,a.uint32()));break;case 4:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(g.google.protobuf.EnumDescriptorProto.decode(a,a.uint32()));break;case 5:o.extensionRange&&o.extensionRange.length||(o.extensionRange=[]),o.extensionRange.push(g.google.protobuf.DescriptorProto.ExtensionRange.decode(a,a.uint32()));break;case 8:o.oneofDecl&&o.oneofDecl.length||(o.oneofDecl=[]),o.oneofDecl.push(g.google.protobuf.OneofDescriptorProto.decode(a,a.uint32()));break;case 7:o.options=g.google.protobuf.MessageOptions.decode(a,a.uint32());break;case 9:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(g.google.protobuf.DescriptorProto.ReservedRange.decode(a,a.uint32()));break;case 10:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(a.string());break;default:a.skipType(7&I)}}return o},Y.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},Y.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name))return"name: string expected";if(a.field!=null&&a.hasOwnProperty("field")){if(!Array.isArray(a.field))return"field: array expected";for(var j=0;j<a.field.length;++j)if(G=g.google.protobuf.FieldDescriptorProto.verify(a.field[j]))return"field."+G}if(a.extension!=null&&a.hasOwnProperty("extension")){if(!Array.isArray(a.extension))return"extension: array expected";for(j=0;j<a.extension.length;++j)if(G=g.google.protobuf.FieldDescriptorProto.verify(a.extension[j]))return"extension."+G}if(a.nestedType!=null&&a.hasOwnProperty("nestedType")){if(!Array.isArray(a.nestedType))return"nestedType: array expected";for(j=0;j<a.nestedType.length;++j)if(G=g.google.protobuf.DescriptorProto.verify(a.nestedType[j]))return"nestedType."+G}if(a.enumType!=null&&a.hasOwnProperty("enumType")){if(!Array.isArray(a.enumType))return"enumType: array expected";for(j=0;j<a.enumType.length;++j)if(G=g.google.protobuf.EnumDescriptorProto.verify(a.enumType[j]))return"enumType."+G}if(a.extensionRange!=null&&a.hasOwnProperty("extensionRange")){if(!Array.isArray(a.extensionRange))return"extensionRange: array expected";for(j=0;j<a.extensionRange.length;++j)if(G=g.google.protobuf.DescriptorProto.ExtensionRange.verify(a.extensionRange[j]))return"extensionRange."+G}if(a.oneofDecl!=null&&a.hasOwnProperty("oneofDecl")){if(!Array.isArray(a.oneofDecl))return"oneofDecl: array expected";for(j=0;j<a.oneofDecl.length;++j)if(G=g.google.protobuf.OneofDescriptorProto.verify(a.oneofDecl[j]))return"oneofDecl."+G}if(a.options!=null&&a.hasOwnProperty("options")&&(G=g.google.protobuf.MessageOptions.verify(a.options)))return"options."+G;if(a.reservedRange!=null&&a.hasOwnProperty("reservedRange")){if(!Array.isArray(a.reservedRange))return"reservedRange: array expected";for(var G,j=0;j<a.reservedRange.length;++j)if(G=g.google.protobuf.DescriptorProto.ReservedRange.verify(a.reservedRange[j]))return"reservedRange."+G}if(a.reservedName!=null&&a.hasOwnProperty("reservedName")){if(!Array.isArray(a.reservedName))return"reservedName: array expected";for(j=0;j<a.reservedName.length;++j)if(!p.isString(a.reservedName[j]))return"reservedName: string[] expected"}return null},Y.fromObject=function(a){if(a instanceof g.google.protobuf.DescriptorProto)return a;var j=new g.google.protobuf.DescriptorProto;if(a.name!=null&&(j.name=String(a.name)),a.field){if(!Array.isArray(a.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");j.field=[];for(var G=0;G<a.field.length;++G){if(typeof a.field[G]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");j.field[G]=g.google.protobuf.FieldDescriptorProto.fromObject(a.field[G])}}if(a.extension){if(!Array.isArray(a.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(j.extension=[],G=0;G<a.extension.length;++G){if(typeof a.extension[G]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");j.extension[G]=g.google.protobuf.FieldDescriptorProto.fromObject(a.extension[G])}}if(a.nestedType){if(!Array.isArray(a.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(j.nestedType=[],G=0;G<a.nestedType.length;++G){if(typeof a.nestedType[G]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");j.nestedType[G]=g.google.protobuf.DescriptorProto.fromObject(a.nestedType[G])}}if(a.enumType){if(!Array.isArray(a.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(j.enumType=[],G=0;G<a.enumType.length;++G){if(typeof a.enumType[G]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");j.enumType[G]=g.google.protobuf.EnumDescriptorProto.fromObject(a.enumType[G])}}if(a.extensionRange){if(!Array.isArray(a.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(j.extensionRange=[],G=0;G<a.extensionRange.length;++G){if(typeof a.extensionRange[G]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");j.extensionRange[G]=g.google.protobuf.DescriptorProto.ExtensionRange.fromObject(a.extensionRange[G])}}if(a.oneofDecl){if(!Array.isArray(a.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(j.oneofDecl=[],G=0;G<a.oneofDecl.length;++G){if(typeof a.oneofDecl[G]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");j.oneofDecl[G]=g.google.protobuf.OneofDescriptorProto.fromObject(a.oneofDecl[G])}}if(a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");j.options=g.google.protobuf.MessageOptions.fromObject(a.options)}if(a.reservedRange){if(!Array.isArray(a.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(j.reservedRange=[],G=0;G<a.reservedRange.length;++G){if(typeof a.reservedRange[G]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");j.reservedRange[G]=g.google.protobuf.DescriptorProto.ReservedRange.fromObject(a.reservedRange[G])}}if(a.reservedName){if(!Array.isArray(a.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(j.reservedName=[],G=0;G<a.reservedName.length;++G)j.reservedName[G]=String(a.reservedName[G])}return j},Y.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.field=[],G.nestedType=[],G.enumType=[],G.extensionRange=[],G.extension=[],G.oneofDecl=[],G.reservedRange=[],G.reservedName=[]),j.defaults&&(G.name="",G.options=null),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.field&&a.field.length){G.field=[];for(var o=0;o<a.field.length;++o)G.field[o]=g.google.protobuf.FieldDescriptorProto.toObject(a.field[o],j)}if(a.nestedType&&a.nestedType.length)for(G.nestedType=[],o=0;o<a.nestedType.length;++o)G.nestedType[o]=g.google.protobuf.DescriptorProto.toObject(a.nestedType[o],j);if(a.enumType&&a.enumType.length)for(G.enumType=[],o=0;o<a.enumType.length;++o)G.enumType[o]=g.google.protobuf.EnumDescriptorProto.toObject(a.enumType[o],j);if(a.extensionRange&&a.extensionRange.length)for(G.extensionRange=[],o=0;o<a.extensionRange.length;++o)G.extensionRange[o]=g.google.protobuf.DescriptorProto.ExtensionRange.toObject(a.extensionRange[o],j);if(a.extension&&a.extension.length)for(G.extension=[],o=0;o<a.extension.length;++o)G.extension[o]=g.google.protobuf.FieldDescriptorProto.toObject(a.extension[o],j);if(a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.MessageOptions.toObject(a.options,j)),a.oneofDecl&&a.oneofDecl.length)for(G.oneofDecl=[],o=0;o<a.oneofDecl.length;++o)G.oneofDecl[o]=g.google.protobuf.OneofDescriptorProto.toObject(a.oneofDecl[o],j);if(a.reservedRange&&a.reservedRange.length)for(G.reservedRange=[],o=0;o<a.reservedRange.length;++o)G.reservedRange[o]=g.google.protobuf.DescriptorProto.ReservedRange.toObject(a.reservedRange[o],j);if(a.reservedName&&a.reservedName.length)for(G.reservedName=[],o=0;o<a.reservedName.length;++o)G.reservedName[o]=a.reservedName[o];return G},Y.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Y.ExtensionRange=(Q.prototype.start=0,Q.prototype.end=0,Q.prototype.options=null,Q.create=function(a){return new Q(a)},Q.encode=function(a,j){return j=j||v.create(),a.start!=null&&Object.hasOwnProperty.call(a,"start")&&j.uint32(8).int32(a.start),a.end!=null&&Object.hasOwnProperty.call(a,"end")&&j.uint32(16).int32(a.end),a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.ExtensionRangeOptions.encode(a.options,j.uint32(26).fork()).ldelim(),j},Q.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},Q.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.DescriptorProto.ExtensionRange;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.start=a.int32();break;case 2:o.end=a.int32();break;case 3:o.options=g.google.protobuf.ExtensionRangeOptions.decode(a,a.uint32());break;default:a.skipType(7&I)}}return o},Q.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},Q.verify=function(a){return typeof a!="object"||a===null?"object expected":a.start!=null&&a.hasOwnProperty("start")&&!p.isInteger(a.start)?"start: integer expected":a.end!=null&&a.hasOwnProperty("end")&&!p.isInteger(a.end)?"end: integer expected":a.options!=null&&a.hasOwnProperty("options")&&(a=g.google.protobuf.ExtensionRangeOptions.verify(a.options),a)?"options."+a:null},Q.fromObject=function(a){if(a instanceof g.google.protobuf.DescriptorProto.ExtensionRange)return a;var j=new g.google.protobuf.DescriptorProto.ExtensionRange;if(a.start!=null&&(j.start=0|a.start),a.end!=null&&(j.end=0|a.end),a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");j.options=g.google.protobuf.ExtensionRangeOptions.fromObject(a.options)}return j},Q.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.start=0,G.end=0,G.options=null),a.start!=null&&a.hasOwnProperty("start")&&(G.start=a.start),a.end!=null&&a.hasOwnProperty("end")&&(G.end=a.end),a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.ExtensionRangeOptions.toObject(a.options,j)),G},Q.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Q),Y.ReservedRange=(H.prototype.start=0,H.prototype.end=0,H.create=function(a){return new H(a)},H.encode=function(a,j){return j=j||v.create(),a.start!=null&&Object.hasOwnProperty.call(a,"start")&&j.uint32(8).int32(a.start),a.end!=null&&Object.hasOwnProperty.call(a,"end")&&j.uint32(16).int32(a.end),j},H.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},H.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.DescriptorProto.ReservedRange;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.start=a.int32();break;case 2:o.end=a.int32();break;default:a.skipType(7&I)}}return o},H.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},H.verify=function(a){return typeof a!="object"||a===null?"object expected":a.start!=null&&a.hasOwnProperty("start")&&!p.isInteger(a.start)?"start: integer expected":a.end!=null&&a.hasOwnProperty("end")&&!p.isInteger(a.end)?"end: integer expected":null},H.fromObject=function(a){var j;return a instanceof g.google.protobuf.DescriptorProto.ReservedRange?a:(j=new g.google.protobuf.DescriptorProto.ReservedRange,a.start!=null&&(j.start=0|a.start),a.end!=null&&(j.end=0|a.end),j)},H.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.start=0,G.end=0),a.start!=null&&a.hasOwnProperty("start")&&(G.start=a.start),a.end!=null&&a.hasOwnProperty("end")&&(G.end=a.end),G},H.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},H),Y),y.ExtensionRangeOptions=(te.prototype.uninterpretedOption=p.emptyArray,te.create=function(a){return new te(a)},te.encode=function(a,j){if(j=j||v.create(),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();return j},te.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},te.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.ExtensionRangeOptions;a.pos<G;){var I=a.uint32();I>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()))):a.skipType(7&I)}return o},te.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},te.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j){var G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]);if(G)return"uninterpretedOption."+G}}return null},te.fromObject=function(a){if(a instanceof g.google.protobuf.ExtensionRangeOptions)return a;var j=new g.google.protobuf.ExtensionRangeOptions;if(a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}return j},te.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[]),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}return G},te.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},te),y.FieldDescriptorProto=(ne.prototype.name="",ne.prototype.number=0,ne.prototype.label=1,ne.prototype.type=1,ne.prototype.typeName="",ne.prototype.extendee="",ne.prototype.defaultValue="",ne.prototype.oneofIndex=0,ne.prototype.jsonName="",ne.prototype.options=null,ne.prototype.proto3Optional=!1,ne.create=function(a){return new ne(a)},ne.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.extendee!=null&&Object.hasOwnProperty.call(a,"extendee")&&j.uint32(18).string(a.extendee),a.number!=null&&Object.hasOwnProperty.call(a,"number")&&j.uint32(24).int32(a.number),a.label!=null&&Object.hasOwnProperty.call(a,"label")&&j.uint32(32).int32(a.label),a.type!=null&&Object.hasOwnProperty.call(a,"type")&&j.uint32(40).int32(a.type),a.typeName!=null&&Object.hasOwnProperty.call(a,"typeName")&&j.uint32(50).string(a.typeName),a.defaultValue!=null&&Object.hasOwnProperty.call(a,"defaultValue")&&j.uint32(58).string(a.defaultValue),a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.FieldOptions.encode(a.options,j.uint32(66).fork()).ldelim(),a.oneofIndex!=null&&Object.hasOwnProperty.call(a,"oneofIndex")&&j.uint32(72).int32(a.oneofIndex),a.jsonName!=null&&Object.hasOwnProperty.call(a,"jsonName")&&j.uint32(82).string(a.jsonName),a.proto3Optional!=null&&Object.hasOwnProperty.call(a,"proto3Optional")&&j.uint32(136).bool(a.proto3Optional),j},ne.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},ne.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.FieldDescriptorProto;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 3:o.number=a.int32();break;case 4:o.label=a.int32();break;case 5:o.type=a.int32();break;case 6:o.typeName=a.string();break;case 2:o.extendee=a.string();break;case 7:o.defaultValue=a.string();break;case 9:o.oneofIndex=a.int32();break;case 10:o.jsonName=a.string();break;case 8:o.options=g.google.protobuf.FieldOptions.decode(a,a.uint32());break;case 17:o.proto3Optional=a.bool();break;default:a.skipType(7&I)}}return o},ne.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},ne.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name))return"name: string expected";if(a.number!=null&&a.hasOwnProperty("number")&&!p.isInteger(a.number))return"number: integer expected";if(a.label!=null&&a.hasOwnProperty("label"))switch(a.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(a.type!=null&&a.hasOwnProperty("type"))switch(a.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(a.typeName!=null&&a.hasOwnProperty("typeName")&&!p.isString(a.typeName))return"typeName: string expected";if(a.extendee!=null&&a.hasOwnProperty("extendee")&&!p.isString(a.extendee))return"extendee: string expected";if(a.defaultValue!=null&&a.hasOwnProperty("defaultValue")&&!p.isString(a.defaultValue))return"defaultValue: string expected";if(a.oneofIndex!=null&&a.hasOwnProperty("oneofIndex")&&!p.isInteger(a.oneofIndex))return"oneofIndex: integer expected";if(a.jsonName!=null&&a.hasOwnProperty("jsonName")&&!p.isString(a.jsonName))return"jsonName: string expected";if(a.options!=null&&a.hasOwnProperty("options")){var j=g.google.protobuf.FieldOptions.verify(a.options);if(j)return"options."+j}return a.proto3Optional!=null&&a.hasOwnProperty("proto3Optional")&&typeof a.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},ne.fromObject=function(a){if(a instanceof g.google.protobuf.FieldDescriptorProto)return a;var j=new g.google.protobuf.FieldDescriptorProto;switch(a.name!=null&&(j.name=String(a.name)),a.number!=null&&(j.number=0|a.number),a.label){case"LABEL_OPTIONAL":case 1:j.label=1;break;case"LABEL_REQUIRED":case 2:j.label=2;break;case"LABEL_REPEATED":case 3:j.label=3}switch(a.type){case"TYPE_DOUBLE":case 1:j.type=1;break;case"TYPE_FLOAT":case 2:j.type=2;break;case"TYPE_INT64":case 3:j.type=3;break;case"TYPE_UINT64":case 4:j.type=4;break;case"TYPE_INT32":case 5:j.type=5;break;case"TYPE_FIXED64":case 6:j.type=6;break;case"TYPE_FIXED32":case 7:j.type=7;break;case"TYPE_BOOL":case 8:j.type=8;break;case"TYPE_STRING":case 9:j.type=9;break;case"TYPE_GROUP":case 10:j.type=10;break;case"TYPE_MESSAGE":case 11:j.type=11;break;case"TYPE_BYTES":case 12:j.type=12;break;case"TYPE_UINT32":case 13:j.type=13;break;case"TYPE_ENUM":case 14:j.type=14;break;case"TYPE_SFIXED32":case 15:j.type=15;break;case"TYPE_SFIXED64":case 16:j.type=16;break;case"TYPE_SINT32":case 17:j.type=17;break;case"TYPE_SINT64":case 18:j.type=18}if(a.typeName!=null&&(j.typeName=String(a.typeName)),a.extendee!=null&&(j.extendee=String(a.extendee)),a.defaultValue!=null&&(j.defaultValue=String(a.defaultValue)),a.oneofIndex!=null&&(j.oneofIndex=0|a.oneofIndex),a.jsonName!=null&&(j.jsonName=String(a.jsonName)),a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");j.options=g.google.protobuf.FieldOptions.fromObject(a.options)}return a.proto3Optional!=null&&(j.proto3Optional=!!a.proto3Optional),j},ne.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name="",G.extendee="",G.number=0,G.label=j.enums===String?"LABEL_OPTIONAL":1,G.type=j.enums===String?"TYPE_DOUBLE":1,G.typeName="",G.defaultValue="",G.options=null,G.oneofIndex=0,G.jsonName="",G.proto3Optional=!1),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.extendee!=null&&a.hasOwnProperty("extendee")&&(G.extendee=a.extendee),a.number!=null&&a.hasOwnProperty("number")&&(G.number=a.number),a.label!=null&&a.hasOwnProperty("label")&&(G.label=j.enums===String?g.google.protobuf.FieldDescriptorProto.Label[a.label]:a.label),a.type!=null&&a.hasOwnProperty("type")&&(G.type=j.enums===String?g.google.protobuf.FieldDescriptorProto.Type[a.type]:a.type),a.typeName!=null&&a.hasOwnProperty("typeName")&&(G.typeName=a.typeName),a.defaultValue!=null&&a.hasOwnProperty("defaultValue")&&(G.defaultValue=a.defaultValue),a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.FieldOptions.toObject(a.options,j)),a.oneofIndex!=null&&a.hasOwnProperty("oneofIndex")&&(G.oneofIndex=a.oneofIndex),a.jsonName!=null&&a.hasOwnProperty("jsonName")&&(G.jsonName=a.jsonName),a.proto3Optional!=null&&a.hasOwnProperty("proto3Optional")&&(G.proto3Optional=a.proto3Optional),G},ne.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ne.Type=(O={},(d=Object.create(O))[O[1]="TYPE_DOUBLE"]=1,d[O[2]="TYPE_FLOAT"]=2,d[O[3]="TYPE_INT64"]=3,d[O[4]="TYPE_UINT64"]=4,d[O[5]="TYPE_INT32"]=5,d[O[6]="TYPE_FIXED64"]=6,d[O[7]="TYPE_FIXED32"]=7,d[O[8]="TYPE_BOOL"]=8,d[O[9]="TYPE_STRING"]=9,d[O[10]="TYPE_GROUP"]=10,d[O[11]="TYPE_MESSAGE"]=11,d[O[12]="TYPE_BYTES"]=12,d[O[13]="TYPE_UINT32"]=13,d[O[14]="TYPE_ENUM"]=14,d[O[15]="TYPE_SFIXED32"]=15,d[O[16]="TYPE_SFIXED64"]=16,d[O[17]="TYPE_SINT32"]=17,d[O[18]="TYPE_SINT64"]=18,d),ne.Label=(O={},(d=Object.create(O))[O[1]="LABEL_OPTIONAL"]=1,d[O[2]="LABEL_REQUIRED"]=2,d[O[3]="LABEL_REPEATED"]=3,d),ne),y.OneofDescriptorProto=(oe.prototype.name="",oe.prototype.options=null,oe.create=function(a){return new oe(a)},oe.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.OneofOptions.encode(a.options,j.uint32(18).fork()).ldelim(),j},oe.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},oe.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.OneofDescriptorProto;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.options=g.google.protobuf.OneofOptions.decode(a,a.uint32());break;default:a.skipType(7&I)}}return o},oe.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},oe.verify=function(a){return typeof a!="object"||a===null?"object expected":a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name)?"name: string expected":a.options!=null&&a.hasOwnProperty("options")&&(a=g.google.protobuf.OneofOptions.verify(a.options),a)?"options."+a:null},oe.fromObject=function(a){if(a instanceof g.google.protobuf.OneofDescriptorProto)return a;var j=new g.google.protobuf.OneofDescriptorProto;if(a.name!=null&&(j.name=String(a.name)),a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");j.options=g.google.protobuf.OneofOptions.fromObject(a.options)}return j},oe.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name="",G.options=null),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.OneofOptions.toObject(a.options,j)),G},oe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},oe),y.EnumDescriptorProto=(ie.prototype.name="",ie.prototype.value=p.emptyArray,ie.prototype.options=null,ie.prototype.reservedRange=p.emptyArray,ie.prototype.reservedName=p.emptyArray,ie.create=function(a){return new ie(a)},ie.encode=function(a,j){if(j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.value!=null&&a.value.length)for(var G=0;G<a.value.length;++G)g.google.protobuf.EnumValueDescriptorProto.encode(a.value[G],j.uint32(18).fork()).ldelim();if(a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.EnumOptions.encode(a.options,j.uint32(26).fork()).ldelim(),a.reservedRange!=null&&a.reservedRange.length)for(G=0;G<a.reservedRange.length;++G)g.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(a.reservedRange[G],j.uint32(34).fork()).ldelim();if(a.reservedName!=null&&a.reservedName.length)for(G=0;G<a.reservedName.length;++G)j.uint32(42).string(a.reservedName[G]);return j},ie.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},ie.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.EnumDescriptorProto;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.value&&o.value.length||(o.value=[]),o.value.push(g.google.protobuf.EnumValueDescriptorProto.decode(a,a.uint32()));break;case 3:o.options=g.google.protobuf.EnumOptions.decode(a,a.uint32());break;case 4:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(g.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(a,a.uint32()));break;case 5:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(a.string());break;default:a.skipType(7&I)}}return o},ie.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},ie.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name))return"name: string expected";if(a.value!=null&&a.hasOwnProperty("value")){if(!Array.isArray(a.value))return"value: array expected";for(var j=0;j<a.value.length;++j)if(G=g.google.protobuf.EnumValueDescriptorProto.verify(a.value[j]))return"value."+G}if(a.options!=null&&a.hasOwnProperty("options")&&(G=g.google.protobuf.EnumOptions.verify(a.options)))return"options."+G;if(a.reservedRange!=null&&a.hasOwnProperty("reservedRange")){if(!Array.isArray(a.reservedRange))return"reservedRange: array expected";for(var G,j=0;j<a.reservedRange.length;++j)if(G=g.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(a.reservedRange[j]))return"reservedRange."+G}if(a.reservedName!=null&&a.hasOwnProperty("reservedName")){if(!Array.isArray(a.reservedName))return"reservedName: array expected";for(j=0;j<a.reservedName.length;++j)if(!p.isString(a.reservedName[j]))return"reservedName: string[] expected"}return null},ie.fromObject=function(a){if(a instanceof g.google.protobuf.EnumDescriptorProto)return a;var j=new g.google.protobuf.EnumDescriptorProto;if(a.name!=null&&(j.name=String(a.name)),a.value){if(!Array.isArray(a.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");j.value=[];for(var G=0;G<a.value.length;++G){if(typeof a.value[G]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");j.value[G]=g.google.protobuf.EnumValueDescriptorProto.fromObject(a.value[G])}}if(a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");j.options=g.google.protobuf.EnumOptions.fromObject(a.options)}if(a.reservedRange){if(!Array.isArray(a.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(j.reservedRange=[],G=0;G<a.reservedRange.length;++G){if(typeof a.reservedRange[G]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");j.reservedRange[G]=g.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(a.reservedRange[G])}}if(a.reservedName){if(!Array.isArray(a.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(j.reservedName=[],G=0;G<a.reservedName.length;++G)j.reservedName[G]=String(a.reservedName[G])}return j},ie.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.value=[],G.reservedRange=[],G.reservedName=[]),j.defaults&&(G.name="",G.options=null),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.value&&a.value.length){G.value=[];for(var o=0;o<a.value.length;++o)G.value[o]=g.google.protobuf.EnumValueDescriptorProto.toObject(a.value[o],j)}if(a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.EnumOptions.toObject(a.options,j)),a.reservedRange&&a.reservedRange.length)for(G.reservedRange=[],o=0;o<a.reservedRange.length;++o)G.reservedRange[o]=g.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(a.reservedRange[o],j);if(a.reservedName&&a.reservedName.length)for(G.reservedName=[],o=0;o<a.reservedName.length;++o)G.reservedName[o]=a.reservedName[o];return G},ie.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ie.EnumReservedRange=(ee.prototype.start=0,ee.prototype.end=0,ee.create=function(a){return new ee(a)},ee.encode=function(a,j){return j=j||v.create(),a.start!=null&&Object.hasOwnProperty.call(a,"start")&&j.uint32(8).int32(a.start),a.end!=null&&Object.hasOwnProperty.call(a,"end")&&j.uint32(16).int32(a.end),j},ee.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},ee.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.EnumDescriptorProto.EnumReservedRange;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.start=a.int32();break;case 2:o.end=a.int32();break;default:a.skipType(7&I)}}return o},ee.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},ee.verify=function(a){return typeof a!="object"||a===null?"object expected":a.start!=null&&a.hasOwnProperty("start")&&!p.isInteger(a.start)?"start: integer expected":a.end!=null&&a.hasOwnProperty("end")&&!p.isInteger(a.end)?"end: integer expected":null},ee.fromObject=function(a){var j;return a instanceof g.google.protobuf.EnumDescriptorProto.EnumReservedRange?a:(j=new g.google.protobuf.EnumDescriptorProto.EnumReservedRange,a.start!=null&&(j.start=0|a.start),a.end!=null&&(j.end=0|a.end),j)},ee.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.start=0,G.end=0),a.start!=null&&a.hasOwnProperty("start")&&(G.start=a.start),a.end!=null&&a.hasOwnProperty("end")&&(G.end=a.end),G},ee.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ee),ie),y.EnumValueDescriptorProto=(ue.prototype.name="",ue.prototype.number=0,ue.prototype.options=null,ue.create=function(a){return new ue(a)},ue.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.number!=null&&Object.hasOwnProperty.call(a,"number")&&j.uint32(16).int32(a.number),a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.EnumValueOptions.encode(a.options,j.uint32(26).fork()).ldelim(),j},ue.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},ue.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.EnumValueDescriptorProto;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.number=a.int32();break;case 3:o.options=g.google.protobuf.EnumValueOptions.decode(a,a.uint32());break;default:a.skipType(7&I)}}return o},ue.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},ue.verify=function(a){return typeof a!="object"||a===null?"object expected":a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name)?"name: string expected":a.number!=null&&a.hasOwnProperty("number")&&!p.isInteger(a.number)?"number: integer expected":a.options!=null&&a.hasOwnProperty("options")&&(a=g.google.protobuf.EnumValueOptions.verify(a.options),a)?"options."+a:null},ue.fromObject=function(a){if(a instanceof g.google.protobuf.EnumValueDescriptorProto)return a;var j=new g.google.protobuf.EnumValueDescriptorProto;if(a.name!=null&&(j.name=String(a.name)),a.number!=null&&(j.number=0|a.number),a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");j.options=g.google.protobuf.EnumValueOptions.fromObject(a.options)}return j},ue.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name="",G.number=0,G.options=null),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.number!=null&&a.hasOwnProperty("number")&&(G.number=a.number),a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.EnumValueOptions.toObject(a.options,j)),G},ue.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ue),y.ServiceDescriptorProto=(fe.prototype.name="",fe.prototype.method=p.emptyArray,fe.prototype.options=null,fe.create=function(a){return new fe(a)},fe.encode=function(a,j){if(j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.method!=null&&a.method.length)for(var G=0;G<a.method.length;++G)g.google.protobuf.MethodDescriptorProto.encode(a.method[G],j.uint32(18).fork()).ldelim();return a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.ServiceOptions.encode(a.options,j.uint32(26).fork()).ldelim(),j},fe.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},fe.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.ServiceDescriptorProto;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.method&&o.method.length||(o.method=[]),o.method.push(g.google.protobuf.MethodDescriptorProto.decode(a,a.uint32()));break;case 3:o.options=g.google.protobuf.ServiceOptions.decode(a,a.uint32());break;default:a.skipType(7&I)}}return o},fe.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},fe.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name))return"name: string expected";if(a.method!=null&&a.hasOwnProperty("method")){if(!Array.isArray(a.method))return"method: array expected";for(var j=0;j<a.method.length;++j)if(G=g.google.protobuf.MethodDescriptorProto.verify(a.method[j]))return"method."+G}var G;return a.options!=null&&a.hasOwnProperty("options")&&(G=g.google.protobuf.ServiceOptions.verify(a.options))?"options."+G:null},fe.fromObject=function(a){if(a instanceof g.google.protobuf.ServiceDescriptorProto)return a;var j=new g.google.protobuf.ServiceDescriptorProto;if(a.name!=null&&(j.name=String(a.name)),a.method){if(!Array.isArray(a.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");j.method=[];for(var G=0;G<a.method.length;++G){if(typeof a.method[G]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");j.method[G]=g.google.protobuf.MethodDescriptorProto.fromObject(a.method[G])}}if(a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");j.options=g.google.protobuf.ServiceOptions.fromObject(a.options)}return j},fe.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.method=[]),j.defaults&&(G.name="",G.options=null),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.method&&a.method.length){G.method=[];for(var o=0;o<a.method.length;++o)G.method[o]=g.google.protobuf.MethodDescriptorProto.toObject(a.method[o],j)}return a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.ServiceOptions.toObject(a.options,j)),G},fe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},fe),y.MethodDescriptorProto=(de.prototype.name="",de.prototype.inputType="",de.prototype.outputType="",de.prototype.options=null,de.prototype.clientStreaming=!1,de.prototype.serverStreaming=!1,de.create=function(a){return new de(a)},de.encode=function(a,j){return j=j||v.create(),a.name!=null&&Object.hasOwnProperty.call(a,"name")&&j.uint32(10).string(a.name),a.inputType!=null&&Object.hasOwnProperty.call(a,"inputType")&&j.uint32(18).string(a.inputType),a.outputType!=null&&Object.hasOwnProperty.call(a,"outputType")&&j.uint32(26).string(a.outputType),a.options!=null&&Object.hasOwnProperty.call(a,"options")&&g.google.protobuf.MethodOptions.encode(a.options,j.uint32(34).fork()).ldelim(),a.clientStreaming!=null&&Object.hasOwnProperty.call(a,"clientStreaming")&&j.uint32(40).bool(a.clientStreaming),a.serverStreaming!=null&&Object.hasOwnProperty.call(a,"serverStreaming")&&j.uint32(48).bool(a.serverStreaming),j},de.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},de.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.MethodDescriptorProto;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.name=a.string();break;case 2:o.inputType=a.string();break;case 3:o.outputType=a.string();break;case 4:o.options=g.google.protobuf.MethodOptions.decode(a,a.uint32());break;case 5:o.clientStreaming=a.bool();break;case 6:o.serverStreaming=a.bool();break;default:a.skipType(7&I)}}return o},de.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},de.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")&&!p.isString(a.name))return"name: string expected";if(a.inputType!=null&&a.hasOwnProperty("inputType")&&!p.isString(a.inputType))return"inputType: string expected";if(a.outputType!=null&&a.hasOwnProperty("outputType")&&!p.isString(a.outputType))return"outputType: string expected";if(a.options!=null&&a.hasOwnProperty("options")){var j=g.google.protobuf.MethodOptions.verify(a.options);if(j)return"options."+j}return a.clientStreaming!=null&&a.hasOwnProperty("clientStreaming")&&typeof a.clientStreaming!="boolean"?"clientStreaming: boolean expected":a.serverStreaming!=null&&a.hasOwnProperty("serverStreaming")&&typeof a.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},de.fromObject=function(a){if(a instanceof g.google.protobuf.MethodDescriptorProto)return a;var j=new g.google.protobuf.MethodDescriptorProto;if(a.name!=null&&(j.name=String(a.name)),a.inputType!=null&&(j.inputType=String(a.inputType)),a.outputType!=null&&(j.outputType=String(a.outputType)),a.options!=null){if(typeof a.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");j.options=g.google.protobuf.MethodOptions.fromObject(a.options)}return a.clientStreaming!=null&&(j.clientStreaming=!!a.clientStreaming),a.serverStreaming!=null&&(j.serverStreaming=!!a.serverStreaming),j},de.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.name="",G.inputType="",G.outputType="",G.options=null,G.clientStreaming=!1,G.serverStreaming=!1),a.name!=null&&a.hasOwnProperty("name")&&(G.name=a.name),a.inputType!=null&&a.hasOwnProperty("inputType")&&(G.inputType=a.inputType),a.outputType!=null&&a.hasOwnProperty("outputType")&&(G.outputType=a.outputType),a.options!=null&&a.hasOwnProperty("options")&&(G.options=g.google.protobuf.MethodOptions.toObject(a.options,j)),a.clientStreaming!=null&&a.hasOwnProperty("clientStreaming")&&(G.clientStreaming=a.clientStreaming),a.serverStreaming!=null&&a.hasOwnProperty("serverStreaming")&&(G.serverStreaming=a.serverStreaming),G},de.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},de),y.FileOptions=(ge.prototype.javaPackage="",ge.prototype.javaOuterClassname="",ge.prototype.javaMultipleFiles=!1,ge.prototype.javaGenerateEqualsAndHash=!1,ge.prototype.javaStringCheckUtf8=!1,ge.prototype.optimizeFor=1,ge.prototype.goPackage="",ge.prototype.ccGenericServices=!1,ge.prototype.javaGenericServices=!1,ge.prototype.pyGenericServices=!1,ge.prototype.phpGenericServices=!1,ge.prototype.deprecated=!1,ge.prototype.ccEnableArenas=!0,ge.prototype.objcClassPrefix="",ge.prototype.csharpNamespace="",ge.prototype.swiftPrefix="",ge.prototype.phpClassPrefix="",ge.prototype.phpNamespace="",ge.prototype.phpMetadataNamespace="",ge.prototype.rubyPackage="",ge.prototype.uninterpretedOption=p.emptyArray,ge.create=function(a){return new ge(a)},ge.encode=function(a,j){if(j=j||v.create(),a.javaPackage!=null&&Object.hasOwnProperty.call(a,"javaPackage")&&j.uint32(10).string(a.javaPackage),a.javaOuterClassname!=null&&Object.hasOwnProperty.call(a,"javaOuterClassname")&&j.uint32(66).string(a.javaOuterClassname),a.optimizeFor!=null&&Object.hasOwnProperty.call(a,"optimizeFor")&&j.uint32(72).int32(a.optimizeFor),a.javaMultipleFiles!=null&&Object.hasOwnProperty.call(a,"javaMultipleFiles")&&j.uint32(80).bool(a.javaMultipleFiles),a.goPackage!=null&&Object.hasOwnProperty.call(a,"goPackage")&&j.uint32(90).string(a.goPackage),a.ccGenericServices!=null&&Object.hasOwnProperty.call(a,"ccGenericServices")&&j.uint32(128).bool(a.ccGenericServices),a.javaGenericServices!=null&&Object.hasOwnProperty.call(a,"javaGenericServices")&&j.uint32(136).bool(a.javaGenericServices),a.pyGenericServices!=null&&Object.hasOwnProperty.call(a,"pyGenericServices")&&j.uint32(144).bool(a.pyGenericServices),a.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(a,"javaGenerateEqualsAndHash")&&j.uint32(160).bool(a.javaGenerateEqualsAndHash),a.deprecated!=null&&Object.hasOwnProperty.call(a,"deprecated")&&j.uint32(184).bool(a.deprecated),a.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(a,"javaStringCheckUtf8")&&j.uint32(216).bool(a.javaStringCheckUtf8),a.ccEnableArenas!=null&&Object.hasOwnProperty.call(a,"ccEnableArenas")&&j.uint32(248).bool(a.ccEnableArenas),a.objcClassPrefix!=null&&Object.hasOwnProperty.call(a,"objcClassPrefix")&&j.uint32(290).string(a.objcClassPrefix),a.csharpNamespace!=null&&Object.hasOwnProperty.call(a,"csharpNamespace")&&j.uint32(298).string(a.csharpNamespace),a.swiftPrefix!=null&&Object.hasOwnProperty.call(a,"swiftPrefix")&&j.uint32(314).string(a.swiftPrefix),a.phpClassPrefix!=null&&Object.hasOwnProperty.call(a,"phpClassPrefix")&&j.uint32(322).string(a.phpClassPrefix),a.phpNamespace!=null&&Object.hasOwnProperty.call(a,"phpNamespace")&&j.uint32(330).string(a.phpNamespace),a.phpGenericServices!=null&&Object.hasOwnProperty.call(a,"phpGenericServices")&&j.uint32(336).bool(a.phpGenericServices),a.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(a,"phpMetadataNamespace")&&j.uint32(354).string(a.phpMetadataNamespace),a.rubyPackage!=null&&Object.hasOwnProperty.call(a,"rubyPackage")&&j.uint32(362).string(a.rubyPackage),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();return j},ge.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},ge.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.FileOptions;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.javaPackage=a.string();break;case 8:o.javaOuterClassname=a.string();break;case 10:o.javaMultipleFiles=a.bool();break;case 20:o.javaGenerateEqualsAndHash=a.bool();break;case 27:o.javaStringCheckUtf8=a.bool();break;case 9:o.optimizeFor=a.int32();break;case 11:o.goPackage=a.string();break;case 16:o.ccGenericServices=a.bool();break;case 17:o.javaGenericServices=a.bool();break;case 18:o.pyGenericServices=a.bool();break;case 42:o.phpGenericServices=a.bool();break;case 23:o.deprecated=a.bool();break;case 31:o.ccEnableArenas=a.bool();break;case 36:o.objcClassPrefix=a.string();break;case 37:o.csharpNamespace=a.string();break;case 39:o.swiftPrefix=a.string();break;case 40:o.phpClassPrefix=a.string();break;case 41:o.phpNamespace=a.string();break;case 44:o.phpMetadataNamespace=a.string();break;case 45:o.rubyPackage=a.string();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()));break;default:a.skipType(7&I)}}return o},ge.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},ge.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.javaPackage!=null&&a.hasOwnProperty("javaPackage")&&!p.isString(a.javaPackage))return"javaPackage: string expected";if(a.javaOuterClassname!=null&&a.hasOwnProperty("javaOuterClassname")&&!p.isString(a.javaOuterClassname))return"javaOuterClassname: string expected";if(a.javaMultipleFiles!=null&&a.hasOwnProperty("javaMultipleFiles")&&typeof a.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(a.javaGenerateEqualsAndHash!=null&&a.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof a.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(a.javaStringCheckUtf8!=null&&a.hasOwnProperty("javaStringCheckUtf8")&&typeof a.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(a.optimizeFor!=null&&a.hasOwnProperty("optimizeFor"))switch(a.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(a.goPackage!=null&&a.hasOwnProperty("goPackage")&&!p.isString(a.goPackage))return"goPackage: string expected";if(a.ccGenericServices!=null&&a.hasOwnProperty("ccGenericServices")&&typeof a.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(a.javaGenericServices!=null&&a.hasOwnProperty("javaGenericServices")&&typeof a.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(a.pyGenericServices!=null&&a.hasOwnProperty("pyGenericServices")&&typeof a.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(a.phpGenericServices!=null&&a.hasOwnProperty("phpGenericServices")&&typeof a.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(a.deprecated!=null&&a.hasOwnProperty("deprecated")&&typeof a.deprecated!="boolean")return"deprecated: boolean expected";if(a.ccEnableArenas!=null&&a.hasOwnProperty("ccEnableArenas")&&typeof a.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(a.objcClassPrefix!=null&&a.hasOwnProperty("objcClassPrefix")&&!p.isString(a.objcClassPrefix))return"objcClassPrefix: string expected";if(a.csharpNamespace!=null&&a.hasOwnProperty("csharpNamespace")&&!p.isString(a.csharpNamespace))return"csharpNamespace: string expected";if(a.swiftPrefix!=null&&a.hasOwnProperty("swiftPrefix")&&!p.isString(a.swiftPrefix))return"swiftPrefix: string expected";if(a.phpClassPrefix!=null&&a.hasOwnProperty("phpClassPrefix")&&!p.isString(a.phpClassPrefix))return"phpClassPrefix: string expected";if(a.phpNamespace!=null&&a.hasOwnProperty("phpNamespace")&&!p.isString(a.phpNamespace))return"phpNamespace: string expected";if(a.phpMetadataNamespace!=null&&a.hasOwnProperty("phpMetadataNamespace")&&!p.isString(a.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(a.rubyPackage!=null&&a.hasOwnProperty("rubyPackage")&&!p.isString(a.rubyPackage))return"rubyPackage: string expected";if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j){var G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]);if(G)return"uninterpretedOption."+G}}return null},ge.fromObject=function(a){if(a instanceof g.google.protobuf.FileOptions)return a;var j=new g.google.protobuf.FileOptions;switch(a.javaPackage!=null&&(j.javaPackage=String(a.javaPackage)),a.javaOuterClassname!=null&&(j.javaOuterClassname=String(a.javaOuterClassname)),a.javaMultipleFiles!=null&&(j.javaMultipleFiles=!!a.javaMultipleFiles),a.javaGenerateEqualsAndHash!=null&&(j.javaGenerateEqualsAndHash=!!a.javaGenerateEqualsAndHash),a.javaStringCheckUtf8!=null&&(j.javaStringCheckUtf8=!!a.javaStringCheckUtf8),a.optimizeFor){case"SPEED":case 1:j.optimizeFor=1;break;case"CODE_SIZE":case 2:j.optimizeFor=2;break;case"LITE_RUNTIME":case 3:j.optimizeFor=3}if(a.goPackage!=null&&(j.goPackage=String(a.goPackage)),a.ccGenericServices!=null&&(j.ccGenericServices=!!a.ccGenericServices),a.javaGenericServices!=null&&(j.javaGenericServices=!!a.javaGenericServices),a.pyGenericServices!=null&&(j.pyGenericServices=!!a.pyGenericServices),a.phpGenericServices!=null&&(j.phpGenericServices=!!a.phpGenericServices),a.deprecated!=null&&(j.deprecated=!!a.deprecated),a.ccEnableArenas!=null&&(j.ccEnableArenas=!!a.ccEnableArenas),a.objcClassPrefix!=null&&(j.objcClassPrefix=String(a.objcClassPrefix)),a.csharpNamespace!=null&&(j.csharpNamespace=String(a.csharpNamespace)),a.swiftPrefix!=null&&(j.swiftPrefix=String(a.swiftPrefix)),a.phpClassPrefix!=null&&(j.phpClassPrefix=String(a.phpClassPrefix)),a.phpNamespace!=null&&(j.phpNamespace=String(a.phpNamespace)),a.phpMetadataNamespace!=null&&(j.phpMetadataNamespace=String(a.phpMetadataNamespace)),a.rubyPackage!=null&&(j.rubyPackage=String(a.rubyPackage)),a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}return j},ge.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[]),j.defaults&&(G.javaPackage="",G.javaOuterClassname="",G.optimizeFor=j.enums===String?"SPEED":1,G.javaMultipleFiles=!1,G.goPackage="",G.ccGenericServices=!1,G.javaGenericServices=!1,G.pyGenericServices=!1,G.javaGenerateEqualsAndHash=!1,G.deprecated=!1,G.javaStringCheckUtf8=!1,G.ccEnableArenas=!0,G.objcClassPrefix="",G.csharpNamespace="",G.swiftPrefix="",G.phpClassPrefix="",G.phpNamespace="",G.phpGenericServices=!1,G.phpMetadataNamespace="",G.rubyPackage=""),a.javaPackage!=null&&a.hasOwnProperty("javaPackage")&&(G.javaPackage=a.javaPackage),a.javaOuterClassname!=null&&a.hasOwnProperty("javaOuterClassname")&&(G.javaOuterClassname=a.javaOuterClassname),a.optimizeFor!=null&&a.hasOwnProperty("optimizeFor")&&(G.optimizeFor=j.enums===String?g.google.protobuf.FileOptions.OptimizeMode[a.optimizeFor]:a.optimizeFor),a.javaMultipleFiles!=null&&a.hasOwnProperty("javaMultipleFiles")&&(G.javaMultipleFiles=a.javaMultipleFiles),a.goPackage!=null&&a.hasOwnProperty("goPackage")&&(G.goPackage=a.goPackage),a.ccGenericServices!=null&&a.hasOwnProperty("ccGenericServices")&&(G.ccGenericServices=a.ccGenericServices),a.javaGenericServices!=null&&a.hasOwnProperty("javaGenericServices")&&(G.javaGenericServices=a.javaGenericServices),a.pyGenericServices!=null&&a.hasOwnProperty("pyGenericServices")&&(G.pyGenericServices=a.pyGenericServices),a.javaGenerateEqualsAndHash!=null&&a.hasOwnProperty("javaGenerateEqualsAndHash")&&(G.javaGenerateEqualsAndHash=a.javaGenerateEqualsAndHash),a.deprecated!=null&&a.hasOwnProperty("deprecated")&&(G.deprecated=a.deprecated),a.javaStringCheckUtf8!=null&&a.hasOwnProperty("javaStringCheckUtf8")&&(G.javaStringCheckUtf8=a.javaStringCheckUtf8),a.ccEnableArenas!=null&&a.hasOwnProperty("ccEnableArenas")&&(G.ccEnableArenas=a.ccEnableArenas),a.objcClassPrefix!=null&&a.hasOwnProperty("objcClassPrefix")&&(G.objcClassPrefix=a.objcClassPrefix),a.csharpNamespace!=null&&a.hasOwnProperty("csharpNamespace")&&(G.csharpNamespace=a.csharpNamespace),a.swiftPrefix!=null&&a.hasOwnProperty("swiftPrefix")&&(G.swiftPrefix=a.swiftPrefix),a.phpClassPrefix!=null&&a.hasOwnProperty("phpClassPrefix")&&(G.phpClassPrefix=a.phpClassPrefix),a.phpNamespace!=null&&a.hasOwnProperty("phpNamespace")&&(G.phpNamespace=a.phpNamespace),a.phpGenericServices!=null&&a.hasOwnProperty("phpGenericServices")&&(G.phpGenericServices=a.phpGenericServices),a.phpMetadataNamespace!=null&&a.hasOwnProperty("phpMetadataNamespace")&&(G.phpMetadataNamespace=a.phpMetadataNamespace),a.rubyPackage!=null&&a.hasOwnProperty("rubyPackage")&&(G.rubyPackage=a.rubyPackage),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}return G},ge.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ge.OptimizeMode=(O={},(d=Object.create(O))[O[1]="SPEED"]=1,d[O[2]="CODE_SIZE"]=2,d[O[3]="LITE_RUNTIME"]=3,d),ge),y.MessageOptions=(me.prototype.messageSetWireFormat=!1,me.prototype.noStandardDescriptorAccessor=!1,me.prototype.deprecated=!1,me.prototype.mapEntry=!1,me.prototype.uninterpretedOption=p.emptyArray,me.create=function(a){return new me(a)},me.encode=function(a,j){if(j=j||v.create(),a.messageSetWireFormat!=null&&Object.hasOwnProperty.call(a,"messageSetWireFormat")&&j.uint32(8).bool(a.messageSetWireFormat),a.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(a,"noStandardDescriptorAccessor")&&j.uint32(16).bool(a.noStandardDescriptorAccessor),a.deprecated!=null&&Object.hasOwnProperty.call(a,"deprecated")&&j.uint32(24).bool(a.deprecated),a.mapEntry!=null&&Object.hasOwnProperty.call(a,"mapEntry")&&j.uint32(56).bool(a.mapEntry),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();return j},me.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},me.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.MessageOptions;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.messageSetWireFormat=a.bool();break;case 2:o.noStandardDescriptorAccessor=a.bool();break;case 3:o.deprecated=a.bool();break;case 7:o.mapEntry=a.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()));break;default:a.skipType(7&I)}}return o},me.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},me.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.messageSetWireFormat!=null&&a.hasOwnProperty("messageSetWireFormat")&&typeof a.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(a.noStandardDescriptorAccessor!=null&&a.hasOwnProperty("noStandardDescriptorAccessor")&&typeof a.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(a.deprecated!=null&&a.hasOwnProperty("deprecated")&&typeof a.deprecated!="boolean")return"deprecated: boolean expected";if(a.mapEntry!=null&&a.hasOwnProperty("mapEntry")&&typeof a.mapEntry!="boolean")return"mapEntry: boolean expected";if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j){var G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]);if(G)return"uninterpretedOption."+G}}return null},me.fromObject=function(a){if(a instanceof g.google.protobuf.MessageOptions)return a;var j=new g.google.protobuf.MessageOptions;if(a.messageSetWireFormat!=null&&(j.messageSetWireFormat=!!a.messageSetWireFormat),a.noStandardDescriptorAccessor!=null&&(j.noStandardDescriptorAccessor=!!a.noStandardDescriptorAccessor),a.deprecated!=null&&(j.deprecated=!!a.deprecated),a.mapEntry!=null&&(j.mapEntry=!!a.mapEntry),a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}return j},me.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[]),j.defaults&&(G.messageSetWireFormat=!1,G.noStandardDescriptorAccessor=!1,G.deprecated=!1,G.mapEntry=!1),a.messageSetWireFormat!=null&&a.hasOwnProperty("messageSetWireFormat")&&(G.messageSetWireFormat=a.messageSetWireFormat),a.noStandardDescriptorAccessor!=null&&a.hasOwnProperty("noStandardDescriptorAccessor")&&(G.noStandardDescriptorAccessor=a.noStandardDescriptorAccessor),a.deprecated!=null&&a.hasOwnProperty("deprecated")&&(G.deprecated=a.deprecated),a.mapEntry!=null&&a.hasOwnProperty("mapEntry")&&(G.mapEntry=a.mapEntry),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}return G},me.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},me),y.FieldOptions=(_e.prototype.ctype=0,_e.prototype.packed=!1,_e.prototype.jstype=0,_e.prototype.lazy=!1,_e.prototype.deprecated=!1,_e.prototype.weak=!1,_e.prototype.uninterpretedOption=p.emptyArray,_e.create=function(a){return new _e(a)},_e.encode=function(a,j){if(j=j||v.create(),a.ctype!=null&&Object.hasOwnProperty.call(a,"ctype")&&j.uint32(8).int32(a.ctype),a.packed!=null&&Object.hasOwnProperty.call(a,"packed")&&j.uint32(16).bool(a.packed),a.deprecated!=null&&Object.hasOwnProperty.call(a,"deprecated")&&j.uint32(24).bool(a.deprecated),a.lazy!=null&&Object.hasOwnProperty.call(a,"lazy")&&j.uint32(40).bool(a.lazy),a.jstype!=null&&Object.hasOwnProperty.call(a,"jstype")&&j.uint32(48).int32(a.jstype),a.weak!=null&&Object.hasOwnProperty.call(a,"weak")&&j.uint32(80).bool(a.weak),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();return j},_e.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},_e.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.FieldOptions;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.ctype=a.int32();break;case 2:o.packed=a.bool();break;case 6:o.jstype=a.int32();break;case 5:o.lazy=a.bool();break;case 3:o.deprecated=a.bool();break;case 10:o.weak=a.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()));break;default:a.skipType(7&I)}}return o},_e.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},_e.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.ctype!=null&&a.hasOwnProperty("ctype"))switch(a.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(a.packed!=null&&a.hasOwnProperty("packed")&&typeof a.packed!="boolean")return"packed: boolean expected";if(a.jstype!=null&&a.hasOwnProperty("jstype"))switch(a.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(a.lazy!=null&&a.hasOwnProperty("lazy")&&typeof a.lazy!="boolean")return"lazy: boolean expected";if(a.deprecated!=null&&a.hasOwnProperty("deprecated")&&typeof a.deprecated!="boolean")return"deprecated: boolean expected";if(a.weak!=null&&a.hasOwnProperty("weak")&&typeof a.weak!="boolean")return"weak: boolean expected";if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j){var G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]);if(G)return"uninterpretedOption."+G}}return null},_e.fromObject=function(a){if(a instanceof g.google.protobuf.FieldOptions)return a;var j=new g.google.protobuf.FieldOptions;switch(a.ctype){case"STRING":case 0:j.ctype=0;break;case"CORD":case 1:j.ctype=1;break;case"STRING_PIECE":case 2:j.ctype=2}switch(a.packed!=null&&(j.packed=!!a.packed),a.jstype){case"JS_NORMAL":case 0:j.jstype=0;break;case"JS_STRING":case 1:j.jstype=1;break;case"JS_NUMBER":case 2:j.jstype=2}if(a.lazy!=null&&(j.lazy=!!a.lazy),a.deprecated!=null&&(j.deprecated=!!a.deprecated),a.weak!=null&&(j.weak=!!a.weak),a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}return j},_e.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[]),j.defaults&&(G.ctype=j.enums===String?"STRING":0,G.packed=!1,G.deprecated=!1,G.lazy=!1,G.jstype=j.enums===String?"JS_NORMAL":0,G.weak=!1),a.ctype!=null&&a.hasOwnProperty("ctype")&&(G.ctype=j.enums===String?g.google.protobuf.FieldOptions.CType[a.ctype]:a.ctype),a.packed!=null&&a.hasOwnProperty("packed")&&(G.packed=a.packed),a.deprecated!=null&&a.hasOwnProperty("deprecated")&&(G.deprecated=a.deprecated),a.lazy!=null&&a.hasOwnProperty("lazy")&&(G.lazy=a.lazy),a.jstype!=null&&a.hasOwnProperty("jstype")&&(G.jstype=j.enums===String?g.google.protobuf.FieldOptions.JSType[a.jstype]:a.jstype),a.weak!=null&&a.hasOwnProperty("weak")&&(G.weak=a.weak),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}return G},_e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},_e.CType=(O={},(d=Object.create(O))[O[0]="STRING"]=0,d[O[1]="CORD"]=1,d[O[2]="STRING_PIECE"]=2,d),_e.JSType=(O={},(d=Object.create(O))[O[0]="JS_NORMAL"]=0,d[O[1]="JS_STRING"]=1,d[O[2]="JS_NUMBER"]=2,d),_e),y.OneofOptions=(we.prototype.uninterpretedOption=p.emptyArray,we.create=function(a){return new we(a)},we.encode=function(a,j){if(j=j||v.create(),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();return j},we.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},we.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.OneofOptions;a.pos<G;){var I=a.uint32();I>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()))):a.skipType(7&I)}return o},we.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},we.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j){var G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]);if(G)return"uninterpretedOption."+G}}return null},we.fromObject=function(a){if(a instanceof g.google.protobuf.OneofOptions)return a;var j=new g.google.protobuf.OneofOptions;if(a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}return j},we.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[]),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}return G},we.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},we),y.EnumOptions=(Re.prototype.allowAlias=!1,Re.prototype.deprecated=!1,Re.prototype.uninterpretedOption=p.emptyArray,Re.create=function(a){return new Re(a)},Re.encode=function(a,j){if(j=j||v.create(),a.allowAlias!=null&&Object.hasOwnProperty.call(a,"allowAlias")&&j.uint32(16).bool(a.allowAlias),a.deprecated!=null&&Object.hasOwnProperty.call(a,"deprecated")&&j.uint32(24).bool(a.deprecated),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();return j},Re.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},Re.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.EnumOptions;a.pos<G;){var I=a.uint32();switch(I>>>3){case 2:o.allowAlias=a.bool();break;case 3:o.deprecated=a.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()));break;default:a.skipType(7&I)}}return o},Re.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},Re.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.allowAlias!=null&&a.hasOwnProperty("allowAlias")&&typeof a.allowAlias!="boolean")return"allowAlias: boolean expected";if(a.deprecated!=null&&a.hasOwnProperty("deprecated")&&typeof a.deprecated!="boolean")return"deprecated: boolean expected";if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j){var G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]);if(G)return"uninterpretedOption."+G}}return null},Re.fromObject=function(a){if(a instanceof g.google.protobuf.EnumOptions)return a;var j=new g.google.protobuf.EnumOptions;if(a.allowAlias!=null&&(j.allowAlias=!!a.allowAlias),a.deprecated!=null&&(j.deprecated=!!a.deprecated),a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}return j},Re.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[]),j.defaults&&(G.allowAlias=!1,G.deprecated=!1),a.allowAlias!=null&&a.hasOwnProperty("allowAlias")&&(G.allowAlias=a.allowAlias),a.deprecated!=null&&a.hasOwnProperty("deprecated")&&(G.deprecated=a.deprecated),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}return G},Re.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Re),y.EnumValueOptions=(Te.prototype.deprecated=!1,Te.prototype.uninterpretedOption=p.emptyArray,Te.create=function(a){return new Te(a)},Te.encode=function(a,j){if(j=j||v.create(),a.deprecated!=null&&Object.hasOwnProperty.call(a,"deprecated")&&j.uint32(8).bool(a.deprecated),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();return j},Te.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},Te.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.EnumValueOptions;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.deprecated=a.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()));break;default:a.skipType(7&I)}}return o},Te.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},Te.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.deprecated!=null&&a.hasOwnProperty("deprecated")&&typeof a.deprecated!="boolean")return"deprecated: boolean expected";if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j){var G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]);if(G)return"uninterpretedOption."+G}}return null},Te.fromObject=function(a){if(a instanceof g.google.protobuf.EnumValueOptions)return a;var j=new g.google.protobuf.EnumValueOptions;if(a.deprecated!=null&&(j.deprecated=!!a.deprecated),a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}return j},Te.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[]),j.defaults&&(G.deprecated=!1),a.deprecated!=null&&a.hasOwnProperty("deprecated")&&(G.deprecated=a.deprecated),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}return G},Te.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Te),y.ServiceOptions=(Ae.prototype.deprecated=!1,Ae.prototype.uninterpretedOption=p.emptyArray,Ae.prototype[".google.api.defaultHost"]="",Ae.prototype[".google.api.oauthScopes"]="",Ae.create=function(a){return new Ae(a)},Ae.encode=function(a,j){if(j=j||v.create(),a.deprecated!=null&&Object.hasOwnProperty.call(a,"deprecated")&&j.uint32(264).bool(a.deprecated),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();return a[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(a,".google.api.defaultHost")&&j.uint32(8394).string(a[".google.api.defaultHost"]),a[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(a,".google.api.oauthScopes")&&j.uint32(8402).string(a[".google.api.oauthScopes"]),j},Ae.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},Ae.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.ServiceOptions;a.pos<G;){var I=a.uint32();switch(I>>>3){case 33:o.deprecated=a.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()));break;case 1049:o[".google.api.defaultHost"]=a.string();break;case 1050:o[".google.api.oauthScopes"]=a.string();break;default:a.skipType(7&I)}}return o},Ae.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},Ae.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.deprecated!=null&&a.hasOwnProperty("deprecated")&&typeof a.deprecated!="boolean")return"deprecated: boolean expected";if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j){var G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]);if(G)return"uninterpretedOption."+G}}return a[".google.api.defaultHost"]!=null&&a.hasOwnProperty(".google.api.defaultHost")&&!p.isString(a[".google.api.defaultHost"])?".google.api.defaultHost: string expected":a[".google.api.oauthScopes"]!=null&&a.hasOwnProperty(".google.api.oauthScopes")&&!p.isString(a[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},Ae.fromObject=function(a){if(a instanceof g.google.protobuf.ServiceOptions)return a;var j=new g.google.protobuf.ServiceOptions;if(a.deprecated!=null&&(j.deprecated=!!a.deprecated),a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}return a[".google.api.defaultHost"]!=null&&(j[".google.api.defaultHost"]=String(a[".google.api.defaultHost"])),a[".google.api.oauthScopes"]!=null&&(j[".google.api.oauthScopes"]=String(a[".google.api.oauthScopes"])),j},Ae.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[]),j.defaults&&(G.deprecated=!1,G[".google.api.defaultHost"]="",G[".google.api.oauthScopes"]=""),a.deprecated!=null&&a.hasOwnProperty("deprecated")&&(G.deprecated=a.deprecated),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}return a[".google.api.defaultHost"]!=null&&a.hasOwnProperty(".google.api.defaultHost")&&(G[".google.api.defaultHost"]=a[".google.api.defaultHost"]),a[".google.api.oauthScopes"]!=null&&a.hasOwnProperty(".google.api.oauthScopes")&&(G[".google.api.oauthScopes"]=a[".google.api.oauthScopes"]),G},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ae),y.MethodOptions=(Oe.prototype.deprecated=!1,Oe.prototype.idempotencyLevel=0,Oe.prototype.uninterpretedOption=p.emptyArray,Oe.prototype[".google.longrunning.operationInfo"]=null,Oe.prototype[".google.api.http"]=null,Oe.prototype[".google.api.methodSignature"]=p.emptyArray,Oe.create=function(a){return new Oe(a)},Oe.encode=function(a,j){if(j=j||v.create(),a.deprecated!=null&&Object.hasOwnProperty.call(a,"deprecated")&&j.uint32(264).bool(a.deprecated),a.idempotencyLevel!=null&&Object.hasOwnProperty.call(a,"idempotencyLevel")&&j.uint32(272).int32(a.idempotencyLevel),a.uninterpretedOption!=null&&a.uninterpretedOption.length)for(var G=0;G<a.uninterpretedOption.length;++G)g.google.protobuf.UninterpretedOption.encode(a.uninterpretedOption[G],j.uint32(7994).fork()).ldelim();if(a[".google.longrunning.operationInfo"]!=null&&Object.hasOwnProperty.call(a,".google.longrunning.operationInfo")&&g.google.longrunning.OperationInfo.encode(a[".google.longrunning.operationInfo"],j.uint32(8394).fork()).ldelim(),a[".google.api.methodSignature"]!=null&&a[".google.api.methodSignature"].length)for(G=0;G<a[".google.api.methodSignature"].length;++G)j.uint32(8410).string(a[".google.api.methodSignature"][G]);return a[".google.api.http"]!=null&&Object.hasOwnProperty.call(a,".google.api.http")&&g.google.api.HttpRule.encode(a[".google.api.http"],j.uint32(578365826).fork()).ldelim(),j},Oe.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},Oe.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.MethodOptions;a.pos<G;){var I=a.uint32();switch(I>>>3){case 33:o.deprecated=a.bool();break;case 34:o.idempotencyLevel=a.int32();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(a,a.uint32()));break;case 1049:o[".google.longrunning.operationInfo"]=g.google.longrunning.OperationInfo.decode(a,a.uint32());break;case 72295728:o[".google.api.http"]=g.google.api.HttpRule.decode(a,a.uint32());break;case 1051:o[".google.api.methodSignature"]&&o[".google.api.methodSignature"].length||(o[".google.api.methodSignature"]=[]),o[".google.api.methodSignature"].push(a.string());break;default:a.skipType(7&I)}}return o},Oe.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},Oe.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.deprecated!=null&&a.hasOwnProperty("deprecated")&&typeof a.deprecated!="boolean")return"deprecated: boolean expected";if(a.idempotencyLevel!=null&&a.hasOwnProperty("idempotencyLevel"))switch(a.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(a.uninterpretedOption!=null&&a.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(a.uninterpretedOption))return"uninterpretedOption: array expected";for(var j=0;j<a.uninterpretedOption.length;++j)if(G=g.google.protobuf.UninterpretedOption.verify(a.uninterpretedOption[j]))return"uninterpretedOption."+G}var G;if(a[".google.longrunning.operationInfo"]!=null&&a.hasOwnProperty(".google.longrunning.operationInfo")&&(G=g.google.longrunning.OperationInfo.verify(a[".google.longrunning.operationInfo"])))return".google.longrunning.operationInfo."+G;if(a[".google.api.http"]!=null&&a.hasOwnProperty(".google.api.http")&&(G=g.google.api.HttpRule.verify(a[".google.api.http"])))return".google.api.http."+G;if(a[".google.api.methodSignature"]!=null&&a.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(a[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(j=0;j<a[".google.api.methodSignature"].length;++j)if(!p.isString(a[".google.api.methodSignature"][j]))return".google.api.methodSignature: string[] expected"}return null},Oe.fromObject=function(a){if(a instanceof g.google.protobuf.MethodOptions)return a;var j=new g.google.protobuf.MethodOptions;switch(a.deprecated!=null&&(j.deprecated=!!a.deprecated),a.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:j.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:j.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:j.idempotencyLevel=2}if(a.uninterpretedOption){if(!Array.isArray(a.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");j.uninterpretedOption=[];for(var G=0;G<a.uninterpretedOption.length;++G){if(typeof a.uninterpretedOption[G]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");j.uninterpretedOption[G]=g.google.protobuf.UninterpretedOption.fromObject(a.uninterpretedOption[G])}}if(a[".google.longrunning.operationInfo"]!=null){if(typeof a[".google.longrunning.operationInfo"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");j[".google.longrunning.operationInfo"]=g.google.longrunning.OperationInfo.fromObject(a[".google.longrunning.operationInfo"])}if(a[".google.api.http"]!=null){if(typeof a[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");j[".google.api.http"]=g.google.api.HttpRule.fromObject(a[".google.api.http"])}if(a[".google.api.methodSignature"]){if(!Array.isArray(a[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(j[".google.api.methodSignature"]=[],G=0;G<a[".google.api.methodSignature"].length;++G)j[".google.api.methodSignature"][G]=String(a[".google.api.methodSignature"][G])}return j},Oe.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.uninterpretedOption=[],G[".google.api.methodSignature"]=[]),j.defaults&&(G.deprecated=!1,G.idempotencyLevel=j.enums===String?"IDEMPOTENCY_UNKNOWN":0,G[".google.longrunning.operationInfo"]=null,G[".google.api.http"]=null),a.deprecated!=null&&a.hasOwnProperty("deprecated")&&(G.deprecated=a.deprecated),a.idempotencyLevel!=null&&a.hasOwnProperty("idempotencyLevel")&&(G.idempotencyLevel=j.enums===String?g.google.protobuf.MethodOptions.IdempotencyLevel[a.idempotencyLevel]:a.idempotencyLevel),a.uninterpretedOption&&a.uninterpretedOption.length){G.uninterpretedOption=[];for(var o=0;o<a.uninterpretedOption.length;++o)G.uninterpretedOption[o]=g.google.protobuf.UninterpretedOption.toObject(a.uninterpretedOption[o],j)}if(a[".google.longrunning.operationInfo"]!=null&&a.hasOwnProperty(".google.longrunning.operationInfo")&&(G[".google.longrunning.operationInfo"]=g.google.longrunning.OperationInfo.toObject(a[".google.longrunning.operationInfo"],j)),a[".google.api.methodSignature"]&&a[".google.api.methodSignature"].length)for(G[".google.api.methodSignature"]=[],o=0;o<a[".google.api.methodSignature"].length;++o)G[".google.api.methodSignature"][o]=a[".google.api.methodSignature"][o];return a[".google.api.http"]!=null&&a.hasOwnProperty(".google.api.http")&&(G[".google.api.http"]=g.google.api.HttpRule.toObject(a[".google.api.http"],j)),G},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Oe.IdempotencyLevel=(O={},(d=Object.create(O))[O[0]="IDEMPOTENCY_UNKNOWN"]=0,d[O[1]="NO_SIDE_EFFECTS"]=1,d[O[2]="IDEMPOTENT"]=2,d),Oe),y.UninterpretedOption=(ve.prototype.name=p.emptyArray,ve.prototype.identifierValue="",ve.prototype.positiveIntValue=p.Long?p.Long.fromBits(0,0,!0):0,ve.prototype.negativeIntValue=p.Long?p.Long.fromBits(0,0,!1):0,ve.prototype.doubleValue=0,ve.prototype.stringValue=p.newBuffer([]),ve.prototype.aggregateValue="",ve.create=function(a){return new ve(a)},ve.encode=function(a,j){if(j=j||v.create(),a.name!=null&&a.name.length)for(var G=0;G<a.name.length;++G)g.google.protobuf.UninterpretedOption.NamePart.encode(a.name[G],j.uint32(18).fork()).ldelim();return a.identifierValue!=null&&Object.hasOwnProperty.call(a,"identifierValue")&&j.uint32(26).string(a.identifierValue),a.positiveIntValue!=null&&Object.hasOwnProperty.call(a,"positiveIntValue")&&j.uint32(32).uint64(a.positiveIntValue),a.negativeIntValue!=null&&Object.hasOwnProperty.call(a,"negativeIntValue")&&j.uint32(40).int64(a.negativeIntValue),a.doubleValue!=null&&Object.hasOwnProperty.call(a,"doubleValue")&&j.uint32(49).double(a.doubleValue),a.stringValue!=null&&Object.hasOwnProperty.call(a,"stringValue")&&j.uint32(58).bytes(a.stringValue),a.aggregateValue!=null&&Object.hasOwnProperty.call(a,"aggregateValue")&&j.uint32(66).string(a.aggregateValue),j},ve.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},ve.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.UninterpretedOption;a.pos<G;){var I=a.uint32();switch(I>>>3){case 2:o.name&&o.name.length||(o.name=[]),o.name.push(g.google.protobuf.UninterpretedOption.NamePart.decode(a,a.uint32()));break;case 3:o.identifierValue=a.string();break;case 4:o.positiveIntValue=a.uint64();break;case 5:o.negativeIntValue=a.int64();break;case 6:o.doubleValue=a.double();break;case 7:o.stringValue=a.bytes();break;case 8:o.aggregateValue=a.string();break;default:a.skipType(7&I)}}return o},ve.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},ve.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")){if(!Array.isArray(a.name))return"name: array expected";for(var j=0;j<a.name.length;++j){var G=g.google.protobuf.UninterpretedOption.NamePart.verify(a.name[j]);if(G)return"name."+G}}return a.identifierValue!=null&&a.hasOwnProperty("identifierValue")&&!p.isString(a.identifierValue)?"identifierValue: string expected":a.positiveIntValue!=null&&a.hasOwnProperty("positiveIntValue")&&!(p.isInteger(a.positiveIntValue)||a.positiveIntValue&&p.isInteger(a.positiveIntValue.low)&&p.isInteger(a.positiveIntValue.high))?"positiveIntValue: integer|Long expected":a.negativeIntValue!=null&&a.hasOwnProperty("negativeIntValue")&&!(p.isInteger(a.negativeIntValue)||a.negativeIntValue&&p.isInteger(a.negativeIntValue.low)&&p.isInteger(a.negativeIntValue.high))?"negativeIntValue: integer|Long expected":a.doubleValue!=null&&a.hasOwnProperty("doubleValue")&&typeof a.doubleValue!="number"?"doubleValue: number expected":a.stringValue!=null&&a.hasOwnProperty("stringValue")&&!(a.stringValue&&typeof a.stringValue.length=="number"||p.isString(a.stringValue))?"stringValue: buffer expected":a.aggregateValue!=null&&a.hasOwnProperty("aggregateValue")&&!p.isString(a.aggregateValue)?"aggregateValue: string expected":null},ve.fromObject=function(a){if(a instanceof g.google.protobuf.UninterpretedOption)return a;var j=new g.google.protobuf.UninterpretedOption;if(a.name){if(!Array.isArray(a.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");j.name=[];for(var G=0;G<a.name.length;++G){if(typeof a.name[G]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");j.name[G]=g.google.protobuf.UninterpretedOption.NamePart.fromObject(a.name[G])}}return a.identifierValue!=null&&(j.identifierValue=String(a.identifierValue)),a.positiveIntValue!=null&&(p.Long?(j.positiveIntValue=p.Long.fromValue(a.positiveIntValue)).unsigned=!0:typeof a.positiveIntValue=="string"?j.positiveIntValue=parseInt(a.positiveIntValue,10):typeof a.positiveIntValue=="number"?j.positiveIntValue=a.positiveIntValue:typeof a.positiveIntValue=="object"&&(j.positiveIntValue=new p.LongBits(a.positiveIntValue.low>>>0,a.positiveIntValue.high>>>0).toNumber(!0))),a.negativeIntValue!=null&&(p.Long?(j.negativeIntValue=p.Long.fromValue(a.negativeIntValue)).unsigned=!1:typeof a.negativeIntValue=="string"?j.negativeIntValue=parseInt(a.negativeIntValue,10):typeof a.negativeIntValue=="number"?j.negativeIntValue=a.negativeIntValue:typeof a.negativeIntValue=="object"&&(j.negativeIntValue=new p.LongBits(a.negativeIntValue.low>>>0,a.negativeIntValue.high>>>0).toNumber())),a.doubleValue!=null&&(j.doubleValue=Number(a.doubleValue)),a.stringValue!=null&&(typeof a.stringValue=="string"?p.base64.decode(a.stringValue,j.stringValue=p.newBuffer(p.base64.length(a.stringValue)),0):a.stringValue.length&&(j.stringValue=a.stringValue)),a.aggregateValue!=null&&(j.aggregateValue=String(a.aggregateValue)),j},ve.toObject=function(a,j){var G,o={};if(((j=j||{}).arrays||j.defaults)&&(o.name=[]),j.defaults&&(o.identifierValue="",p.Long?(G=new p.Long(0,0,!0),o.positiveIntValue=j.longs===String?G.toString():j.longs===Number?G.toNumber():G):o.positiveIntValue=j.longs===String?"0":0,p.Long?(G=new p.Long(0,0,!1),o.negativeIntValue=j.longs===String?G.toString():j.longs===Number?G.toNumber():G):o.negativeIntValue=j.longs===String?"0":0,o.doubleValue=0,j.bytes===String?o.stringValue="":(o.stringValue=[],j.bytes!==Array&&(o.stringValue=p.newBuffer(o.stringValue))),o.aggregateValue=""),a.name&&a.name.length){o.name=[];for(var I=0;I<a.name.length;++I)o.name[I]=g.google.protobuf.UninterpretedOption.NamePart.toObject(a.name[I],j)}return a.identifierValue!=null&&a.hasOwnProperty("identifierValue")&&(o.identifierValue=a.identifierValue),a.positiveIntValue!=null&&a.hasOwnProperty("positiveIntValue")&&(typeof a.positiveIntValue=="number"?o.positiveIntValue=j.longs===String?String(a.positiveIntValue):a.positiveIntValue:o.positiveIntValue=j.longs===String?p.Long.prototype.toString.call(a.positiveIntValue):j.longs===Number?new p.LongBits(a.positiveIntValue.low>>>0,a.positiveIntValue.high>>>0).toNumber(!0):a.positiveIntValue),a.negativeIntValue!=null&&a.hasOwnProperty("negativeIntValue")&&(typeof a.negativeIntValue=="number"?o.negativeIntValue=j.longs===String?String(a.negativeIntValue):a.negativeIntValue:o.negativeIntValue=j.longs===String?p.Long.prototype.toString.call(a.negativeIntValue):j.longs===Number?new p.LongBits(a.negativeIntValue.low>>>0,a.negativeIntValue.high>>>0).toNumber():a.negativeIntValue),a.doubleValue!=null&&a.hasOwnProperty("doubleValue")&&(o.doubleValue=j.json&&!isFinite(a.doubleValue)?String(a.doubleValue):a.doubleValue),a.stringValue!=null&&a.hasOwnProperty("stringValue")&&(o.stringValue=j.bytes===String?p.base64.encode(a.stringValue,0,a.stringValue.length):j.bytes===Array?Array.prototype.slice.call(a.stringValue):a.stringValue),a.aggregateValue!=null&&a.hasOwnProperty("aggregateValue")&&(o.aggregateValue=a.aggregateValue),o},ve.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ve.NamePart=(Ee.prototype.namePart="",Ee.prototype.isExtension=!1,Ee.create=function(a){return new Ee(a)},Ee.encode=function(a,j){return(j=j||v.create()).uint32(10).string(a.namePart),j.uint32(16).bool(a.isExtension),j},Ee.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},Ee.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.UninterpretedOption.NamePart;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.namePart=a.string();break;case 2:o.isExtension=a.bool();break;default:a.skipType(7&I)}}if(!o.hasOwnProperty("namePart"))throw p.ProtocolError("missing required 'namePart'",{instance:o});if(o.hasOwnProperty("isExtension"))return o;throw p.ProtocolError("missing required 'isExtension'",{instance:o})},Ee.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},Ee.verify=function(a){return typeof a!="object"||a===null?"object expected":p.isString(a.namePart)?typeof a.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},Ee.fromObject=function(a){var j;return a instanceof g.google.protobuf.UninterpretedOption.NamePart?a:(j=new g.google.protobuf.UninterpretedOption.NamePart,a.namePart!=null&&(j.namePart=String(a.namePart)),a.isExtension!=null&&(j.isExtension=!!a.isExtension),j)},Ee.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.namePart="",G.isExtension=!1),a.namePart!=null&&a.hasOwnProperty("namePart")&&(G.namePart=a.namePart),a.isExtension!=null&&a.hasOwnProperty("isExtension")&&(G.isExtension=a.isExtension),G},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ee),ve),y.SourceCodeInfo=(he.prototype.location=p.emptyArray,he.create=function(a){return new he(a)},he.encode=function(a,j){if(j=j||v.create(),a.location!=null&&a.location.length)for(var G=0;G<a.location.length;++G)g.google.protobuf.SourceCodeInfo.Location.encode(a.location[G],j.uint32(10).fork()).ldelim();return j},he.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},he.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.SourceCodeInfo;a.pos<G;){var I=a.uint32();I>>>3==1?(o.location&&o.location.length||(o.location=[]),o.location.push(g.google.protobuf.SourceCodeInfo.Location.decode(a,a.uint32()))):a.skipType(7&I)}return o},he.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},he.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.location!=null&&a.hasOwnProperty("location")){if(!Array.isArray(a.location))return"location: array expected";for(var j=0;j<a.location.length;++j){var G=g.google.protobuf.SourceCodeInfo.Location.verify(a.location[j]);if(G)return"location."+G}}return null},he.fromObject=function(a){if(a instanceof g.google.protobuf.SourceCodeInfo)return a;var j=new g.google.protobuf.SourceCodeInfo;if(a.location){if(!Array.isArray(a.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");j.location=[];for(var G=0;G<a.location.length;++G){if(typeof a.location[G]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");j.location[G]=g.google.protobuf.SourceCodeInfo.Location.fromObject(a.location[G])}}return j},he.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.location=[]),a.location&&a.location.length){G.location=[];for(var o=0;o<a.location.length;++o)G.location[o]=g.google.protobuf.SourceCodeInfo.Location.toObject(a.location[o],j)}return G},he.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},he.Location=(l.prototype.path=p.emptyArray,l.prototype.span=p.emptyArray,l.prototype.leadingComments="",l.prototype.trailingComments="",l.prototype.leadingDetachedComments=p.emptyArray,l.create=function(a){return new l(a)},l.encode=function(a,j){if(j=j||v.create(),a.path!=null&&a.path.length){j.uint32(10).fork();for(var G=0;G<a.path.length;++G)j.int32(a.path[G]);j.ldelim()}if(a.span!=null&&a.span.length){for(j.uint32(18).fork(),G=0;G<a.span.length;++G)j.int32(a.span[G]);j.ldelim()}if(a.leadingComments!=null&&Object.hasOwnProperty.call(a,"leadingComments")&&j.uint32(26).string(a.leadingComments),a.trailingComments!=null&&Object.hasOwnProperty.call(a,"trailingComments")&&j.uint32(34).string(a.trailingComments),a.leadingDetachedComments!=null&&a.leadingDetachedComments.length)for(G=0;G<a.leadingDetachedComments.length;++G)j.uint32(50).string(a.leadingDetachedComments[G]);return j},l.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},l.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.SourceCodeInfo.Location;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),(7&I)==2)for(var B=a.uint32()+a.pos;a.pos<B;)o.path.push(a.int32());else o.path.push(a.int32());break;case 2:if(o.span&&o.span.length||(o.span=[]),(7&I)==2)for(B=a.uint32()+a.pos;a.pos<B;)o.span.push(a.int32());else o.span.push(a.int32());break;case 3:o.leadingComments=a.string();break;case 4:o.trailingComments=a.string();break;case 6:o.leadingDetachedComments&&o.leadingDetachedComments.length||(o.leadingDetachedComments=[]),o.leadingDetachedComments.push(a.string());break;default:a.skipType(7&I)}}return o},l.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},l.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.path!=null&&a.hasOwnProperty("path")){if(!Array.isArray(a.path))return"path: array expected";for(var j=0;j<a.path.length;++j)if(!p.isInteger(a.path[j]))return"path: integer[] expected"}if(a.span!=null&&a.hasOwnProperty("span")){if(!Array.isArray(a.span))return"span: array expected";for(j=0;j<a.span.length;++j)if(!p.isInteger(a.span[j]))return"span: integer[] expected"}if(a.leadingComments!=null&&a.hasOwnProperty("leadingComments")&&!p.isString(a.leadingComments))return"leadingComments: string expected";if(a.trailingComments!=null&&a.hasOwnProperty("trailingComments")&&!p.isString(a.trailingComments))return"trailingComments: string expected";if(a.leadingDetachedComments!=null&&a.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(a.leadingDetachedComments))return"leadingDetachedComments: array expected";for(j=0;j<a.leadingDetachedComments.length;++j)if(!p.isString(a.leadingDetachedComments[j]))return"leadingDetachedComments: string[] expected"}return null},l.fromObject=function(a){if(a instanceof g.google.protobuf.SourceCodeInfo.Location)return a;var j=new g.google.protobuf.SourceCodeInfo.Location;if(a.path){if(!Array.isArray(a.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");j.path=[];for(var G=0;G<a.path.length;++G)j.path[G]=0|a.path[G]}if(a.span){if(!Array.isArray(a.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(j.span=[],G=0;G<a.span.length;++G)j.span[G]=0|a.span[G]}if(a.leadingComments!=null&&(j.leadingComments=String(a.leadingComments)),a.trailingComments!=null&&(j.trailingComments=String(a.trailingComments)),a.leadingDetachedComments){if(!Array.isArray(a.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(j.leadingDetachedComments=[],G=0;G<a.leadingDetachedComments.length;++G)j.leadingDetachedComments[G]=String(a.leadingDetachedComments[G])}return j},l.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.path=[],G.span=[],G.leadingDetachedComments=[]),j.defaults&&(G.leadingComments="",G.trailingComments=""),a.path&&a.path.length){G.path=[];for(var o=0;o<a.path.length;++o)G.path[o]=a.path[o]}if(a.span&&a.span.length)for(G.span=[],o=0;o<a.span.length;++o)G.span[o]=a.span[o];if(a.leadingComments!=null&&a.hasOwnProperty("leadingComments")&&(G.leadingComments=a.leadingComments),a.trailingComments!=null&&a.hasOwnProperty("trailingComments")&&(G.trailingComments=a.trailingComments),a.leadingDetachedComments&&a.leadingDetachedComments.length)for(G.leadingDetachedComments=[],o=0;o<a.leadingDetachedComments.length;++o)G.leadingDetachedComments[o]=a.leadingDetachedComments[o];return G},l.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},l),he),y.GeneratedCodeInfo=(P.prototype.annotation=p.emptyArray,P.create=function(a){return new P(a)},P.encode=function(a,j){if(j=j||v.create(),a.annotation!=null&&a.annotation.length)for(var G=0;G<a.annotation.length;++G)g.google.protobuf.GeneratedCodeInfo.Annotation.encode(a.annotation[G],j.uint32(10).fork()).ldelim();return j},P.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},P.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.GeneratedCodeInfo;a.pos<G;){var I=a.uint32();I>>>3==1?(o.annotation&&o.annotation.length||(o.annotation=[]),o.annotation.push(g.google.protobuf.GeneratedCodeInfo.Annotation.decode(a,a.uint32()))):a.skipType(7&I)}return o},P.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},P.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.annotation!=null&&a.hasOwnProperty("annotation")){if(!Array.isArray(a.annotation))return"annotation: array expected";for(var j=0;j<a.annotation.length;++j){var G=g.google.protobuf.GeneratedCodeInfo.Annotation.verify(a.annotation[j]);if(G)return"annotation."+G}}return null},P.fromObject=function(a){if(a instanceof g.google.protobuf.GeneratedCodeInfo)return a;var j=new g.google.protobuf.GeneratedCodeInfo;if(a.annotation){if(!Array.isArray(a.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");j.annotation=[];for(var G=0;G<a.annotation.length;++G){if(typeof a.annotation[G]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");j.annotation[G]=g.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(a.annotation[G])}}return j},P.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.annotation=[]),a.annotation&&a.annotation.length){G.annotation=[];for(var o=0;o<a.annotation.length;++o)G.annotation[o]=g.google.protobuf.GeneratedCodeInfo.Annotation.toObject(a.annotation[o],j)}return G},P.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},P.Annotation=(k.prototype.path=p.emptyArray,k.prototype.sourceFile="",k.prototype.begin=0,k.prototype.end=0,k.create=function(a){return new k(a)},k.encode=function(a,j){if(j=j||v.create(),a.path!=null&&a.path.length){j.uint32(10).fork();for(var G=0;G<a.path.length;++G)j.int32(a.path[G]);j.ldelim()}return a.sourceFile!=null&&Object.hasOwnProperty.call(a,"sourceFile")&&j.uint32(18).string(a.sourceFile),a.begin!=null&&Object.hasOwnProperty.call(a,"begin")&&j.uint32(24).int32(a.begin),a.end!=null&&Object.hasOwnProperty.call(a,"end")&&j.uint32(32).int32(a.end),j},k.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},k.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.GeneratedCodeInfo.Annotation;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),(7&I)==2)for(var B=a.uint32()+a.pos;a.pos<B;)o.path.push(a.int32());else o.path.push(a.int32());break;case 2:o.sourceFile=a.string();break;case 3:o.begin=a.int32();break;case 4:o.end=a.int32();break;default:a.skipType(7&I)}}return o},k.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},k.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.path!=null&&a.hasOwnProperty("path")){if(!Array.isArray(a.path))return"path: array expected";for(var j=0;j<a.path.length;++j)if(!p.isInteger(a.path[j]))return"path: integer[] expected"}return a.sourceFile!=null&&a.hasOwnProperty("sourceFile")&&!p.isString(a.sourceFile)?"sourceFile: string expected":a.begin!=null&&a.hasOwnProperty("begin")&&!p.isInteger(a.begin)?"begin: integer expected":a.end!=null&&a.hasOwnProperty("end")&&!p.isInteger(a.end)?"end: integer expected":null},k.fromObject=function(a){if(a instanceof g.google.protobuf.GeneratedCodeInfo.Annotation)return a;var j=new g.google.protobuf.GeneratedCodeInfo.Annotation;if(a.path){if(!Array.isArray(a.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");j.path=[];for(var G=0;G<a.path.length;++G)j.path[G]=0|a.path[G]}return a.sourceFile!=null&&(j.sourceFile=String(a.sourceFile)),a.begin!=null&&(j.begin=0|a.begin),a.end!=null&&(j.end=0|a.end),j},k.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.path=[]),j.defaults&&(G.sourceFile="",G.begin=0,G.end=0),a.path&&a.path.length){G.path=[];for(var o=0;o<a.path.length;++o)G.path[o]=a.path[o]}return a.sourceFile!=null&&a.hasOwnProperty("sourceFile")&&(G.sourceFile=a.sourceFile),a.begin!=null&&a.hasOwnProperty("begin")&&(G.begin=a.begin),a.end!=null&&a.hasOwnProperty("end")&&(G.end=a.end),G},k.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},k),P),y.Any=(K.prototype.type_url="",K.prototype.value=p.newBuffer([]),K.create=function(a){return new K(a)},K.encode=function(a,j){return j=j||v.create(),a.type_url!=null&&Object.hasOwnProperty.call(a,"type_url")&&j.uint32(10).string(a.type_url),a.value!=null&&Object.hasOwnProperty.call(a,"value")&&j.uint32(18).bytes(a.value),j},K.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},K.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.Any;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.type_url=a.string();break;case 2:o.value=a.bytes();break;default:a.skipType(7&I)}}return o},K.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},K.verify=function(a){return typeof a!="object"||a===null?"object expected":a.type_url!=null&&a.hasOwnProperty("type_url")&&!p.isString(a.type_url)?"type_url: string expected":a.value!=null&&a.hasOwnProperty("value")&&!(a.value&&typeof a.value.length=="number"||p.isString(a.value))?"value: buffer expected":null},K.fromObject=function(a){var j;return a instanceof g.google.protobuf.Any?a:(j=new g.google.protobuf.Any,a.type_url!=null&&(j.type_url=String(a.type_url)),a.value!=null&&(typeof a.value=="string"?p.base64.decode(a.value,j.value=p.newBuffer(p.base64.length(a.value)),0):a.value.length&&(j.value=a.value)),j)},K.toObject=function(a,j){var G={};return(j=j||{}).defaults&&(G.type_url="",j.bytes===String?G.value="":(G.value=[],j.bytes!==Array&&(G.value=p.newBuffer(G.value)))),a.type_url!=null&&a.hasOwnProperty("type_url")&&(G.type_url=a.type_url),a.value!=null&&a.hasOwnProperty("value")&&(G.value=j.bytes===String?p.base64.encode(a.value,0,a.value.length):j.bytes===Array?Array.prototype.slice.call(a.value):a.value),G},K.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},K),y.Duration=(pe.prototype.seconds=p.Long?p.Long.fromBits(0,0,!1):0,pe.prototype.nanos=0,pe.create=function(a){return new pe(a)},pe.encode=function(a,j){return j=j||v.create(),a.seconds!=null&&Object.hasOwnProperty.call(a,"seconds")&&j.uint32(8).int64(a.seconds),a.nanos!=null&&Object.hasOwnProperty.call(a,"nanos")&&j.uint32(16).int32(a.nanos),j},pe.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},pe.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.protobuf.Duration;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.seconds=a.int64();break;case 2:o.nanos=a.int32();break;default:a.skipType(7&I)}}return o},pe.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},pe.verify=function(a){return typeof a!="object"||a===null?"object expected":a.seconds!=null&&a.hasOwnProperty("seconds")&&!(p.isInteger(a.seconds)||a.seconds&&p.isInteger(a.seconds.low)&&p.isInteger(a.seconds.high))?"seconds: integer|Long expected":a.nanos!=null&&a.hasOwnProperty("nanos")&&!p.isInteger(a.nanos)?"nanos: integer expected":null},pe.fromObject=function(a){var j;return a instanceof g.google.protobuf.Duration?a:(j=new g.google.protobuf.Duration,a.seconds!=null&&(p.Long?(j.seconds=p.Long.fromValue(a.seconds)).unsigned=!1:typeof a.seconds=="string"?j.seconds=parseInt(a.seconds,10):typeof a.seconds=="number"?j.seconds=a.seconds:typeof a.seconds=="object"&&(j.seconds=new p.LongBits(a.seconds.low>>>0,a.seconds.high>>>0).toNumber())),a.nanos!=null&&(j.nanos=0|a.nanos),j)},pe.toObject=function(a,j){var G,o={};return(j=j||{}).defaults&&(p.Long?(G=new p.Long(0,0,!1),o.seconds=j.longs===String?G.toString():j.longs===Number?G.toNumber():G):o.seconds=j.longs===String?"0":0,o.nanos=0),a.seconds!=null&&a.hasOwnProperty("seconds")&&(typeof a.seconds=="number"?o.seconds=j.longs===String?String(a.seconds):a.seconds:o.seconds=j.longs===String?p.Long.prototype.toString.call(a.seconds):j.longs===Number?new p.LongBits(a.seconds.low>>>0,a.seconds.high>>>0).toNumber():a.seconds),a.nanos!=null&&a.hasOwnProperty("nanos")&&(o.nanos=a.nanos),o},pe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},pe),y.Empty=(Se.create=function(a){return new Se(a)},Se.encode=function(a,j){return j=j||v.create()},Se.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},Se.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,j=new g.google.protobuf.Empty;a.pos<G;){var o=a.uint32();a.skipType(7&o)}return j},Se.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},Se.verify=function(a){return typeof a!="object"||a===null?"object expected":null},Se.fromObject=function(a){return a instanceof g.google.protobuf.Empty?a:new g.google.protobuf.Empty},Se.toObject=function(){return{}},Se.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Se),y),T.rpc=((O={}).Status=(ye.prototype.code=0,ye.prototype.message="",ye.prototype.details=p.emptyArray,ye.create=function(a){return new ye(a)},ye.encode=function(a,j){if(j=j||v.create(),a.code!=null&&Object.hasOwnProperty.call(a,"code")&&j.uint32(8).int32(a.code),a.message!=null&&Object.hasOwnProperty.call(a,"message")&&j.uint32(18).string(a.message),a.details!=null&&a.details.length)for(var G=0;G<a.details.length;++G)g.google.protobuf.Any.encode(a.details[G],j.uint32(26).fork()).ldelim();return j},ye.encodeDelimited=function(a,j){return this.encode(a,j).ldelim()},ye.decode=function(a,j){a instanceof E||(a=E.create(a));for(var G=j===void 0?a.len:a.pos+j,o=new g.google.rpc.Status;a.pos<G;){var I=a.uint32();switch(I>>>3){case 1:o.code=a.int32();break;case 2:o.message=a.string();break;case 3:o.details&&o.details.length||(o.details=[]),o.details.push(g.google.protobuf.Any.decode(a,a.uint32()));break;default:a.skipType(7&I)}}return o},ye.decodeDelimited=function(a){return a instanceof E||(a=new E(a)),this.decode(a,a.uint32())},ye.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.code!=null&&a.hasOwnProperty("code")&&!p.isInteger(a.code))return"code: integer expected";if(a.message!=null&&a.hasOwnProperty("message")&&!p.isString(a.message))return"message: string expected";if(a.details!=null&&a.hasOwnProperty("details")){if(!Array.isArray(a.details))return"details: array expected";for(var j=0;j<a.details.length;++j){var G=g.google.protobuf.Any.verify(a.details[j]);if(G)return"details."+G}}return null},ye.fromObject=function(a){if(a instanceof g.google.rpc.Status)return a;var j=new g.google.rpc.Status;if(a.code!=null&&(j.code=0|a.code),a.message!=null&&(j.message=String(a.message)),a.details){if(!Array.isArray(a.details))throw TypeError(".google.rpc.Status.details: array expected");j.details=[];for(var G=0;G<a.details.length;++G){if(typeof a.details[G]!="object")throw TypeError(".google.rpc.Status.details: object expected");j.details[G]=g.google.protobuf.Any.fromObject(a.details[G])}}return j},ye.toObject=function(a,j){var G={};if(((j=j||{}).arrays||j.defaults)&&(G.details=[]),j.defaults&&(G.code=0,G.message=""),a.code!=null&&a.hasOwnProperty("code")&&(G.code=a.code),a.message!=null&&a.hasOwnProperty("message")&&(G.message=a.message),a.details&&a.details.length){G.details=[];for(var o=0;o<a.details.length;++o)G.details[o]=g.google.protobuf.Any.toObject(a.details[o],j)}return G},ye.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ye),O),T),g})})(operations)),operations.exports}var hasRequiredLongrunning;function requireLongrunning(){if(hasRequiredLongrunning)return longrunning;hasRequiredLongrunning=1;var c=longrunning&&longrunning.__createBinding||(Object.create?(function(g,w,R,C){C===void 0&&(C=R);var N=Object.getOwnPropertyDescriptor(w,R);(!N||("get"in N?!w.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(g,C,N)}):(function(g,w,R,C){C===void 0&&(C=R),g[C]=w[R]})),u=longrunning&&longrunning.__setModuleDefault||(Object.create?(function(g,w){Object.defineProperty(g,"default",{enumerable:!0,value:w})}):function(g,w){g.default=w}),d=longrunning&&longrunning.__importStar||(function(){var g=function(w){return g=Object.getOwnPropertyNames||function(R){var C=[];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(C[C.length]=N);return C},g(w)};return function(w){if(w&&w.__esModule)return w;var R={};if(w!=null)for(var C=g(w),N=0;N<C.length;N++)C[N]!=="default"&&c(R,w,C[N]);return u(R,w),R}})();Object.defineProperty(longrunning,"__esModule",{value:!0}),longrunning.Operation=void 0,longrunning.operation=p;const y=require$$0$8,O=requireStatus(),T=requireGoogleError(),E=d(requireOperations());class v extends y.EventEmitter{constructor(R,C,N,D){super();ce(this,"completeListeners");ce(this,"hasActiveListeners");ce(this,"latestResponse");ce(this,"longrunningDescriptor");ce(this,"result");ce(this,"metadata");ce(this,"backoffSettings");ce(this,"_callOptions");ce(this,"currentCallPromise_");ce(this,"name");ce(this,"done");ce(this,"error");ce(this,"response");this.completeListeners=0,this.hasActiveListeners=!1,this.latestResponse=R,this.name=this.latestResponse.name,this.done=this.latestResponse.done,this.error=this.latestResponse.error,this.longrunningDescriptor=C,this.result=null,this.metadata=null,this.backoffSettings=N,this._unpackResponse(R),this._listenForEvents(),this._callOptions=D}_listenForEvents(){this.on("newListener",R=>{R==="complete"&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))}),this.on("removeListener",R=>{R==="complete"&&--this.completeListeners===0&&(this.hasActiveListeners=!1)})}cancel(){this.currentCallPromise_&&this.currentCallPromise_.cancel();const R=this.longrunningDescriptor.operationsClient,C=new E.google.longrunning.CancelOperationRequest;return C.name=this.latestResponse.name,R.cancelOperation(C)}getOperation(R){const C=this,N=this.longrunningDescriptor.operationsClient;function D(){if(!R)return new Promise((M,U)=>{if(C.latestResponse.error){const V=new T.GoogleError(C.latestResponse.error.message);V.code=C.latestResponse.error.code,U(V)}else M([C.result,C.metadata,C.latestResponse])})}if(this.latestResponse.done)return this._unpackResponse(this.latestResponse,R),D();const L=new E.google.longrunning.GetOperationRequest;L.name=this.latestResponse.name,this.currentCallPromise_=N.getOperationInternal(L,this._callOptions);const q=this.currentCallPromise_.then(M=>(C.latestResponse=M[0],C._unpackResponse(M[0],R),D()),M=>{if(R){R(M);return}return Promise.reject(M)});if(!R)return q}_unpackResponse(R,C){const N=this.longrunningDescriptor.responseDecoder,D=this.longrunningDescriptor.metadataDecoder;let L,q;if(R.done){if(R.result==="error"){const M=new T.GoogleError(R.error.message);M.code=R.error.code,this.error=M,C&&C(M);return}N&&R.response&&(this.response=R.response,L=N(R.response.value),this.result=L,this.done=!0)}D&&R.metadata&&(q=D(R.metadata.value),this.metadata=q),C&&C(null,L,q,R)}startPolling_(){const R=this;let C=new Date;const N=this.backoffSettings.retryDelayMultiplier,D=this.backoffSettings.maxRetryDelayMillis;let L=this.backoffSettings.initialRetryDelayMillis,q=1/0;this.backoffSettings.totalTimeoutMillis&&(q=C.getTime()+this.backoffSettings.totalTimeoutMillis);let M;this.latestResponse.metadata&&(M=this.latestResponse.metadata.value);function U(z,...W){R.emit(z,...W)}function V(z,W){if(z.byteLength!==W.byteLength)return!1;for(let J=0;J<z.byteLength;++J)if(z[J]!==W[J])return!1;return!0}function $(){if(R.hasActiveListeners){if(C.getTime()>=q){const z=new T.GoogleError("Total timeout exceeded before any response was received");z.code=O.Status.DEADLINE_EXCEEDED,setImmediate(U,"error",z);return}R.getOperation((z,W,J,Y)=>{if(z){setImmediate(U,"error",z);return}if(!W){if(Y.metadata&&(!M||Y&&!V(Y.metadata.value,M))&&(setImmediate(U,"progress",J,Y),M=Y.metadata.value),Y.done){setImmediate(U,"complete",{},J,Y);return}setTimeout(()=>{C=new Date,L=Math.min(L*N,D),$()},L);return}setImmediate(U,"complete",W,J,Y)})}}$()}promise(){return new Promise((R,C)=>{this.on("error",C).on("complete",(N,D,L)=>{R([N,D,L])})})}}longrunning.Operation=v;function p(g,w,R,C){return new v(g,w,R,C)}return longrunning}var hasRequiredLongRunningApiCaller;function requireLongRunningApiCaller(){if(hasRequiredLongRunningApiCaller)return longRunningApiCaller;hasRequiredLongRunningApiCaller=1,Object.defineProperty(longRunningApiCaller,"__esModule",{value:!0}),longRunningApiCaller.LongrunningApiCaller=void 0;const c=requireCall$1(),u=requireGax(),d=requireLongrunning();class y{constructor(T){ce(this,"longrunningDescriptor");this.longrunningDescriptor=T}init(T){return T?new c.OngoingCall(T):new c.OngoingCallPromise}wrap(T){return T}call(T,E,v,p){p.call((g,w)=>this._wrapOperation(T,v,g,w),E)}_wrapOperation(T,E,v,p){let g=E.longrunning;g||(g=(0,u.createDefaultBackoffSettings)());const w=this.longrunningDescriptor;return T(v,(R,C)=>{if(R){p(R,null,null,C);return}const N=new d.Operation(C,w,g,E);p(null,N,C)})}fail(T,E){T.callback(E)}result(T){return T.promise}}return longRunningApiCaller.LongrunningApiCaller=y,longRunningApiCaller}var hasRequiredLongRunningDescriptor;function requireLongRunningDescriptor(){if(hasRequiredLongRunningDescriptor)return longRunningDescriptor;hasRequiredLongRunningDescriptor=1,Object.defineProperty(longRunningDescriptor,"__esModule",{value:!0}),longRunningDescriptor.LongRunningDescriptor=void 0;const c=requireLongRunningApiCaller();class u{constructor(y,O,T){ce(this,"operationsClient");ce(this,"responseDecoder");ce(this,"metadataDecoder");this.operationsClient=y,this.responseDecoder=O,this.metadataDecoder=T}getApiCaller(){return new c.LongrunningApiCaller(this)}}return longRunningDescriptor.LongRunningDescriptor=u,longRunningDescriptor}var pageDescriptor={},pagedApiCaller={},resourceCollector={},hasRequiredResourceCollector;function requireResourceCollector(){if(hasRequiredResourceCollector)return resourceCollector;hasRequiredResourceCollector=1,Object.defineProperty(resourceCollector,"__esModule",{value:!0}),resourceCollector.ResourceCollector=void 0;class c{constructor(d,y=-1){ce(this,"apiCall");ce(this,"resources");ce(this,"maxResults");ce(this,"resolveCallback");ce(this,"rejectCallback");this.apiCall=d,this.resources=[],this.maxResults=y}callback(d,y,O){if(d){this.rejectCallback(d);return}for(const E of y)if(this.resources.push(E),this.resources.length===this.maxResults){O=null;break}if(!O){this.resolveCallback(this.resources);return}const T=(...E)=>this.callback(...E);setImmediate(this.apiCall,O,T)}processAllPages(d){return new Promise((y,O)=>{this.resolveCallback=y,this.rejectCallback=O;const T=(...E)=>this.callback(...E);setImmediate(this.apiCall,d,T)})}}return resourceCollector.ResourceCollector=c,resourceCollector}var hasRequiredPagedApiCaller;function requirePagedApiCaller(){if(hasRequiredPagedApiCaller)return pagedApiCaller;hasRequiredPagedApiCaller=1,Object.defineProperty(pagedApiCaller,"__esModule",{value:!0}),pagedApiCaller.PagedApiCaller=void 0;const c=requireCall$1(),u=requireGoogleError(),d=requireResourceCollector(),y=requireWarnings();class O{constructor(E){ce(this,"pageDescriptor");this.pageDescriptor=E}generateParseResponseCallback(E,v){const p=this.pageDescriptor.resourceField,g=this.pageDescriptor.responsePageTokenField,w=this.pageDescriptor.requestPageTokenField;return(R,C)=>{if(R){v(R);return}if(!E){v(new u.GoogleError("Undefined request in pagination method callback."));return}if(!C){v(new u.GoogleError("Undefined response in pagination method callback."));return}const N=C[p]||[],D=C[g];let L=null;D&&(L=Object.assign({},E),L[w]=D),v(R,N,L,C)}}wrap(E){const v=this;return function(g,w,R,C){return E(g,w,R,v.generateParseResponseCallback(g,C))}}init(E){return E?new c.OngoingCall(E):new c.OngoingCallPromise}call(E,v,p,g){if(v=Object.assign({},v),!p.autoPaginate){g.call(E,v);return}v.pageSize&&p.autoPaginate&&(0,y.warn)("autoPaginate true","Providing a pageSize without setting autoPaginate to false will still return all results. See https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure manual paging","AutopaginateTrueWarning");const w=p.maxResults||-1;new d.ResourceCollector(E,w).processAllPages(v).then(C=>g.callback(null,C),C=>g.callback(C))}fail(E,v){E.callback(v)}result(E){return E.promise}}return pagedApiCaller.PagedApiCaller=O,pagedApiCaller}var hasRequiredPageDescriptor;function requirePageDescriptor(){if(hasRequiredPageDescriptor)return pageDescriptor;hasRequiredPageDescriptor=1,Object.defineProperty(pageDescriptor,"__esModule",{value:!0}),pageDescriptor.PageDescriptor=void 0;const c=require$$0$6,u=requireNormalApiCaller(),d=requireWarnings(),y=requirePagedApiCaller(),O=10;class T{constructor(v,p,g){ce(this,"requestPageTokenField");ce(this,"responsePageTokenField");ce(this,"requestPageSizeField");ce(this,"resourceField");this.requestPageTokenField=v,this.responsePageTokenField=p,this.resourceField=g}createStream(v,p,g){g!=null&&g.autoPaginate&&(0,d.warn)("autoPaginate true","Autopaginate will always be set to false in stream paging methods. See more info at https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure paging calls","AutopaginateTrueWarning");const w=new c.PassThrough({objectMode:!0});g=Object.assign({},g,{autoPaginate:!1});const R="maxResults"in g?g.maxResults:-1;let C=0,N=!1;function D(L,q,M,U){if(L){w.emit("error",L);return}w.emit("response",U);for(let V=0;V<q.length;++V){if(w._readableState.ended)return;q[V]!==null&&(w.push(q[V]),C++,C===R&&w.end())}if(!w._readableState.ended){if(!M){w.end();return}"pageToken"in g&&delete g.pageToken,w.isPaused()?(p=M,N=!1):setImmediate(v,M,g,D)}}return w.on("resume",async()=>{N||(N=!0,await v(p,g,D))}),w}asyncIterate(v,p,g){return g!=null&&g.autoPaginate&&(0,d.warn)("autoPaginate true","Autopaginate will always be set to false in Async paging methods. See more info at https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure paging calls","AutopaginateTrueWarning"),g=Object.assign({},g,{autoPaginate:!1}),this.createIterator(v,p,g)}createIterator(v,p,g){return{[Symbol.asyncIterator](){let R=p;const C=[];return{async next(){if(C.length>0)return Promise.resolve({done:!1,value:C.shift()});let N=0;for(;C.length===0&&R;){let D;if([D,R]=await v(R,g),D&&!Array.isArray(D))for(const[L,q]of Object.entries(D))C.push([L,q]);else C.push(...D);if(C.length===0&&(++N,N>O))break}return C.length===0?Promise.resolve({done:!0,value:void 0}):Promise.resolve({done:!1,value:C.shift()})}}}}}getApiCaller(v){return v.autoPaginate?new y.PagedApiCaller(this):new u.NormalApiCaller}}return pageDescriptor.PageDescriptor=T,pageDescriptor}var streamDescriptor={},hasRequiredStreamDescriptor;function requireStreamDescriptor(){if(hasRequiredStreamDescriptor)return streamDescriptor;hasRequiredStreamDescriptor=1,Object.defineProperty(streamDescriptor,"__esModule",{value:!0}),streamDescriptor.StreamDescriptor=void 0;const c=requireStreamingApiCaller();class u{constructor(y,O,T){ce(this,"type");ce(this,"streaming");ce(this,"rest");ce(this,"gaxStreamingRetries");this.type=y,this.streaming=!0,this.rest=O,this.gaxStreamingRetries=T}getApiCaller(){return new c.StreamingApiCaller(this)}}return streamDescriptor.StreamDescriptor=u,streamDescriptor}var bundleDescriptor={},bundleApiCaller={},hasRequiredBundleApiCaller;function requireBundleApiCaller(){if(hasRequiredBundleApiCaller)return bundleApiCaller;hasRequiredBundleApiCaller=1,Object.defineProperty(bundleApiCaller,"__esModule",{value:!0}),bundleApiCaller.BundleApiCaller=void 0;const c=requireCall$1(),u=requireGoogleError();class d{constructor(O){ce(this,"bundler");this.bundler=O}init(O){return O?new c.OngoingCall(O):new c.OngoingCallPromise}wrap(O){return O}call(O,T,E,v){if(!E.isBundling)throw new u.GoogleError("Bundling enabled with no isBundling!");v.call((p,g)=>(this.bundler.schedule(O,p,g),v),T)}fail(O,T){O.callback(T)}result(O){return O.promise}}return bundleApiCaller.BundleApiCaller=d,bundleApiCaller}var bundleExecutor={},bundlingUtils={},hasRequiredBundlingUtils;function requireBundlingUtils(){if(hasRequiredBundlingUtils)return bundlingUtils;hasRequiredBundlingUtils=1,Object.defineProperty(bundlingUtils,"__esModule",{value:!0}),bundlingUtils.computeBundleId=c;function c(d,y){const O=[];let T=!1;for(const E of y){const v=u(d,E);v===void 0?O.push(null):(T=!0,O.push(v))}if(T)return JSON.stringify(O)}function u(d,y){const O=y.split(".");let T=d;for(const E of O)T=T==null?void 0:T[E];return T}return bundlingUtils}var task={},hasRequiredTask;function requireTask(){if(hasRequiredTask)return task;hasRequiredTask=1,Object.defineProperty(task,"__esModule",{value:!0}),task.Task=void 0,task.deepCopyForResponse=d;const c=requireStatus(),u=requireGoogleError();function d(O,T){let E;if(O===null)return null;if(O!==void 0)return Array.isArray(O)?(E=[],O.forEach(v=>{E.push(d(v,null))}),E):O.copy!==void 0?O.copy():O instanceof ArrayBuffer?O.slice(0):typeof O=="object"?(E={},Object.keys(O).forEach(v=>{T&&v===T.field&&Array.isArray(O[v])?E[v]=O[v].slice(T.start,T.end):E[v]=d(O[v],null)}),E):O}class y{constructor(T,E,v,p){ce(this,"_apiCall");ce(this,"_request");ce(this,"_bundledField");ce(this,"_subresponseField");ce(this,"_data");ce(this,"callCanceller");this._apiCall=T,this._request=E,this._bundledField=v,this._subresponseField=p,this._data=[]}getElementCount(){let T=0;for(let E=0;E<this._data.length;++E)T+=this._data[E].elements.length;return T}getRequestByteSize(){let T=0;for(let E=0;E<this._data.length;++E)T+=this._data[E].bytes;return T}run(){if(this._data.length===0)return[];const T=this._request,E=[],v=[];for(let g=0;g<this._data.length;++g)E.push(...this._data[g].elements),v.push(this._data[g].callback.id);T[this._bundledField]=E;const p=this;return this.callCanceller=this._apiCall(T,(g,w)=>{const R=[];if(g)p._data.forEach(()=>{R.push(void 0)});else{let C=null;p._subresponseField&&(C={field:p._subresponseField,start:0}),p._data.forEach(N=>{C&&(C.end=C.start+N.elements.length),R.push(d(w,C)),C&&(C.start=C.end)})}for(let C=0;C<p._data.length;++C)if(p._data[C].cancelled){const N=new u.GoogleError("cancelled");N.code=c.Status.CANCELLED,p._data[C].callback(N)}else p._data[C].callback(g,R[C])}),v}extend(T,E,v){this._data.push({elements:T,bytes:E,callback:v})}cancel(T){if(this.callCanceller){let E=!0;return this._data.forEach(v=>{v.callback.id===T&&(v.cancelled=!0),v.cancelled||(E=!1)}),E&&this.callCanceller.cancel(),E}for(let E=0;E<this._data.length;++E)if(this._data[E].callback.id===T){const v=new u.GoogleError("cancelled");v.code=c.Status.CANCELLED,this._data[E].callback(v),this._data.splice(E,1);break}return this._data.length===0}}return task.Task=y,task}var hasRequiredBundleExecutor;function requireBundleExecutor(){if(hasRequiredBundleExecutor)return bundleExecutor;hasRequiredBundleExecutor=1,Object.defineProperty(bundleExecutor,"__esModule",{value:!0}),bundleExecutor.BundleExecutor=void 0;const c=requireStatus(),u=requireGoogleError(),d=requireWarnings(),y=requireBundlingUtils(),O=requireTask();function T(){}class E{constructor(p,g){ce(this,"_options");ce(this,"_descriptor");ce(this,"_tasks");ce(this,"_timers");ce(this,"_invocations");ce(this,"_invocationId");this._options=p,this._descriptor=g,this._tasks={},this._timers={},this._invocations={},this._invocationId=0}schedule(p,g,w){const R=(0,y.computeBundleId)(g,this._descriptor.requestDiscriminatorFields);if(w=w||T,R===void 0)return(0,d.warn)("bundling_schedule_bundleid_undefined",`The request does not have enough information for request bundling. Invoking immediately. Request: ${JSON.stringify(g)} discriminator fields: ${this._descriptor.requestDiscriminatorFields}`),p(g,w);if(g[this._descriptor.bundledField]===void 0)return(0,d.warn)("bundling_no_bundled_field",`Request does not contain field ${this._descriptor.bundledField} that must present for bundling. Invoking immediately. Request: ${JSON.stringify(g)}`),p(g,w);R in this._tasks||(this._tasks[R]=new O.Task(p,g,this._descriptor.bundledField,this._descriptor.subresponseField));let C=this._tasks[R];w.id=String(this._invocationId++),this._invocations[w.id]=R;const N=g[this._descriptor.bundledField],D=N.length;let L=0;const q=this;N.forEach(Y=>{L+=this._descriptor.byteLengthFunction(Y)});const M=this._options.elementCountLimit||0,U=this._options.requestByteLimit||0;if(M>0&&D>M||U>0&&L>=U){let Y;M>0&&D>M?Y="The number of elements "+D+" exceeds the limit "+this._options.elementCountLimit:Y="The required bytes "+L+" exceeds the limit "+this._options.requestByteLimit;const Q=new u.GoogleError(Y);return Q.code=c.Status.INVALID_ARGUMENT,w(Q),{cancel:T}}const V=C.getElementCount(),$=C.getRequestByteSize();(M>0&&D+V>=M||U>0&&L+$>=U)&&(this._runNow(R),this._tasks[R]=new O.Task(p,g,this._descriptor.bundledField,this._descriptor.subresponseField),C=this._tasks[R]),C.extend(N,L,w);const z={cancel(){q._cancel(w.id)}},W=this._options.elementCountThreshold||0,J=this._options.requestByteThreshold||0;return W>0&&C.getElementCount()>=W||J>0&&C.getRequestByteSize()>=J?(this._runNow(R),z):(!(R in this._timers)&&this._options.delayThreshold>0&&(this._timers[R]=setTimeout(()=>{delete this._timers[R],this._runNow(R)},this._options.delayThreshold)),z)}_maybeClearTimeout(p){if(p in this._timers){const g=this._timers[p];delete this._timers[p],clearTimeout(g)}}_cancel(p){if(!(p in this._invocations))return;const g=this._invocations[p];if(!(g in this._tasks))return;const w=this._tasks[g];delete this._invocations[p],w.cancel(p)&&(this._maybeClearTimeout(g),delete this._tasks[g])}_runNow(p){if(!(p in this._tasks)){(0,d.warn)("bundle_runnow_bundleid_unknown",`No such bundleid: ${p}`);return}this._maybeClearTimeout(p);const g=this._tasks[p];delete this._tasks[p],g.run().forEach(w=>{delete this._invocations[w]})}}return bundleExecutor.BundleExecutor=E,bundleExecutor}var hasRequiredBundleDescriptor;function requireBundleDescriptor(){if(hasRequiredBundleDescriptor)return bundleDescriptor;hasRequiredBundleDescriptor=1,Object.defineProperty(bundleDescriptor,"__esModule",{value:!0}),bundleDescriptor.BundleDescriptor=void 0;const c=requireNormalApiCaller(),u=requireBundleApiCaller(),d=requireBundleExecutor(),y=requireUtil$5();class O{constructor(E,v,p,g){ce(this,"bundledField");ce(this,"requestDiscriminatorFields");ce(this,"subresponseField");ce(this,"byteLengthFunction");!g&&typeof p=="function"&&(g=p,p=null),this.bundledField=E,this.requestDiscriminatorFields=v.map(y.toCamelCase),this.subresponseField=p,this.byteLengthFunction=g}getApiCaller(E){return E.isBundling===!1?new c.NormalApiCaller:new u.BundleApiCaller(new d.BundleExecutor(E.bundleOptions,this))}}return bundleDescriptor.BundleDescriptor=O,bundleDescriptor}var hasRequiredDescriptor$1;function requireDescriptor$1(){return hasRequiredDescriptor$1||(hasRequiredDescriptor$1=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.BundleDescriptor=c.StreamDescriptor=c.PageDescriptor=c.LongrunningDescriptor=void 0;var u=requireLongRunningDescriptor();Object.defineProperty(c,"LongrunningDescriptor",{enumerable:!0,get:function(){return u.LongRunningDescriptor}});var d=requirePageDescriptor();Object.defineProperty(c,"PageDescriptor",{enumerable:!0,get:function(){return d.PageDescriptor}});var y=requireStreamDescriptor();Object.defineProperty(c,"StreamDescriptor",{enumerable:!0,get:function(){return y.StreamDescriptor}});var O=requireBundleDescriptor();Object.defineProperty(c,"BundleDescriptor",{enumerable:!0,get:function(){return O.BundleDescriptor}})})(descriptor$1)),descriptor$1}const interfaces$4={"google.longrunning.Operations":{retry_codes:{idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],non_idempotent:[]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:9e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:9e4,total_timeout_millis:6e5}},methods:{GetOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListOperations:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},CancelOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},DeleteOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"}}}},require$$3$1={interfaces:interfaces$4},nested$9=JSON.parse('{"google":{"nested":{"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"google.golang.org/genproto/googleapis/longrunning;longrunning","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/operations/{name}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/operations/{name}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Empty":{"fields":{}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}'),require$$4$1={nested:nested$9};var transcoding={},hasRequiredTranscoding;function requireTranscoding(){if(hasRequiredTranscoding)return transcoding;hasRequiredTranscoding=1,Object.defineProperty(transcoding,"__esModule",{value:!0}),transcoding.getField=O,transcoding.deepCopyWithoutMatchedFields=T,transcoding.deleteField=E,transcoding.buildQueryStringComponents=v,transcoding.encodeWithSlashes=p,transcoding.encodeWithoutSlashes=g,transcoding.applyPattern=R,transcoding.match=N,transcoding.flattenObject=D,transcoding.isProto3OptionalField=L,transcoding.transcode=q,transcoding.overrideHttpRules=M;const c=requireUtil$5(),u="(google.api.http)",d="proto3_optional",y=["get","post","put","patch","delete"];function O(U,V,$=!1){const z=V.split(".");let W=U;for(const J of z){if(typeof W!="object")return;W=W[J]}if(!(!$&&typeof W=="object"&&!Array.isArray(W)&&W!==null))return W}function T(U,V,$=""){if(typeof U!="object"||U===null)return U;const z=Object.assign({},U);for(const W in z){if(V.has(`${$}${W}`)){delete z[W];continue}const J=`${$}${W}.`;Array.isArray(z[W])?z[W]=z[W].map(Y=>T(Y,new Set)):typeof z[W]=="object"&&z[W]!==null&&(z[W]=T(z[W],V,J))}return z}function E(U,V){const $=V.split(".");for(;$.length>1;){if(typeof U!="object")return;const W=$.shift();U=U[W]}const z=$.shift();typeof U=="object"&&delete U[z]}function v(U,V=""){const $=[];for(const z in U)if(Array.isArray(U[z]))for(const W of U[z])$.push(`${V}${g(z)}=${g(W.toString())}`);else typeof U[z]=="object"&&U[z]!==null?$.push(...v(U[z],`${z}.`)):$.push(`${V}${g(z)}=${g(U[z]===null?"null":U[z].toString())}`);return $}function p(U){return U.split("").map(V=>V.match(/[-_.~0-9a-zA-Z]/)?V:encodeURIComponent(V)).join("")}function g(U){return U.split("").map(V=>V.match(/[-_.~0-9a-zA-Z/]/)?V:encodeURIComponent(V)).join("")}function w(U){return U.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(U,V){if(!U||U==="*")return p(V);if(!U.includes("*")&&U!==V)return;const $=new RegExp("^"+w(U).replace(/\\\*\\\*/g,"(.+)").replace(/\\\*/g,"([^/]+)")+"$");if(V.match($))return g(V)}function C(U){return U.split(".").map($=>(0,c.toCamelCase)($)).join(".")}function N(U,V){let $=V;const z=[];for(;;){const W=$.match(/^(.*)\{([^}=]+)(?:=([^}]*))?\}(.*)/);if(!W)break;const[,J,Y,Q,H]=W,te=C(Y);z.push(C(te));const ne=O(U,te);if(ne===void 0)return;const oe=R(Q,ne===null?"null":ne.toString());if(oe===void 0)return;$=J+oe+H}return{matchedFields:z,url:$}}function D(U){const V={};for(const $ in U)if(U[$]!==void 0){if(Array.isArray(U[$])){V[$]=U[$];continue}if(typeof U[$]=="object"&&U[$]!==null){const z=D(U[$]);for(const W in z)V[`${$}.${W}`]=z[W];continue}V[$]=U[$]}return V}function L(U){return U&&U.options&&U.options[d]}function q(U,V){const $=[];for(const z of V){if(!(u in z))continue;const W=z[u];if($.push(W),W!=null&&W.additional_bindings){const J=Array.isArray(W.additional_bindings)?W.additional_bindings:[W.additional_bindings];$.push(...J)}}for(const z of $)for(const W of y){if(!(W in z))continue;const J=z[W],Y=N(U,J);if(Y===void 0)continue;const{url:Q,matchedFields:H}=Y;let te=T(U,new Set(H));if(z.body==="*")return{httpMethod:W,url:Q,queryString:"",data:te};const ne=te;z.body?(te=O(ne,C(z.body),!0),E(ne,C(z.body))):te="";const ie=v(ne).join("&");return(!te||typeof te=="object"&&Object.keys(te).length===0)&&(te=""),{httpMethod:W,url:Q,queryString:ie,data:te}}}function M(U,V){for(const $ of U){if(!$.selector)continue;const z=V.lookup($.selector);if(!(!z||!z.parsedOptions))for(const W of z.parsedOptions){if(!(u in W))continue;const J=W[u];for(const Y in J){if(Y in $){if(Y==="additional_bindings")continue;J[Y]=$[Y]}$.additional_bindings&&(J.additional_bindings=J.additional_bindings?Array.isArray(J.additional_bindings)?J.additional_bindings:[J.additional_bindings]:[],J.additional_bindings.push(...$.additional_bindings))}}}}return transcoding}const version$2="5.0.6",require$$20={version:version$2};var hasRequiredOperationsClient;function requireOperationsClient(){return hasRequiredOperationsClient||(hasRequiredOperationsClient=1,(function(c){var u=operationsClient&&operationsClient.__createBinding||(Object.create?(function(L,q,M,U){U===void 0&&(U=M);var V=Object.getOwnPropertyDescriptor(q,M);(!V||("get"in V?!q.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return q[M]}}),Object.defineProperty(L,U,V)}):(function(L,q,M,U){U===void 0&&(U=M),L[U]=q[M]})),d=operationsClient&&operationsClient.__setModuleDefault||(Object.create?(function(L,q){Object.defineProperty(L,"default",{enumerable:!0,value:q})}):function(L,q){L.default=q}),y=operationsClient&&operationsClient.__importStar||(function(){var L=function(q){return L=Object.getOwnPropertyNames||function(M){var U=[];for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(U[U.length]=V);return U},L(q)};return function(q){if(q&&q.__esModule)return q;var M={};if(q!=null)for(var U=L(q),V=0;V<U.length;V++)U[V]!=="default"&&u(M,q,U[V]);return d(M,q),M}})();Object.defineProperty(c,"__esModule",{value:!0}),c.OperationsClientBuilder=c.OperationsClient=c.ALL_SCOPES=c.SERVICE_ADDRESS=void 0;const O=requireCreateApiCall(),T=requireDescriptor$1(),E=y(requireGax()),v=require$$3$1,p=require$$4$1,g=requireTranscoding();c.SERVICE_ADDRESS="longrunning.googleapis.com";const w=require$$20.version,R=443,C="gapic/0.7.1";c.ALL_SCOPES=[];class N{constructor(q,M,U){ce(this,"auth");ce(this,"innerApiCalls");ce(this,"descriptor");ce(this,"operationsStub");const V=Object.assign({servicePath:c.SERVICE_ADDRESS,port:R,clientConfig:{}},U),$=["gl-node/"+process.versions.node];V.libName&&V.libVersion&&$.push(V.libName+"/"+V.libVersion),$.push(C,"gax/"+w),V.fallback?$.push("gl-web/"+w):$.push("grpc/"+q.grpcVersion);const z=q.constructSettings("google.longrunning.Operations",v,V.clientConfig||{},{"x-goog-api-client":$.join(" ")});this.auth=q.auth,this.innerApiCalls={},this.descriptor={listOperations:new T.PageDescriptor("pageToken","nextPageToken","operations")},this.operationsStub=q.createStub(V.fallback?M.lookupService("google.longrunning.Operations"):M.google.longrunning.Operations,V);const W=["getOperation","listOperations","cancelOperation","deleteOperation"];for(const J of W){const Y=this.operationsStub.then(Q=>(...H)=>Q[J].apply(Q,H),Q=>()=>{throw Q});this.innerApiCalls[J]=(0,O.createApiCall)(Y,z[J],this.descriptor[J])}}close(){this.operationsStub.then(q=>q.close()).catch(console.error)}getProjectId(q){if(this.auth&&"getProjectId"in this.auth)return this.auth.getProjectId(q);if(q)q(new Error("Cannot determine project ID."));else return Promise.reject("Cannot determine project ID.")}getOperationInternal(q,M,U){return q=q||{},M=M||{},this.innerApiCalls.getOperation(q,M,U)}getOperation(q,M,U){let V;return M instanceof Function&&U===void 0?(U=M,V={}):V=M,q=q||{},V=V||{},this.innerApiCalls.getOperation(q,V,U)}listOperations(q,M,U){let V;return M instanceof Function&&U===void 0?(U=M,V={}):V=M,q=q||{},V=V||{},this.innerApiCalls.listOperations(q,V,U)}listOperationsStream(q,M){const U=new E.CallSettings(M);return this.descriptor.listOperations.createStream(this.innerApiCalls.listOperations,q,U)}listOperationsAsync(q,M){q=q||{},M=M||{};const U=new E.CallSettings(M);return this.descriptor.listOperations.asyncIterate(this.innerApiCalls.listOperations,q,U)}cancelOperation(q,M,U){let V;return M instanceof Function&&U===void 0?(U=M,V={}):V=M,q=q||{},V=V||{},this.innerApiCalls.cancelOperation(q,V,U)}deleteOperation(q,M,U){let V;return M instanceof Function&&U===void 0?(U=M,V={}):V=M,q=q||{},V=V||{},this.innerApiCalls.deleteOperation(q,V,U)}}c.OperationsClient=N;class D{constructor(q,M){ce(this,"operationsClient");M&&q.httpRules&&(0,g.overrideHttpRules)(q.httpRules,M);const U=M??q.loadProtoJSON(p);this.operationsClient=V=>(q.fallback&&(V.fallback=q.fallback),new N(q,U,V)),Object.assign(this.operationsClient,N)}}c.OperationsClientBuilder=D})(operationsClient)),operationsClient}var fallbackRest={},hasRequiredFallbackRest;function requireFallbackRest(){if(hasRequiredFallbackRest)return fallbackRest;hasRequiredFallbackRest=1;var c=fallbackRest&&fallbackRest.__createBinding||(Object.create?(function(g,w,R,C){C===void 0&&(C=R);var N=Object.getOwnPropertyDescriptor(w,R);(!N||("get"in N?!w.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(g,C,N)}):(function(g,w,R,C){C===void 0&&(C=R),g[C]=w[R]})),u=fallbackRest&&fallbackRest.__setModuleDefault||(Object.create?(function(g,w){Object.defineProperty(g,"default",{enumerable:!0,value:w})}):function(g,w){g.default=w}),d=fallbackRest&&fallbackRest.__importStar||(function(){var g=function(w){return g=Object.getOwnPropertyNames||function(R){var C=[];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(C[C.length]=N);return C},g(w)};return function(w){if(w&&w.__esModule)return w;var R={};if(w!=null)for(var C=g(w),N=0;N<C.length;N++)C[N]!=="default"&&c(R,w,C[N]);return u(R,w),R}})();Object.defineProperty(fallbackRest,"__esModule",{value:!0}),fallbackRest.encodeRequest=v,fallbackRest.decodeResponse=p;const y=d(requireSrc$4()),O=requireFallback(),T=requireGoogleError(),E=requireTranscoding();function v(g,w,R,C,N,D,L){const q={"Content-Type":"application/json"},M=g.resolvedRequestType.fromObject(N),U=y.toProto3JSON(M,{numericEnums:D});if(!U)throw new Error(`Cannot send null request to RPC ${g.name}.`);if(typeof U!="object"||Array.isArray(U))throw new Error(`Request to RPC ${g.name} must be an object.`);const V=(0,E.transcode)(U,g.parsedOptions);if(!V)throw new Error(`Cannot build HTTP request for ${JSON.stringify(U)}, method: ${g.name}`);D&&(V.queryString=(V.queryString?`${V.queryString}&`:"")+"$alt=json%3Benum-encoding=int"),L&&(V.queryString=(V.queryString?`${V.queryString}&`:"")+"$prettyPrint=0");const $=V.httpMethod.toUpperCase(),z=JSON.stringify(V.data),W=`${w}://${R}:${C}/${V.url.replace(/^\//,"")}?${V.queryString}`;return{method:$,url:W,headers:q,body:z}}function p(g,w,R){const C=new TextDecoder().decode(R);if(!C)throw new Error(`Received null response from RPC ${g.name}`);const N=JSON.parse(C);if(!w)throw T.GoogleError.parseHttpError(N);const D=y.fromProto3JSON(g.resolvedResponseType,N);if(!D)throw new Error(`Received null or malformed response from JSON serializer from RPC ${g.name}`);return g.resolvedResponseType.toObject(D,O.defaultToObjectOptions)}return fallbackRest}var fallbackServiceStub={},streamArrayParser={},hasRequiredStreamArrayParser;function requireStreamArrayParser(){if(hasRequiredStreamArrayParser)return streamArrayParser;hasRequiredStreamArrayParser=1,Object.defineProperty(streamArrayParser,"__esModule",{value:!0}),streamArrayParser.StreamArrayParser=void 0;const c=require$$0$6,u=requireFallbackRest();class d extends c.Transform{constructor(T,E){super(Object.assign({},E,{readableObjectMode:!0}));ce(this,"_done");ce(this,"_prevBlock");ce(this,"_isInString");ce(this,"_isSkipped");ce(this,"_level");ce(this,"rpc");ce(this,"cancelController");ce(this,"cancelSignal");ce(this,"cancelRequested");this._done=!1,this._prevBlock=Buffer.from(""),this._isInString=!1,this._isSkipped=!1,this._level=0,this.rpc=T,this.cancelController=new AbortController,this.cancelSignal=this.cancelController.signal,this.cancelRequested=!1}_transform(T,E,v){let p=0,g=0;for(this._level===0&&g===0&&(String.fromCharCode(T[0])!=="["&&this.emit("error",new Error(`Internal Error: API service stream data must start with a '[' and close with the corresponding ']', but it start with ${String.fromCharCode(T[0])}`)),g++,this._level++);g<T.length;){const w=String.fromCharCode(T[g]);if(this._isSkipped)this._isSkipped=!1;else switch(w){case"{":this._isInString||this._level++,!this._isInString&&this._level===2&&(p=g);break;case'"':this._isInString=!this._isInString;break;case"}":if(this._isInString||this._level--,!this._isInString&&this._level===1){const R=Buffer.concat([this._prevBlock,T.slice(p,g+1)]);try{const C=(0,u.decodeResponse)(this.rpc,!0,R);this.push(C)}catch(C){this.emit("error",C)}p=g+1,this._prevBlock=Buffer.from("")}break;case"]":!this._isInString&&this._level===1&&(this._done=!0,this.push(null));break;case"\\":this._isSkipped=!0;break}g++}this._level>1&&(this._prevBlock=Buffer.concat([this._prevBlock,T.slice(p,g)])),v()}_flush(T){T()}cancel(){this._done=!0,this.cancelRequested=!0,this.cancelController.abort(),this.end()}}return streamArrayParser.StreamArrayParser=d,streamArrayParser}var hasRequiredFallbackServiceStub;function requireFallbackServiceStub(){if(hasRequiredFallbackServiceStub)return fallbackServiceStub;hasRequiredFallbackServiceStub=1;var c=fallbackServiceStub&&fallbackServiceStub.__createBinding||(Object.create?(function(R,C,N,D){D===void 0&&(D=N);var L=Object.getOwnPropertyDescriptor(C,N);(!L||("get"in L?!C.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return C[N]}}),Object.defineProperty(R,D,L)}):(function(R,C,N,D){D===void 0&&(D=N),R[D]=C[N]})),u=fallbackServiceStub&&fallbackServiceStub.__setModuleDefault||(Object.create?(function(R,C){Object.defineProperty(R,"default",{enumerable:!0,value:C})}):function(R,C){R.default=C}),d=fallbackServiceStub&&fallbackServiceStub.__importStar||(function(){var R=function(C){return R=Object.getOwnPropertyNames||function(N){var D=[];for(var L in N)Object.prototype.hasOwnProperty.call(N,L)&&(D[D.length]=L);return D},R(C)};return function(C){if(C&&C.__esModule)return C;var N={};if(C!=null)for(var D=R(C),L=0;L<D.length;L++)D[L]!=="default"&&c(N,C,D[L]);return u(N,C),N}})();Object.defineProperty(fallbackServiceStub,"__esModule",{value:!0}),fallbackServiceStub.generateServiceStub=w;const y=d(requireSrc$4()),O=requireFeatureDetection(),T=requireStreamArrayParser(),E=requireFallback(),v=require$$0$6;let p=null;if((0,O.isNodeJS)()){const R=require$$5$3,C=require$$1$4,N=new R.Agent({keepAlive:!0}),D=new C.Agent({keepAlive:!0});p=L=>L.protocol==="http:"?N:D}function g(R){const C=y.fromProto3JSON(R.resolvedResponseType,JSON.parse("{}"));return R.resolvedResponseType.toObject(C,E.defaultToObjectOptions)}function w(R,C,N,D,L,q,M,U,V){const $={close:()=>({cancel:()=>{}})};for(const[z,W]of Object.entries(R))$[z]=(J,Y,Q,H)=>{Y??(Y={});let te;try{te=q(W,C,N,D,J,U,V)}catch(me){return H&&H(me),{cancel(){}}}const ne=new AbortController,oe=ne.signal;let ie=!1;const ee=te.url,ue=new Headers(te.headers);for(const me of Object.keys(Y))ue.set(me,Y[me][0]);const fe=new T.StreamArrayParser(W);let de=!1;const ge={headers:ue,body:te.body,method:te.method,signal:oe,responseType:"stream",agent:p||void 0};return(te.method==="GET"||te.method==="DELETE")&&delete ge.body,L.fetch(ee,ge).then(me=>{if(me.status===204&&me.ok&&(de=!0),me.ok&&W.responseStream){(0,v.pipeline)(me.body,fe,_e=>{_e&&(!ie||_e instanceof Error&&_e.name!=="AbortError")&&(H&&H(_e),fe.emit("error",_e))});return}else return Promise.all([Promise.resolve(me.ok),me.arrayBuffer()]).then(([_e,we])=>{const Re=M(W,_e,we);H(null,Re)}).catch(_e=>{if(!ie||_e.name!=="AbortError")if(W.responseStream)H&&H(_e),fe.emit("error",_e);else if(!de)H(_e);else{const we=g(W);H(null,we)}})}).catch(me=>{if(W.responseStream)H&&H(me),fe.emit("error",me);else if(H)H(me);else throw me}),W.responseStream?fe:{cancel:()=>{ie=!0,ne.abort()}}};return $}return fallbackServiceStub}var iam_service={exports:{}},hasRequiredIam_service;function requireIam_service(){return hasRequiredIam_service||(hasRequiredIam_service=1,(function(c){(u=>{typeof commonjsRequire=="function"&&c&&c.exports&&(c.exports=u(requireMinimal()))})(function(u){var d,y,O,T,E,v=u.Reader,p=u.Writer,g=u.util,w=u.roots.iam_protos||(u.roots.iam_protos={});function R(o,I,B){u.rpc.Service.call(this,o,I,B)}function C(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function N(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function D(o){if(this.permissions=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function L(o){if(this.permissions=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function q(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function M(o){if(this.bindings=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function U(o){if(this.members=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function V(o){if(this.bindingDeltas=[],this.auditConfigDeltas=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function $(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function z(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function W(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function J(o){if(this.rules=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function Y(o){if(this.additionalBindings=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function Q(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function H(o){if(this.pattern=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function te(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function ne(o){if(this.file=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function oe(o){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function ie(o){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function ee(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function ue(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function fe(o){if(this.uninterpretedOption=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function de(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function ge(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function me(o){if(this.value=[],this.reservedRange=[],this.reservedName=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function _e(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function we(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function Re(o){if(this.method=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function Te(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function Ae(o){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function Oe(o){if(this.uninterpretedOption=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function ve(o){if(this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function Ee(o){if(this.uninterpretedOption=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function he(o){if(this.uninterpretedOption=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function l(o){if(this.uninterpretedOption=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function P(o){if(this.uninterpretedOption=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function k(o){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function K(o){if(this.name=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function pe(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function Se(o){if(this.location=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function ye(o){if(this.path=[],this.span=[],this.leadingDetachedComments=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function a(o){if(this.annotation=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function j(o){if(this.path=[],o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}function G(o){if(o)for(var I=Object.keys(o),B=0;B<I.length;++B)o[I[B]]!=null&&(this[I[B]]=o[I[B]])}return w.google=((E={}).iam=((O={}).v1=((y={}).IAMPolicy=(((R.prototype=Object.create(u.rpc.Service.prototype)).constructor=R).create=function(o,I,B){return new this(o,I,B)},Object.defineProperty(R.prototype.setIamPolicy=function o(I,B){return this.rpcCall(o,w.google.iam.v1.SetIamPolicyRequest,w.google.iam.v1.Policy,I,B)},"name",{value:"SetIamPolicy"}),Object.defineProperty(R.prototype.getIamPolicy=function o(I,B){return this.rpcCall(o,w.google.iam.v1.GetIamPolicyRequest,w.google.iam.v1.Policy,I,B)},"name",{value:"GetIamPolicy"}),Object.defineProperty(R.prototype.testIamPermissions=function o(I,B){return this.rpcCall(o,w.google.iam.v1.TestIamPermissionsRequest,w.google.iam.v1.TestIamPermissionsResponse,I,B)},"name",{value:"TestIamPermissions"}),R),y.SetIamPolicyRequest=(C.prototype.resource="",C.prototype.policy=null,C.create=function(o){return new C(o)},C.encode=function(o,I){return I=I||p.create(),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&I.uint32(10).string(o.resource),o.policy!=null&&Object.hasOwnProperty.call(o,"policy")&&w.google.iam.v1.Policy.encode(o.policy,I.uint32(18).fork()).ldelim(),I},C.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},C.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.SetIamPolicyRequest;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.resource=o.string();break;case 2:ae.policy=w.google.iam.v1.Policy.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},C.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},C.verify=function(o){return typeof o!="object"||o===null?"object expected":o.resource!=null&&o.hasOwnProperty("resource")&&!g.isString(o.resource)?"resource: string expected":o.policy!=null&&o.hasOwnProperty("policy")&&(o=w.google.iam.v1.Policy.verify(o.policy),o)?"policy."+o:null},C.fromObject=function(o){if(o instanceof w.google.iam.v1.SetIamPolicyRequest)return o;var I=new w.google.iam.v1.SetIamPolicyRequest;if(o.resource!=null&&(I.resource=String(o.resource)),o.policy!=null){if(typeof o.policy!="object")throw TypeError(".google.iam.v1.SetIamPolicyRequest.policy: object expected");I.policy=w.google.iam.v1.Policy.fromObject(o.policy)}return I},C.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.resource="",B.policy=null),o.resource!=null&&o.hasOwnProperty("resource")&&(B.resource=o.resource),o.policy!=null&&o.hasOwnProperty("policy")&&(B.policy=w.google.iam.v1.Policy.toObject(o.policy,I)),B},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C),y.GetIamPolicyRequest=(N.prototype.resource="",N.prototype.options=null,N.create=function(o){return new N(o)},N.encode=function(o,I){return I=I||p.create(),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&I.uint32(10).string(o.resource),o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.iam.v1.GetPolicyOptions.encode(o.options,I.uint32(18).fork()).ldelim(),I},N.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},N.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.GetIamPolicyRequest;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.resource=o.string();break;case 2:ae.options=w.google.iam.v1.GetPolicyOptions.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},N.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},N.verify=function(o){return typeof o!="object"||o===null?"object expected":o.resource!=null&&o.hasOwnProperty("resource")&&!g.isString(o.resource)?"resource: string expected":o.options!=null&&o.hasOwnProperty("options")&&(o=w.google.iam.v1.GetPolicyOptions.verify(o.options),o)?"options."+o:null},N.fromObject=function(o){if(o instanceof w.google.iam.v1.GetIamPolicyRequest)return o;var I=new w.google.iam.v1.GetIamPolicyRequest;if(o.resource!=null&&(I.resource=String(o.resource)),o.options!=null){if(typeof o.options!="object")throw TypeError(".google.iam.v1.GetIamPolicyRequest.options: object expected");I.options=w.google.iam.v1.GetPolicyOptions.fromObject(o.options)}return I},N.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.resource="",B.options=null),o.resource!=null&&o.hasOwnProperty("resource")&&(B.resource=o.resource),o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.iam.v1.GetPolicyOptions.toObject(o.options,I)),B},N.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},N),y.TestIamPermissionsRequest=(D.prototype.resource="",D.prototype.permissions=g.emptyArray,D.create=function(o){return new D(o)},D.encode=function(o,I){if(I=I||p.create(),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&I.uint32(10).string(o.resource),o.permissions!=null&&o.permissions.length)for(var B=0;B<o.permissions.length;++B)I.uint32(18).string(o.permissions[B]);return I},D.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},D.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.TestIamPermissionsRequest;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.resource=o.string();break;case 2:ae.permissions&&ae.permissions.length||(ae.permissions=[]),ae.permissions.push(o.string());break;default:o.skipType(7&Ce)}}return ae},D.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},D.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.resource!=null&&o.hasOwnProperty("resource")&&!g.isString(o.resource))return"resource: string expected";if(o.permissions!=null&&o.hasOwnProperty("permissions")){if(!Array.isArray(o.permissions))return"permissions: array expected";for(var I=0;I<o.permissions.length;++I)if(!g.isString(o.permissions[I]))return"permissions: string[] expected"}return null},D.fromObject=function(o){if(o instanceof w.google.iam.v1.TestIamPermissionsRequest)return o;var I=new w.google.iam.v1.TestIamPermissionsRequest;if(o.resource!=null&&(I.resource=String(o.resource)),o.permissions){if(!Array.isArray(o.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsRequest.permissions: array expected");I.permissions=[];for(var B=0;B<o.permissions.length;++B)I.permissions[B]=String(o.permissions[B])}return I},D.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.permissions=[]),I.defaults&&(B.resource=""),o.resource!=null&&o.hasOwnProperty("resource")&&(B.resource=o.resource),o.permissions&&o.permissions.length){B.permissions=[];for(var ae=0;ae<o.permissions.length;++ae)B.permissions[ae]=o.permissions[ae]}return B},D.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},D),y.TestIamPermissionsResponse=(L.prototype.permissions=g.emptyArray,L.create=function(o){return new L(o)},L.encode=function(o,I){if(I=I||p.create(),o.permissions!=null&&o.permissions.length)for(var B=0;B<o.permissions.length;++B)I.uint32(10).string(o.permissions[B]);return I},L.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},L.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.TestIamPermissionsResponse;o.pos<B;){var Ce=o.uint32();Ce>>>3==1?(ae.permissions&&ae.permissions.length||(ae.permissions=[]),ae.permissions.push(o.string())):o.skipType(7&Ce)}return ae},L.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},L.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.permissions!=null&&o.hasOwnProperty("permissions")){if(!Array.isArray(o.permissions))return"permissions: array expected";for(var I=0;I<o.permissions.length;++I)if(!g.isString(o.permissions[I]))return"permissions: string[] expected"}return null},L.fromObject=function(o){if(o instanceof w.google.iam.v1.TestIamPermissionsResponse)return o;var I=new w.google.iam.v1.TestIamPermissionsResponse;if(o.permissions){if(!Array.isArray(o.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsResponse.permissions: array expected");I.permissions=[];for(var B=0;B<o.permissions.length;++B)I.permissions[B]=String(o.permissions[B])}return I},L.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.permissions=[]),o.permissions&&o.permissions.length){B.permissions=[];for(var ae=0;ae<o.permissions.length;++ae)B.permissions[ae]=o.permissions[ae]}return B},L.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},L),y.GetPolicyOptions=(q.prototype.requestedPolicyVersion=0,q.create=function(o){return new q(o)},q.encode=function(o,I){return I=I||p.create(),o.requestedPolicyVersion!=null&&Object.hasOwnProperty.call(o,"requestedPolicyVersion")&&I.uint32(8).int32(o.requestedPolicyVersion),I},q.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},q.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.GetPolicyOptions;o.pos<B;){var Ce=o.uint32();Ce>>>3==1?ae.requestedPolicyVersion=o.int32():o.skipType(7&Ce)}return ae},q.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},q.verify=function(o){return typeof o!="object"||o===null?"object expected":o.requestedPolicyVersion!=null&&o.hasOwnProperty("requestedPolicyVersion")&&!g.isInteger(o.requestedPolicyVersion)?"requestedPolicyVersion: integer expected":null},q.fromObject=function(o){var I;return o instanceof w.google.iam.v1.GetPolicyOptions?o:(I=new w.google.iam.v1.GetPolicyOptions,o.requestedPolicyVersion!=null&&(I.requestedPolicyVersion=0|o.requestedPolicyVersion),I)},q.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.requestedPolicyVersion=0),o.requestedPolicyVersion!=null&&o.hasOwnProperty("requestedPolicyVersion")&&(B.requestedPolicyVersion=o.requestedPolicyVersion),B},q.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},q),y.Policy=(M.prototype.version=0,M.prototype.bindings=g.emptyArray,M.prototype.etag=g.newBuffer([]),M.create=function(o){return new M(o)},M.encode=function(o,I){if(I=I||p.create(),o.version!=null&&Object.hasOwnProperty.call(o,"version")&&I.uint32(8).int32(o.version),o.etag!=null&&Object.hasOwnProperty.call(o,"etag")&&I.uint32(26).bytes(o.etag),o.bindings!=null&&o.bindings.length)for(var B=0;B<o.bindings.length;++B)w.google.iam.v1.Binding.encode(o.bindings[B],I.uint32(34).fork()).ldelim();return I},M.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},M.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.Policy;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.version=o.int32();break;case 4:ae.bindings&&ae.bindings.length||(ae.bindings=[]),ae.bindings.push(w.google.iam.v1.Binding.decode(o,o.uint32()));break;case 3:ae.etag=o.bytes();break;default:o.skipType(7&Ce)}}return ae},M.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},M.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.version!=null&&o.hasOwnProperty("version")&&!g.isInteger(o.version))return"version: integer expected";if(o.bindings!=null&&o.hasOwnProperty("bindings")){if(!Array.isArray(o.bindings))return"bindings: array expected";for(var I=0;I<o.bindings.length;++I){var B=w.google.iam.v1.Binding.verify(o.bindings[I]);if(B)return"bindings."+B}}return o.etag!=null&&o.hasOwnProperty("etag")&&!(o.etag&&typeof o.etag.length=="number"||g.isString(o.etag))?"etag: buffer expected":null},M.fromObject=function(o){if(o instanceof w.google.iam.v1.Policy)return o;var I=new w.google.iam.v1.Policy;if(o.version!=null&&(I.version=0|o.version),o.bindings){if(!Array.isArray(o.bindings))throw TypeError(".google.iam.v1.Policy.bindings: array expected");I.bindings=[];for(var B=0;B<o.bindings.length;++B){if(typeof o.bindings[B]!="object")throw TypeError(".google.iam.v1.Policy.bindings: object expected");I.bindings[B]=w.google.iam.v1.Binding.fromObject(o.bindings[B])}}return o.etag!=null&&(typeof o.etag=="string"?g.base64.decode(o.etag,I.etag=g.newBuffer(g.base64.length(o.etag)),0):o.etag.length&&(I.etag=o.etag)),I},M.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.bindings=[]),I.defaults&&(B.version=0,I.bytes===String?B.etag="":(B.etag=[],I.bytes!==Array&&(B.etag=g.newBuffer(B.etag)))),o.version!=null&&o.hasOwnProperty("version")&&(B.version=o.version),o.etag!=null&&o.hasOwnProperty("etag")&&(B.etag=I.bytes===String?g.base64.encode(o.etag,0,o.etag.length):I.bytes===Array?Array.prototype.slice.call(o.etag):o.etag),o.bindings&&o.bindings.length){B.bindings=[];for(var ae=0;ae<o.bindings.length;++ae)B.bindings[ae]=w.google.iam.v1.Binding.toObject(o.bindings[ae],I)}return B},M.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},M),y.Binding=(U.prototype.role="",U.prototype.members=g.emptyArray,U.prototype.condition=null,U.create=function(o){return new U(o)},U.encode=function(o,I){if(I=I||p.create(),o.role!=null&&Object.hasOwnProperty.call(o,"role")&&I.uint32(10).string(o.role),o.members!=null&&o.members.length)for(var B=0;B<o.members.length;++B)I.uint32(18).string(o.members[B]);return o.condition!=null&&Object.hasOwnProperty.call(o,"condition")&&w.google.type.Expr.encode(o.condition,I.uint32(26).fork()).ldelim(),I},U.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},U.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.Binding;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.role=o.string();break;case 2:ae.members&&ae.members.length||(ae.members=[]),ae.members.push(o.string());break;case 3:ae.condition=w.google.type.Expr.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},U.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},U.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.role!=null&&o.hasOwnProperty("role")&&!g.isString(o.role))return"role: string expected";if(o.members!=null&&o.hasOwnProperty("members")){if(!Array.isArray(o.members))return"members: array expected";for(var I=0;I<o.members.length;++I)if(!g.isString(o.members[I]))return"members: string[] expected"}if(o.condition!=null&&o.hasOwnProperty("condition")){var B=w.google.type.Expr.verify(o.condition);if(B)return"condition."+B}return null},U.fromObject=function(o){if(o instanceof w.google.iam.v1.Binding)return o;var I=new w.google.iam.v1.Binding;if(o.role!=null&&(I.role=String(o.role)),o.members){if(!Array.isArray(o.members))throw TypeError(".google.iam.v1.Binding.members: array expected");I.members=[];for(var B=0;B<o.members.length;++B)I.members[B]=String(o.members[B])}if(o.condition!=null){if(typeof o.condition!="object")throw TypeError(".google.iam.v1.Binding.condition: object expected");I.condition=w.google.type.Expr.fromObject(o.condition)}return I},U.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.members=[]),I.defaults&&(B.role="",B.condition=null),o.role!=null&&o.hasOwnProperty("role")&&(B.role=o.role),o.members&&o.members.length){B.members=[];for(var ae=0;ae<o.members.length;++ae)B.members[ae]=o.members[ae]}return o.condition!=null&&o.hasOwnProperty("condition")&&(B.condition=w.google.type.Expr.toObject(o.condition,I)),B},U.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},U),y.PolicyDelta=(V.prototype.bindingDeltas=g.emptyArray,V.prototype.auditConfigDeltas=g.emptyArray,V.create=function(o){return new V(o)},V.encode=function(o,I){if(I=I||p.create(),o.bindingDeltas!=null&&o.bindingDeltas.length)for(var B=0;B<o.bindingDeltas.length;++B)w.google.iam.v1.BindingDelta.encode(o.bindingDeltas[B],I.uint32(10).fork()).ldelim();if(o.auditConfigDeltas!=null&&o.auditConfigDeltas.length)for(B=0;B<o.auditConfigDeltas.length;++B)w.google.iam.v1.AuditConfigDelta.encode(o.auditConfigDeltas[B],I.uint32(18).fork()).ldelim();return I},V.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},V.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.PolicyDelta;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.bindingDeltas&&ae.bindingDeltas.length||(ae.bindingDeltas=[]),ae.bindingDeltas.push(w.google.iam.v1.BindingDelta.decode(o,o.uint32()));break;case 2:ae.auditConfigDeltas&&ae.auditConfigDeltas.length||(ae.auditConfigDeltas=[]),ae.auditConfigDeltas.push(w.google.iam.v1.AuditConfigDelta.decode(o,o.uint32()));break;default:o.skipType(7&Ce)}}return ae},V.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},V.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.bindingDeltas!=null&&o.hasOwnProperty("bindingDeltas")){if(!Array.isArray(o.bindingDeltas))return"bindingDeltas: array expected";for(var I=0;I<o.bindingDeltas.length;++I)if(B=w.google.iam.v1.BindingDelta.verify(o.bindingDeltas[I]))return"bindingDeltas."+B}if(o.auditConfigDeltas!=null&&o.hasOwnProperty("auditConfigDeltas")){if(!Array.isArray(o.auditConfigDeltas))return"auditConfigDeltas: array expected";for(var B,I=0;I<o.auditConfigDeltas.length;++I)if(B=w.google.iam.v1.AuditConfigDelta.verify(o.auditConfigDeltas[I]))return"auditConfigDeltas."+B}return null},V.fromObject=function(o){if(o instanceof w.google.iam.v1.PolicyDelta)return o;var I=new w.google.iam.v1.PolicyDelta;if(o.bindingDeltas){if(!Array.isArray(o.bindingDeltas))throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: array expected");I.bindingDeltas=[];for(var B=0;B<o.bindingDeltas.length;++B){if(typeof o.bindingDeltas[B]!="object")throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: object expected");I.bindingDeltas[B]=w.google.iam.v1.BindingDelta.fromObject(o.bindingDeltas[B])}}if(o.auditConfigDeltas){if(!Array.isArray(o.auditConfigDeltas))throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected");for(I.auditConfigDeltas=[],B=0;B<o.auditConfigDeltas.length;++B){if(typeof o.auditConfigDeltas[B]!="object")throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected");I.auditConfigDeltas[B]=w.google.iam.v1.AuditConfigDelta.fromObject(o.auditConfigDeltas[B])}}return I},V.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.bindingDeltas=[],B.auditConfigDeltas=[]),o.bindingDeltas&&o.bindingDeltas.length){B.bindingDeltas=[];for(var ae=0;ae<o.bindingDeltas.length;++ae)B.bindingDeltas[ae]=w.google.iam.v1.BindingDelta.toObject(o.bindingDeltas[ae],I)}if(o.auditConfigDeltas&&o.auditConfigDeltas.length)for(B.auditConfigDeltas=[],ae=0;ae<o.auditConfigDeltas.length;++ae)B.auditConfigDeltas[ae]=w.google.iam.v1.AuditConfigDelta.toObject(o.auditConfigDeltas[ae],I);return B},V.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},V),y.BindingDelta=($.prototype.action=0,$.prototype.role="",$.prototype.member="",$.prototype.condition=null,$.create=function(o){return new $(o)},$.encode=function(o,I){return I=I||p.create(),o.action!=null&&Object.hasOwnProperty.call(o,"action")&&I.uint32(8).int32(o.action),o.role!=null&&Object.hasOwnProperty.call(o,"role")&&I.uint32(18).string(o.role),o.member!=null&&Object.hasOwnProperty.call(o,"member")&&I.uint32(26).string(o.member),o.condition!=null&&Object.hasOwnProperty.call(o,"condition")&&w.google.type.Expr.encode(o.condition,I.uint32(34).fork()).ldelim(),I},$.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},$.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.BindingDelta;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.action=o.int32();break;case 2:ae.role=o.string();break;case 3:ae.member=o.string();break;case 4:ae.condition=w.google.type.Expr.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},$.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},$.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.action!=null&&o.hasOwnProperty("action"))switch(o.action){default:return"action: enum value expected";case 0:case 1:case 2:}return o.role!=null&&o.hasOwnProperty("role")&&!g.isString(o.role)?"role: string expected":o.member!=null&&o.hasOwnProperty("member")&&!g.isString(o.member)?"member: string expected":o.condition!=null&&o.hasOwnProperty("condition")&&(o=w.google.type.Expr.verify(o.condition),o)?"condition."+o:null},$.fromObject=function(o){if(o instanceof w.google.iam.v1.BindingDelta)return o;var I=new w.google.iam.v1.BindingDelta;switch(o.action){case"ACTION_UNSPECIFIED":case 0:I.action=0;break;case"ADD":case 1:I.action=1;break;case"REMOVE":case 2:I.action=2}if(o.role!=null&&(I.role=String(o.role)),o.member!=null&&(I.member=String(o.member)),o.condition!=null){if(typeof o.condition!="object")throw TypeError(".google.iam.v1.BindingDelta.condition: object expected");I.condition=w.google.type.Expr.fromObject(o.condition)}return I},$.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.action=I.enums===String?"ACTION_UNSPECIFIED":0,B.role="",B.member="",B.condition=null),o.action!=null&&o.hasOwnProperty("action")&&(B.action=I.enums===String?w.google.iam.v1.BindingDelta.Action[o.action]:o.action),o.role!=null&&o.hasOwnProperty("role")&&(B.role=o.role),o.member!=null&&o.hasOwnProperty("member")&&(B.member=o.member),o.condition!=null&&o.hasOwnProperty("condition")&&(B.condition=w.google.type.Expr.toObject(o.condition,I)),B},$.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},$.Action=(d={},(T=Object.create(d))[d[0]="ACTION_UNSPECIFIED"]=0,T[d[1]="ADD"]=1,T[d[2]="REMOVE"]=2,T),$),y.AuditConfigDelta=(z.prototype.action=0,z.prototype.service="",z.prototype.exemptedMember="",z.prototype.logType="",z.create=function(o){return new z(o)},z.encode=function(o,I){return I=I||p.create(),o.action!=null&&Object.hasOwnProperty.call(o,"action")&&I.uint32(8).int32(o.action),o.service!=null&&Object.hasOwnProperty.call(o,"service")&&I.uint32(18).string(o.service),o.exemptedMember!=null&&Object.hasOwnProperty.call(o,"exemptedMember")&&I.uint32(26).string(o.exemptedMember),o.logType!=null&&Object.hasOwnProperty.call(o,"logType")&&I.uint32(34).string(o.logType),I},z.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},z.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.AuditConfigDelta;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.action=o.int32();break;case 2:ae.service=o.string();break;case 3:ae.exemptedMember=o.string();break;case 4:ae.logType=o.string();break;default:o.skipType(7&Ce)}}return ae},z.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},z.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.action!=null&&o.hasOwnProperty("action"))switch(o.action){default:return"action: enum value expected";case 0:case 1:case 2:}return o.service!=null&&o.hasOwnProperty("service")&&!g.isString(o.service)?"service: string expected":o.exemptedMember!=null&&o.hasOwnProperty("exemptedMember")&&!g.isString(o.exemptedMember)?"exemptedMember: string expected":o.logType!=null&&o.hasOwnProperty("logType")&&!g.isString(o.logType)?"logType: string expected":null},z.fromObject=function(o){if(o instanceof w.google.iam.v1.AuditConfigDelta)return o;var I=new w.google.iam.v1.AuditConfigDelta;switch(o.action){case"ACTION_UNSPECIFIED":case 0:I.action=0;break;case"ADD":case 1:I.action=1;break;case"REMOVE":case 2:I.action=2}return o.service!=null&&(I.service=String(o.service)),o.exemptedMember!=null&&(I.exemptedMember=String(o.exemptedMember)),o.logType!=null&&(I.logType=String(o.logType)),I},z.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.action=I.enums===String?"ACTION_UNSPECIFIED":0,B.service="",B.exemptedMember="",B.logType=""),o.action!=null&&o.hasOwnProperty("action")&&(B.action=I.enums===String?w.google.iam.v1.AuditConfigDelta.Action[o.action]:o.action),o.service!=null&&o.hasOwnProperty("service")&&(B.service=o.service),o.exemptedMember!=null&&o.hasOwnProperty("exemptedMember")&&(B.exemptedMember=o.exemptedMember),o.logType!=null&&o.hasOwnProperty("logType")&&(B.logType=o.logType),B},z.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},z.Action=(d={},(T=Object.create(d))[d[0]="ACTION_UNSPECIFIED"]=0,T[d[1]="ADD"]=1,T[d[2]="REMOVE"]=2,T),z),y.logging=((d={}).AuditData=(W.prototype.policyDelta=null,W.create=function(o){return new W(o)},W.encode=function(o,I){return I=I||p.create(),o.policyDelta!=null&&Object.hasOwnProperty.call(o,"policyDelta")&&w.google.iam.v1.PolicyDelta.encode(o.policyDelta,I.uint32(18).fork()).ldelim(),I},W.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},W.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.iam.v1.logging.AuditData;o.pos<B;){var Ce=o.uint32();Ce>>>3==2?ae.policyDelta=w.google.iam.v1.PolicyDelta.decode(o,o.uint32()):o.skipType(7&Ce)}return ae},W.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},W.verify=function(o){return typeof o!="object"||o===null?"object expected":o.policyDelta!=null&&o.hasOwnProperty("policyDelta")&&(o=w.google.iam.v1.PolicyDelta.verify(o.policyDelta),o)?"policyDelta."+o:null},W.fromObject=function(o){if(o instanceof w.google.iam.v1.logging.AuditData)return o;var I=new w.google.iam.v1.logging.AuditData;if(o.policyDelta!=null){if(typeof o.policyDelta!="object")throw TypeError(".google.iam.v1.logging.AuditData.policyDelta: object expected");I.policyDelta=w.google.iam.v1.PolicyDelta.fromObject(o.policyDelta)}return I},W.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.policyDelta=null),o.policyDelta!=null&&o.hasOwnProperty("policyDelta")&&(B.policyDelta=w.google.iam.v1.PolicyDelta.toObject(o.policyDelta,I)),B},W.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},W),d),y),O),E.api=((T={}).Http=(J.prototype.rules=g.emptyArray,J.prototype.fullyDecodeReservedExpansion=!1,J.create=function(o){return new J(o)},J.encode=function(o,I){if(I=I||p.create(),o.rules!=null&&o.rules.length)for(var B=0;B<o.rules.length;++B)w.google.api.HttpRule.encode(o.rules[B],I.uint32(10).fork()).ldelim();return o.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(o,"fullyDecodeReservedExpansion")&&I.uint32(16).bool(o.fullyDecodeReservedExpansion),I},J.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},J.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.api.Http;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.rules&&ae.rules.length||(ae.rules=[]),ae.rules.push(w.google.api.HttpRule.decode(o,o.uint32()));break;case 2:ae.fullyDecodeReservedExpansion=o.bool();break;default:o.skipType(7&Ce)}}return ae},J.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},J.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.rules!=null&&o.hasOwnProperty("rules")){if(!Array.isArray(o.rules))return"rules: array expected";for(var I=0;I<o.rules.length;++I){var B=w.google.api.HttpRule.verify(o.rules[I]);if(B)return"rules."+B}}return o.fullyDecodeReservedExpansion!=null&&o.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof o.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},J.fromObject=function(o){if(o instanceof w.google.api.Http)return o;var I=new w.google.api.Http;if(o.rules){if(!Array.isArray(o.rules))throw TypeError(".google.api.Http.rules: array expected");I.rules=[];for(var B=0;B<o.rules.length;++B){if(typeof o.rules[B]!="object")throw TypeError(".google.api.Http.rules: object expected");I.rules[B]=w.google.api.HttpRule.fromObject(o.rules[B])}}return o.fullyDecodeReservedExpansion!=null&&(I.fullyDecodeReservedExpansion=!!o.fullyDecodeReservedExpansion),I},J.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.rules=[]),I.defaults&&(B.fullyDecodeReservedExpansion=!1),o.rules&&o.rules.length){B.rules=[];for(var ae=0;ae<o.rules.length;++ae)B.rules[ae]=w.google.api.HttpRule.toObject(o.rules[ae],I)}return o.fullyDecodeReservedExpansion!=null&&o.hasOwnProperty("fullyDecodeReservedExpansion")&&(B.fullyDecodeReservedExpansion=o.fullyDecodeReservedExpansion),B},J.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},J),T.HttpRule=(Y.prototype.selector="",Y.prototype.get="",Y.prototype.put="",Y.prototype.post="",Y.prototype.delete="",Y.prototype.patch="",Y.prototype.custom=null,Y.prototype.body="",Y.prototype.responseBody="",Y.prototype.additionalBindings=g.emptyArray,Object.defineProperty(Y.prototype,"pattern",{get:g.oneOfGetter(d=["get","put","post","delete","patch","custom"]),set:g.oneOfSetter(d)}),Y.create=function(o){return new Y(o)},Y.encode=function(o,I){if(I=I||p.create(),o.selector!=null&&Object.hasOwnProperty.call(o,"selector")&&I.uint32(10).string(o.selector),o.get!=null&&Object.hasOwnProperty.call(o,"get")&&I.uint32(18).string(o.get),o.put!=null&&Object.hasOwnProperty.call(o,"put")&&I.uint32(26).string(o.put),o.post!=null&&Object.hasOwnProperty.call(o,"post")&&I.uint32(34).string(o.post),o.delete!=null&&Object.hasOwnProperty.call(o,"delete")&&I.uint32(42).string(o.delete),o.patch!=null&&Object.hasOwnProperty.call(o,"patch")&&I.uint32(50).string(o.patch),o.body!=null&&Object.hasOwnProperty.call(o,"body")&&I.uint32(58).string(o.body),o.custom!=null&&Object.hasOwnProperty.call(o,"custom")&&w.google.api.CustomHttpPattern.encode(o.custom,I.uint32(66).fork()).ldelim(),o.additionalBindings!=null&&o.additionalBindings.length)for(var B=0;B<o.additionalBindings.length;++B)w.google.api.HttpRule.encode(o.additionalBindings[B],I.uint32(90).fork()).ldelim();return o.responseBody!=null&&Object.hasOwnProperty.call(o,"responseBody")&&I.uint32(98).string(o.responseBody),I},Y.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},Y.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.api.HttpRule;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.selector=o.string();break;case 2:ae.get=o.string();break;case 3:ae.put=o.string();break;case 4:ae.post=o.string();break;case 5:ae.delete=o.string();break;case 6:ae.patch=o.string();break;case 8:ae.custom=w.google.api.CustomHttpPattern.decode(o,o.uint32());break;case 7:ae.body=o.string();break;case 12:ae.responseBody=o.string();break;case 11:ae.additionalBindings&&ae.additionalBindings.length||(ae.additionalBindings=[]),ae.additionalBindings.push(w.google.api.HttpRule.decode(o,o.uint32()));break;default:o.skipType(7&Ce)}}return ae},Y.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},Y.verify=function(o){if(typeof o!="object"||o===null)return"object expected";var I={};if(o.selector!=null&&o.hasOwnProperty("selector")&&!g.isString(o.selector))return"selector: string expected";if(o.get!=null&&o.hasOwnProperty("get")&&(I.pattern=1,!g.isString(o.get)))return"get: string expected";if(o.put!=null&&o.hasOwnProperty("put")){if(I.pattern===1)return"pattern: multiple values";if(I.pattern=1,!g.isString(o.put))return"put: string expected"}if(o.post!=null&&o.hasOwnProperty("post")){if(I.pattern===1)return"pattern: multiple values";if(I.pattern=1,!g.isString(o.post))return"post: string expected"}if(o.delete!=null&&o.hasOwnProperty("delete")){if(I.pattern===1)return"pattern: multiple values";if(I.pattern=1,!g.isString(o.delete))return"delete: string expected"}if(o.patch!=null&&o.hasOwnProperty("patch")){if(I.pattern===1)return"pattern: multiple values";if(I.pattern=1,!g.isString(o.patch))return"patch: string expected"}if(o.custom!=null&&o.hasOwnProperty("custom")){if(I.pattern===1)return"pattern: multiple values";if(I.pattern=1,B=w.google.api.CustomHttpPattern.verify(o.custom))return"custom."+B}if(o.body!=null&&o.hasOwnProperty("body")&&!g.isString(o.body))return"body: string expected";if(o.responseBody!=null&&o.hasOwnProperty("responseBody")&&!g.isString(o.responseBody))return"responseBody: string expected";if(o.additionalBindings!=null&&o.hasOwnProperty("additionalBindings")){if(!Array.isArray(o.additionalBindings))return"additionalBindings: array expected";for(var B,ae=0;ae<o.additionalBindings.length;++ae)if(B=w.google.api.HttpRule.verify(o.additionalBindings[ae]))return"additionalBindings."+B}return null},Y.fromObject=function(o){if(o instanceof w.google.api.HttpRule)return o;var I=new w.google.api.HttpRule;if(o.selector!=null&&(I.selector=String(o.selector)),o.get!=null&&(I.get=String(o.get)),o.put!=null&&(I.put=String(o.put)),o.post!=null&&(I.post=String(o.post)),o.delete!=null&&(I.delete=String(o.delete)),o.patch!=null&&(I.patch=String(o.patch)),o.custom!=null){if(typeof o.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");I.custom=w.google.api.CustomHttpPattern.fromObject(o.custom)}if(o.body!=null&&(I.body=String(o.body)),o.responseBody!=null&&(I.responseBody=String(o.responseBody)),o.additionalBindings){if(!Array.isArray(o.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");I.additionalBindings=[];for(var B=0;B<o.additionalBindings.length;++B){if(typeof o.additionalBindings[B]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");I.additionalBindings[B]=w.google.api.HttpRule.fromObject(o.additionalBindings[B])}}return I},Y.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.additionalBindings=[]),I.defaults&&(B.selector="",B.body="",B.responseBody=""),o.selector!=null&&o.hasOwnProperty("selector")&&(B.selector=o.selector),o.get!=null&&o.hasOwnProperty("get")&&(B.get=o.get,I.oneofs)&&(B.pattern="get"),o.put!=null&&o.hasOwnProperty("put")&&(B.put=o.put,I.oneofs)&&(B.pattern="put"),o.post!=null&&o.hasOwnProperty("post")&&(B.post=o.post,I.oneofs)&&(B.pattern="post"),o.delete!=null&&o.hasOwnProperty("delete")&&(B.delete=o.delete,I.oneofs)&&(B.pattern="delete"),o.patch!=null&&o.hasOwnProperty("patch")&&(B.patch=o.patch,I.oneofs)&&(B.pattern="patch"),o.body!=null&&o.hasOwnProperty("body")&&(B.body=o.body),o.custom!=null&&o.hasOwnProperty("custom")&&(B.custom=w.google.api.CustomHttpPattern.toObject(o.custom,I),I.oneofs)&&(B.pattern="custom"),o.additionalBindings&&o.additionalBindings.length){B.additionalBindings=[];for(var ae=0;ae<o.additionalBindings.length;++ae)B.additionalBindings[ae]=w.google.api.HttpRule.toObject(o.additionalBindings[ae],I)}return o.responseBody!=null&&o.hasOwnProperty("responseBody")&&(B.responseBody=o.responseBody),B},Y.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Y),T.CustomHttpPattern=(Q.prototype.kind="",Q.prototype.path="",Q.create=function(o){return new Q(o)},Q.encode=function(o,I){return I=I||p.create(),o.kind!=null&&Object.hasOwnProperty.call(o,"kind")&&I.uint32(10).string(o.kind),o.path!=null&&Object.hasOwnProperty.call(o,"path")&&I.uint32(18).string(o.path),I},Q.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},Q.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.api.CustomHttpPattern;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.kind=o.string();break;case 2:ae.path=o.string();break;default:o.skipType(7&Ce)}}return ae},Q.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},Q.verify=function(o){return typeof o!="object"||o===null?"object expected":o.kind!=null&&o.hasOwnProperty("kind")&&!g.isString(o.kind)?"kind: string expected":o.path!=null&&o.hasOwnProperty("path")&&!g.isString(o.path)?"path: string expected":null},Q.fromObject=function(o){var I;return o instanceof w.google.api.CustomHttpPattern?o:(I=new w.google.api.CustomHttpPattern,o.kind!=null&&(I.kind=String(o.kind)),o.path!=null&&(I.path=String(o.path)),I)},Q.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.kind="",B.path=""),o.kind!=null&&o.hasOwnProperty("kind")&&(B.kind=o.kind),o.path!=null&&o.hasOwnProperty("path")&&(B.path=o.path),B},Q.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Q),T.FieldBehavior=(d={},(y=Object.create(d))[d[0]="FIELD_BEHAVIOR_UNSPECIFIED"]=0,y[d[1]="OPTIONAL"]=1,y[d[2]="REQUIRED"]=2,y[d[3]="OUTPUT_ONLY"]=3,y[d[4]="INPUT_ONLY"]=4,y[d[5]="IMMUTABLE"]=5,y),T.ResourceDescriptor=(H.prototype.type="",H.prototype.pattern=g.emptyArray,H.prototype.nameField="",H.prototype.history=0,H.prototype.plural="",H.prototype.singular="",H.create=function(o){return new H(o)},H.encode=function(o,I){if(I=I||p.create(),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&I.uint32(10).string(o.type),o.pattern!=null&&o.pattern.length)for(var B=0;B<o.pattern.length;++B)I.uint32(18).string(o.pattern[B]);return o.nameField!=null&&Object.hasOwnProperty.call(o,"nameField")&&I.uint32(26).string(o.nameField),o.history!=null&&Object.hasOwnProperty.call(o,"history")&&I.uint32(32).int32(o.history),o.plural!=null&&Object.hasOwnProperty.call(o,"plural")&&I.uint32(42).string(o.plural),o.singular!=null&&Object.hasOwnProperty.call(o,"singular")&&I.uint32(50).string(o.singular),I},H.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},H.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.api.ResourceDescriptor;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.type=o.string();break;case 2:ae.pattern&&ae.pattern.length||(ae.pattern=[]),ae.pattern.push(o.string());break;case 3:ae.nameField=o.string();break;case 4:ae.history=o.int32();break;case 5:ae.plural=o.string();break;case 6:ae.singular=o.string();break;default:o.skipType(7&Ce)}}return ae},H.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},H.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.type!=null&&o.hasOwnProperty("type")&&!g.isString(o.type))return"type: string expected";if(o.pattern!=null&&o.hasOwnProperty("pattern")){if(!Array.isArray(o.pattern))return"pattern: array expected";for(var I=0;I<o.pattern.length;++I)if(!g.isString(o.pattern[I]))return"pattern: string[] expected"}if(o.nameField!=null&&o.hasOwnProperty("nameField")&&!g.isString(o.nameField))return"nameField: string expected";if(o.history!=null&&o.hasOwnProperty("history"))switch(o.history){default:return"history: enum value expected";case 0:case 1:case 2:}return o.plural!=null&&o.hasOwnProperty("plural")&&!g.isString(o.plural)?"plural: string expected":o.singular!=null&&o.hasOwnProperty("singular")&&!g.isString(o.singular)?"singular: string expected":null},H.fromObject=function(o){if(o instanceof w.google.api.ResourceDescriptor)return o;var I=new w.google.api.ResourceDescriptor;if(o.type!=null&&(I.type=String(o.type)),o.pattern){if(!Array.isArray(o.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");I.pattern=[];for(var B=0;B<o.pattern.length;++B)I.pattern[B]=String(o.pattern[B])}switch(o.nameField!=null&&(I.nameField=String(o.nameField)),o.history){case"HISTORY_UNSPECIFIED":case 0:I.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:I.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:I.history=2}return o.plural!=null&&(I.plural=String(o.plural)),o.singular!=null&&(I.singular=String(o.singular)),I},H.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.pattern=[]),I.defaults&&(B.type="",B.nameField="",B.history=I.enums===String?"HISTORY_UNSPECIFIED":0,B.plural="",B.singular=""),o.type!=null&&o.hasOwnProperty("type")&&(B.type=o.type),o.pattern&&o.pattern.length){B.pattern=[];for(var ae=0;ae<o.pattern.length;++ae)B.pattern[ae]=o.pattern[ae]}return o.nameField!=null&&o.hasOwnProperty("nameField")&&(B.nameField=o.nameField),o.history!=null&&o.hasOwnProperty("history")&&(B.history=I.enums===String?w.google.api.ResourceDescriptor.History[o.history]:o.history),o.plural!=null&&o.hasOwnProperty("plural")&&(B.plural=o.plural),o.singular!=null&&o.hasOwnProperty("singular")&&(B.singular=o.singular),B},H.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},H.History=(d={},(y=Object.create(d))[d[0]="HISTORY_UNSPECIFIED"]=0,y[d[1]="ORIGINALLY_SINGLE_PATTERN"]=1,y[d[2]="FUTURE_MULTI_PATTERN"]=2,y),H),T.ResourceReference=(te.prototype.type="",te.prototype.childType="",te.create=function(o){return new te(o)},te.encode=function(o,I){return I=I||p.create(),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&I.uint32(10).string(o.type),o.childType!=null&&Object.hasOwnProperty.call(o,"childType")&&I.uint32(18).string(o.childType),I},te.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},te.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.api.ResourceReference;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.type=o.string();break;case 2:ae.childType=o.string();break;default:o.skipType(7&Ce)}}return ae},te.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},te.verify=function(o){return typeof o!="object"||o===null?"object expected":o.type!=null&&o.hasOwnProperty("type")&&!g.isString(o.type)?"type: string expected":o.childType!=null&&o.hasOwnProperty("childType")&&!g.isString(o.childType)?"childType: string expected":null},te.fromObject=function(o){var I;return o instanceof w.google.api.ResourceReference?o:(I=new w.google.api.ResourceReference,o.type!=null&&(I.type=String(o.type)),o.childType!=null&&(I.childType=String(o.childType)),I)},te.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.type="",B.childType=""),o.type!=null&&o.hasOwnProperty("type")&&(B.type=o.type),o.childType!=null&&o.hasOwnProperty("childType")&&(B.childType=o.childType),B},te.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},te),T),E.protobuf=((O={}).FileDescriptorSet=(ne.prototype.file=g.emptyArray,ne.create=function(o){return new ne(o)},ne.encode=function(o,I){if(I=I||p.create(),o.file!=null&&o.file.length)for(var B=0;B<o.file.length;++B)w.google.protobuf.FileDescriptorProto.encode(o.file[B],I.uint32(10).fork()).ldelim();return I},ne.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},ne.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.FileDescriptorSet;o.pos<B;){var Ce=o.uint32();Ce>>>3==1?(ae.file&&ae.file.length||(ae.file=[]),ae.file.push(w.google.protobuf.FileDescriptorProto.decode(o,o.uint32()))):o.skipType(7&Ce)}return ae},ne.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},ne.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.file!=null&&o.hasOwnProperty("file")){if(!Array.isArray(o.file))return"file: array expected";for(var I=0;I<o.file.length;++I){var B=w.google.protobuf.FileDescriptorProto.verify(o.file[I]);if(B)return"file."+B}}return null},ne.fromObject=function(o){if(o instanceof w.google.protobuf.FileDescriptorSet)return o;var I=new w.google.protobuf.FileDescriptorSet;if(o.file){if(!Array.isArray(o.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");I.file=[];for(var B=0;B<o.file.length;++B){if(typeof o.file[B]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");I.file[B]=w.google.protobuf.FileDescriptorProto.fromObject(o.file[B])}}return I},ne.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.file=[]),o.file&&o.file.length){B.file=[];for(var ae=0;ae<o.file.length;++ae)B.file[ae]=w.google.protobuf.FileDescriptorProto.toObject(o.file[ae],I)}return B},ne.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ne),O.FileDescriptorProto=(oe.prototype.name="",oe.prototype.package="",oe.prototype.dependency=g.emptyArray,oe.prototype.publicDependency=g.emptyArray,oe.prototype.weakDependency=g.emptyArray,oe.prototype.messageType=g.emptyArray,oe.prototype.enumType=g.emptyArray,oe.prototype.service=g.emptyArray,oe.prototype.extension=g.emptyArray,oe.prototype.options=null,oe.prototype.sourceCodeInfo=null,oe.prototype.syntax="",oe.create=function(o){return new oe(o)},oe.encode=function(o,I){if(I=I||p.create(),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&I.uint32(10).string(o.name),o.package!=null&&Object.hasOwnProperty.call(o,"package")&&I.uint32(18).string(o.package),o.dependency!=null&&o.dependency.length)for(var B=0;B<o.dependency.length;++B)I.uint32(26).string(o.dependency[B]);if(o.messageType!=null&&o.messageType.length)for(B=0;B<o.messageType.length;++B)w.google.protobuf.DescriptorProto.encode(o.messageType[B],I.uint32(34).fork()).ldelim();if(o.enumType!=null&&o.enumType.length)for(B=0;B<o.enumType.length;++B)w.google.protobuf.EnumDescriptorProto.encode(o.enumType[B],I.uint32(42).fork()).ldelim();if(o.service!=null&&o.service.length)for(B=0;B<o.service.length;++B)w.google.protobuf.ServiceDescriptorProto.encode(o.service[B],I.uint32(50).fork()).ldelim();if(o.extension!=null&&o.extension.length)for(B=0;B<o.extension.length;++B)w.google.protobuf.FieldDescriptorProto.encode(o.extension[B],I.uint32(58).fork()).ldelim();if(o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.FileOptions.encode(o.options,I.uint32(66).fork()).ldelim(),o.sourceCodeInfo!=null&&Object.hasOwnProperty.call(o,"sourceCodeInfo")&&w.google.protobuf.SourceCodeInfo.encode(o.sourceCodeInfo,I.uint32(74).fork()).ldelim(),o.publicDependency!=null&&o.publicDependency.length)for(B=0;B<o.publicDependency.length;++B)I.uint32(80).int32(o.publicDependency[B]);if(o.weakDependency!=null&&o.weakDependency.length)for(B=0;B<o.weakDependency.length;++B)I.uint32(88).int32(o.weakDependency[B]);return o.syntax!=null&&Object.hasOwnProperty.call(o,"syntax")&&I.uint32(98).string(o.syntax),I},oe.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},oe.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.FileDescriptorProto;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.name=o.string();break;case 2:ae.package=o.string();break;case 3:ae.dependency&&ae.dependency.length||(ae.dependency=[]),ae.dependency.push(o.string());break;case 10:if(ae.publicDependency&&ae.publicDependency.length||(ae.publicDependency=[]),(7&Ce)==2)for(var Ue=o.uint32()+o.pos;o.pos<Ue;)ae.publicDependency.push(o.int32());else ae.publicDependency.push(o.int32());break;case 11:if(ae.weakDependency&&ae.weakDependency.length||(ae.weakDependency=[]),(7&Ce)==2)for(Ue=o.uint32()+o.pos;o.pos<Ue;)ae.weakDependency.push(o.int32());else ae.weakDependency.push(o.int32());break;case 4:ae.messageType&&ae.messageType.length||(ae.messageType=[]),ae.messageType.push(w.google.protobuf.DescriptorProto.decode(o,o.uint32()));break;case 5:ae.enumType&&ae.enumType.length||(ae.enumType=[]),ae.enumType.push(w.google.protobuf.EnumDescriptorProto.decode(o,o.uint32()));break;case 6:ae.service&&ae.service.length||(ae.service=[]),ae.service.push(w.google.protobuf.ServiceDescriptorProto.decode(o,o.uint32()));break;case 7:ae.extension&&ae.extension.length||(ae.extension=[]),ae.extension.push(w.google.protobuf.FieldDescriptorProto.decode(o,o.uint32()));break;case 8:ae.options=w.google.protobuf.FileOptions.decode(o,o.uint32());break;case 9:ae.sourceCodeInfo=w.google.protobuf.SourceCodeInfo.decode(o,o.uint32());break;case 12:ae.syntax=o.string();break;default:o.skipType(7&Ce)}}return ae},oe.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},oe.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!g.isString(o.name))return"name: string expected";if(o.package!=null&&o.hasOwnProperty("package")&&!g.isString(o.package))return"package: string expected";if(o.dependency!=null&&o.hasOwnProperty("dependency")){if(!Array.isArray(o.dependency))return"dependency: array expected";for(var I=0;I<o.dependency.length;++I)if(!g.isString(o.dependency[I]))return"dependency: string[] expected"}if(o.publicDependency!=null&&o.hasOwnProperty("publicDependency")){if(!Array.isArray(o.publicDependency))return"publicDependency: array expected";for(I=0;I<o.publicDependency.length;++I)if(!g.isInteger(o.publicDependency[I]))return"publicDependency: integer[] expected"}if(o.weakDependency!=null&&o.hasOwnProperty("weakDependency")){if(!Array.isArray(o.weakDependency))return"weakDependency: array expected";for(I=0;I<o.weakDependency.length;++I)if(!g.isInteger(o.weakDependency[I]))return"weakDependency: integer[] expected"}if(o.messageType!=null&&o.hasOwnProperty("messageType")){if(!Array.isArray(o.messageType))return"messageType: array expected";for(I=0;I<o.messageType.length;++I)if(B=w.google.protobuf.DescriptorProto.verify(o.messageType[I]))return"messageType."+B}if(o.enumType!=null&&o.hasOwnProperty("enumType")){if(!Array.isArray(o.enumType))return"enumType: array expected";for(I=0;I<o.enumType.length;++I)if(B=w.google.protobuf.EnumDescriptorProto.verify(o.enumType[I]))return"enumType."+B}if(o.service!=null&&o.hasOwnProperty("service")){if(!Array.isArray(o.service))return"service: array expected";for(I=0;I<o.service.length;++I)if(B=w.google.protobuf.ServiceDescriptorProto.verify(o.service[I]))return"service."+B}if(o.extension!=null&&o.hasOwnProperty("extension")){if(!Array.isArray(o.extension))return"extension: array expected";for(I=0;I<o.extension.length;++I)if(B=w.google.protobuf.FieldDescriptorProto.verify(o.extension[I]))return"extension."+B}var B;return o.options!=null&&o.hasOwnProperty("options")&&(B=w.google.protobuf.FileOptions.verify(o.options))?"options."+B:o.sourceCodeInfo!=null&&o.hasOwnProperty("sourceCodeInfo")&&(B=w.google.protobuf.SourceCodeInfo.verify(o.sourceCodeInfo))?"sourceCodeInfo."+B:o.syntax!=null&&o.hasOwnProperty("syntax")&&!g.isString(o.syntax)?"syntax: string expected":null},oe.fromObject=function(o){if(o instanceof w.google.protobuf.FileDescriptorProto)return o;var I=new w.google.protobuf.FileDescriptorProto;if(o.name!=null&&(I.name=String(o.name)),o.package!=null&&(I.package=String(o.package)),o.dependency){if(!Array.isArray(o.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");I.dependency=[];for(var B=0;B<o.dependency.length;++B)I.dependency[B]=String(o.dependency[B])}if(o.publicDependency){if(!Array.isArray(o.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(I.publicDependency=[],B=0;B<o.publicDependency.length;++B)I.publicDependency[B]=0|o.publicDependency[B]}if(o.weakDependency){if(!Array.isArray(o.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(I.weakDependency=[],B=0;B<o.weakDependency.length;++B)I.weakDependency[B]=0|o.weakDependency[B]}if(o.messageType){if(!Array.isArray(o.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(I.messageType=[],B=0;B<o.messageType.length;++B){if(typeof o.messageType[B]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");I.messageType[B]=w.google.protobuf.DescriptorProto.fromObject(o.messageType[B])}}if(o.enumType){if(!Array.isArray(o.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(I.enumType=[],B=0;B<o.enumType.length;++B){if(typeof o.enumType[B]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");I.enumType[B]=w.google.protobuf.EnumDescriptorProto.fromObject(o.enumType[B])}}if(o.service){if(!Array.isArray(o.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(I.service=[],B=0;B<o.service.length;++B){if(typeof o.service[B]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");I.service[B]=w.google.protobuf.ServiceDescriptorProto.fromObject(o.service[B])}}if(o.extension){if(!Array.isArray(o.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(I.extension=[],B=0;B<o.extension.length;++B){if(typeof o.extension[B]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");I.extension[B]=w.google.protobuf.FieldDescriptorProto.fromObject(o.extension[B])}}if(o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");I.options=w.google.protobuf.FileOptions.fromObject(o.options)}if(o.sourceCodeInfo!=null){if(typeof o.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");I.sourceCodeInfo=w.google.protobuf.SourceCodeInfo.fromObject(o.sourceCodeInfo)}return o.syntax!=null&&(I.syntax=String(o.syntax)),I},oe.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.dependency=[],B.messageType=[],B.enumType=[],B.service=[],B.extension=[],B.publicDependency=[],B.weakDependency=[]),I.defaults&&(B.name="",B.package="",B.options=null,B.sourceCodeInfo=null,B.syntax=""),o.name!=null&&o.hasOwnProperty("name")&&(B.name=o.name),o.package!=null&&o.hasOwnProperty("package")&&(B.package=o.package),o.dependency&&o.dependency.length){B.dependency=[];for(var ae=0;ae<o.dependency.length;++ae)B.dependency[ae]=o.dependency[ae]}if(o.messageType&&o.messageType.length)for(B.messageType=[],ae=0;ae<o.messageType.length;++ae)B.messageType[ae]=w.google.protobuf.DescriptorProto.toObject(o.messageType[ae],I);if(o.enumType&&o.enumType.length)for(B.enumType=[],ae=0;ae<o.enumType.length;++ae)B.enumType[ae]=w.google.protobuf.EnumDescriptorProto.toObject(o.enumType[ae],I);if(o.service&&o.service.length)for(B.service=[],ae=0;ae<o.service.length;++ae)B.service[ae]=w.google.protobuf.ServiceDescriptorProto.toObject(o.service[ae],I);if(o.extension&&o.extension.length)for(B.extension=[],ae=0;ae<o.extension.length;++ae)B.extension[ae]=w.google.protobuf.FieldDescriptorProto.toObject(o.extension[ae],I);if(o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.FileOptions.toObject(o.options,I)),o.sourceCodeInfo!=null&&o.hasOwnProperty("sourceCodeInfo")&&(B.sourceCodeInfo=w.google.protobuf.SourceCodeInfo.toObject(o.sourceCodeInfo,I)),o.publicDependency&&o.publicDependency.length)for(B.publicDependency=[],ae=0;ae<o.publicDependency.length;++ae)B.publicDependency[ae]=o.publicDependency[ae];if(o.weakDependency&&o.weakDependency.length)for(B.weakDependency=[],ae=0;ae<o.weakDependency.length;++ae)B.weakDependency[ae]=o.weakDependency[ae];return o.syntax!=null&&o.hasOwnProperty("syntax")&&(B.syntax=o.syntax),B},oe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},oe),O.DescriptorProto=(ie.prototype.name="",ie.prototype.field=g.emptyArray,ie.prototype.extension=g.emptyArray,ie.prototype.nestedType=g.emptyArray,ie.prototype.enumType=g.emptyArray,ie.prototype.extensionRange=g.emptyArray,ie.prototype.oneofDecl=g.emptyArray,ie.prototype.options=null,ie.prototype.reservedRange=g.emptyArray,ie.prototype.reservedName=g.emptyArray,ie.create=function(o){return new ie(o)},ie.encode=function(o,I){if(I=I||p.create(),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&I.uint32(10).string(o.name),o.field!=null&&o.field.length)for(var B=0;B<o.field.length;++B)w.google.protobuf.FieldDescriptorProto.encode(o.field[B],I.uint32(18).fork()).ldelim();if(o.nestedType!=null&&o.nestedType.length)for(B=0;B<o.nestedType.length;++B)w.google.protobuf.DescriptorProto.encode(o.nestedType[B],I.uint32(26).fork()).ldelim();if(o.enumType!=null&&o.enumType.length)for(B=0;B<o.enumType.length;++B)w.google.protobuf.EnumDescriptorProto.encode(o.enumType[B],I.uint32(34).fork()).ldelim();if(o.extensionRange!=null&&o.extensionRange.length)for(B=0;B<o.extensionRange.length;++B)w.google.protobuf.DescriptorProto.ExtensionRange.encode(o.extensionRange[B],I.uint32(42).fork()).ldelim();if(o.extension!=null&&o.extension.length)for(B=0;B<o.extension.length;++B)w.google.protobuf.FieldDescriptorProto.encode(o.extension[B],I.uint32(50).fork()).ldelim();if(o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.MessageOptions.encode(o.options,I.uint32(58).fork()).ldelim(),o.oneofDecl!=null&&o.oneofDecl.length)for(B=0;B<o.oneofDecl.length;++B)w.google.protobuf.OneofDescriptorProto.encode(o.oneofDecl[B],I.uint32(66).fork()).ldelim();if(o.reservedRange!=null&&o.reservedRange.length)for(B=0;B<o.reservedRange.length;++B)w.google.protobuf.DescriptorProto.ReservedRange.encode(o.reservedRange[B],I.uint32(74).fork()).ldelim();if(o.reservedName!=null&&o.reservedName.length)for(B=0;B<o.reservedName.length;++B)I.uint32(82).string(o.reservedName[B]);return I},ie.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},ie.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.DescriptorProto;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.name=o.string();break;case 2:ae.field&&ae.field.length||(ae.field=[]),ae.field.push(w.google.protobuf.FieldDescriptorProto.decode(o,o.uint32()));break;case 6:ae.extension&&ae.extension.length||(ae.extension=[]),ae.extension.push(w.google.protobuf.FieldDescriptorProto.decode(o,o.uint32()));break;case 3:ae.nestedType&&ae.nestedType.length||(ae.nestedType=[]),ae.nestedType.push(w.google.protobuf.DescriptorProto.decode(o,o.uint32()));break;case 4:ae.enumType&&ae.enumType.length||(ae.enumType=[]),ae.enumType.push(w.google.protobuf.EnumDescriptorProto.decode(o,o.uint32()));break;case 5:ae.extensionRange&&ae.extensionRange.length||(ae.extensionRange=[]),ae.extensionRange.push(w.google.protobuf.DescriptorProto.ExtensionRange.decode(o,o.uint32()));break;case 8:ae.oneofDecl&&ae.oneofDecl.length||(ae.oneofDecl=[]),ae.oneofDecl.push(w.google.protobuf.OneofDescriptorProto.decode(o,o.uint32()));break;case 7:ae.options=w.google.protobuf.MessageOptions.decode(o,o.uint32());break;case 9:ae.reservedRange&&ae.reservedRange.length||(ae.reservedRange=[]),ae.reservedRange.push(w.google.protobuf.DescriptorProto.ReservedRange.decode(o,o.uint32()));break;case 10:ae.reservedName&&ae.reservedName.length||(ae.reservedName=[]),ae.reservedName.push(o.string());break;default:o.skipType(7&Ce)}}return ae},ie.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},ie.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!g.isString(o.name))return"name: string expected";if(o.field!=null&&o.hasOwnProperty("field")){if(!Array.isArray(o.field))return"field: array expected";for(var I=0;I<o.field.length;++I)if(B=w.google.protobuf.FieldDescriptorProto.verify(o.field[I]))return"field."+B}if(o.extension!=null&&o.hasOwnProperty("extension")){if(!Array.isArray(o.extension))return"extension: array expected";for(I=0;I<o.extension.length;++I)if(B=w.google.protobuf.FieldDescriptorProto.verify(o.extension[I]))return"extension."+B}if(o.nestedType!=null&&o.hasOwnProperty("nestedType")){if(!Array.isArray(o.nestedType))return"nestedType: array expected";for(I=0;I<o.nestedType.length;++I)if(B=w.google.protobuf.DescriptorProto.verify(o.nestedType[I]))return"nestedType."+B}if(o.enumType!=null&&o.hasOwnProperty("enumType")){if(!Array.isArray(o.enumType))return"enumType: array expected";for(I=0;I<o.enumType.length;++I)if(B=w.google.protobuf.EnumDescriptorProto.verify(o.enumType[I]))return"enumType."+B}if(o.extensionRange!=null&&o.hasOwnProperty("extensionRange")){if(!Array.isArray(o.extensionRange))return"extensionRange: array expected";for(I=0;I<o.extensionRange.length;++I)if(B=w.google.protobuf.DescriptorProto.ExtensionRange.verify(o.extensionRange[I]))return"extensionRange."+B}if(o.oneofDecl!=null&&o.hasOwnProperty("oneofDecl")){if(!Array.isArray(o.oneofDecl))return"oneofDecl: array expected";for(I=0;I<o.oneofDecl.length;++I)if(B=w.google.protobuf.OneofDescriptorProto.verify(o.oneofDecl[I]))return"oneofDecl."+B}if(o.options!=null&&o.hasOwnProperty("options")&&(B=w.google.protobuf.MessageOptions.verify(o.options)))return"options."+B;if(o.reservedRange!=null&&o.hasOwnProperty("reservedRange")){if(!Array.isArray(o.reservedRange))return"reservedRange: array expected";for(var B,I=0;I<o.reservedRange.length;++I)if(B=w.google.protobuf.DescriptorProto.ReservedRange.verify(o.reservedRange[I]))return"reservedRange."+B}if(o.reservedName!=null&&o.hasOwnProperty("reservedName")){if(!Array.isArray(o.reservedName))return"reservedName: array expected";for(I=0;I<o.reservedName.length;++I)if(!g.isString(o.reservedName[I]))return"reservedName: string[] expected"}return null},ie.fromObject=function(o){if(o instanceof w.google.protobuf.DescriptorProto)return o;var I=new w.google.protobuf.DescriptorProto;if(o.name!=null&&(I.name=String(o.name)),o.field){if(!Array.isArray(o.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");I.field=[];for(var B=0;B<o.field.length;++B){if(typeof o.field[B]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");I.field[B]=w.google.protobuf.FieldDescriptorProto.fromObject(o.field[B])}}if(o.extension){if(!Array.isArray(o.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(I.extension=[],B=0;B<o.extension.length;++B){if(typeof o.extension[B]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");I.extension[B]=w.google.protobuf.FieldDescriptorProto.fromObject(o.extension[B])}}if(o.nestedType){if(!Array.isArray(o.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(I.nestedType=[],B=0;B<o.nestedType.length;++B){if(typeof o.nestedType[B]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");I.nestedType[B]=w.google.protobuf.DescriptorProto.fromObject(o.nestedType[B])}}if(o.enumType){if(!Array.isArray(o.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(I.enumType=[],B=0;B<o.enumType.length;++B){if(typeof o.enumType[B]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");I.enumType[B]=w.google.protobuf.EnumDescriptorProto.fromObject(o.enumType[B])}}if(o.extensionRange){if(!Array.isArray(o.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(I.extensionRange=[],B=0;B<o.extensionRange.length;++B){if(typeof o.extensionRange[B]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");I.extensionRange[B]=w.google.protobuf.DescriptorProto.ExtensionRange.fromObject(o.extensionRange[B])}}if(o.oneofDecl){if(!Array.isArray(o.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(I.oneofDecl=[],B=0;B<o.oneofDecl.length;++B){if(typeof o.oneofDecl[B]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");I.oneofDecl[B]=w.google.protobuf.OneofDescriptorProto.fromObject(o.oneofDecl[B])}}if(o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");I.options=w.google.protobuf.MessageOptions.fromObject(o.options)}if(o.reservedRange){if(!Array.isArray(o.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(I.reservedRange=[],B=0;B<o.reservedRange.length;++B){if(typeof o.reservedRange[B]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");I.reservedRange[B]=w.google.protobuf.DescriptorProto.ReservedRange.fromObject(o.reservedRange[B])}}if(o.reservedName){if(!Array.isArray(o.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(I.reservedName=[],B=0;B<o.reservedName.length;++B)I.reservedName[B]=String(o.reservedName[B])}return I},ie.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.field=[],B.nestedType=[],B.enumType=[],B.extensionRange=[],B.extension=[],B.oneofDecl=[],B.reservedRange=[],B.reservedName=[]),I.defaults&&(B.name="",B.options=null),o.name!=null&&o.hasOwnProperty("name")&&(B.name=o.name),o.field&&o.field.length){B.field=[];for(var ae=0;ae<o.field.length;++ae)B.field[ae]=w.google.protobuf.FieldDescriptorProto.toObject(o.field[ae],I)}if(o.nestedType&&o.nestedType.length)for(B.nestedType=[],ae=0;ae<o.nestedType.length;++ae)B.nestedType[ae]=w.google.protobuf.DescriptorProto.toObject(o.nestedType[ae],I);if(o.enumType&&o.enumType.length)for(B.enumType=[],ae=0;ae<o.enumType.length;++ae)B.enumType[ae]=w.google.protobuf.EnumDescriptorProto.toObject(o.enumType[ae],I);if(o.extensionRange&&o.extensionRange.length)for(B.extensionRange=[],ae=0;ae<o.extensionRange.length;++ae)B.extensionRange[ae]=w.google.protobuf.DescriptorProto.ExtensionRange.toObject(o.extensionRange[ae],I);if(o.extension&&o.extension.length)for(B.extension=[],ae=0;ae<o.extension.length;++ae)B.extension[ae]=w.google.protobuf.FieldDescriptorProto.toObject(o.extension[ae],I);if(o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.MessageOptions.toObject(o.options,I)),o.oneofDecl&&o.oneofDecl.length)for(B.oneofDecl=[],ae=0;ae<o.oneofDecl.length;++ae)B.oneofDecl[ae]=w.google.protobuf.OneofDescriptorProto.toObject(o.oneofDecl[ae],I);if(o.reservedRange&&o.reservedRange.length)for(B.reservedRange=[],ae=0;ae<o.reservedRange.length;++ae)B.reservedRange[ae]=w.google.protobuf.DescriptorProto.ReservedRange.toObject(o.reservedRange[ae],I);if(o.reservedName&&o.reservedName.length)for(B.reservedName=[],ae=0;ae<o.reservedName.length;++ae)B.reservedName[ae]=o.reservedName[ae];return B},ie.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ie.ExtensionRange=(ee.prototype.start=0,ee.prototype.end=0,ee.prototype.options=null,ee.create=function(o){return new ee(o)},ee.encode=function(o,I){return I=I||p.create(),o.start!=null&&Object.hasOwnProperty.call(o,"start")&&I.uint32(8).int32(o.start),o.end!=null&&Object.hasOwnProperty.call(o,"end")&&I.uint32(16).int32(o.end),o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.ExtensionRangeOptions.encode(o.options,I.uint32(26).fork()).ldelim(),I},ee.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},ee.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.DescriptorProto.ExtensionRange;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.start=o.int32();break;case 2:ae.end=o.int32();break;case 3:ae.options=w.google.protobuf.ExtensionRangeOptions.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},ee.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},ee.verify=function(o){return typeof o!="object"||o===null?"object expected":o.start!=null&&o.hasOwnProperty("start")&&!g.isInteger(o.start)?"start: integer expected":o.end!=null&&o.hasOwnProperty("end")&&!g.isInteger(o.end)?"end: integer expected":o.options!=null&&o.hasOwnProperty("options")&&(o=w.google.protobuf.ExtensionRangeOptions.verify(o.options),o)?"options."+o:null},ee.fromObject=function(o){if(o instanceof w.google.protobuf.DescriptorProto.ExtensionRange)return o;var I=new w.google.protobuf.DescriptorProto.ExtensionRange;if(o.start!=null&&(I.start=0|o.start),o.end!=null&&(I.end=0|o.end),o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");I.options=w.google.protobuf.ExtensionRangeOptions.fromObject(o.options)}return I},ee.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.start=0,B.end=0,B.options=null),o.start!=null&&o.hasOwnProperty("start")&&(B.start=o.start),o.end!=null&&o.hasOwnProperty("end")&&(B.end=o.end),o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.ExtensionRangeOptions.toObject(o.options,I)),B},ee.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ee),ie.ReservedRange=(ue.prototype.start=0,ue.prototype.end=0,ue.create=function(o){return new ue(o)},ue.encode=function(o,I){return I=I||p.create(),o.start!=null&&Object.hasOwnProperty.call(o,"start")&&I.uint32(8).int32(o.start),o.end!=null&&Object.hasOwnProperty.call(o,"end")&&I.uint32(16).int32(o.end),I},ue.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},ue.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.DescriptorProto.ReservedRange;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.start=o.int32();break;case 2:ae.end=o.int32();break;default:o.skipType(7&Ce)}}return ae},ue.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},ue.verify=function(o){return typeof o!="object"||o===null?"object expected":o.start!=null&&o.hasOwnProperty("start")&&!g.isInteger(o.start)?"start: integer expected":o.end!=null&&o.hasOwnProperty("end")&&!g.isInteger(o.end)?"end: integer expected":null},ue.fromObject=function(o){var I;return o instanceof w.google.protobuf.DescriptorProto.ReservedRange?o:(I=new w.google.protobuf.DescriptorProto.ReservedRange,o.start!=null&&(I.start=0|o.start),o.end!=null&&(I.end=0|o.end),I)},ue.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.start=0,B.end=0),o.start!=null&&o.hasOwnProperty("start")&&(B.start=o.start),o.end!=null&&o.hasOwnProperty("end")&&(B.end=o.end),B},ue.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ue),ie),O.ExtensionRangeOptions=(fe.prototype.uninterpretedOption=g.emptyArray,fe.create=function(o){return new fe(o)},fe.encode=function(o,I){if(I=I||p.create(),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();return I},fe.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},fe.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.ExtensionRangeOptions;o.pos<B;){var Ce=o.uint32();Ce>>>3==999?(ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()))):o.skipType(7&Ce)}return ae},fe.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},fe.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I){var B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]);if(B)return"uninterpretedOption."+B}}return null},fe.fromObject=function(o){if(o instanceof w.google.protobuf.ExtensionRangeOptions)return o;var I=new w.google.protobuf.ExtensionRangeOptions;if(o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}return I},fe.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[]),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}return B},fe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},fe),O.FieldDescriptorProto=(de.prototype.name="",de.prototype.number=0,de.prototype.label=1,de.prototype.type=1,de.prototype.typeName="",de.prototype.extendee="",de.prototype.defaultValue="",de.prototype.oneofIndex=0,de.prototype.jsonName="",de.prototype.options=null,de.prototype.proto3Optional=!1,de.create=function(o){return new de(o)},de.encode=function(o,I){return I=I||p.create(),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&I.uint32(10).string(o.name),o.extendee!=null&&Object.hasOwnProperty.call(o,"extendee")&&I.uint32(18).string(o.extendee),o.number!=null&&Object.hasOwnProperty.call(o,"number")&&I.uint32(24).int32(o.number),o.label!=null&&Object.hasOwnProperty.call(o,"label")&&I.uint32(32).int32(o.label),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&I.uint32(40).int32(o.type),o.typeName!=null&&Object.hasOwnProperty.call(o,"typeName")&&I.uint32(50).string(o.typeName),o.defaultValue!=null&&Object.hasOwnProperty.call(o,"defaultValue")&&I.uint32(58).string(o.defaultValue),o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.FieldOptions.encode(o.options,I.uint32(66).fork()).ldelim(),o.oneofIndex!=null&&Object.hasOwnProperty.call(o,"oneofIndex")&&I.uint32(72).int32(o.oneofIndex),o.jsonName!=null&&Object.hasOwnProperty.call(o,"jsonName")&&I.uint32(82).string(o.jsonName),o.proto3Optional!=null&&Object.hasOwnProperty.call(o,"proto3Optional")&&I.uint32(136).bool(o.proto3Optional),I},de.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},de.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.FieldDescriptorProto;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.name=o.string();break;case 3:ae.number=o.int32();break;case 4:ae.label=o.int32();break;case 5:ae.type=o.int32();break;case 6:ae.typeName=o.string();break;case 2:ae.extendee=o.string();break;case 7:ae.defaultValue=o.string();break;case 9:ae.oneofIndex=o.int32();break;case 10:ae.jsonName=o.string();break;case 8:ae.options=w.google.protobuf.FieldOptions.decode(o,o.uint32());break;case 17:ae.proto3Optional=o.bool();break;default:o.skipType(7&Ce)}}return ae},de.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},de.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!g.isString(o.name))return"name: string expected";if(o.number!=null&&o.hasOwnProperty("number")&&!g.isInteger(o.number))return"number: integer expected";if(o.label!=null&&o.hasOwnProperty("label"))switch(o.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(o.type!=null&&o.hasOwnProperty("type"))switch(o.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(o.typeName!=null&&o.hasOwnProperty("typeName")&&!g.isString(o.typeName))return"typeName: string expected";if(o.extendee!=null&&o.hasOwnProperty("extendee")&&!g.isString(o.extendee))return"extendee: string expected";if(o.defaultValue!=null&&o.hasOwnProperty("defaultValue")&&!g.isString(o.defaultValue))return"defaultValue: string expected";if(o.oneofIndex!=null&&o.hasOwnProperty("oneofIndex")&&!g.isInteger(o.oneofIndex))return"oneofIndex: integer expected";if(o.jsonName!=null&&o.hasOwnProperty("jsonName")&&!g.isString(o.jsonName))return"jsonName: string expected";if(o.options!=null&&o.hasOwnProperty("options")){var I=w.google.protobuf.FieldOptions.verify(o.options);if(I)return"options."+I}return o.proto3Optional!=null&&o.hasOwnProperty("proto3Optional")&&typeof o.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},de.fromObject=function(o){if(o instanceof w.google.protobuf.FieldDescriptorProto)return o;var I=new w.google.protobuf.FieldDescriptorProto;switch(o.name!=null&&(I.name=String(o.name)),o.number!=null&&(I.number=0|o.number),o.label){case"LABEL_OPTIONAL":case 1:I.label=1;break;case"LABEL_REQUIRED":case 2:I.label=2;break;case"LABEL_REPEATED":case 3:I.label=3}switch(o.type){case"TYPE_DOUBLE":case 1:I.type=1;break;case"TYPE_FLOAT":case 2:I.type=2;break;case"TYPE_INT64":case 3:I.type=3;break;case"TYPE_UINT64":case 4:I.type=4;break;case"TYPE_INT32":case 5:I.type=5;break;case"TYPE_FIXED64":case 6:I.type=6;break;case"TYPE_FIXED32":case 7:I.type=7;break;case"TYPE_BOOL":case 8:I.type=8;break;case"TYPE_STRING":case 9:I.type=9;break;case"TYPE_GROUP":case 10:I.type=10;break;case"TYPE_MESSAGE":case 11:I.type=11;break;case"TYPE_BYTES":case 12:I.type=12;break;case"TYPE_UINT32":case 13:I.type=13;break;case"TYPE_ENUM":case 14:I.type=14;break;case"TYPE_SFIXED32":case 15:I.type=15;break;case"TYPE_SFIXED64":case 16:I.type=16;break;case"TYPE_SINT32":case 17:I.type=17;break;case"TYPE_SINT64":case 18:I.type=18}if(o.typeName!=null&&(I.typeName=String(o.typeName)),o.extendee!=null&&(I.extendee=String(o.extendee)),o.defaultValue!=null&&(I.defaultValue=String(o.defaultValue)),o.oneofIndex!=null&&(I.oneofIndex=0|o.oneofIndex),o.jsonName!=null&&(I.jsonName=String(o.jsonName)),o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");I.options=w.google.protobuf.FieldOptions.fromObject(o.options)}return o.proto3Optional!=null&&(I.proto3Optional=!!o.proto3Optional),I},de.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.name="",B.extendee="",B.number=0,B.label=I.enums===String?"LABEL_OPTIONAL":1,B.type=I.enums===String?"TYPE_DOUBLE":1,B.typeName="",B.defaultValue="",B.options=null,B.oneofIndex=0,B.jsonName="",B.proto3Optional=!1),o.name!=null&&o.hasOwnProperty("name")&&(B.name=o.name),o.extendee!=null&&o.hasOwnProperty("extendee")&&(B.extendee=o.extendee),o.number!=null&&o.hasOwnProperty("number")&&(B.number=o.number),o.label!=null&&o.hasOwnProperty("label")&&(B.label=I.enums===String?w.google.protobuf.FieldDescriptorProto.Label[o.label]:o.label),o.type!=null&&o.hasOwnProperty("type")&&(B.type=I.enums===String?w.google.protobuf.FieldDescriptorProto.Type[o.type]:o.type),o.typeName!=null&&o.hasOwnProperty("typeName")&&(B.typeName=o.typeName),o.defaultValue!=null&&o.hasOwnProperty("defaultValue")&&(B.defaultValue=o.defaultValue),o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.FieldOptions.toObject(o.options,I)),o.oneofIndex!=null&&o.hasOwnProperty("oneofIndex")&&(B.oneofIndex=o.oneofIndex),o.jsonName!=null&&o.hasOwnProperty("jsonName")&&(B.jsonName=o.jsonName),o.proto3Optional!=null&&o.hasOwnProperty("proto3Optional")&&(B.proto3Optional=o.proto3Optional),B},de.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},de.Type=(d={},(y=Object.create(d))[d[1]="TYPE_DOUBLE"]=1,y[d[2]="TYPE_FLOAT"]=2,y[d[3]="TYPE_INT64"]=3,y[d[4]="TYPE_UINT64"]=4,y[d[5]="TYPE_INT32"]=5,y[d[6]="TYPE_FIXED64"]=6,y[d[7]="TYPE_FIXED32"]=7,y[d[8]="TYPE_BOOL"]=8,y[d[9]="TYPE_STRING"]=9,y[d[10]="TYPE_GROUP"]=10,y[d[11]="TYPE_MESSAGE"]=11,y[d[12]="TYPE_BYTES"]=12,y[d[13]="TYPE_UINT32"]=13,y[d[14]="TYPE_ENUM"]=14,y[d[15]="TYPE_SFIXED32"]=15,y[d[16]="TYPE_SFIXED64"]=16,y[d[17]="TYPE_SINT32"]=17,y[d[18]="TYPE_SINT64"]=18,y),de.Label=(d={},(y=Object.create(d))[d[1]="LABEL_OPTIONAL"]=1,y[d[2]="LABEL_REQUIRED"]=2,y[d[3]="LABEL_REPEATED"]=3,y),de),O.OneofDescriptorProto=(ge.prototype.name="",ge.prototype.options=null,ge.create=function(o){return new ge(o)},ge.encode=function(o,I){return I=I||p.create(),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&I.uint32(10).string(o.name),o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.OneofOptions.encode(o.options,I.uint32(18).fork()).ldelim(),I},ge.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},ge.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.OneofDescriptorProto;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.name=o.string();break;case 2:ae.options=w.google.protobuf.OneofOptions.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},ge.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},ge.verify=function(o){return typeof o!="object"||o===null?"object expected":o.name!=null&&o.hasOwnProperty("name")&&!g.isString(o.name)?"name: string expected":o.options!=null&&o.hasOwnProperty("options")&&(o=w.google.protobuf.OneofOptions.verify(o.options),o)?"options."+o:null},ge.fromObject=function(o){if(o instanceof w.google.protobuf.OneofDescriptorProto)return o;var I=new w.google.protobuf.OneofDescriptorProto;if(o.name!=null&&(I.name=String(o.name)),o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");I.options=w.google.protobuf.OneofOptions.fromObject(o.options)}return I},ge.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.name="",B.options=null),o.name!=null&&o.hasOwnProperty("name")&&(B.name=o.name),o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.OneofOptions.toObject(o.options,I)),B},ge.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ge),O.EnumDescriptorProto=(me.prototype.name="",me.prototype.value=g.emptyArray,me.prototype.options=null,me.prototype.reservedRange=g.emptyArray,me.prototype.reservedName=g.emptyArray,me.create=function(o){return new me(o)},me.encode=function(o,I){if(I=I||p.create(),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&I.uint32(10).string(o.name),o.value!=null&&o.value.length)for(var B=0;B<o.value.length;++B)w.google.protobuf.EnumValueDescriptorProto.encode(o.value[B],I.uint32(18).fork()).ldelim();if(o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.EnumOptions.encode(o.options,I.uint32(26).fork()).ldelim(),o.reservedRange!=null&&o.reservedRange.length)for(B=0;B<o.reservedRange.length;++B)w.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(o.reservedRange[B],I.uint32(34).fork()).ldelim();if(o.reservedName!=null&&o.reservedName.length)for(B=0;B<o.reservedName.length;++B)I.uint32(42).string(o.reservedName[B]);return I},me.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},me.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.EnumDescriptorProto;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.name=o.string();break;case 2:ae.value&&ae.value.length||(ae.value=[]),ae.value.push(w.google.protobuf.EnumValueDescriptorProto.decode(o,o.uint32()));break;case 3:ae.options=w.google.protobuf.EnumOptions.decode(o,o.uint32());break;case 4:ae.reservedRange&&ae.reservedRange.length||(ae.reservedRange=[]),ae.reservedRange.push(w.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(o,o.uint32()));break;case 5:ae.reservedName&&ae.reservedName.length||(ae.reservedName=[]),ae.reservedName.push(o.string());break;default:o.skipType(7&Ce)}}return ae},me.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},me.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!g.isString(o.name))return"name: string expected";if(o.value!=null&&o.hasOwnProperty("value")){if(!Array.isArray(o.value))return"value: array expected";for(var I=0;I<o.value.length;++I)if(B=w.google.protobuf.EnumValueDescriptorProto.verify(o.value[I]))return"value."+B}if(o.options!=null&&o.hasOwnProperty("options")&&(B=w.google.protobuf.EnumOptions.verify(o.options)))return"options."+B;if(o.reservedRange!=null&&o.hasOwnProperty("reservedRange")){if(!Array.isArray(o.reservedRange))return"reservedRange: array expected";for(var B,I=0;I<o.reservedRange.length;++I)if(B=w.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(o.reservedRange[I]))return"reservedRange."+B}if(o.reservedName!=null&&o.hasOwnProperty("reservedName")){if(!Array.isArray(o.reservedName))return"reservedName: array expected";for(I=0;I<o.reservedName.length;++I)if(!g.isString(o.reservedName[I]))return"reservedName: string[] expected"}return null},me.fromObject=function(o){if(o instanceof w.google.protobuf.EnumDescriptorProto)return o;var I=new w.google.protobuf.EnumDescriptorProto;if(o.name!=null&&(I.name=String(o.name)),o.value){if(!Array.isArray(o.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");I.value=[];for(var B=0;B<o.value.length;++B){if(typeof o.value[B]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");I.value[B]=w.google.protobuf.EnumValueDescriptorProto.fromObject(o.value[B])}}if(o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");I.options=w.google.protobuf.EnumOptions.fromObject(o.options)}if(o.reservedRange){if(!Array.isArray(o.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(I.reservedRange=[],B=0;B<o.reservedRange.length;++B){if(typeof o.reservedRange[B]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");I.reservedRange[B]=w.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(o.reservedRange[B])}}if(o.reservedName){if(!Array.isArray(o.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(I.reservedName=[],B=0;B<o.reservedName.length;++B)I.reservedName[B]=String(o.reservedName[B])}return I},me.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.value=[],B.reservedRange=[],B.reservedName=[]),I.defaults&&(B.name="",B.options=null),o.name!=null&&o.hasOwnProperty("name")&&(B.name=o.name),o.value&&o.value.length){B.value=[];for(var ae=0;ae<o.value.length;++ae)B.value[ae]=w.google.protobuf.EnumValueDescriptorProto.toObject(o.value[ae],I)}if(o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.EnumOptions.toObject(o.options,I)),o.reservedRange&&o.reservedRange.length)for(B.reservedRange=[],ae=0;ae<o.reservedRange.length;++ae)B.reservedRange[ae]=w.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(o.reservedRange[ae],I);if(o.reservedName&&o.reservedName.length)for(B.reservedName=[],ae=0;ae<o.reservedName.length;++ae)B.reservedName[ae]=o.reservedName[ae];return B},me.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},me.EnumReservedRange=(_e.prototype.start=0,_e.prototype.end=0,_e.create=function(o){return new _e(o)},_e.encode=function(o,I){return I=I||p.create(),o.start!=null&&Object.hasOwnProperty.call(o,"start")&&I.uint32(8).int32(o.start),o.end!=null&&Object.hasOwnProperty.call(o,"end")&&I.uint32(16).int32(o.end),I},_e.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},_e.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.EnumDescriptorProto.EnumReservedRange;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.start=o.int32();break;case 2:ae.end=o.int32();break;default:o.skipType(7&Ce)}}return ae},_e.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},_e.verify=function(o){return typeof o!="object"||o===null?"object expected":o.start!=null&&o.hasOwnProperty("start")&&!g.isInteger(o.start)?"start: integer expected":o.end!=null&&o.hasOwnProperty("end")&&!g.isInteger(o.end)?"end: integer expected":null},_e.fromObject=function(o){var I;return o instanceof w.google.protobuf.EnumDescriptorProto.EnumReservedRange?o:(I=new w.google.protobuf.EnumDescriptorProto.EnumReservedRange,o.start!=null&&(I.start=0|o.start),o.end!=null&&(I.end=0|o.end),I)},_e.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.start=0,B.end=0),o.start!=null&&o.hasOwnProperty("start")&&(B.start=o.start),o.end!=null&&o.hasOwnProperty("end")&&(B.end=o.end),B},_e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},_e),me),O.EnumValueDescriptorProto=(we.prototype.name="",we.prototype.number=0,we.prototype.options=null,we.create=function(o){return new we(o)},we.encode=function(o,I){return I=I||p.create(),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&I.uint32(10).string(o.name),o.number!=null&&Object.hasOwnProperty.call(o,"number")&&I.uint32(16).int32(o.number),o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.EnumValueOptions.encode(o.options,I.uint32(26).fork()).ldelim(),I},we.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},we.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.EnumValueDescriptorProto;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.name=o.string();break;case 2:ae.number=o.int32();break;case 3:ae.options=w.google.protobuf.EnumValueOptions.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},we.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},we.verify=function(o){return typeof o!="object"||o===null?"object expected":o.name!=null&&o.hasOwnProperty("name")&&!g.isString(o.name)?"name: string expected":o.number!=null&&o.hasOwnProperty("number")&&!g.isInteger(o.number)?"number: integer expected":o.options!=null&&o.hasOwnProperty("options")&&(o=w.google.protobuf.EnumValueOptions.verify(o.options),o)?"options."+o:null},we.fromObject=function(o){if(o instanceof w.google.protobuf.EnumValueDescriptorProto)return o;var I=new w.google.protobuf.EnumValueDescriptorProto;if(o.name!=null&&(I.name=String(o.name)),o.number!=null&&(I.number=0|o.number),o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");I.options=w.google.protobuf.EnumValueOptions.fromObject(o.options)}return I},we.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.name="",B.number=0,B.options=null),o.name!=null&&o.hasOwnProperty("name")&&(B.name=o.name),o.number!=null&&o.hasOwnProperty("number")&&(B.number=o.number),o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.EnumValueOptions.toObject(o.options,I)),B},we.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},we),O.ServiceDescriptorProto=(Re.prototype.name="",Re.prototype.method=g.emptyArray,Re.prototype.options=null,Re.create=function(o){return new Re(o)},Re.encode=function(o,I){if(I=I||p.create(),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&I.uint32(10).string(o.name),o.method!=null&&o.method.length)for(var B=0;B<o.method.length;++B)w.google.protobuf.MethodDescriptorProto.encode(o.method[B],I.uint32(18).fork()).ldelim();return o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.ServiceOptions.encode(o.options,I.uint32(26).fork()).ldelim(),I},Re.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},Re.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.ServiceDescriptorProto;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.name=o.string();break;case 2:ae.method&&ae.method.length||(ae.method=[]),ae.method.push(w.google.protobuf.MethodDescriptorProto.decode(o,o.uint32()));break;case 3:ae.options=w.google.protobuf.ServiceOptions.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},Re.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},Re.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!g.isString(o.name))return"name: string expected";if(o.method!=null&&o.hasOwnProperty("method")){if(!Array.isArray(o.method))return"method: array expected";for(var I=0;I<o.method.length;++I)if(B=w.google.protobuf.MethodDescriptorProto.verify(o.method[I]))return"method."+B}var B;return o.options!=null&&o.hasOwnProperty("options")&&(B=w.google.protobuf.ServiceOptions.verify(o.options))?"options."+B:null},Re.fromObject=function(o){if(o instanceof w.google.protobuf.ServiceDescriptorProto)return o;var I=new w.google.protobuf.ServiceDescriptorProto;if(o.name!=null&&(I.name=String(o.name)),o.method){if(!Array.isArray(o.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");I.method=[];for(var B=0;B<o.method.length;++B){if(typeof o.method[B]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");I.method[B]=w.google.protobuf.MethodDescriptorProto.fromObject(o.method[B])}}if(o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");I.options=w.google.protobuf.ServiceOptions.fromObject(o.options)}return I},Re.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.method=[]),I.defaults&&(B.name="",B.options=null),o.name!=null&&o.hasOwnProperty("name")&&(B.name=o.name),o.method&&o.method.length){B.method=[];for(var ae=0;ae<o.method.length;++ae)B.method[ae]=w.google.protobuf.MethodDescriptorProto.toObject(o.method[ae],I)}return o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.ServiceOptions.toObject(o.options,I)),B},Re.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Re),O.MethodDescriptorProto=(Te.prototype.name="",Te.prototype.inputType="",Te.prototype.outputType="",Te.prototype.options=null,Te.prototype.clientStreaming=!1,Te.prototype.serverStreaming=!1,Te.create=function(o){return new Te(o)},Te.encode=function(o,I){return I=I||p.create(),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&I.uint32(10).string(o.name),o.inputType!=null&&Object.hasOwnProperty.call(o,"inputType")&&I.uint32(18).string(o.inputType),o.outputType!=null&&Object.hasOwnProperty.call(o,"outputType")&&I.uint32(26).string(o.outputType),o.options!=null&&Object.hasOwnProperty.call(o,"options")&&w.google.protobuf.MethodOptions.encode(o.options,I.uint32(34).fork()).ldelim(),o.clientStreaming!=null&&Object.hasOwnProperty.call(o,"clientStreaming")&&I.uint32(40).bool(o.clientStreaming),o.serverStreaming!=null&&Object.hasOwnProperty.call(o,"serverStreaming")&&I.uint32(48).bool(o.serverStreaming),I},Te.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},Te.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.MethodDescriptorProto;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.name=o.string();break;case 2:ae.inputType=o.string();break;case 3:ae.outputType=o.string();break;case 4:ae.options=w.google.protobuf.MethodOptions.decode(o,o.uint32());break;case 5:ae.clientStreaming=o.bool();break;case 6:ae.serverStreaming=o.bool();break;default:o.skipType(7&Ce)}}return ae},Te.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},Te.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!g.isString(o.name))return"name: string expected";if(o.inputType!=null&&o.hasOwnProperty("inputType")&&!g.isString(o.inputType))return"inputType: string expected";if(o.outputType!=null&&o.hasOwnProperty("outputType")&&!g.isString(o.outputType))return"outputType: string expected";if(o.options!=null&&o.hasOwnProperty("options")){var I=w.google.protobuf.MethodOptions.verify(o.options);if(I)return"options."+I}return o.clientStreaming!=null&&o.hasOwnProperty("clientStreaming")&&typeof o.clientStreaming!="boolean"?"clientStreaming: boolean expected":o.serverStreaming!=null&&o.hasOwnProperty("serverStreaming")&&typeof o.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},Te.fromObject=function(o){if(o instanceof w.google.protobuf.MethodDescriptorProto)return o;var I=new w.google.protobuf.MethodDescriptorProto;if(o.name!=null&&(I.name=String(o.name)),o.inputType!=null&&(I.inputType=String(o.inputType)),o.outputType!=null&&(I.outputType=String(o.outputType)),o.options!=null){if(typeof o.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");I.options=w.google.protobuf.MethodOptions.fromObject(o.options)}return o.clientStreaming!=null&&(I.clientStreaming=!!o.clientStreaming),o.serverStreaming!=null&&(I.serverStreaming=!!o.serverStreaming),I},Te.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.name="",B.inputType="",B.outputType="",B.options=null,B.clientStreaming=!1,B.serverStreaming=!1),o.name!=null&&o.hasOwnProperty("name")&&(B.name=o.name),o.inputType!=null&&o.hasOwnProperty("inputType")&&(B.inputType=o.inputType),o.outputType!=null&&o.hasOwnProperty("outputType")&&(B.outputType=o.outputType),o.options!=null&&o.hasOwnProperty("options")&&(B.options=w.google.protobuf.MethodOptions.toObject(o.options,I)),o.clientStreaming!=null&&o.hasOwnProperty("clientStreaming")&&(B.clientStreaming=o.clientStreaming),o.serverStreaming!=null&&o.hasOwnProperty("serverStreaming")&&(B.serverStreaming=o.serverStreaming),B},Te.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Te),O.FileOptions=(Ae.prototype.javaPackage="",Ae.prototype.javaOuterClassname="",Ae.prototype.javaMultipleFiles=!1,Ae.prototype.javaGenerateEqualsAndHash=!1,Ae.prototype.javaStringCheckUtf8=!1,Ae.prototype.optimizeFor=1,Ae.prototype.goPackage="",Ae.prototype.ccGenericServices=!1,Ae.prototype.javaGenericServices=!1,Ae.prototype.pyGenericServices=!1,Ae.prototype.phpGenericServices=!1,Ae.prototype.deprecated=!1,Ae.prototype.ccEnableArenas=!0,Ae.prototype.objcClassPrefix="",Ae.prototype.csharpNamespace="",Ae.prototype.swiftPrefix="",Ae.prototype.phpClassPrefix="",Ae.prototype.phpNamespace="",Ae.prototype.phpMetadataNamespace="",Ae.prototype.rubyPackage="",Ae.prototype.uninterpretedOption=g.emptyArray,Ae.prototype[".google.api.resourceDefinition"]=g.emptyArray,Ae.create=function(o){return new Ae(o)},Ae.encode=function(o,I){if(I=I||p.create(),o.javaPackage!=null&&Object.hasOwnProperty.call(o,"javaPackage")&&I.uint32(10).string(o.javaPackage),o.javaOuterClassname!=null&&Object.hasOwnProperty.call(o,"javaOuterClassname")&&I.uint32(66).string(o.javaOuterClassname),o.optimizeFor!=null&&Object.hasOwnProperty.call(o,"optimizeFor")&&I.uint32(72).int32(o.optimizeFor),o.javaMultipleFiles!=null&&Object.hasOwnProperty.call(o,"javaMultipleFiles")&&I.uint32(80).bool(o.javaMultipleFiles),o.goPackage!=null&&Object.hasOwnProperty.call(o,"goPackage")&&I.uint32(90).string(o.goPackage),o.ccGenericServices!=null&&Object.hasOwnProperty.call(o,"ccGenericServices")&&I.uint32(128).bool(o.ccGenericServices),o.javaGenericServices!=null&&Object.hasOwnProperty.call(o,"javaGenericServices")&&I.uint32(136).bool(o.javaGenericServices),o.pyGenericServices!=null&&Object.hasOwnProperty.call(o,"pyGenericServices")&&I.uint32(144).bool(o.pyGenericServices),o.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(o,"javaGenerateEqualsAndHash")&&I.uint32(160).bool(o.javaGenerateEqualsAndHash),o.deprecated!=null&&Object.hasOwnProperty.call(o,"deprecated")&&I.uint32(184).bool(o.deprecated),o.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(o,"javaStringCheckUtf8")&&I.uint32(216).bool(o.javaStringCheckUtf8),o.ccEnableArenas!=null&&Object.hasOwnProperty.call(o,"ccEnableArenas")&&I.uint32(248).bool(o.ccEnableArenas),o.objcClassPrefix!=null&&Object.hasOwnProperty.call(o,"objcClassPrefix")&&I.uint32(290).string(o.objcClassPrefix),o.csharpNamespace!=null&&Object.hasOwnProperty.call(o,"csharpNamespace")&&I.uint32(298).string(o.csharpNamespace),o.swiftPrefix!=null&&Object.hasOwnProperty.call(o,"swiftPrefix")&&I.uint32(314).string(o.swiftPrefix),o.phpClassPrefix!=null&&Object.hasOwnProperty.call(o,"phpClassPrefix")&&I.uint32(322).string(o.phpClassPrefix),o.phpNamespace!=null&&Object.hasOwnProperty.call(o,"phpNamespace")&&I.uint32(330).string(o.phpNamespace),o.phpGenericServices!=null&&Object.hasOwnProperty.call(o,"phpGenericServices")&&I.uint32(336).bool(o.phpGenericServices),o.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(o,"phpMetadataNamespace")&&I.uint32(354).string(o.phpMetadataNamespace),o.rubyPackage!=null&&Object.hasOwnProperty.call(o,"rubyPackage")&&I.uint32(362).string(o.rubyPackage),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();if(o[".google.api.resourceDefinition"]!=null&&o[".google.api.resourceDefinition"].length)for(B=0;B<o[".google.api.resourceDefinition"].length;++B)w.google.api.ResourceDescriptor.encode(o[".google.api.resourceDefinition"][B],I.uint32(8426).fork()).ldelim();return I},Ae.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},Ae.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.FileOptions;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.javaPackage=o.string();break;case 8:ae.javaOuterClassname=o.string();break;case 10:ae.javaMultipleFiles=o.bool();break;case 20:ae.javaGenerateEqualsAndHash=o.bool();break;case 27:ae.javaStringCheckUtf8=o.bool();break;case 9:ae.optimizeFor=o.int32();break;case 11:ae.goPackage=o.string();break;case 16:ae.ccGenericServices=o.bool();break;case 17:ae.javaGenericServices=o.bool();break;case 18:ae.pyGenericServices=o.bool();break;case 42:ae.phpGenericServices=o.bool();break;case 23:ae.deprecated=o.bool();break;case 31:ae.ccEnableArenas=o.bool();break;case 36:ae.objcClassPrefix=o.string();break;case 37:ae.csharpNamespace=o.string();break;case 39:ae.swiftPrefix=o.string();break;case 40:ae.phpClassPrefix=o.string();break;case 41:ae.phpNamespace=o.string();break;case 44:ae.phpMetadataNamespace=o.string();break;case 45:ae.rubyPackage=o.string();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()));break;case 1053:ae[".google.api.resourceDefinition"]&&ae[".google.api.resourceDefinition"].length||(ae[".google.api.resourceDefinition"]=[]),ae[".google.api.resourceDefinition"].push(w.google.api.ResourceDescriptor.decode(o,o.uint32()));break;default:o.skipType(7&Ce)}}return ae},Ae.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},Ae.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.javaPackage!=null&&o.hasOwnProperty("javaPackage")&&!g.isString(o.javaPackage))return"javaPackage: string expected";if(o.javaOuterClassname!=null&&o.hasOwnProperty("javaOuterClassname")&&!g.isString(o.javaOuterClassname))return"javaOuterClassname: string expected";if(o.javaMultipleFiles!=null&&o.hasOwnProperty("javaMultipleFiles")&&typeof o.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(o.javaGenerateEqualsAndHash!=null&&o.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof o.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(o.javaStringCheckUtf8!=null&&o.hasOwnProperty("javaStringCheckUtf8")&&typeof o.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(o.optimizeFor!=null&&o.hasOwnProperty("optimizeFor"))switch(o.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(o.goPackage!=null&&o.hasOwnProperty("goPackage")&&!g.isString(o.goPackage))return"goPackage: string expected";if(o.ccGenericServices!=null&&o.hasOwnProperty("ccGenericServices")&&typeof o.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(o.javaGenericServices!=null&&o.hasOwnProperty("javaGenericServices")&&typeof o.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(o.pyGenericServices!=null&&o.hasOwnProperty("pyGenericServices")&&typeof o.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(o.phpGenericServices!=null&&o.hasOwnProperty("phpGenericServices")&&typeof o.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(o.deprecated!=null&&o.hasOwnProperty("deprecated")&&typeof o.deprecated!="boolean")return"deprecated: boolean expected";if(o.ccEnableArenas!=null&&o.hasOwnProperty("ccEnableArenas")&&typeof o.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(o.objcClassPrefix!=null&&o.hasOwnProperty("objcClassPrefix")&&!g.isString(o.objcClassPrefix))return"objcClassPrefix: string expected";if(o.csharpNamespace!=null&&o.hasOwnProperty("csharpNamespace")&&!g.isString(o.csharpNamespace))return"csharpNamespace: string expected";if(o.swiftPrefix!=null&&o.hasOwnProperty("swiftPrefix")&&!g.isString(o.swiftPrefix))return"swiftPrefix: string expected";if(o.phpClassPrefix!=null&&o.hasOwnProperty("phpClassPrefix")&&!g.isString(o.phpClassPrefix))return"phpClassPrefix: string expected";if(o.phpNamespace!=null&&o.hasOwnProperty("phpNamespace")&&!g.isString(o.phpNamespace))return"phpNamespace: string expected";if(o.phpMetadataNamespace!=null&&o.hasOwnProperty("phpMetadataNamespace")&&!g.isString(o.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(o.rubyPackage!=null&&o.hasOwnProperty("rubyPackage")&&!g.isString(o.rubyPackage))return"rubyPackage: string expected";if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I)if(B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]))return"uninterpretedOption."+B}if(o[".google.api.resourceDefinition"]!=null&&o.hasOwnProperty(".google.api.resourceDefinition")){if(!Array.isArray(o[".google.api.resourceDefinition"]))return".google.api.resourceDefinition: array expected";for(var B,I=0;I<o[".google.api.resourceDefinition"].length;++I)if(B=w.google.api.ResourceDescriptor.verify(o[".google.api.resourceDefinition"][I]))return".google.api.resourceDefinition."+B}return null},Ae.fromObject=function(o){if(o instanceof w.google.protobuf.FileOptions)return o;var I=new w.google.protobuf.FileOptions;switch(o.javaPackage!=null&&(I.javaPackage=String(o.javaPackage)),o.javaOuterClassname!=null&&(I.javaOuterClassname=String(o.javaOuterClassname)),o.javaMultipleFiles!=null&&(I.javaMultipleFiles=!!o.javaMultipleFiles),o.javaGenerateEqualsAndHash!=null&&(I.javaGenerateEqualsAndHash=!!o.javaGenerateEqualsAndHash),o.javaStringCheckUtf8!=null&&(I.javaStringCheckUtf8=!!o.javaStringCheckUtf8),o.optimizeFor){case"SPEED":case 1:I.optimizeFor=1;break;case"CODE_SIZE":case 2:I.optimizeFor=2;break;case"LITE_RUNTIME":case 3:I.optimizeFor=3}if(o.goPackage!=null&&(I.goPackage=String(o.goPackage)),o.ccGenericServices!=null&&(I.ccGenericServices=!!o.ccGenericServices),o.javaGenericServices!=null&&(I.javaGenericServices=!!o.javaGenericServices),o.pyGenericServices!=null&&(I.pyGenericServices=!!o.pyGenericServices),o.phpGenericServices!=null&&(I.phpGenericServices=!!o.phpGenericServices),o.deprecated!=null&&(I.deprecated=!!o.deprecated),o.ccEnableArenas!=null&&(I.ccEnableArenas=!!o.ccEnableArenas),o.objcClassPrefix!=null&&(I.objcClassPrefix=String(o.objcClassPrefix)),o.csharpNamespace!=null&&(I.csharpNamespace=String(o.csharpNamespace)),o.swiftPrefix!=null&&(I.swiftPrefix=String(o.swiftPrefix)),o.phpClassPrefix!=null&&(I.phpClassPrefix=String(o.phpClassPrefix)),o.phpNamespace!=null&&(I.phpNamespace=String(o.phpNamespace)),o.phpMetadataNamespace!=null&&(I.phpMetadataNamespace=String(o.phpMetadataNamespace)),o.rubyPackage!=null&&(I.rubyPackage=String(o.rubyPackage)),o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}if(o[".google.api.resourceDefinition"]){if(!Array.isArray(o[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(I[".google.api.resourceDefinition"]=[],B=0;B<o[".google.api.resourceDefinition"].length;++B){if(typeof o[".google.api.resourceDefinition"][B]!="object")throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");I[".google.api.resourceDefinition"][B]=w.google.api.ResourceDescriptor.fromObject(o[".google.api.resourceDefinition"][B])}}return I},Ae.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[],B[".google.api.resourceDefinition"]=[]),I.defaults&&(B.javaPackage="",B.javaOuterClassname="",B.optimizeFor=I.enums===String?"SPEED":1,B.javaMultipleFiles=!1,B.goPackage="",B.ccGenericServices=!1,B.javaGenericServices=!1,B.pyGenericServices=!1,B.javaGenerateEqualsAndHash=!1,B.deprecated=!1,B.javaStringCheckUtf8=!1,B.ccEnableArenas=!0,B.objcClassPrefix="",B.csharpNamespace="",B.swiftPrefix="",B.phpClassPrefix="",B.phpNamespace="",B.phpGenericServices=!1,B.phpMetadataNamespace="",B.rubyPackage=""),o.javaPackage!=null&&o.hasOwnProperty("javaPackage")&&(B.javaPackage=o.javaPackage),o.javaOuterClassname!=null&&o.hasOwnProperty("javaOuterClassname")&&(B.javaOuterClassname=o.javaOuterClassname),o.optimizeFor!=null&&o.hasOwnProperty("optimizeFor")&&(B.optimizeFor=I.enums===String?w.google.protobuf.FileOptions.OptimizeMode[o.optimizeFor]:o.optimizeFor),o.javaMultipleFiles!=null&&o.hasOwnProperty("javaMultipleFiles")&&(B.javaMultipleFiles=o.javaMultipleFiles),o.goPackage!=null&&o.hasOwnProperty("goPackage")&&(B.goPackage=o.goPackage),o.ccGenericServices!=null&&o.hasOwnProperty("ccGenericServices")&&(B.ccGenericServices=o.ccGenericServices),o.javaGenericServices!=null&&o.hasOwnProperty("javaGenericServices")&&(B.javaGenericServices=o.javaGenericServices),o.pyGenericServices!=null&&o.hasOwnProperty("pyGenericServices")&&(B.pyGenericServices=o.pyGenericServices),o.javaGenerateEqualsAndHash!=null&&o.hasOwnProperty("javaGenerateEqualsAndHash")&&(B.javaGenerateEqualsAndHash=o.javaGenerateEqualsAndHash),o.deprecated!=null&&o.hasOwnProperty("deprecated")&&(B.deprecated=o.deprecated),o.javaStringCheckUtf8!=null&&o.hasOwnProperty("javaStringCheckUtf8")&&(B.javaStringCheckUtf8=o.javaStringCheckUtf8),o.ccEnableArenas!=null&&o.hasOwnProperty("ccEnableArenas")&&(B.ccEnableArenas=o.ccEnableArenas),o.objcClassPrefix!=null&&o.hasOwnProperty("objcClassPrefix")&&(B.objcClassPrefix=o.objcClassPrefix),o.csharpNamespace!=null&&o.hasOwnProperty("csharpNamespace")&&(B.csharpNamespace=o.csharpNamespace),o.swiftPrefix!=null&&o.hasOwnProperty("swiftPrefix")&&(B.swiftPrefix=o.swiftPrefix),o.phpClassPrefix!=null&&o.hasOwnProperty("phpClassPrefix")&&(B.phpClassPrefix=o.phpClassPrefix),o.phpNamespace!=null&&o.hasOwnProperty("phpNamespace")&&(B.phpNamespace=o.phpNamespace),o.phpGenericServices!=null&&o.hasOwnProperty("phpGenericServices")&&(B.phpGenericServices=o.phpGenericServices),o.phpMetadataNamespace!=null&&o.hasOwnProperty("phpMetadataNamespace")&&(B.phpMetadataNamespace=o.phpMetadataNamespace),o.rubyPackage!=null&&o.hasOwnProperty("rubyPackage")&&(B.rubyPackage=o.rubyPackage),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}if(o[".google.api.resourceDefinition"]&&o[".google.api.resourceDefinition"].length)for(B[".google.api.resourceDefinition"]=[],ae=0;ae<o[".google.api.resourceDefinition"].length;++ae)B[".google.api.resourceDefinition"][ae]=w.google.api.ResourceDescriptor.toObject(o[".google.api.resourceDefinition"][ae],I);return B},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ae.OptimizeMode=(d={},(y=Object.create(d))[d[1]="SPEED"]=1,y[d[2]="CODE_SIZE"]=2,y[d[3]="LITE_RUNTIME"]=3,y),Ae),O.MessageOptions=(Oe.prototype.messageSetWireFormat=!1,Oe.prototype.noStandardDescriptorAccessor=!1,Oe.prototype.deprecated=!1,Oe.prototype.mapEntry=!1,Oe.prototype.uninterpretedOption=g.emptyArray,Oe.prototype[".google.api.resource"]=null,Oe.create=function(o){return new Oe(o)},Oe.encode=function(o,I){if(I=I||p.create(),o.messageSetWireFormat!=null&&Object.hasOwnProperty.call(o,"messageSetWireFormat")&&I.uint32(8).bool(o.messageSetWireFormat),o.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(o,"noStandardDescriptorAccessor")&&I.uint32(16).bool(o.noStandardDescriptorAccessor),o.deprecated!=null&&Object.hasOwnProperty.call(o,"deprecated")&&I.uint32(24).bool(o.deprecated),o.mapEntry!=null&&Object.hasOwnProperty.call(o,"mapEntry")&&I.uint32(56).bool(o.mapEntry),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();return o[".google.api.resource"]!=null&&Object.hasOwnProperty.call(o,".google.api.resource")&&w.google.api.ResourceDescriptor.encode(o[".google.api.resource"],I.uint32(8426).fork()).ldelim(),I},Oe.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},Oe.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.MessageOptions;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.messageSetWireFormat=o.bool();break;case 2:ae.noStandardDescriptorAccessor=o.bool();break;case 3:ae.deprecated=o.bool();break;case 7:ae.mapEntry=o.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()));break;case 1053:ae[".google.api.resource"]=w.google.api.ResourceDescriptor.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},Oe.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},Oe.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.messageSetWireFormat!=null&&o.hasOwnProperty("messageSetWireFormat")&&typeof o.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(o.noStandardDescriptorAccessor!=null&&o.hasOwnProperty("noStandardDescriptorAccessor")&&typeof o.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(o.deprecated!=null&&o.hasOwnProperty("deprecated")&&typeof o.deprecated!="boolean")return"deprecated: boolean expected";if(o.mapEntry!=null&&o.hasOwnProperty("mapEntry")&&typeof o.mapEntry!="boolean")return"mapEntry: boolean expected";if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I)if(B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]))return"uninterpretedOption."+B}var B;return o[".google.api.resource"]!=null&&o.hasOwnProperty(".google.api.resource")&&(B=w.google.api.ResourceDescriptor.verify(o[".google.api.resource"]))?".google.api.resource."+B:null},Oe.fromObject=function(o){if(o instanceof w.google.protobuf.MessageOptions)return o;var I=new w.google.protobuf.MessageOptions;if(o.messageSetWireFormat!=null&&(I.messageSetWireFormat=!!o.messageSetWireFormat),o.noStandardDescriptorAccessor!=null&&(I.noStandardDescriptorAccessor=!!o.noStandardDescriptorAccessor),o.deprecated!=null&&(I.deprecated=!!o.deprecated),o.mapEntry!=null&&(I.mapEntry=!!o.mapEntry),o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}if(o[".google.api.resource"]!=null){if(typeof o[".google.api.resource"]!="object")throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");I[".google.api.resource"]=w.google.api.ResourceDescriptor.fromObject(o[".google.api.resource"])}return I},Oe.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[]),I.defaults&&(B.messageSetWireFormat=!1,B.noStandardDescriptorAccessor=!1,B.deprecated=!1,B.mapEntry=!1,B[".google.api.resource"]=null),o.messageSetWireFormat!=null&&o.hasOwnProperty("messageSetWireFormat")&&(B.messageSetWireFormat=o.messageSetWireFormat),o.noStandardDescriptorAccessor!=null&&o.hasOwnProperty("noStandardDescriptorAccessor")&&(B.noStandardDescriptorAccessor=o.noStandardDescriptorAccessor),o.deprecated!=null&&o.hasOwnProperty("deprecated")&&(B.deprecated=o.deprecated),o.mapEntry!=null&&o.hasOwnProperty("mapEntry")&&(B.mapEntry=o.mapEntry),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}return o[".google.api.resource"]!=null&&o.hasOwnProperty(".google.api.resource")&&(B[".google.api.resource"]=w.google.api.ResourceDescriptor.toObject(o[".google.api.resource"],I)),B},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Oe),O.FieldOptions=(ve.prototype.ctype=0,ve.prototype.packed=!1,ve.prototype.jstype=0,ve.prototype.lazy=!1,ve.prototype.deprecated=!1,ve.prototype.weak=!1,ve.prototype.uninterpretedOption=g.emptyArray,ve.prototype[".google.api.fieldBehavior"]=g.emptyArray,ve.prototype[".google.api.resourceReference"]=null,ve.create=function(o){return new ve(o)},ve.encode=function(o,I){if(I=I||p.create(),o.ctype!=null&&Object.hasOwnProperty.call(o,"ctype")&&I.uint32(8).int32(o.ctype),o.packed!=null&&Object.hasOwnProperty.call(o,"packed")&&I.uint32(16).bool(o.packed),o.deprecated!=null&&Object.hasOwnProperty.call(o,"deprecated")&&I.uint32(24).bool(o.deprecated),o.lazy!=null&&Object.hasOwnProperty.call(o,"lazy")&&I.uint32(40).bool(o.lazy),o.jstype!=null&&Object.hasOwnProperty.call(o,"jstype")&&I.uint32(48).int32(o.jstype),o.weak!=null&&Object.hasOwnProperty.call(o,"weak")&&I.uint32(80).bool(o.weak),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();if(o[".google.api.fieldBehavior"]!=null&&o[".google.api.fieldBehavior"].length){for(I.uint32(8418).fork(),B=0;B<o[".google.api.fieldBehavior"].length;++B)I.int32(o[".google.api.fieldBehavior"][B]);I.ldelim()}return o[".google.api.resourceReference"]!=null&&Object.hasOwnProperty.call(o,".google.api.resourceReference")&&w.google.api.ResourceReference.encode(o[".google.api.resourceReference"],I.uint32(8442).fork()).ldelim(),I},ve.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},ve.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.FieldOptions;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.ctype=o.int32();break;case 2:ae.packed=o.bool();break;case 6:ae.jstype=o.int32();break;case 5:ae.lazy=o.bool();break;case 3:ae.deprecated=o.bool();break;case 10:ae.weak=o.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()));break;case 1052:if(ae[".google.api.fieldBehavior"]&&ae[".google.api.fieldBehavior"].length||(ae[".google.api.fieldBehavior"]=[]),(7&Ce)==2)for(var Ue=o.uint32()+o.pos;o.pos<Ue;)ae[".google.api.fieldBehavior"].push(o.int32());else ae[".google.api.fieldBehavior"].push(o.int32());break;case 1055:ae[".google.api.resourceReference"]=w.google.api.ResourceReference.decode(o,o.uint32());break;default:o.skipType(7&Ce)}}return ae},ve.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},ve.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.ctype!=null&&o.hasOwnProperty("ctype"))switch(o.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(o.packed!=null&&o.hasOwnProperty("packed")&&typeof o.packed!="boolean")return"packed: boolean expected";if(o.jstype!=null&&o.hasOwnProperty("jstype"))switch(o.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(o.lazy!=null&&o.hasOwnProperty("lazy")&&typeof o.lazy!="boolean")return"lazy: boolean expected";if(o.deprecated!=null&&o.hasOwnProperty("deprecated")&&typeof o.deprecated!="boolean")return"deprecated: boolean expected";if(o.weak!=null&&o.hasOwnProperty("weak")&&typeof o.weak!="boolean")return"weak: boolean expected";if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I)if(B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]))return"uninterpretedOption."+B}if(o[".google.api.fieldBehavior"]!=null&&o.hasOwnProperty(".google.api.fieldBehavior")){if(!Array.isArray(o[".google.api.fieldBehavior"]))return".google.api.fieldBehavior: array expected";for(I=0;I<o[".google.api.fieldBehavior"].length;++I)switch(o[".google.api.fieldBehavior"][I]){default:return".google.api.fieldBehavior: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:}}var B;return o[".google.api.resourceReference"]!=null&&o.hasOwnProperty(".google.api.resourceReference")&&(B=w.google.api.ResourceReference.verify(o[".google.api.resourceReference"]))?".google.api.resourceReference."+B:null},ve.fromObject=function(o){if(o instanceof w.google.protobuf.FieldOptions)return o;var I=new w.google.protobuf.FieldOptions;switch(o.ctype){case"STRING":case 0:I.ctype=0;break;case"CORD":case 1:I.ctype=1;break;case"STRING_PIECE":case 2:I.ctype=2}switch(o.packed!=null&&(I.packed=!!o.packed),o.jstype){case"JS_NORMAL":case 0:I.jstype=0;break;case"JS_STRING":case 1:I.jstype=1;break;case"JS_NUMBER":case 2:I.jstype=2}if(o.lazy!=null&&(I.lazy=!!o.lazy),o.deprecated!=null&&(I.deprecated=!!o.deprecated),o.weak!=null&&(I.weak=!!o.weak),o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}if(o[".google.api.fieldBehavior"]){if(!Array.isArray(o[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(I[".google.api.fieldBehavior"]=[],B=0;B<o[".google.api.fieldBehavior"].length;++B)switch(o[".google.api.fieldBehavior"][B]){default:case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:I[".google.api.fieldBehavior"][B]=0;break;case"OPTIONAL":case 1:I[".google.api.fieldBehavior"][B]=1;break;case"REQUIRED":case 2:I[".google.api.fieldBehavior"][B]=2;break;case"OUTPUT_ONLY":case 3:I[".google.api.fieldBehavior"][B]=3;break;case"INPUT_ONLY":case 4:I[".google.api.fieldBehavior"][B]=4;break;case"IMMUTABLE":case 5:I[".google.api.fieldBehavior"][B]=5}}if(o[".google.api.resourceReference"]!=null){if(typeof o[".google.api.resourceReference"]!="object")throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");I[".google.api.resourceReference"]=w.google.api.ResourceReference.fromObject(o[".google.api.resourceReference"])}return I},ve.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[],B[".google.api.fieldBehavior"]=[]),I.defaults&&(B.ctype=I.enums===String?"STRING":0,B.packed=!1,B.deprecated=!1,B.lazy=!1,B.jstype=I.enums===String?"JS_NORMAL":0,B.weak=!1,B[".google.api.resourceReference"]=null),o.ctype!=null&&o.hasOwnProperty("ctype")&&(B.ctype=I.enums===String?w.google.protobuf.FieldOptions.CType[o.ctype]:o.ctype),o.packed!=null&&o.hasOwnProperty("packed")&&(B.packed=o.packed),o.deprecated!=null&&o.hasOwnProperty("deprecated")&&(B.deprecated=o.deprecated),o.lazy!=null&&o.hasOwnProperty("lazy")&&(B.lazy=o.lazy),o.jstype!=null&&o.hasOwnProperty("jstype")&&(B.jstype=I.enums===String?w.google.protobuf.FieldOptions.JSType[o.jstype]:o.jstype),o.weak!=null&&o.hasOwnProperty("weak")&&(B.weak=o.weak),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}if(o[".google.api.fieldBehavior"]&&o[".google.api.fieldBehavior"].length)for(B[".google.api.fieldBehavior"]=[],ae=0;ae<o[".google.api.fieldBehavior"].length;++ae)B[".google.api.fieldBehavior"][ae]=I.enums===String?w.google.api.FieldBehavior[o[".google.api.fieldBehavior"][ae]]:o[".google.api.fieldBehavior"][ae];return o[".google.api.resourceReference"]!=null&&o.hasOwnProperty(".google.api.resourceReference")&&(B[".google.api.resourceReference"]=w.google.api.ResourceReference.toObject(o[".google.api.resourceReference"],I)),B},ve.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ve.CType=(d={},(y=Object.create(d))[d[0]="STRING"]=0,y[d[1]="CORD"]=1,y[d[2]="STRING_PIECE"]=2,y),ve.JSType=(d={},(y=Object.create(d))[d[0]="JS_NORMAL"]=0,y[d[1]="JS_STRING"]=1,y[d[2]="JS_NUMBER"]=2,y),ve),O.OneofOptions=(Ee.prototype.uninterpretedOption=g.emptyArray,Ee.create=function(o){return new Ee(o)},Ee.encode=function(o,I){if(I=I||p.create(),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();return I},Ee.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},Ee.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.OneofOptions;o.pos<B;){var Ce=o.uint32();Ce>>>3==999?(ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()))):o.skipType(7&Ce)}return ae},Ee.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},Ee.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I){var B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]);if(B)return"uninterpretedOption."+B}}return null},Ee.fromObject=function(o){if(o instanceof w.google.protobuf.OneofOptions)return o;var I=new w.google.protobuf.OneofOptions;if(o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}return I},Ee.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[]),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}return B},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ee),O.EnumOptions=(he.prototype.allowAlias=!1,he.prototype.deprecated=!1,he.prototype.uninterpretedOption=g.emptyArray,he.create=function(o){return new he(o)},he.encode=function(o,I){if(I=I||p.create(),o.allowAlias!=null&&Object.hasOwnProperty.call(o,"allowAlias")&&I.uint32(16).bool(o.allowAlias),o.deprecated!=null&&Object.hasOwnProperty.call(o,"deprecated")&&I.uint32(24).bool(o.deprecated),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();return I},he.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},he.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.EnumOptions;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 2:ae.allowAlias=o.bool();break;case 3:ae.deprecated=o.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()));break;default:o.skipType(7&Ce)}}return ae},he.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},he.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.allowAlias!=null&&o.hasOwnProperty("allowAlias")&&typeof o.allowAlias!="boolean")return"allowAlias: boolean expected";if(o.deprecated!=null&&o.hasOwnProperty("deprecated")&&typeof o.deprecated!="boolean")return"deprecated: boolean expected";if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I){var B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]);if(B)return"uninterpretedOption."+B}}return null},he.fromObject=function(o){if(o instanceof w.google.protobuf.EnumOptions)return o;var I=new w.google.protobuf.EnumOptions;if(o.allowAlias!=null&&(I.allowAlias=!!o.allowAlias),o.deprecated!=null&&(I.deprecated=!!o.deprecated),o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}return I},he.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[]),I.defaults&&(B.allowAlias=!1,B.deprecated=!1),o.allowAlias!=null&&o.hasOwnProperty("allowAlias")&&(B.allowAlias=o.allowAlias),o.deprecated!=null&&o.hasOwnProperty("deprecated")&&(B.deprecated=o.deprecated),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}return B},he.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},he),O.EnumValueOptions=(l.prototype.deprecated=!1,l.prototype.uninterpretedOption=g.emptyArray,l.create=function(o){return new l(o)},l.encode=function(o,I){if(I=I||p.create(),o.deprecated!=null&&Object.hasOwnProperty.call(o,"deprecated")&&I.uint32(8).bool(o.deprecated),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();return I},l.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},l.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.EnumValueOptions;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.deprecated=o.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()));break;default:o.skipType(7&Ce)}}return ae},l.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},l.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.deprecated!=null&&o.hasOwnProperty("deprecated")&&typeof o.deprecated!="boolean")return"deprecated: boolean expected";if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I){var B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]);if(B)return"uninterpretedOption."+B}}return null},l.fromObject=function(o){if(o instanceof w.google.protobuf.EnumValueOptions)return o;var I=new w.google.protobuf.EnumValueOptions;if(o.deprecated!=null&&(I.deprecated=!!o.deprecated),o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}return I},l.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[]),I.defaults&&(B.deprecated=!1),o.deprecated!=null&&o.hasOwnProperty("deprecated")&&(B.deprecated=o.deprecated),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}return B},l.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},l),O.ServiceOptions=(P.prototype.deprecated=!1,P.prototype.uninterpretedOption=g.emptyArray,P.prototype[".google.api.defaultHost"]="",P.prototype[".google.api.oauthScopes"]="",P.create=function(o){return new P(o)},P.encode=function(o,I){if(I=I||p.create(),o.deprecated!=null&&Object.hasOwnProperty.call(o,"deprecated")&&I.uint32(264).bool(o.deprecated),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();return o[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(o,".google.api.defaultHost")&&I.uint32(8394).string(o[".google.api.defaultHost"]),o[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(o,".google.api.oauthScopes")&&I.uint32(8402).string(o[".google.api.oauthScopes"]),I},P.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},P.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.ServiceOptions;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 33:ae.deprecated=o.bool();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()));break;case 1049:ae[".google.api.defaultHost"]=o.string();break;case 1050:ae[".google.api.oauthScopes"]=o.string();break;default:o.skipType(7&Ce)}}return ae},P.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},P.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.deprecated!=null&&o.hasOwnProperty("deprecated")&&typeof o.deprecated!="boolean")return"deprecated: boolean expected";if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I){var B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]);if(B)return"uninterpretedOption."+B}}return o[".google.api.defaultHost"]!=null&&o.hasOwnProperty(".google.api.defaultHost")&&!g.isString(o[".google.api.defaultHost"])?".google.api.defaultHost: string expected":o[".google.api.oauthScopes"]!=null&&o.hasOwnProperty(".google.api.oauthScopes")&&!g.isString(o[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},P.fromObject=function(o){if(o instanceof w.google.protobuf.ServiceOptions)return o;var I=new w.google.protobuf.ServiceOptions;if(o.deprecated!=null&&(I.deprecated=!!o.deprecated),o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}return o[".google.api.defaultHost"]!=null&&(I[".google.api.defaultHost"]=String(o[".google.api.defaultHost"])),o[".google.api.oauthScopes"]!=null&&(I[".google.api.oauthScopes"]=String(o[".google.api.oauthScopes"])),I},P.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[]),I.defaults&&(B.deprecated=!1,B[".google.api.defaultHost"]="",B[".google.api.oauthScopes"]=""),o.deprecated!=null&&o.hasOwnProperty("deprecated")&&(B.deprecated=o.deprecated),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}return o[".google.api.defaultHost"]!=null&&o.hasOwnProperty(".google.api.defaultHost")&&(B[".google.api.defaultHost"]=o[".google.api.defaultHost"]),o[".google.api.oauthScopes"]!=null&&o.hasOwnProperty(".google.api.oauthScopes")&&(B[".google.api.oauthScopes"]=o[".google.api.oauthScopes"]),B},P.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},P),O.MethodOptions=(k.prototype.deprecated=!1,k.prototype.idempotencyLevel=0,k.prototype.uninterpretedOption=g.emptyArray,k.prototype[".google.api.http"]=null,k.prototype[".google.api.methodSignature"]=g.emptyArray,k.create=function(o){return new k(o)},k.encode=function(o,I){if(I=I||p.create(),o.deprecated!=null&&Object.hasOwnProperty.call(o,"deprecated")&&I.uint32(264).bool(o.deprecated),o.idempotencyLevel!=null&&Object.hasOwnProperty.call(o,"idempotencyLevel")&&I.uint32(272).int32(o.idempotencyLevel),o.uninterpretedOption!=null&&o.uninterpretedOption.length)for(var B=0;B<o.uninterpretedOption.length;++B)w.google.protobuf.UninterpretedOption.encode(o.uninterpretedOption[B],I.uint32(7994).fork()).ldelim();if(o[".google.api.methodSignature"]!=null&&o[".google.api.methodSignature"].length)for(B=0;B<o[".google.api.methodSignature"].length;++B)I.uint32(8410).string(o[".google.api.methodSignature"][B]);return o[".google.api.http"]!=null&&Object.hasOwnProperty.call(o,".google.api.http")&&w.google.api.HttpRule.encode(o[".google.api.http"],I.uint32(578365826).fork()).ldelim(),I},k.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},k.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.MethodOptions;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 33:ae.deprecated=o.bool();break;case 34:ae.idempotencyLevel=o.int32();break;case 999:ae.uninterpretedOption&&ae.uninterpretedOption.length||(ae.uninterpretedOption=[]),ae.uninterpretedOption.push(w.google.protobuf.UninterpretedOption.decode(o,o.uint32()));break;case 72295728:ae[".google.api.http"]=w.google.api.HttpRule.decode(o,o.uint32());break;case 1051:ae[".google.api.methodSignature"]&&ae[".google.api.methodSignature"].length||(ae[".google.api.methodSignature"]=[]),ae[".google.api.methodSignature"].push(o.string());break;default:o.skipType(7&Ce)}}return ae},k.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},k.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.deprecated!=null&&o.hasOwnProperty("deprecated")&&typeof o.deprecated!="boolean")return"deprecated: boolean expected";if(o.idempotencyLevel!=null&&o.hasOwnProperty("idempotencyLevel"))switch(o.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(o.uninterpretedOption!=null&&o.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(o.uninterpretedOption))return"uninterpretedOption: array expected";for(var I=0;I<o.uninterpretedOption.length;++I)if(B=w.google.protobuf.UninterpretedOption.verify(o.uninterpretedOption[I]))return"uninterpretedOption."+B}var B;if(o[".google.api.http"]!=null&&o.hasOwnProperty(".google.api.http")&&(B=w.google.api.HttpRule.verify(o[".google.api.http"])))return".google.api.http."+B;if(o[".google.api.methodSignature"]!=null&&o.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(o[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(I=0;I<o[".google.api.methodSignature"].length;++I)if(!g.isString(o[".google.api.methodSignature"][I]))return".google.api.methodSignature: string[] expected"}return null},k.fromObject=function(o){if(o instanceof w.google.protobuf.MethodOptions)return o;var I=new w.google.protobuf.MethodOptions;switch(o.deprecated!=null&&(I.deprecated=!!o.deprecated),o.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:I.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:I.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:I.idempotencyLevel=2}if(o.uninterpretedOption){if(!Array.isArray(o.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");I.uninterpretedOption=[];for(var B=0;B<o.uninterpretedOption.length;++B){if(typeof o.uninterpretedOption[B]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");I.uninterpretedOption[B]=w.google.protobuf.UninterpretedOption.fromObject(o.uninterpretedOption[B])}}if(o[".google.api.http"]!=null){if(typeof o[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");I[".google.api.http"]=w.google.api.HttpRule.fromObject(o[".google.api.http"])}if(o[".google.api.methodSignature"]){if(!Array.isArray(o[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(I[".google.api.methodSignature"]=[],B=0;B<o[".google.api.methodSignature"].length;++B)I[".google.api.methodSignature"][B]=String(o[".google.api.methodSignature"][B])}return I},k.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.uninterpretedOption=[],B[".google.api.methodSignature"]=[]),I.defaults&&(B.deprecated=!1,B.idempotencyLevel=I.enums===String?"IDEMPOTENCY_UNKNOWN":0,B[".google.api.http"]=null),o.deprecated!=null&&o.hasOwnProperty("deprecated")&&(B.deprecated=o.deprecated),o.idempotencyLevel!=null&&o.hasOwnProperty("idempotencyLevel")&&(B.idempotencyLevel=I.enums===String?w.google.protobuf.MethodOptions.IdempotencyLevel[o.idempotencyLevel]:o.idempotencyLevel),o.uninterpretedOption&&o.uninterpretedOption.length){B.uninterpretedOption=[];for(var ae=0;ae<o.uninterpretedOption.length;++ae)B.uninterpretedOption[ae]=w.google.protobuf.UninterpretedOption.toObject(o.uninterpretedOption[ae],I)}if(o[".google.api.methodSignature"]&&o[".google.api.methodSignature"].length)for(B[".google.api.methodSignature"]=[],ae=0;ae<o[".google.api.methodSignature"].length;++ae)B[".google.api.methodSignature"][ae]=o[".google.api.methodSignature"][ae];return o[".google.api.http"]!=null&&o.hasOwnProperty(".google.api.http")&&(B[".google.api.http"]=w.google.api.HttpRule.toObject(o[".google.api.http"],I)),B},k.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},k.IdempotencyLevel=(d={},(y=Object.create(d))[d[0]="IDEMPOTENCY_UNKNOWN"]=0,y[d[1]="NO_SIDE_EFFECTS"]=1,y[d[2]="IDEMPOTENT"]=2,y),k),O.UninterpretedOption=(K.prototype.name=g.emptyArray,K.prototype.identifierValue="",K.prototype.positiveIntValue=g.Long?g.Long.fromBits(0,0,!0):0,K.prototype.negativeIntValue=g.Long?g.Long.fromBits(0,0,!1):0,K.prototype.doubleValue=0,K.prototype.stringValue=g.newBuffer([]),K.prototype.aggregateValue="",K.create=function(o){return new K(o)},K.encode=function(o,I){if(I=I||p.create(),o.name!=null&&o.name.length)for(var B=0;B<o.name.length;++B)w.google.protobuf.UninterpretedOption.NamePart.encode(o.name[B],I.uint32(18).fork()).ldelim();return o.identifierValue!=null&&Object.hasOwnProperty.call(o,"identifierValue")&&I.uint32(26).string(o.identifierValue),o.positiveIntValue!=null&&Object.hasOwnProperty.call(o,"positiveIntValue")&&I.uint32(32).uint64(o.positiveIntValue),o.negativeIntValue!=null&&Object.hasOwnProperty.call(o,"negativeIntValue")&&I.uint32(40).int64(o.negativeIntValue),o.doubleValue!=null&&Object.hasOwnProperty.call(o,"doubleValue")&&I.uint32(49).double(o.doubleValue),o.stringValue!=null&&Object.hasOwnProperty.call(o,"stringValue")&&I.uint32(58).bytes(o.stringValue),o.aggregateValue!=null&&Object.hasOwnProperty.call(o,"aggregateValue")&&I.uint32(66).string(o.aggregateValue),I},K.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},K.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.UninterpretedOption;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 2:ae.name&&ae.name.length||(ae.name=[]),ae.name.push(w.google.protobuf.UninterpretedOption.NamePart.decode(o,o.uint32()));break;case 3:ae.identifierValue=o.string();break;case 4:ae.positiveIntValue=o.uint64();break;case 5:ae.negativeIntValue=o.int64();break;case 6:ae.doubleValue=o.double();break;case 7:ae.stringValue=o.bytes();break;case 8:ae.aggregateValue=o.string();break;default:o.skipType(7&Ce)}}return ae},K.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},K.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")){if(!Array.isArray(o.name))return"name: array expected";for(var I=0;I<o.name.length;++I){var B=w.google.protobuf.UninterpretedOption.NamePart.verify(o.name[I]);if(B)return"name."+B}}return o.identifierValue!=null&&o.hasOwnProperty("identifierValue")&&!g.isString(o.identifierValue)?"identifierValue: string expected":o.positiveIntValue!=null&&o.hasOwnProperty("positiveIntValue")&&!(g.isInteger(o.positiveIntValue)||o.positiveIntValue&&g.isInteger(o.positiveIntValue.low)&&g.isInteger(o.positiveIntValue.high))?"positiveIntValue: integer|Long expected":o.negativeIntValue!=null&&o.hasOwnProperty("negativeIntValue")&&!(g.isInteger(o.negativeIntValue)||o.negativeIntValue&&g.isInteger(o.negativeIntValue.low)&&g.isInteger(o.negativeIntValue.high))?"negativeIntValue: integer|Long expected":o.doubleValue!=null&&o.hasOwnProperty("doubleValue")&&typeof o.doubleValue!="number"?"doubleValue: number expected":o.stringValue!=null&&o.hasOwnProperty("stringValue")&&!(o.stringValue&&typeof o.stringValue.length=="number"||g.isString(o.stringValue))?"stringValue: buffer expected":o.aggregateValue!=null&&o.hasOwnProperty("aggregateValue")&&!g.isString(o.aggregateValue)?"aggregateValue: string expected":null},K.fromObject=function(o){if(o instanceof w.google.protobuf.UninterpretedOption)return o;var I=new w.google.protobuf.UninterpretedOption;if(o.name){if(!Array.isArray(o.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");I.name=[];for(var B=0;B<o.name.length;++B){if(typeof o.name[B]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");I.name[B]=w.google.protobuf.UninterpretedOption.NamePart.fromObject(o.name[B])}}return o.identifierValue!=null&&(I.identifierValue=String(o.identifierValue)),o.positiveIntValue!=null&&(g.Long?(I.positiveIntValue=g.Long.fromValue(o.positiveIntValue)).unsigned=!0:typeof o.positiveIntValue=="string"?I.positiveIntValue=parseInt(o.positiveIntValue,10):typeof o.positiveIntValue=="number"?I.positiveIntValue=o.positiveIntValue:typeof o.positiveIntValue=="object"&&(I.positiveIntValue=new g.LongBits(o.positiveIntValue.low>>>0,o.positiveIntValue.high>>>0).toNumber(!0))),o.negativeIntValue!=null&&(g.Long?(I.negativeIntValue=g.Long.fromValue(o.negativeIntValue)).unsigned=!1:typeof o.negativeIntValue=="string"?I.negativeIntValue=parseInt(o.negativeIntValue,10):typeof o.negativeIntValue=="number"?I.negativeIntValue=o.negativeIntValue:typeof o.negativeIntValue=="object"&&(I.negativeIntValue=new g.LongBits(o.negativeIntValue.low>>>0,o.negativeIntValue.high>>>0).toNumber())),o.doubleValue!=null&&(I.doubleValue=Number(o.doubleValue)),o.stringValue!=null&&(typeof o.stringValue=="string"?g.base64.decode(o.stringValue,I.stringValue=g.newBuffer(g.base64.length(o.stringValue)),0):o.stringValue.length&&(I.stringValue=o.stringValue)),o.aggregateValue!=null&&(I.aggregateValue=String(o.aggregateValue)),I},K.toObject=function(o,I){var B,ae={};if(((I=I||{}).arrays||I.defaults)&&(ae.name=[]),I.defaults&&(ae.identifierValue="",g.Long?(B=new g.Long(0,0,!0),ae.positiveIntValue=I.longs===String?B.toString():I.longs===Number?B.toNumber():B):ae.positiveIntValue=I.longs===String?"0":0,g.Long?(B=new g.Long(0,0,!1),ae.negativeIntValue=I.longs===String?B.toString():I.longs===Number?B.toNumber():B):ae.negativeIntValue=I.longs===String?"0":0,ae.doubleValue=0,I.bytes===String?ae.stringValue="":(ae.stringValue=[],I.bytes!==Array&&(ae.stringValue=g.newBuffer(ae.stringValue))),ae.aggregateValue=""),o.name&&o.name.length){ae.name=[];for(var Ce=0;Ce<o.name.length;++Ce)ae.name[Ce]=w.google.protobuf.UninterpretedOption.NamePart.toObject(o.name[Ce],I)}return o.identifierValue!=null&&o.hasOwnProperty("identifierValue")&&(ae.identifierValue=o.identifierValue),o.positiveIntValue!=null&&o.hasOwnProperty("positiveIntValue")&&(typeof o.positiveIntValue=="number"?ae.positiveIntValue=I.longs===String?String(o.positiveIntValue):o.positiveIntValue:ae.positiveIntValue=I.longs===String?g.Long.prototype.toString.call(o.positiveIntValue):I.longs===Number?new g.LongBits(o.positiveIntValue.low>>>0,o.positiveIntValue.high>>>0).toNumber(!0):o.positiveIntValue),o.negativeIntValue!=null&&o.hasOwnProperty("negativeIntValue")&&(typeof o.negativeIntValue=="number"?ae.negativeIntValue=I.longs===String?String(o.negativeIntValue):o.negativeIntValue:ae.negativeIntValue=I.longs===String?g.Long.prototype.toString.call(o.negativeIntValue):I.longs===Number?new g.LongBits(o.negativeIntValue.low>>>0,o.negativeIntValue.high>>>0).toNumber():o.negativeIntValue),o.doubleValue!=null&&o.hasOwnProperty("doubleValue")&&(ae.doubleValue=I.json&&!isFinite(o.doubleValue)?String(o.doubleValue):o.doubleValue),o.stringValue!=null&&o.hasOwnProperty("stringValue")&&(ae.stringValue=I.bytes===String?g.base64.encode(o.stringValue,0,o.stringValue.length):I.bytes===Array?Array.prototype.slice.call(o.stringValue):o.stringValue),o.aggregateValue!=null&&o.hasOwnProperty("aggregateValue")&&(ae.aggregateValue=o.aggregateValue),ae},K.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},K.NamePart=(pe.prototype.namePart="",pe.prototype.isExtension=!1,pe.create=function(o){return new pe(o)},pe.encode=function(o,I){return(I=I||p.create()).uint32(10).string(o.namePart),I.uint32(16).bool(o.isExtension),I},pe.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},pe.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.UninterpretedOption.NamePart;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.namePart=o.string();break;case 2:ae.isExtension=o.bool();break;default:o.skipType(7&Ce)}}if(!ae.hasOwnProperty("namePart"))throw g.ProtocolError("missing required 'namePart'",{instance:ae});if(ae.hasOwnProperty("isExtension"))return ae;throw g.ProtocolError("missing required 'isExtension'",{instance:ae})},pe.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},pe.verify=function(o){return typeof o!="object"||o===null?"object expected":g.isString(o.namePart)?typeof o.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},pe.fromObject=function(o){var I;return o instanceof w.google.protobuf.UninterpretedOption.NamePart?o:(I=new w.google.protobuf.UninterpretedOption.NamePart,o.namePart!=null&&(I.namePart=String(o.namePart)),o.isExtension!=null&&(I.isExtension=!!o.isExtension),I)},pe.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.namePart="",B.isExtension=!1),o.namePart!=null&&o.hasOwnProperty("namePart")&&(B.namePart=o.namePart),o.isExtension!=null&&o.hasOwnProperty("isExtension")&&(B.isExtension=o.isExtension),B},pe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},pe),K),O.SourceCodeInfo=(Se.prototype.location=g.emptyArray,Se.create=function(o){return new Se(o)},Se.encode=function(o,I){if(I=I||p.create(),o.location!=null&&o.location.length)for(var B=0;B<o.location.length;++B)w.google.protobuf.SourceCodeInfo.Location.encode(o.location[B],I.uint32(10).fork()).ldelim();return I},Se.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},Se.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.SourceCodeInfo;o.pos<B;){var Ce=o.uint32();Ce>>>3==1?(ae.location&&ae.location.length||(ae.location=[]),ae.location.push(w.google.protobuf.SourceCodeInfo.Location.decode(o,o.uint32()))):o.skipType(7&Ce)}return ae},Se.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},Se.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.location!=null&&o.hasOwnProperty("location")){if(!Array.isArray(o.location))return"location: array expected";for(var I=0;I<o.location.length;++I){var B=w.google.protobuf.SourceCodeInfo.Location.verify(o.location[I]);if(B)return"location."+B}}return null},Se.fromObject=function(o){if(o instanceof w.google.protobuf.SourceCodeInfo)return o;var I=new w.google.protobuf.SourceCodeInfo;if(o.location){if(!Array.isArray(o.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");I.location=[];for(var B=0;B<o.location.length;++B){if(typeof o.location[B]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");I.location[B]=w.google.protobuf.SourceCodeInfo.Location.fromObject(o.location[B])}}return I},Se.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.location=[]),o.location&&o.location.length){B.location=[];for(var ae=0;ae<o.location.length;++ae)B.location[ae]=w.google.protobuf.SourceCodeInfo.Location.toObject(o.location[ae],I)}return B},Se.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Se.Location=(ye.prototype.path=g.emptyArray,ye.prototype.span=g.emptyArray,ye.prototype.leadingComments="",ye.prototype.trailingComments="",ye.prototype.leadingDetachedComments=g.emptyArray,ye.create=function(o){return new ye(o)},ye.encode=function(o,I){if(I=I||p.create(),o.path!=null&&o.path.length){I.uint32(10).fork();for(var B=0;B<o.path.length;++B)I.int32(o.path[B]);I.ldelim()}if(o.span!=null&&o.span.length){for(I.uint32(18).fork(),B=0;B<o.span.length;++B)I.int32(o.span[B]);I.ldelim()}if(o.leadingComments!=null&&Object.hasOwnProperty.call(o,"leadingComments")&&I.uint32(26).string(o.leadingComments),o.trailingComments!=null&&Object.hasOwnProperty.call(o,"trailingComments")&&I.uint32(34).string(o.trailingComments),o.leadingDetachedComments!=null&&o.leadingDetachedComments.length)for(B=0;B<o.leadingDetachedComments.length;++B)I.uint32(50).string(o.leadingDetachedComments[B]);return I},ye.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},ye.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.SourceCodeInfo.Location;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:if(ae.path&&ae.path.length||(ae.path=[]),(7&Ce)==2)for(var Ue=o.uint32()+o.pos;o.pos<Ue;)ae.path.push(o.int32());else ae.path.push(o.int32());break;case 2:if(ae.span&&ae.span.length||(ae.span=[]),(7&Ce)==2)for(Ue=o.uint32()+o.pos;o.pos<Ue;)ae.span.push(o.int32());else ae.span.push(o.int32());break;case 3:ae.leadingComments=o.string();break;case 4:ae.trailingComments=o.string();break;case 6:ae.leadingDetachedComments&&ae.leadingDetachedComments.length||(ae.leadingDetachedComments=[]),ae.leadingDetachedComments.push(o.string());break;default:o.skipType(7&Ce)}}return ae},ye.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},ye.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.path!=null&&o.hasOwnProperty("path")){if(!Array.isArray(o.path))return"path: array expected";for(var I=0;I<o.path.length;++I)if(!g.isInteger(o.path[I]))return"path: integer[] expected"}if(o.span!=null&&o.hasOwnProperty("span")){if(!Array.isArray(o.span))return"span: array expected";for(I=0;I<o.span.length;++I)if(!g.isInteger(o.span[I]))return"span: integer[] expected"}if(o.leadingComments!=null&&o.hasOwnProperty("leadingComments")&&!g.isString(o.leadingComments))return"leadingComments: string expected";if(o.trailingComments!=null&&o.hasOwnProperty("trailingComments")&&!g.isString(o.trailingComments))return"trailingComments: string expected";if(o.leadingDetachedComments!=null&&o.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(o.leadingDetachedComments))return"leadingDetachedComments: array expected";for(I=0;I<o.leadingDetachedComments.length;++I)if(!g.isString(o.leadingDetachedComments[I]))return"leadingDetachedComments: string[] expected"}return null},ye.fromObject=function(o){if(o instanceof w.google.protobuf.SourceCodeInfo.Location)return o;var I=new w.google.protobuf.SourceCodeInfo.Location;if(o.path){if(!Array.isArray(o.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");I.path=[];for(var B=0;B<o.path.length;++B)I.path[B]=0|o.path[B]}if(o.span){if(!Array.isArray(o.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(I.span=[],B=0;B<o.span.length;++B)I.span[B]=0|o.span[B]}if(o.leadingComments!=null&&(I.leadingComments=String(o.leadingComments)),o.trailingComments!=null&&(I.trailingComments=String(o.trailingComments)),o.leadingDetachedComments){if(!Array.isArray(o.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(I.leadingDetachedComments=[],B=0;B<o.leadingDetachedComments.length;++B)I.leadingDetachedComments[B]=String(o.leadingDetachedComments[B])}return I},ye.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.path=[],B.span=[],B.leadingDetachedComments=[]),I.defaults&&(B.leadingComments="",B.trailingComments=""),o.path&&o.path.length){B.path=[];for(var ae=0;ae<o.path.length;++ae)B.path[ae]=o.path[ae]}if(o.span&&o.span.length)for(B.span=[],ae=0;ae<o.span.length;++ae)B.span[ae]=o.span[ae];if(o.leadingComments!=null&&o.hasOwnProperty("leadingComments")&&(B.leadingComments=o.leadingComments),o.trailingComments!=null&&o.hasOwnProperty("trailingComments")&&(B.trailingComments=o.trailingComments),o.leadingDetachedComments&&o.leadingDetachedComments.length)for(B.leadingDetachedComments=[],ae=0;ae<o.leadingDetachedComments.length;++ae)B.leadingDetachedComments[ae]=o.leadingDetachedComments[ae];return B},ye.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ye),Se),O.GeneratedCodeInfo=(a.prototype.annotation=g.emptyArray,a.create=function(o){return new a(o)},a.encode=function(o,I){if(I=I||p.create(),o.annotation!=null&&o.annotation.length)for(var B=0;B<o.annotation.length;++B)w.google.protobuf.GeneratedCodeInfo.Annotation.encode(o.annotation[B],I.uint32(10).fork()).ldelim();return I},a.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},a.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.GeneratedCodeInfo;o.pos<B;){var Ce=o.uint32();Ce>>>3==1?(ae.annotation&&ae.annotation.length||(ae.annotation=[]),ae.annotation.push(w.google.protobuf.GeneratedCodeInfo.Annotation.decode(o,o.uint32()))):o.skipType(7&Ce)}return ae},a.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},a.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.annotation!=null&&o.hasOwnProperty("annotation")){if(!Array.isArray(o.annotation))return"annotation: array expected";for(var I=0;I<o.annotation.length;++I){var B=w.google.protobuf.GeneratedCodeInfo.Annotation.verify(o.annotation[I]);if(B)return"annotation."+B}}return null},a.fromObject=function(o){if(o instanceof w.google.protobuf.GeneratedCodeInfo)return o;var I=new w.google.protobuf.GeneratedCodeInfo;if(o.annotation){if(!Array.isArray(o.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");I.annotation=[];for(var B=0;B<o.annotation.length;++B){if(typeof o.annotation[B]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");I.annotation[B]=w.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(o.annotation[B])}}return I},a.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.annotation=[]),o.annotation&&o.annotation.length){B.annotation=[];for(var ae=0;ae<o.annotation.length;++ae)B.annotation[ae]=w.google.protobuf.GeneratedCodeInfo.Annotation.toObject(o.annotation[ae],I)}return B},a.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},a.Annotation=(j.prototype.path=g.emptyArray,j.prototype.sourceFile="",j.prototype.begin=0,j.prototype.end=0,j.create=function(o){return new j(o)},j.encode=function(o,I){if(I=I||p.create(),o.path!=null&&o.path.length){I.uint32(10).fork();for(var B=0;B<o.path.length;++B)I.int32(o.path[B]);I.ldelim()}return o.sourceFile!=null&&Object.hasOwnProperty.call(o,"sourceFile")&&I.uint32(18).string(o.sourceFile),o.begin!=null&&Object.hasOwnProperty.call(o,"begin")&&I.uint32(24).int32(o.begin),o.end!=null&&Object.hasOwnProperty.call(o,"end")&&I.uint32(32).int32(o.end),I},j.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},j.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.protobuf.GeneratedCodeInfo.Annotation;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:if(ae.path&&ae.path.length||(ae.path=[]),(7&Ce)==2)for(var Ue=o.uint32()+o.pos;o.pos<Ue;)ae.path.push(o.int32());else ae.path.push(o.int32());break;case 2:ae.sourceFile=o.string();break;case 3:ae.begin=o.int32();break;case 4:ae.end=o.int32();break;default:o.skipType(7&Ce)}}return ae},j.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},j.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.path!=null&&o.hasOwnProperty("path")){if(!Array.isArray(o.path))return"path: array expected";for(var I=0;I<o.path.length;++I)if(!g.isInteger(o.path[I]))return"path: integer[] expected"}return o.sourceFile!=null&&o.hasOwnProperty("sourceFile")&&!g.isString(o.sourceFile)?"sourceFile: string expected":o.begin!=null&&o.hasOwnProperty("begin")&&!g.isInteger(o.begin)?"begin: integer expected":o.end!=null&&o.hasOwnProperty("end")&&!g.isInteger(o.end)?"end: integer expected":null},j.fromObject=function(o){if(o instanceof w.google.protobuf.GeneratedCodeInfo.Annotation)return o;var I=new w.google.protobuf.GeneratedCodeInfo.Annotation;if(o.path){if(!Array.isArray(o.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");I.path=[];for(var B=0;B<o.path.length;++B)I.path[B]=0|o.path[B]}return o.sourceFile!=null&&(I.sourceFile=String(o.sourceFile)),o.begin!=null&&(I.begin=0|o.begin),o.end!=null&&(I.end=0|o.end),I},j.toObject=function(o,I){var B={};if(((I=I||{}).arrays||I.defaults)&&(B.path=[]),I.defaults&&(B.sourceFile="",B.begin=0,B.end=0),o.path&&o.path.length){B.path=[];for(var ae=0;ae<o.path.length;++ae)B.path[ae]=o.path[ae]}return o.sourceFile!=null&&o.hasOwnProperty("sourceFile")&&(B.sourceFile=o.sourceFile),o.begin!=null&&o.hasOwnProperty("begin")&&(B.begin=o.begin),o.end!=null&&o.hasOwnProperty("end")&&(B.end=o.end),B},j.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},j),a),O),E.type=((T={}).Expr=(G.prototype.expression="",G.prototype.title="",G.prototype.description="",G.prototype.location="",G.create=function(o){return new G(o)},G.encode=function(o,I){return I=I||p.create(),o.expression!=null&&Object.hasOwnProperty.call(o,"expression")&&I.uint32(10).string(o.expression),o.title!=null&&Object.hasOwnProperty.call(o,"title")&&I.uint32(18).string(o.title),o.description!=null&&Object.hasOwnProperty.call(o,"description")&&I.uint32(26).string(o.description),o.location!=null&&Object.hasOwnProperty.call(o,"location")&&I.uint32(34).string(o.location),I},G.encodeDelimited=function(o,I){return this.encode(o,I).ldelim()},G.decode=function(o,I){o instanceof v||(o=v.create(o));for(var B=I===void 0?o.len:o.pos+I,ae=new w.google.type.Expr;o.pos<B;){var Ce=o.uint32();switch(Ce>>>3){case 1:ae.expression=o.string();break;case 2:ae.title=o.string();break;case 3:ae.description=o.string();break;case 4:ae.location=o.string();break;default:o.skipType(7&Ce)}}return ae},G.decodeDelimited=function(o){return o instanceof v||(o=new v(o)),this.decode(o,o.uint32())},G.verify=function(o){return typeof o!="object"||o===null?"object expected":o.expression!=null&&o.hasOwnProperty("expression")&&!g.isString(o.expression)?"expression: string expected":o.title!=null&&o.hasOwnProperty("title")&&!g.isString(o.title)?"title: string expected":o.description!=null&&o.hasOwnProperty("description")&&!g.isString(o.description)?"description: string expected":o.location!=null&&o.hasOwnProperty("location")&&!g.isString(o.location)?"location: string expected":null},G.fromObject=function(o){var I;return o instanceof w.google.type.Expr?o:(I=new w.google.type.Expr,o.expression!=null&&(I.expression=String(o.expression)),o.title!=null&&(I.title=String(o.title)),o.description!=null&&(I.description=String(o.description)),o.location!=null&&(I.location=String(o.location)),I)},G.toObject=function(o,I){var B={};return(I=I||{}).defaults&&(B.expression="",B.title="",B.description="",B.location=""),o.expression!=null&&o.hasOwnProperty("expression")&&(B.expression=o.expression),o.title!=null&&o.hasOwnProperty("title")&&(B.title=o.title),o.description!=null&&o.hasOwnProperty("description")&&(B.description=o.description),o.location!=null&&o.hasOwnProperty("location")&&(B.location=o.location),B},G.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},G),T),E),w})})(iam_service)),iam_service.exports}var locations={exports:{}},hasRequiredLocations;function requireLocations(){return hasRequiredLocations||(hasRequiredLocations=1,(function(c){(u=>{typeof commonjsRequire=="function"&&c&&c.exports&&(c.exports=u(requireMinimal()))})(function(u){var d,y,O,T,E=u.Reader,v=u.Writer,p=u.util,g=u.roots.locations_protos||(u.roots.locations_protos={});function w(l,P,k){u.rpc.Service.call(this,l,P,k)}function R(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function C(l){if(this.locations=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function N(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function D(l){if(this.labels={},l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function L(l){if(this.rules=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function q(l){if(this.additionalBindings=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function M(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function U(l){if(this.file=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function V(l){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function $(l){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function z(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function W(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function J(l){if(this.uninterpretedOption=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function Y(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function Q(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function H(l){if(this.value=[],this.reservedRange=[],this.reservedName=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function te(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function ne(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function oe(l){if(this.method=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function ie(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function ee(l){if(this.uninterpretedOption=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function ue(l){if(this.uninterpretedOption=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function fe(l){if(this.uninterpretedOption=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function de(l){if(this.uninterpretedOption=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function ge(l){if(this.uninterpretedOption=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function me(l){if(this.uninterpretedOption=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function _e(l){if(this.uninterpretedOption=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function we(l){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function Re(l){if(this.name=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function Te(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function Ae(l){if(this.location=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function Oe(l){if(this.path=[],this.span=[],this.leadingDetachedComments=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function ve(l){if(this.annotation=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function Ee(l){if(this.path=[],l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}function he(l){if(l)for(var P=Object.keys(l),k=0;k<P.length;++k)l[P[k]]!=null&&(this[P[k]]=l[P[k]])}return g.google=((T={}).cloud=((O={}).location=((d={}).Locations=(((w.prototype=Object.create(u.rpc.Service.prototype)).constructor=w).create=function(l,P,k){return new this(l,P,k)},Object.defineProperty(w.prototype.listLocations=function l(P,k){return this.rpcCall(l,g.google.cloud.location.ListLocationsRequest,g.google.cloud.location.ListLocationsResponse,P,k)},"name",{value:"ListLocations"}),Object.defineProperty(w.prototype.getLocation=function l(P,k){return this.rpcCall(l,g.google.cloud.location.GetLocationRequest,g.google.cloud.location.Location,P,k)},"name",{value:"GetLocation"}),w),d.ListLocationsRequest=(R.prototype.name="",R.prototype.filter="",R.prototype.pageSize=0,R.prototype.pageToken="",R.create=function(l){return new R(l)},R.encode=function(l,P){return P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.filter!=null&&Object.hasOwnProperty.call(l,"filter")&&P.uint32(18).string(l.filter),l.pageSize!=null&&Object.hasOwnProperty.call(l,"pageSize")&&P.uint32(24).int32(l.pageSize),l.pageToken!=null&&Object.hasOwnProperty.call(l,"pageToken")&&P.uint32(34).string(l.pageToken),P},R.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},R.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.cloud.location.ListLocationsRequest;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 2:K.filter=l.string();break;case 3:K.pageSize=l.int32();break;case 4:K.pageToken=l.string();break;default:l.skipType(7&pe)}}return K},R.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},R.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name)?"name: string expected":l.filter!=null&&l.hasOwnProperty("filter")&&!p.isString(l.filter)?"filter: string expected":l.pageSize!=null&&l.hasOwnProperty("pageSize")&&!p.isInteger(l.pageSize)?"pageSize: integer expected":l.pageToken!=null&&l.hasOwnProperty("pageToken")&&!p.isString(l.pageToken)?"pageToken: string expected":null},R.fromObject=function(l){var P;return l instanceof g.google.cloud.location.ListLocationsRequest?l:(P=new g.google.cloud.location.ListLocationsRequest,l.name!=null&&(P.name=String(l.name)),l.filter!=null&&(P.filter=String(l.filter)),l.pageSize!=null&&(P.pageSize=0|l.pageSize),l.pageToken!=null&&(P.pageToken=String(l.pageToken)),P)},R.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.name="",k.filter="",k.pageSize=0,k.pageToken=""),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.filter!=null&&l.hasOwnProperty("filter")&&(k.filter=l.filter),l.pageSize!=null&&l.hasOwnProperty("pageSize")&&(k.pageSize=l.pageSize),l.pageToken!=null&&l.hasOwnProperty("pageToken")&&(k.pageToken=l.pageToken),k},R.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},R),d.ListLocationsResponse=(C.prototype.locations=p.emptyArray,C.prototype.nextPageToken="",C.create=function(l){return new C(l)},C.encode=function(l,P){if(P=P||v.create(),l.locations!=null&&l.locations.length)for(var k=0;k<l.locations.length;++k)g.google.cloud.location.Location.encode(l.locations[k],P.uint32(10).fork()).ldelim();return l.nextPageToken!=null&&Object.hasOwnProperty.call(l,"nextPageToken")&&P.uint32(18).string(l.nextPageToken),P},C.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},C.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.cloud.location.ListLocationsResponse;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.locations&&K.locations.length||(K.locations=[]),K.locations.push(g.google.cloud.location.Location.decode(l,l.uint32()));break;case 2:K.nextPageToken=l.string();break;default:l.skipType(7&pe)}}return K},C.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},C.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.locations!=null&&l.hasOwnProperty("locations")){if(!Array.isArray(l.locations))return"locations: array expected";for(var P=0;P<l.locations.length;++P){var k=g.google.cloud.location.Location.verify(l.locations[P]);if(k)return"locations."+k}}return l.nextPageToken!=null&&l.hasOwnProperty("nextPageToken")&&!p.isString(l.nextPageToken)?"nextPageToken: string expected":null},C.fromObject=function(l){if(l instanceof g.google.cloud.location.ListLocationsResponse)return l;var P=new g.google.cloud.location.ListLocationsResponse;if(l.locations){if(!Array.isArray(l.locations))throw TypeError(".google.cloud.location.ListLocationsResponse.locations: array expected");P.locations=[];for(var k=0;k<l.locations.length;++k){if(typeof l.locations[k]!="object")throw TypeError(".google.cloud.location.ListLocationsResponse.locations: object expected");P.locations[k]=g.google.cloud.location.Location.fromObject(l.locations[k])}}return l.nextPageToken!=null&&(P.nextPageToken=String(l.nextPageToken)),P},C.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.locations=[]),P.defaults&&(k.nextPageToken=""),l.locations&&l.locations.length){k.locations=[];for(var K=0;K<l.locations.length;++K)k.locations[K]=g.google.cloud.location.Location.toObject(l.locations[K],P)}return l.nextPageToken!=null&&l.hasOwnProperty("nextPageToken")&&(k.nextPageToken=l.nextPageToken),k},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C),d.GetLocationRequest=(N.prototype.name="",N.create=function(l){return new N(l)},N.encode=function(l,P){return P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),P},N.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},N.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.cloud.location.GetLocationRequest;l.pos<k;){var pe=l.uint32();pe>>>3==1?K.name=l.string():l.skipType(7&pe)}return K},N.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},N.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name)?"name: string expected":null},N.fromObject=function(l){var P;return l instanceof g.google.cloud.location.GetLocationRequest?l:(P=new g.google.cloud.location.GetLocationRequest,l.name!=null&&(P.name=String(l.name)),P)},N.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.name=""),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),k},N.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},N),d.Location=(D.prototype.name="",D.prototype.locationId="",D.prototype.displayName="",D.prototype.labels=p.emptyObject,D.prototype.metadata=null,D.create=function(l){return new D(l)},D.encode=function(l,P){if(P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.labels!=null&&Object.hasOwnProperty.call(l,"labels"))for(var k=Object.keys(l.labels),K=0;K<k.length;++K)P.uint32(18).fork().uint32(10).string(k[K]).uint32(18).string(l.labels[k[K]]).ldelim();return l.metadata!=null&&Object.hasOwnProperty.call(l,"metadata")&&g.google.protobuf.Any.encode(l.metadata,P.uint32(26).fork()).ldelim(),l.locationId!=null&&Object.hasOwnProperty.call(l,"locationId")&&P.uint32(34).string(l.locationId),l.displayName!=null&&Object.hasOwnProperty.call(l,"displayName")&&P.uint32(42).string(l.displayName),P},D.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},D.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.cloud.location.Location;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 4:K.locationId=l.string();break;case 5:K.displayName=l.string();break;case 2:K.labels===p.emptyObject&&(K.labels={});for(var Se=l.uint32()+l.pos,ye="",a="";l.pos<Se;){var j=l.uint32();switch(j>>>3){case 1:ye=l.string();break;case 2:a=l.string();break;default:l.skipType(7&j)}}K.labels[ye]=a;break;case 3:K.metadata=g.google.protobuf.Any.decode(l,l.uint32());break;default:l.skipType(7&pe)}}return K},D.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},D.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name))return"name: string expected";if(l.locationId!=null&&l.hasOwnProperty("locationId")&&!p.isString(l.locationId))return"locationId: string expected";if(l.displayName!=null&&l.hasOwnProperty("displayName")&&!p.isString(l.displayName))return"displayName: string expected";if(l.labels!=null&&l.hasOwnProperty("labels")){if(!p.isObject(l.labels))return"labels: object expected";for(var P=Object.keys(l.labels),k=0;k<P.length;++k)if(!p.isString(l.labels[P[k]]))return"labels: string{k:string} expected"}if(l.metadata!=null&&l.hasOwnProperty("metadata")){var K=g.google.protobuf.Any.verify(l.metadata);if(K)return"metadata."+K}return null},D.fromObject=function(l){if(l instanceof g.google.cloud.location.Location)return l;var P=new g.google.cloud.location.Location;if(l.name!=null&&(P.name=String(l.name)),l.locationId!=null&&(P.locationId=String(l.locationId)),l.displayName!=null&&(P.displayName=String(l.displayName)),l.labels){if(typeof l.labels!="object")throw TypeError(".google.cloud.location.Location.labels: object expected");P.labels={};for(var k=Object.keys(l.labels),K=0;K<k.length;++K)P.labels[k[K]]=String(l.labels[k[K]])}if(l.metadata!=null){if(typeof l.metadata!="object")throw TypeError(".google.cloud.location.Location.metadata: object expected");P.metadata=g.google.protobuf.Any.fromObject(l.metadata)}return P},D.toObject=function(l,P){var k,K={};if(((P=P||{}).objects||P.defaults)&&(K.labels={}),P.defaults&&(K.name="",K.metadata=null,K.locationId="",K.displayName=""),l.name!=null&&l.hasOwnProperty("name")&&(K.name=l.name),l.labels&&(k=Object.keys(l.labels)).length){K.labels={};for(var pe=0;pe<k.length;++pe)K.labels[k[pe]]=l.labels[k[pe]]}return l.metadata!=null&&l.hasOwnProperty("metadata")&&(K.metadata=g.google.protobuf.Any.toObject(l.metadata,P)),l.locationId!=null&&l.hasOwnProperty("locationId")&&(K.locationId=l.locationId),l.displayName!=null&&l.hasOwnProperty("displayName")&&(K.displayName=l.displayName),K},D.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},D),d),O),T.api=((d={}).Http=(L.prototype.rules=p.emptyArray,L.prototype.fullyDecodeReservedExpansion=!1,L.create=function(l){return new L(l)},L.encode=function(l,P){if(P=P||v.create(),l.rules!=null&&l.rules.length)for(var k=0;k<l.rules.length;++k)g.google.api.HttpRule.encode(l.rules[k],P.uint32(10).fork()).ldelim();return l.fullyDecodeReservedExpansion!=null&&Object.hasOwnProperty.call(l,"fullyDecodeReservedExpansion")&&P.uint32(16).bool(l.fullyDecodeReservedExpansion),P},L.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},L.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.api.Http;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.rules&&K.rules.length||(K.rules=[]),K.rules.push(g.google.api.HttpRule.decode(l,l.uint32()));break;case 2:K.fullyDecodeReservedExpansion=l.bool();break;default:l.skipType(7&pe)}}return K},L.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},L.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.rules!=null&&l.hasOwnProperty("rules")){if(!Array.isArray(l.rules))return"rules: array expected";for(var P=0;P<l.rules.length;++P){var k=g.google.api.HttpRule.verify(l.rules[P]);if(k)return"rules."+k}}return l.fullyDecodeReservedExpansion!=null&&l.hasOwnProperty("fullyDecodeReservedExpansion")&&typeof l.fullyDecodeReservedExpansion!="boolean"?"fullyDecodeReservedExpansion: boolean expected":null},L.fromObject=function(l){if(l instanceof g.google.api.Http)return l;var P=new g.google.api.Http;if(l.rules){if(!Array.isArray(l.rules))throw TypeError(".google.api.Http.rules: array expected");P.rules=[];for(var k=0;k<l.rules.length;++k){if(typeof l.rules[k]!="object")throw TypeError(".google.api.Http.rules: object expected");P.rules[k]=g.google.api.HttpRule.fromObject(l.rules[k])}}return l.fullyDecodeReservedExpansion!=null&&(P.fullyDecodeReservedExpansion=!!l.fullyDecodeReservedExpansion),P},L.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.rules=[]),P.defaults&&(k.fullyDecodeReservedExpansion=!1),l.rules&&l.rules.length){k.rules=[];for(var K=0;K<l.rules.length;++K)k.rules[K]=g.google.api.HttpRule.toObject(l.rules[K],P)}return l.fullyDecodeReservedExpansion!=null&&l.hasOwnProperty("fullyDecodeReservedExpansion")&&(k.fullyDecodeReservedExpansion=l.fullyDecodeReservedExpansion),k},L.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},L),d.HttpRule=(q.prototype.selector="",q.prototype.get=null,q.prototype.put=null,q.prototype.post=null,q.prototype.delete=null,q.prototype.patch=null,q.prototype.custom=null,q.prototype.body="",q.prototype.responseBody="",q.prototype.additionalBindings=p.emptyArray,Object.defineProperty(q.prototype,"pattern",{get:p.oneOfGetter(O=["get","put","post","delete","patch","custom"]),set:p.oneOfSetter(O)}),q.create=function(l){return new q(l)},q.encode=function(l,P){if(P=P||v.create(),l.selector!=null&&Object.hasOwnProperty.call(l,"selector")&&P.uint32(10).string(l.selector),l.get!=null&&Object.hasOwnProperty.call(l,"get")&&P.uint32(18).string(l.get),l.put!=null&&Object.hasOwnProperty.call(l,"put")&&P.uint32(26).string(l.put),l.post!=null&&Object.hasOwnProperty.call(l,"post")&&P.uint32(34).string(l.post),l.delete!=null&&Object.hasOwnProperty.call(l,"delete")&&P.uint32(42).string(l.delete),l.patch!=null&&Object.hasOwnProperty.call(l,"patch")&&P.uint32(50).string(l.patch),l.body!=null&&Object.hasOwnProperty.call(l,"body")&&P.uint32(58).string(l.body),l.custom!=null&&Object.hasOwnProperty.call(l,"custom")&&g.google.api.CustomHttpPattern.encode(l.custom,P.uint32(66).fork()).ldelim(),l.additionalBindings!=null&&l.additionalBindings.length)for(var k=0;k<l.additionalBindings.length;++k)g.google.api.HttpRule.encode(l.additionalBindings[k],P.uint32(90).fork()).ldelim();return l.responseBody!=null&&Object.hasOwnProperty.call(l,"responseBody")&&P.uint32(98).string(l.responseBody),P},q.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},q.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.api.HttpRule;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.selector=l.string();break;case 2:K.get=l.string();break;case 3:K.put=l.string();break;case 4:K.post=l.string();break;case 5:K.delete=l.string();break;case 6:K.patch=l.string();break;case 8:K.custom=g.google.api.CustomHttpPattern.decode(l,l.uint32());break;case 7:K.body=l.string();break;case 12:K.responseBody=l.string();break;case 11:K.additionalBindings&&K.additionalBindings.length||(K.additionalBindings=[]),K.additionalBindings.push(g.google.api.HttpRule.decode(l,l.uint32()));break;default:l.skipType(7&pe)}}return K},q.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},q.verify=function(l){if(typeof l!="object"||l===null)return"object expected";var P={};if(l.selector!=null&&l.hasOwnProperty("selector")&&!p.isString(l.selector))return"selector: string expected";if(l.get!=null&&l.hasOwnProperty("get")&&(P.pattern=1,!p.isString(l.get)))return"get: string expected";if(l.put!=null&&l.hasOwnProperty("put")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,!p.isString(l.put))return"put: string expected"}if(l.post!=null&&l.hasOwnProperty("post")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,!p.isString(l.post))return"post: string expected"}if(l.delete!=null&&l.hasOwnProperty("delete")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,!p.isString(l.delete))return"delete: string expected"}if(l.patch!=null&&l.hasOwnProperty("patch")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,!p.isString(l.patch))return"patch: string expected"}if(l.custom!=null&&l.hasOwnProperty("custom")){if(P.pattern===1)return"pattern: multiple values";if(P.pattern=1,k=g.google.api.CustomHttpPattern.verify(l.custom))return"custom."+k}if(l.body!=null&&l.hasOwnProperty("body")&&!p.isString(l.body))return"body: string expected";if(l.responseBody!=null&&l.hasOwnProperty("responseBody")&&!p.isString(l.responseBody))return"responseBody: string expected";if(l.additionalBindings!=null&&l.hasOwnProperty("additionalBindings")){if(!Array.isArray(l.additionalBindings))return"additionalBindings: array expected";for(var k,K=0;K<l.additionalBindings.length;++K)if(k=g.google.api.HttpRule.verify(l.additionalBindings[K]))return"additionalBindings."+k}return null},q.fromObject=function(l){if(l instanceof g.google.api.HttpRule)return l;var P=new g.google.api.HttpRule;if(l.selector!=null&&(P.selector=String(l.selector)),l.get!=null&&(P.get=String(l.get)),l.put!=null&&(P.put=String(l.put)),l.post!=null&&(P.post=String(l.post)),l.delete!=null&&(P.delete=String(l.delete)),l.patch!=null&&(P.patch=String(l.patch)),l.custom!=null){if(typeof l.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");P.custom=g.google.api.CustomHttpPattern.fromObject(l.custom)}if(l.body!=null&&(P.body=String(l.body)),l.responseBody!=null&&(P.responseBody=String(l.responseBody)),l.additionalBindings){if(!Array.isArray(l.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");P.additionalBindings=[];for(var k=0;k<l.additionalBindings.length;++k){if(typeof l.additionalBindings[k]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");P.additionalBindings[k]=g.google.api.HttpRule.fromObject(l.additionalBindings[k])}}return P},q.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.additionalBindings=[]),P.defaults&&(k.selector="",k.body="",k.responseBody=""),l.selector!=null&&l.hasOwnProperty("selector")&&(k.selector=l.selector),l.get!=null&&l.hasOwnProperty("get")&&(k.get=l.get,P.oneofs)&&(k.pattern="get"),l.put!=null&&l.hasOwnProperty("put")&&(k.put=l.put,P.oneofs)&&(k.pattern="put"),l.post!=null&&l.hasOwnProperty("post")&&(k.post=l.post,P.oneofs)&&(k.pattern="post"),l.delete!=null&&l.hasOwnProperty("delete")&&(k.delete=l.delete,P.oneofs)&&(k.pattern="delete"),l.patch!=null&&l.hasOwnProperty("patch")&&(k.patch=l.patch,P.oneofs)&&(k.pattern="patch"),l.body!=null&&l.hasOwnProperty("body")&&(k.body=l.body),l.custom!=null&&l.hasOwnProperty("custom")&&(k.custom=g.google.api.CustomHttpPattern.toObject(l.custom,P),P.oneofs)&&(k.pattern="custom"),l.additionalBindings&&l.additionalBindings.length){k.additionalBindings=[];for(var K=0;K<l.additionalBindings.length;++K)k.additionalBindings[K]=g.google.api.HttpRule.toObject(l.additionalBindings[K],P)}return l.responseBody!=null&&l.hasOwnProperty("responseBody")&&(k.responseBody=l.responseBody),k},q.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},q),d.CustomHttpPattern=(M.prototype.kind="",M.prototype.path="",M.create=function(l){return new M(l)},M.encode=function(l,P){return P=P||v.create(),l.kind!=null&&Object.hasOwnProperty.call(l,"kind")&&P.uint32(10).string(l.kind),l.path!=null&&Object.hasOwnProperty.call(l,"path")&&P.uint32(18).string(l.path),P},M.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},M.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.api.CustomHttpPattern;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.kind=l.string();break;case 2:K.path=l.string();break;default:l.skipType(7&pe)}}return K},M.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},M.verify=function(l){return typeof l!="object"||l===null?"object expected":l.kind!=null&&l.hasOwnProperty("kind")&&!p.isString(l.kind)?"kind: string expected":l.path!=null&&l.hasOwnProperty("path")&&!p.isString(l.path)?"path: string expected":null},M.fromObject=function(l){var P;return l instanceof g.google.api.CustomHttpPattern?l:(P=new g.google.api.CustomHttpPattern,l.kind!=null&&(P.kind=String(l.kind)),l.path!=null&&(P.path=String(l.path)),P)},M.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.kind="",k.path=""),l.kind!=null&&l.hasOwnProperty("kind")&&(k.kind=l.kind),l.path!=null&&l.hasOwnProperty("path")&&(k.path=l.path),k},M.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},M),d),T.protobuf=((O={}).FileDescriptorSet=(U.prototype.file=p.emptyArray,U.create=function(l){return new U(l)},U.encode=function(l,P){if(P=P||v.create(),l.file!=null&&l.file.length)for(var k=0;k<l.file.length;++k)g.google.protobuf.FileDescriptorProto.encode(l.file[k],P.uint32(10).fork()).ldelim();return P},U.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},U.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.FileDescriptorSet;l.pos<k;){var pe=l.uint32();pe>>>3==1?(K.file&&K.file.length||(K.file=[]),K.file.push(g.google.protobuf.FileDescriptorProto.decode(l,l.uint32()))):l.skipType(7&pe)}return K},U.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},U.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.file!=null&&l.hasOwnProperty("file")){if(!Array.isArray(l.file))return"file: array expected";for(var P=0;P<l.file.length;++P){var k=g.google.protobuf.FileDescriptorProto.verify(l.file[P]);if(k)return"file."+k}}return null},U.fromObject=function(l){if(l instanceof g.google.protobuf.FileDescriptorSet)return l;var P=new g.google.protobuf.FileDescriptorSet;if(l.file){if(!Array.isArray(l.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");P.file=[];for(var k=0;k<l.file.length;++k){if(typeof l.file[k]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");P.file[k]=g.google.protobuf.FileDescriptorProto.fromObject(l.file[k])}}return P},U.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.file=[]),l.file&&l.file.length){k.file=[];for(var K=0;K<l.file.length;++K)k.file[K]=g.google.protobuf.FileDescriptorProto.toObject(l.file[K],P)}return k},U.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},U),O.FileDescriptorProto=(V.prototype.name="",V.prototype.package="",V.prototype.dependency=p.emptyArray,V.prototype.publicDependency=p.emptyArray,V.prototype.weakDependency=p.emptyArray,V.prototype.messageType=p.emptyArray,V.prototype.enumType=p.emptyArray,V.prototype.service=p.emptyArray,V.prototype.extension=p.emptyArray,V.prototype.options=null,V.prototype.sourceCodeInfo=null,V.prototype.syntax="",V.create=function(l){return new V(l)},V.encode=function(l,P){if(P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.package!=null&&Object.hasOwnProperty.call(l,"package")&&P.uint32(18).string(l.package),l.dependency!=null&&l.dependency.length)for(var k=0;k<l.dependency.length;++k)P.uint32(26).string(l.dependency[k]);if(l.messageType!=null&&l.messageType.length)for(k=0;k<l.messageType.length;++k)g.google.protobuf.DescriptorProto.encode(l.messageType[k],P.uint32(34).fork()).ldelim();if(l.enumType!=null&&l.enumType.length)for(k=0;k<l.enumType.length;++k)g.google.protobuf.EnumDescriptorProto.encode(l.enumType[k],P.uint32(42).fork()).ldelim();if(l.service!=null&&l.service.length)for(k=0;k<l.service.length;++k)g.google.protobuf.ServiceDescriptorProto.encode(l.service[k],P.uint32(50).fork()).ldelim();if(l.extension!=null&&l.extension.length)for(k=0;k<l.extension.length;++k)g.google.protobuf.FieldDescriptorProto.encode(l.extension[k],P.uint32(58).fork()).ldelim();if(l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.FileOptions.encode(l.options,P.uint32(66).fork()).ldelim(),l.sourceCodeInfo!=null&&Object.hasOwnProperty.call(l,"sourceCodeInfo")&&g.google.protobuf.SourceCodeInfo.encode(l.sourceCodeInfo,P.uint32(74).fork()).ldelim(),l.publicDependency!=null&&l.publicDependency.length)for(k=0;k<l.publicDependency.length;++k)P.uint32(80).int32(l.publicDependency[k]);if(l.weakDependency!=null&&l.weakDependency.length)for(k=0;k<l.weakDependency.length;++k)P.uint32(88).int32(l.weakDependency[k]);return l.syntax!=null&&Object.hasOwnProperty.call(l,"syntax")&&P.uint32(98).string(l.syntax),P},V.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},V.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.FileDescriptorProto;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 2:K.package=l.string();break;case 3:K.dependency&&K.dependency.length||(K.dependency=[]),K.dependency.push(l.string());break;case 10:if(K.publicDependency&&K.publicDependency.length||(K.publicDependency=[]),(7&pe)==2)for(var Se=l.uint32()+l.pos;l.pos<Se;)K.publicDependency.push(l.int32());else K.publicDependency.push(l.int32());break;case 11:if(K.weakDependency&&K.weakDependency.length||(K.weakDependency=[]),(7&pe)==2)for(Se=l.uint32()+l.pos;l.pos<Se;)K.weakDependency.push(l.int32());else K.weakDependency.push(l.int32());break;case 4:K.messageType&&K.messageType.length||(K.messageType=[]),K.messageType.push(g.google.protobuf.DescriptorProto.decode(l,l.uint32()));break;case 5:K.enumType&&K.enumType.length||(K.enumType=[]),K.enumType.push(g.google.protobuf.EnumDescriptorProto.decode(l,l.uint32()));break;case 6:K.service&&K.service.length||(K.service=[]),K.service.push(g.google.protobuf.ServiceDescriptorProto.decode(l,l.uint32()));break;case 7:K.extension&&K.extension.length||(K.extension=[]),K.extension.push(g.google.protobuf.FieldDescriptorProto.decode(l,l.uint32()));break;case 8:K.options=g.google.protobuf.FileOptions.decode(l,l.uint32());break;case 9:K.sourceCodeInfo=g.google.protobuf.SourceCodeInfo.decode(l,l.uint32());break;case 12:K.syntax=l.string();break;default:l.skipType(7&pe)}}return K},V.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},V.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name))return"name: string expected";if(l.package!=null&&l.hasOwnProperty("package")&&!p.isString(l.package))return"package: string expected";if(l.dependency!=null&&l.hasOwnProperty("dependency")){if(!Array.isArray(l.dependency))return"dependency: array expected";for(var P=0;P<l.dependency.length;++P)if(!p.isString(l.dependency[P]))return"dependency: string[] expected"}if(l.publicDependency!=null&&l.hasOwnProperty("publicDependency")){if(!Array.isArray(l.publicDependency))return"publicDependency: array expected";for(P=0;P<l.publicDependency.length;++P)if(!p.isInteger(l.publicDependency[P]))return"publicDependency: integer[] expected"}if(l.weakDependency!=null&&l.hasOwnProperty("weakDependency")){if(!Array.isArray(l.weakDependency))return"weakDependency: array expected";for(P=0;P<l.weakDependency.length;++P)if(!p.isInteger(l.weakDependency[P]))return"weakDependency: integer[] expected"}if(l.messageType!=null&&l.hasOwnProperty("messageType")){if(!Array.isArray(l.messageType))return"messageType: array expected";for(P=0;P<l.messageType.length;++P)if(k=g.google.protobuf.DescriptorProto.verify(l.messageType[P]))return"messageType."+k}if(l.enumType!=null&&l.hasOwnProperty("enumType")){if(!Array.isArray(l.enumType))return"enumType: array expected";for(P=0;P<l.enumType.length;++P)if(k=g.google.protobuf.EnumDescriptorProto.verify(l.enumType[P]))return"enumType."+k}if(l.service!=null&&l.hasOwnProperty("service")){if(!Array.isArray(l.service))return"service: array expected";for(P=0;P<l.service.length;++P)if(k=g.google.protobuf.ServiceDescriptorProto.verify(l.service[P]))return"service."+k}if(l.extension!=null&&l.hasOwnProperty("extension")){if(!Array.isArray(l.extension))return"extension: array expected";for(P=0;P<l.extension.length;++P)if(k=g.google.protobuf.FieldDescriptorProto.verify(l.extension[P]))return"extension."+k}var k;return l.options!=null&&l.hasOwnProperty("options")&&(k=g.google.protobuf.FileOptions.verify(l.options))?"options."+k:l.sourceCodeInfo!=null&&l.hasOwnProperty("sourceCodeInfo")&&(k=g.google.protobuf.SourceCodeInfo.verify(l.sourceCodeInfo))?"sourceCodeInfo."+k:l.syntax!=null&&l.hasOwnProperty("syntax")&&!p.isString(l.syntax)?"syntax: string expected":null},V.fromObject=function(l){if(l instanceof g.google.protobuf.FileDescriptorProto)return l;var P=new g.google.protobuf.FileDescriptorProto;if(l.name!=null&&(P.name=String(l.name)),l.package!=null&&(P.package=String(l.package)),l.dependency){if(!Array.isArray(l.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");P.dependency=[];for(var k=0;k<l.dependency.length;++k)P.dependency[k]=String(l.dependency[k])}if(l.publicDependency){if(!Array.isArray(l.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(P.publicDependency=[],k=0;k<l.publicDependency.length;++k)P.publicDependency[k]=0|l.publicDependency[k]}if(l.weakDependency){if(!Array.isArray(l.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(P.weakDependency=[],k=0;k<l.weakDependency.length;++k)P.weakDependency[k]=0|l.weakDependency[k]}if(l.messageType){if(!Array.isArray(l.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(P.messageType=[],k=0;k<l.messageType.length;++k){if(typeof l.messageType[k]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");P.messageType[k]=g.google.protobuf.DescriptorProto.fromObject(l.messageType[k])}}if(l.enumType){if(!Array.isArray(l.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(P.enumType=[],k=0;k<l.enumType.length;++k){if(typeof l.enumType[k]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");P.enumType[k]=g.google.protobuf.EnumDescriptorProto.fromObject(l.enumType[k])}}if(l.service){if(!Array.isArray(l.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(P.service=[],k=0;k<l.service.length;++k){if(typeof l.service[k]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");P.service[k]=g.google.protobuf.ServiceDescriptorProto.fromObject(l.service[k])}}if(l.extension){if(!Array.isArray(l.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(P.extension=[],k=0;k<l.extension.length;++k){if(typeof l.extension[k]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");P.extension[k]=g.google.protobuf.FieldDescriptorProto.fromObject(l.extension[k])}}if(l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");P.options=g.google.protobuf.FileOptions.fromObject(l.options)}if(l.sourceCodeInfo!=null){if(typeof l.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");P.sourceCodeInfo=g.google.protobuf.SourceCodeInfo.fromObject(l.sourceCodeInfo)}return l.syntax!=null&&(P.syntax=String(l.syntax)),P},V.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.dependency=[],k.messageType=[],k.enumType=[],k.service=[],k.extension=[],k.publicDependency=[],k.weakDependency=[]),P.defaults&&(k.name="",k.package="",k.options=null,k.sourceCodeInfo=null,k.syntax=""),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.package!=null&&l.hasOwnProperty("package")&&(k.package=l.package),l.dependency&&l.dependency.length){k.dependency=[];for(var K=0;K<l.dependency.length;++K)k.dependency[K]=l.dependency[K]}if(l.messageType&&l.messageType.length)for(k.messageType=[],K=0;K<l.messageType.length;++K)k.messageType[K]=g.google.protobuf.DescriptorProto.toObject(l.messageType[K],P);if(l.enumType&&l.enumType.length)for(k.enumType=[],K=0;K<l.enumType.length;++K)k.enumType[K]=g.google.protobuf.EnumDescriptorProto.toObject(l.enumType[K],P);if(l.service&&l.service.length)for(k.service=[],K=0;K<l.service.length;++K)k.service[K]=g.google.protobuf.ServiceDescriptorProto.toObject(l.service[K],P);if(l.extension&&l.extension.length)for(k.extension=[],K=0;K<l.extension.length;++K)k.extension[K]=g.google.protobuf.FieldDescriptorProto.toObject(l.extension[K],P);if(l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.FileOptions.toObject(l.options,P)),l.sourceCodeInfo!=null&&l.hasOwnProperty("sourceCodeInfo")&&(k.sourceCodeInfo=g.google.protobuf.SourceCodeInfo.toObject(l.sourceCodeInfo,P)),l.publicDependency&&l.publicDependency.length)for(k.publicDependency=[],K=0;K<l.publicDependency.length;++K)k.publicDependency[K]=l.publicDependency[K];if(l.weakDependency&&l.weakDependency.length)for(k.weakDependency=[],K=0;K<l.weakDependency.length;++K)k.weakDependency[K]=l.weakDependency[K];return l.syntax!=null&&l.hasOwnProperty("syntax")&&(k.syntax=l.syntax),k},V.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},V),O.DescriptorProto=($.prototype.name="",$.prototype.field=p.emptyArray,$.prototype.extension=p.emptyArray,$.prototype.nestedType=p.emptyArray,$.prototype.enumType=p.emptyArray,$.prototype.extensionRange=p.emptyArray,$.prototype.oneofDecl=p.emptyArray,$.prototype.options=null,$.prototype.reservedRange=p.emptyArray,$.prototype.reservedName=p.emptyArray,$.create=function(l){return new $(l)},$.encode=function(l,P){if(P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.field!=null&&l.field.length)for(var k=0;k<l.field.length;++k)g.google.protobuf.FieldDescriptorProto.encode(l.field[k],P.uint32(18).fork()).ldelim();if(l.nestedType!=null&&l.nestedType.length)for(k=0;k<l.nestedType.length;++k)g.google.protobuf.DescriptorProto.encode(l.nestedType[k],P.uint32(26).fork()).ldelim();if(l.enumType!=null&&l.enumType.length)for(k=0;k<l.enumType.length;++k)g.google.protobuf.EnumDescriptorProto.encode(l.enumType[k],P.uint32(34).fork()).ldelim();if(l.extensionRange!=null&&l.extensionRange.length)for(k=0;k<l.extensionRange.length;++k)g.google.protobuf.DescriptorProto.ExtensionRange.encode(l.extensionRange[k],P.uint32(42).fork()).ldelim();if(l.extension!=null&&l.extension.length)for(k=0;k<l.extension.length;++k)g.google.protobuf.FieldDescriptorProto.encode(l.extension[k],P.uint32(50).fork()).ldelim();if(l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.MessageOptions.encode(l.options,P.uint32(58).fork()).ldelim(),l.oneofDecl!=null&&l.oneofDecl.length)for(k=0;k<l.oneofDecl.length;++k)g.google.protobuf.OneofDescriptorProto.encode(l.oneofDecl[k],P.uint32(66).fork()).ldelim();if(l.reservedRange!=null&&l.reservedRange.length)for(k=0;k<l.reservedRange.length;++k)g.google.protobuf.DescriptorProto.ReservedRange.encode(l.reservedRange[k],P.uint32(74).fork()).ldelim();if(l.reservedName!=null&&l.reservedName.length)for(k=0;k<l.reservedName.length;++k)P.uint32(82).string(l.reservedName[k]);return P},$.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},$.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.DescriptorProto;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 2:K.field&&K.field.length||(K.field=[]),K.field.push(g.google.protobuf.FieldDescriptorProto.decode(l,l.uint32()));break;case 6:K.extension&&K.extension.length||(K.extension=[]),K.extension.push(g.google.protobuf.FieldDescriptorProto.decode(l,l.uint32()));break;case 3:K.nestedType&&K.nestedType.length||(K.nestedType=[]),K.nestedType.push(g.google.protobuf.DescriptorProto.decode(l,l.uint32()));break;case 4:K.enumType&&K.enumType.length||(K.enumType=[]),K.enumType.push(g.google.protobuf.EnumDescriptorProto.decode(l,l.uint32()));break;case 5:K.extensionRange&&K.extensionRange.length||(K.extensionRange=[]),K.extensionRange.push(g.google.protobuf.DescriptorProto.ExtensionRange.decode(l,l.uint32()));break;case 8:K.oneofDecl&&K.oneofDecl.length||(K.oneofDecl=[]),K.oneofDecl.push(g.google.protobuf.OneofDescriptorProto.decode(l,l.uint32()));break;case 7:K.options=g.google.protobuf.MessageOptions.decode(l,l.uint32());break;case 9:K.reservedRange&&K.reservedRange.length||(K.reservedRange=[]),K.reservedRange.push(g.google.protobuf.DescriptorProto.ReservedRange.decode(l,l.uint32()));break;case 10:K.reservedName&&K.reservedName.length||(K.reservedName=[]),K.reservedName.push(l.string());break;default:l.skipType(7&pe)}}return K},$.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},$.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name))return"name: string expected";if(l.field!=null&&l.hasOwnProperty("field")){if(!Array.isArray(l.field))return"field: array expected";for(var P=0;P<l.field.length;++P)if(k=g.google.protobuf.FieldDescriptorProto.verify(l.field[P]))return"field."+k}if(l.extension!=null&&l.hasOwnProperty("extension")){if(!Array.isArray(l.extension))return"extension: array expected";for(P=0;P<l.extension.length;++P)if(k=g.google.protobuf.FieldDescriptorProto.verify(l.extension[P]))return"extension."+k}if(l.nestedType!=null&&l.hasOwnProperty("nestedType")){if(!Array.isArray(l.nestedType))return"nestedType: array expected";for(P=0;P<l.nestedType.length;++P)if(k=g.google.protobuf.DescriptorProto.verify(l.nestedType[P]))return"nestedType."+k}if(l.enumType!=null&&l.hasOwnProperty("enumType")){if(!Array.isArray(l.enumType))return"enumType: array expected";for(P=0;P<l.enumType.length;++P)if(k=g.google.protobuf.EnumDescriptorProto.verify(l.enumType[P]))return"enumType."+k}if(l.extensionRange!=null&&l.hasOwnProperty("extensionRange")){if(!Array.isArray(l.extensionRange))return"extensionRange: array expected";for(P=0;P<l.extensionRange.length;++P)if(k=g.google.protobuf.DescriptorProto.ExtensionRange.verify(l.extensionRange[P]))return"extensionRange."+k}if(l.oneofDecl!=null&&l.hasOwnProperty("oneofDecl")){if(!Array.isArray(l.oneofDecl))return"oneofDecl: array expected";for(P=0;P<l.oneofDecl.length;++P)if(k=g.google.protobuf.OneofDescriptorProto.verify(l.oneofDecl[P]))return"oneofDecl."+k}if(l.options!=null&&l.hasOwnProperty("options")&&(k=g.google.protobuf.MessageOptions.verify(l.options)))return"options."+k;if(l.reservedRange!=null&&l.hasOwnProperty("reservedRange")){if(!Array.isArray(l.reservedRange))return"reservedRange: array expected";for(var k,P=0;P<l.reservedRange.length;++P)if(k=g.google.protobuf.DescriptorProto.ReservedRange.verify(l.reservedRange[P]))return"reservedRange."+k}if(l.reservedName!=null&&l.hasOwnProperty("reservedName")){if(!Array.isArray(l.reservedName))return"reservedName: array expected";for(P=0;P<l.reservedName.length;++P)if(!p.isString(l.reservedName[P]))return"reservedName: string[] expected"}return null},$.fromObject=function(l){if(l instanceof g.google.protobuf.DescriptorProto)return l;var P=new g.google.protobuf.DescriptorProto;if(l.name!=null&&(P.name=String(l.name)),l.field){if(!Array.isArray(l.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");P.field=[];for(var k=0;k<l.field.length;++k){if(typeof l.field[k]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");P.field[k]=g.google.protobuf.FieldDescriptorProto.fromObject(l.field[k])}}if(l.extension){if(!Array.isArray(l.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(P.extension=[],k=0;k<l.extension.length;++k){if(typeof l.extension[k]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");P.extension[k]=g.google.protobuf.FieldDescriptorProto.fromObject(l.extension[k])}}if(l.nestedType){if(!Array.isArray(l.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(P.nestedType=[],k=0;k<l.nestedType.length;++k){if(typeof l.nestedType[k]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");P.nestedType[k]=g.google.protobuf.DescriptorProto.fromObject(l.nestedType[k])}}if(l.enumType){if(!Array.isArray(l.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(P.enumType=[],k=0;k<l.enumType.length;++k){if(typeof l.enumType[k]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");P.enumType[k]=g.google.protobuf.EnumDescriptorProto.fromObject(l.enumType[k])}}if(l.extensionRange){if(!Array.isArray(l.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(P.extensionRange=[],k=0;k<l.extensionRange.length;++k){if(typeof l.extensionRange[k]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");P.extensionRange[k]=g.google.protobuf.DescriptorProto.ExtensionRange.fromObject(l.extensionRange[k])}}if(l.oneofDecl){if(!Array.isArray(l.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(P.oneofDecl=[],k=0;k<l.oneofDecl.length;++k){if(typeof l.oneofDecl[k]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");P.oneofDecl[k]=g.google.protobuf.OneofDescriptorProto.fromObject(l.oneofDecl[k])}}if(l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");P.options=g.google.protobuf.MessageOptions.fromObject(l.options)}if(l.reservedRange){if(!Array.isArray(l.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(P.reservedRange=[],k=0;k<l.reservedRange.length;++k){if(typeof l.reservedRange[k]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");P.reservedRange[k]=g.google.protobuf.DescriptorProto.ReservedRange.fromObject(l.reservedRange[k])}}if(l.reservedName){if(!Array.isArray(l.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(P.reservedName=[],k=0;k<l.reservedName.length;++k)P.reservedName[k]=String(l.reservedName[k])}return P},$.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.field=[],k.nestedType=[],k.enumType=[],k.extensionRange=[],k.extension=[],k.oneofDecl=[],k.reservedRange=[],k.reservedName=[]),P.defaults&&(k.name="",k.options=null),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.field&&l.field.length){k.field=[];for(var K=0;K<l.field.length;++K)k.field[K]=g.google.protobuf.FieldDescriptorProto.toObject(l.field[K],P)}if(l.nestedType&&l.nestedType.length)for(k.nestedType=[],K=0;K<l.nestedType.length;++K)k.nestedType[K]=g.google.protobuf.DescriptorProto.toObject(l.nestedType[K],P);if(l.enumType&&l.enumType.length)for(k.enumType=[],K=0;K<l.enumType.length;++K)k.enumType[K]=g.google.protobuf.EnumDescriptorProto.toObject(l.enumType[K],P);if(l.extensionRange&&l.extensionRange.length)for(k.extensionRange=[],K=0;K<l.extensionRange.length;++K)k.extensionRange[K]=g.google.protobuf.DescriptorProto.ExtensionRange.toObject(l.extensionRange[K],P);if(l.extension&&l.extension.length)for(k.extension=[],K=0;K<l.extension.length;++K)k.extension[K]=g.google.protobuf.FieldDescriptorProto.toObject(l.extension[K],P);if(l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.MessageOptions.toObject(l.options,P)),l.oneofDecl&&l.oneofDecl.length)for(k.oneofDecl=[],K=0;K<l.oneofDecl.length;++K)k.oneofDecl[K]=g.google.protobuf.OneofDescriptorProto.toObject(l.oneofDecl[K],P);if(l.reservedRange&&l.reservedRange.length)for(k.reservedRange=[],K=0;K<l.reservedRange.length;++K)k.reservedRange[K]=g.google.protobuf.DescriptorProto.ReservedRange.toObject(l.reservedRange[K],P);if(l.reservedName&&l.reservedName.length)for(k.reservedName=[],K=0;K<l.reservedName.length;++K)k.reservedName[K]=l.reservedName[K];return k},$.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},$.ExtensionRange=(z.prototype.start=0,z.prototype.end=0,z.prototype.options=null,z.create=function(l){return new z(l)},z.encode=function(l,P){return P=P||v.create(),l.start!=null&&Object.hasOwnProperty.call(l,"start")&&P.uint32(8).int32(l.start),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&P.uint32(16).int32(l.end),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.ExtensionRangeOptions.encode(l.options,P.uint32(26).fork()).ldelim(),P},z.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},z.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.DescriptorProto.ExtensionRange;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.start=l.int32();break;case 2:K.end=l.int32();break;case 3:K.options=g.google.protobuf.ExtensionRangeOptions.decode(l,l.uint32());break;default:l.skipType(7&pe)}}return K},z.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},z.verify=function(l){return typeof l!="object"||l===null?"object expected":l.start!=null&&l.hasOwnProperty("start")&&!p.isInteger(l.start)?"start: integer expected":l.end!=null&&l.hasOwnProperty("end")&&!p.isInteger(l.end)?"end: integer expected":l.options!=null&&l.hasOwnProperty("options")&&(l=g.google.protobuf.ExtensionRangeOptions.verify(l.options),l)?"options."+l:null},z.fromObject=function(l){if(l instanceof g.google.protobuf.DescriptorProto.ExtensionRange)return l;var P=new g.google.protobuf.DescriptorProto.ExtensionRange;if(l.start!=null&&(P.start=0|l.start),l.end!=null&&(P.end=0|l.end),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");P.options=g.google.protobuf.ExtensionRangeOptions.fromObject(l.options)}return P},z.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.start=0,k.end=0,k.options=null),l.start!=null&&l.hasOwnProperty("start")&&(k.start=l.start),l.end!=null&&l.hasOwnProperty("end")&&(k.end=l.end),l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.ExtensionRangeOptions.toObject(l.options,P)),k},z.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},z),$.ReservedRange=(W.prototype.start=0,W.prototype.end=0,W.create=function(l){return new W(l)},W.encode=function(l,P){return P=P||v.create(),l.start!=null&&Object.hasOwnProperty.call(l,"start")&&P.uint32(8).int32(l.start),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&P.uint32(16).int32(l.end),P},W.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},W.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.DescriptorProto.ReservedRange;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.start=l.int32();break;case 2:K.end=l.int32();break;default:l.skipType(7&pe)}}return K},W.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},W.verify=function(l){return typeof l!="object"||l===null?"object expected":l.start!=null&&l.hasOwnProperty("start")&&!p.isInteger(l.start)?"start: integer expected":l.end!=null&&l.hasOwnProperty("end")&&!p.isInteger(l.end)?"end: integer expected":null},W.fromObject=function(l){var P;return l instanceof g.google.protobuf.DescriptorProto.ReservedRange?l:(P=new g.google.protobuf.DescriptorProto.ReservedRange,l.start!=null&&(P.start=0|l.start),l.end!=null&&(P.end=0|l.end),P)},W.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.start=0,k.end=0),l.start!=null&&l.hasOwnProperty("start")&&(k.start=l.start),l.end!=null&&l.hasOwnProperty("end")&&(k.end=l.end),k},W.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},W),$),O.ExtensionRangeOptions=(J.prototype.uninterpretedOption=p.emptyArray,J.create=function(l){return new J(l)},J.encode=function(l,P){if(P=P||v.create(),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();return P},J.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},J.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.ExtensionRangeOptions;l.pos<k;){var pe=l.uint32();pe>>>3==999?(K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()))):l.skipType(7&pe)}return K},J.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},J.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P){var k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]);if(k)return"uninterpretedOption."+k}}return null},J.fromObject=function(l){if(l instanceof g.google.protobuf.ExtensionRangeOptions)return l;var P=new g.google.protobuf.ExtensionRangeOptions;if(l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}return P},J.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[]),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}return k},J.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},J),O.FieldDescriptorProto=(Y.prototype.name="",Y.prototype.number=0,Y.prototype.label=1,Y.prototype.type=1,Y.prototype.typeName="",Y.prototype.extendee="",Y.prototype.defaultValue="",Y.prototype.oneofIndex=0,Y.prototype.jsonName="",Y.prototype.options=null,Y.prototype.proto3Optional=!1,Y.create=function(l){return new Y(l)},Y.encode=function(l,P){return P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.extendee!=null&&Object.hasOwnProperty.call(l,"extendee")&&P.uint32(18).string(l.extendee),l.number!=null&&Object.hasOwnProperty.call(l,"number")&&P.uint32(24).int32(l.number),l.label!=null&&Object.hasOwnProperty.call(l,"label")&&P.uint32(32).int32(l.label),l.type!=null&&Object.hasOwnProperty.call(l,"type")&&P.uint32(40).int32(l.type),l.typeName!=null&&Object.hasOwnProperty.call(l,"typeName")&&P.uint32(50).string(l.typeName),l.defaultValue!=null&&Object.hasOwnProperty.call(l,"defaultValue")&&P.uint32(58).string(l.defaultValue),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.FieldOptions.encode(l.options,P.uint32(66).fork()).ldelim(),l.oneofIndex!=null&&Object.hasOwnProperty.call(l,"oneofIndex")&&P.uint32(72).int32(l.oneofIndex),l.jsonName!=null&&Object.hasOwnProperty.call(l,"jsonName")&&P.uint32(82).string(l.jsonName),l.proto3Optional!=null&&Object.hasOwnProperty.call(l,"proto3Optional")&&P.uint32(136).bool(l.proto3Optional),P},Y.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},Y.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.FieldDescriptorProto;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 3:K.number=l.int32();break;case 4:K.label=l.int32();break;case 5:K.type=l.int32();break;case 6:K.typeName=l.string();break;case 2:K.extendee=l.string();break;case 7:K.defaultValue=l.string();break;case 9:K.oneofIndex=l.int32();break;case 10:K.jsonName=l.string();break;case 8:K.options=g.google.protobuf.FieldOptions.decode(l,l.uint32());break;case 17:K.proto3Optional=l.bool();break;default:l.skipType(7&pe)}}return K},Y.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},Y.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name))return"name: string expected";if(l.number!=null&&l.hasOwnProperty("number")&&!p.isInteger(l.number))return"number: integer expected";if(l.label!=null&&l.hasOwnProperty("label"))switch(l.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(l.type!=null&&l.hasOwnProperty("type"))switch(l.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(l.typeName!=null&&l.hasOwnProperty("typeName")&&!p.isString(l.typeName))return"typeName: string expected";if(l.extendee!=null&&l.hasOwnProperty("extendee")&&!p.isString(l.extendee))return"extendee: string expected";if(l.defaultValue!=null&&l.hasOwnProperty("defaultValue")&&!p.isString(l.defaultValue))return"defaultValue: string expected";if(l.oneofIndex!=null&&l.hasOwnProperty("oneofIndex")&&!p.isInteger(l.oneofIndex))return"oneofIndex: integer expected";if(l.jsonName!=null&&l.hasOwnProperty("jsonName")&&!p.isString(l.jsonName))return"jsonName: string expected";if(l.options!=null&&l.hasOwnProperty("options")){var P=g.google.protobuf.FieldOptions.verify(l.options);if(P)return"options."+P}return l.proto3Optional!=null&&l.hasOwnProperty("proto3Optional")&&typeof l.proto3Optional!="boolean"?"proto3Optional: boolean expected":null},Y.fromObject=function(l){if(l instanceof g.google.protobuf.FieldDescriptorProto)return l;var P=new g.google.protobuf.FieldDescriptorProto;switch(l.name!=null&&(P.name=String(l.name)),l.number!=null&&(P.number=0|l.number),l.label){case"LABEL_OPTIONAL":case 1:P.label=1;break;case"LABEL_REQUIRED":case 2:P.label=2;break;case"LABEL_REPEATED":case 3:P.label=3}switch(l.type){case"TYPE_DOUBLE":case 1:P.type=1;break;case"TYPE_FLOAT":case 2:P.type=2;break;case"TYPE_INT64":case 3:P.type=3;break;case"TYPE_UINT64":case 4:P.type=4;break;case"TYPE_INT32":case 5:P.type=5;break;case"TYPE_FIXED64":case 6:P.type=6;break;case"TYPE_FIXED32":case 7:P.type=7;break;case"TYPE_BOOL":case 8:P.type=8;break;case"TYPE_STRING":case 9:P.type=9;break;case"TYPE_GROUP":case 10:P.type=10;break;case"TYPE_MESSAGE":case 11:P.type=11;break;case"TYPE_BYTES":case 12:P.type=12;break;case"TYPE_UINT32":case 13:P.type=13;break;case"TYPE_ENUM":case 14:P.type=14;break;case"TYPE_SFIXED32":case 15:P.type=15;break;case"TYPE_SFIXED64":case 16:P.type=16;break;case"TYPE_SINT32":case 17:P.type=17;break;case"TYPE_SINT64":case 18:P.type=18}if(l.typeName!=null&&(P.typeName=String(l.typeName)),l.extendee!=null&&(P.extendee=String(l.extendee)),l.defaultValue!=null&&(P.defaultValue=String(l.defaultValue)),l.oneofIndex!=null&&(P.oneofIndex=0|l.oneofIndex),l.jsonName!=null&&(P.jsonName=String(l.jsonName)),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");P.options=g.google.protobuf.FieldOptions.fromObject(l.options)}return l.proto3Optional!=null&&(P.proto3Optional=!!l.proto3Optional),P},Y.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.name="",k.extendee="",k.number=0,k.label=P.enums===String?"LABEL_OPTIONAL":1,k.type=P.enums===String?"TYPE_DOUBLE":1,k.typeName="",k.defaultValue="",k.options=null,k.oneofIndex=0,k.jsonName="",k.proto3Optional=!1),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.extendee!=null&&l.hasOwnProperty("extendee")&&(k.extendee=l.extendee),l.number!=null&&l.hasOwnProperty("number")&&(k.number=l.number),l.label!=null&&l.hasOwnProperty("label")&&(k.label=P.enums===String?g.google.protobuf.FieldDescriptorProto.Label[l.label]:l.label),l.type!=null&&l.hasOwnProperty("type")&&(k.type=P.enums===String?g.google.protobuf.FieldDescriptorProto.Type[l.type]:l.type),l.typeName!=null&&l.hasOwnProperty("typeName")&&(k.typeName=l.typeName),l.defaultValue!=null&&l.hasOwnProperty("defaultValue")&&(k.defaultValue=l.defaultValue),l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.FieldOptions.toObject(l.options,P)),l.oneofIndex!=null&&l.hasOwnProperty("oneofIndex")&&(k.oneofIndex=l.oneofIndex),l.jsonName!=null&&l.hasOwnProperty("jsonName")&&(k.jsonName=l.jsonName),l.proto3Optional!=null&&l.hasOwnProperty("proto3Optional")&&(k.proto3Optional=l.proto3Optional),k},Y.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Y.Type=(d={},(y=Object.create(d))[d[1]="TYPE_DOUBLE"]=1,y[d[2]="TYPE_FLOAT"]=2,y[d[3]="TYPE_INT64"]=3,y[d[4]="TYPE_UINT64"]=4,y[d[5]="TYPE_INT32"]=5,y[d[6]="TYPE_FIXED64"]=6,y[d[7]="TYPE_FIXED32"]=7,y[d[8]="TYPE_BOOL"]=8,y[d[9]="TYPE_STRING"]=9,y[d[10]="TYPE_GROUP"]=10,y[d[11]="TYPE_MESSAGE"]=11,y[d[12]="TYPE_BYTES"]=12,y[d[13]="TYPE_UINT32"]=13,y[d[14]="TYPE_ENUM"]=14,y[d[15]="TYPE_SFIXED32"]=15,y[d[16]="TYPE_SFIXED64"]=16,y[d[17]="TYPE_SINT32"]=17,y[d[18]="TYPE_SINT64"]=18,y),Y.Label=(d={},(y=Object.create(d))[d[1]="LABEL_OPTIONAL"]=1,y[d[2]="LABEL_REQUIRED"]=2,y[d[3]="LABEL_REPEATED"]=3,y),Y),O.OneofDescriptorProto=(Q.prototype.name="",Q.prototype.options=null,Q.create=function(l){return new Q(l)},Q.encode=function(l,P){return P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.OneofOptions.encode(l.options,P.uint32(18).fork()).ldelim(),P},Q.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},Q.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.OneofDescriptorProto;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 2:K.options=g.google.protobuf.OneofOptions.decode(l,l.uint32());break;default:l.skipType(7&pe)}}return K},Q.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},Q.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name)?"name: string expected":l.options!=null&&l.hasOwnProperty("options")&&(l=g.google.protobuf.OneofOptions.verify(l.options),l)?"options."+l:null},Q.fromObject=function(l){if(l instanceof g.google.protobuf.OneofDescriptorProto)return l;var P=new g.google.protobuf.OneofDescriptorProto;if(l.name!=null&&(P.name=String(l.name)),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");P.options=g.google.protobuf.OneofOptions.fromObject(l.options)}return P},Q.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.name="",k.options=null),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.OneofOptions.toObject(l.options,P)),k},Q.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Q),O.EnumDescriptorProto=(H.prototype.name="",H.prototype.value=p.emptyArray,H.prototype.options=null,H.prototype.reservedRange=p.emptyArray,H.prototype.reservedName=p.emptyArray,H.create=function(l){return new H(l)},H.encode=function(l,P){if(P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.value!=null&&l.value.length)for(var k=0;k<l.value.length;++k)g.google.protobuf.EnumValueDescriptorProto.encode(l.value[k],P.uint32(18).fork()).ldelim();if(l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.EnumOptions.encode(l.options,P.uint32(26).fork()).ldelim(),l.reservedRange!=null&&l.reservedRange.length)for(k=0;k<l.reservedRange.length;++k)g.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(l.reservedRange[k],P.uint32(34).fork()).ldelim();if(l.reservedName!=null&&l.reservedName.length)for(k=0;k<l.reservedName.length;++k)P.uint32(42).string(l.reservedName[k]);return P},H.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},H.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.EnumDescriptorProto;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 2:K.value&&K.value.length||(K.value=[]),K.value.push(g.google.protobuf.EnumValueDescriptorProto.decode(l,l.uint32()));break;case 3:K.options=g.google.protobuf.EnumOptions.decode(l,l.uint32());break;case 4:K.reservedRange&&K.reservedRange.length||(K.reservedRange=[]),K.reservedRange.push(g.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(l,l.uint32()));break;case 5:K.reservedName&&K.reservedName.length||(K.reservedName=[]),K.reservedName.push(l.string());break;default:l.skipType(7&pe)}}return K},H.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},H.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name))return"name: string expected";if(l.value!=null&&l.hasOwnProperty("value")){if(!Array.isArray(l.value))return"value: array expected";for(var P=0;P<l.value.length;++P)if(k=g.google.protobuf.EnumValueDescriptorProto.verify(l.value[P]))return"value."+k}if(l.options!=null&&l.hasOwnProperty("options")&&(k=g.google.protobuf.EnumOptions.verify(l.options)))return"options."+k;if(l.reservedRange!=null&&l.hasOwnProperty("reservedRange")){if(!Array.isArray(l.reservedRange))return"reservedRange: array expected";for(var k,P=0;P<l.reservedRange.length;++P)if(k=g.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(l.reservedRange[P]))return"reservedRange."+k}if(l.reservedName!=null&&l.hasOwnProperty("reservedName")){if(!Array.isArray(l.reservedName))return"reservedName: array expected";for(P=0;P<l.reservedName.length;++P)if(!p.isString(l.reservedName[P]))return"reservedName: string[] expected"}return null},H.fromObject=function(l){if(l instanceof g.google.protobuf.EnumDescriptorProto)return l;var P=new g.google.protobuf.EnumDescriptorProto;if(l.name!=null&&(P.name=String(l.name)),l.value){if(!Array.isArray(l.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");P.value=[];for(var k=0;k<l.value.length;++k){if(typeof l.value[k]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");P.value[k]=g.google.protobuf.EnumValueDescriptorProto.fromObject(l.value[k])}}if(l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");P.options=g.google.protobuf.EnumOptions.fromObject(l.options)}if(l.reservedRange){if(!Array.isArray(l.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(P.reservedRange=[],k=0;k<l.reservedRange.length;++k){if(typeof l.reservedRange[k]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");P.reservedRange[k]=g.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(l.reservedRange[k])}}if(l.reservedName){if(!Array.isArray(l.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(P.reservedName=[],k=0;k<l.reservedName.length;++k)P.reservedName[k]=String(l.reservedName[k])}return P},H.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.value=[],k.reservedRange=[],k.reservedName=[]),P.defaults&&(k.name="",k.options=null),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.value&&l.value.length){k.value=[];for(var K=0;K<l.value.length;++K)k.value[K]=g.google.protobuf.EnumValueDescriptorProto.toObject(l.value[K],P)}if(l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.EnumOptions.toObject(l.options,P)),l.reservedRange&&l.reservedRange.length)for(k.reservedRange=[],K=0;K<l.reservedRange.length;++K)k.reservedRange[K]=g.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(l.reservedRange[K],P);if(l.reservedName&&l.reservedName.length)for(k.reservedName=[],K=0;K<l.reservedName.length;++K)k.reservedName[K]=l.reservedName[K];return k},H.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},H.EnumReservedRange=(te.prototype.start=0,te.prototype.end=0,te.create=function(l){return new te(l)},te.encode=function(l,P){return P=P||v.create(),l.start!=null&&Object.hasOwnProperty.call(l,"start")&&P.uint32(8).int32(l.start),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&P.uint32(16).int32(l.end),P},te.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},te.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.EnumDescriptorProto.EnumReservedRange;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.start=l.int32();break;case 2:K.end=l.int32();break;default:l.skipType(7&pe)}}return K},te.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},te.verify=function(l){return typeof l!="object"||l===null?"object expected":l.start!=null&&l.hasOwnProperty("start")&&!p.isInteger(l.start)?"start: integer expected":l.end!=null&&l.hasOwnProperty("end")&&!p.isInteger(l.end)?"end: integer expected":null},te.fromObject=function(l){var P;return l instanceof g.google.protobuf.EnumDescriptorProto.EnumReservedRange?l:(P=new g.google.protobuf.EnumDescriptorProto.EnumReservedRange,l.start!=null&&(P.start=0|l.start),l.end!=null&&(P.end=0|l.end),P)},te.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.start=0,k.end=0),l.start!=null&&l.hasOwnProperty("start")&&(k.start=l.start),l.end!=null&&l.hasOwnProperty("end")&&(k.end=l.end),k},te.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},te),H),O.EnumValueDescriptorProto=(ne.prototype.name="",ne.prototype.number=0,ne.prototype.options=null,ne.create=function(l){return new ne(l)},ne.encode=function(l,P){return P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.number!=null&&Object.hasOwnProperty.call(l,"number")&&P.uint32(16).int32(l.number),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.EnumValueOptions.encode(l.options,P.uint32(26).fork()).ldelim(),P},ne.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},ne.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.EnumValueDescriptorProto;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 2:K.number=l.int32();break;case 3:K.options=g.google.protobuf.EnumValueOptions.decode(l,l.uint32());break;default:l.skipType(7&pe)}}return K},ne.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},ne.verify=function(l){return typeof l!="object"||l===null?"object expected":l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name)?"name: string expected":l.number!=null&&l.hasOwnProperty("number")&&!p.isInteger(l.number)?"number: integer expected":l.options!=null&&l.hasOwnProperty("options")&&(l=g.google.protobuf.EnumValueOptions.verify(l.options),l)?"options."+l:null},ne.fromObject=function(l){if(l instanceof g.google.protobuf.EnumValueDescriptorProto)return l;var P=new g.google.protobuf.EnumValueDescriptorProto;if(l.name!=null&&(P.name=String(l.name)),l.number!=null&&(P.number=0|l.number),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");P.options=g.google.protobuf.EnumValueOptions.fromObject(l.options)}return P},ne.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.name="",k.number=0,k.options=null),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.number!=null&&l.hasOwnProperty("number")&&(k.number=l.number),l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.EnumValueOptions.toObject(l.options,P)),k},ne.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ne),O.ServiceDescriptorProto=(oe.prototype.name="",oe.prototype.method=p.emptyArray,oe.prototype.options=null,oe.create=function(l){return new oe(l)},oe.encode=function(l,P){if(P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.method!=null&&l.method.length)for(var k=0;k<l.method.length;++k)g.google.protobuf.MethodDescriptorProto.encode(l.method[k],P.uint32(18).fork()).ldelim();return l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.ServiceOptions.encode(l.options,P.uint32(26).fork()).ldelim(),P},oe.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},oe.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.ServiceDescriptorProto;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 2:K.method&&K.method.length||(K.method=[]),K.method.push(g.google.protobuf.MethodDescriptorProto.decode(l,l.uint32()));break;case 3:K.options=g.google.protobuf.ServiceOptions.decode(l,l.uint32());break;default:l.skipType(7&pe)}}return K},oe.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},oe.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name))return"name: string expected";if(l.method!=null&&l.hasOwnProperty("method")){if(!Array.isArray(l.method))return"method: array expected";for(var P=0;P<l.method.length;++P)if(k=g.google.protobuf.MethodDescriptorProto.verify(l.method[P]))return"method."+k}var k;return l.options!=null&&l.hasOwnProperty("options")&&(k=g.google.protobuf.ServiceOptions.verify(l.options))?"options."+k:null},oe.fromObject=function(l){if(l instanceof g.google.protobuf.ServiceDescriptorProto)return l;var P=new g.google.protobuf.ServiceDescriptorProto;if(l.name!=null&&(P.name=String(l.name)),l.method){if(!Array.isArray(l.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");P.method=[];for(var k=0;k<l.method.length;++k){if(typeof l.method[k]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");P.method[k]=g.google.protobuf.MethodDescriptorProto.fromObject(l.method[k])}}if(l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");P.options=g.google.protobuf.ServiceOptions.fromObject(l.options)}return P},oe.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.method=[]),P.defaults&&(k.name="",k.options=null),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.method&&l.method.length){k.method=[];for(var K=0;K<l.method.length;++K)k.method[K]=g.google.protobuf.MethodDescriptorProto.toObject(l.method[K],P)}return l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.ServiceOptions.toObject(l.options,P)),k},oe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},oe),O.MethodDescriptorProto=(ie.prototype.name="",ie.prototype.inputType="",ie.prototype.outputType="",ie.prototype.options=null,ie.prototype.clientStreaming=!1,ie.prototype.serverStreaming=!1,ie.create=function(l){return new ie(l)},ie.encode=function(l,P){return P=P||v.create(),l.name!=null&&Object.hasOwnProperty.call(l,"name")&&P.uint32(10).string(l.name),l.inputType!=null&&Object.hasOwnProperty.call(l,"inputType")&&P.uint32(18).string(l.inputType),l.outputType!=null&&Object.hasOwnProperty.call(l,"outputType")&&P.uint32(26).string(l.outputType),l.options!=null&&Object.hasOwnProperty.call(l,"options")&&g.google.protobuf.MethodOptions.encode(l.options,P.uint32(34).fork()).ldelim(),l.clientStreaming!=null&&Object.hasOwnProperty.call(l,"clientStreaming")&&P.uint32(40).bool(l.clientStreaming),l.serverStreaming!=null&&Object.hasOwnProperty.call(l,"serverStreaming")&&P.uint32(48).bool(l.serverStreaming),P},ie.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},ie.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.MethodDescriptorProto;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.name=l.string();break;case 2:K.inputType=l.string();break;case 3:K.outputType=l.string();break;case 4:K.options=g.google.protobuf.MethodOptions.decode(l,l.uint32());break;case 5:K.clientStreaming=l.bool();break;case 6:K.serverStreaming=l.bool();break;default:l.skipType(7&pe)}}return K},ie.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},ie.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")&&!p.isString(l.name))return"name: string expected";if(l.inputType!=null&&l.hasOwnProperty("inputType")&&!p.isString(l.inputType))return"inputType: string expected";if(l.outputType!=null&&l.hasOwnProperty("outputType")&&!p.isString(l.outputType))return"outputType: string expected";if(l.options!=null&&l.hasOwnProperty("options")){var P=g.google.protobuf.MethodOptions.verify(l.options);if(P)return"options."+P}return l.clientStreaming!=null&&l.hasOwnProperty("clientStreaming")&&typeof l.clientStreaming!="boolean"?"clientStreaming: boolean expected":l.serverStreaming!=null&&l.hasOwnProperty("serverStreaming")&&typeof l.serverStreaming!="boolean"?"serverStreaming: boolean expected":null},ie.fromObject=function(l){if(l instanceof g.google.protobuf.MethodDescriptorProto)return l;var P=new g.google.protobuf.MethodDescriptorProto;if(l.name!=null&&(P.name=String(l.name)),l.inputType!=null&&(P.inputType=String(l.inputType)),l.outputType!=null&&(P.outputType=String(l.outputType)),l.options!=null){if(typeof l.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");P.options=g.google.protobuf.MethodOptions.fromObject(l.options)}return l.clientStreaming!=null&&(P.clientStreaming=!!l.clientStreaming),l.serverStreaming!=null&&(P.serverStreaming=!!l.serverStreaming),P},ie.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.name="",k.inputType="",k.outputType="",k.options=null,k.clientStreaming=!1,k.serverStreaming=!1),l.name!=null&&l.hasOwnProperty("name")&&(k.name=l.name),l.inputType!=null&&l.hasOwnProperty("inputType")&&(k.inputType=l.inputType),l.outputType!=null&&l.hasOwnProperty("outputType")&&(k.outputType=l.outputType),l.options!=null&&l.hasOwnProperty("options")&&(k.options=g.google.protobuf.MethodOptions.toObject(l.options,P)),l.clientStreaming!=null&&l.hasOwnProperty("clientStreaming")&&(k.clientStreaming=l.clientStreaming),l.serverStreaming!=null&&l.hasOwnProperty("serverStreaming")&&(k.serverStreaming=l.serverStreaming),k},ie.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ie),O.FileOptions=(ee.prototype.javaPackage="",ee.prototype.javaOuterClassname="",ee.prototype.javaMultipleFiles=!1,ee.prototype.javaGenerateEqualsAndHash=!1,ee.prototype.javaStringCheckUtf8=!1,ee.prototype.optimizeFor=1,ee.prototype.goPackage="",ee.prototype.ccGenericServices=!1,ee.prototype.javaGenericServices=!1,ee.prototype.pyGenericServices=!1,ee.prototype.phpGenericServices=!1,ee.prototype.deprecated=!1,ee.prototype.ccEnableArenas=!0,ee.prototype.objcClassPrefix="",ee.prototype.csharpNamespace="",ee.prototype.swiftPrefix="",ee.prototype.phpClassPrefix="",ee.prototype.phpNamespace="",ee.prototype.phpMetadataNamespace="",ee.prototype.rubyPackage="",ee.prototype.uninterpretedOption=p.emptyArray,ee.create=function(l){return new ee(l)},ee.encode=function(l,P){if(P=P||v.create(),l.javaPackage!=null&&Object.hasOwnProperty.call(l,"javaPackage")&&P.uint32(10).string(l.javaPackage),l.javaOuterClassname!=null&&Object.hasOwnProperty.call(l,"javaOuterClassname")&&P.uint32(66).string(l.javaOuterClassname),l.optimizeFor!=null&&Object.hasOwnProperty.call(l,"optimizeFor")&&P.uint32(72).int32(l.optimizeFor),l.javaMultipleFiles!=null&&Object.hasOwnProperty.call(l,"javaMultipleFiles")&&P.uint32(80).bool(l.javaMultipleFiles),l.goPackage!=null&&Object.hasOwnProperty.call(l,"goPackage")&&P.uint32(90).string(l.goPackage),l.ccGenericServices!=null&&Object.hasOwnProperty.call(l,"ccGenericServices")&&P.uint32(128).bool(l.ccGenericServices),l.javaGenericServices!=null&&Object.hasOwnProperty.call(l,"javaGenericServices")&&P.uint32(136).bool(l.javaGenericServices),l.pyGenericServices!=null&&Object.hasOwnProperty.call(l,"pyGenericServices")&&P.uint32(144).bool(l.pyGenericServices),l.javaGenerateEqualsAndHash!=null&&Object.hasOwnProperty.call(l,"javaGenerateEqualsAndHash")&&P.uint32(160).bool(l.javaGenerateEqualsAndHash),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&P.uint32(184).bool(l.deprecated),l.javaStringCheckUtf8!=null&&Object.hasOwnProperty.call(l,"javaStringCheckUtf8")&&P.uint32(216).bool(l.javaStringCheckUtf8),l.ccEnableArenas!=null&&Object.hasOwnProperty.call(l,"ccEnableArenas")&&P.uint32(248).bool(l.ccEnableArenas),l.objcClassPrefix!=null&&Object.hasOwnProperty.call(l,"objcClassPrefix")&&P.uint32(290).string(l.objcClassPrefix),l.csharpNamespace!=null&&Object.hasOwnProperty.call(l,"csharpNamespace")&&P.uint32(298).string(l.csharpNamespace),l.swiftPrefix!=null&&Object.hasOwnProperty.call(l,"swiftPrefix")&&P.uint32(314).string(l.swiftPrefix),l.phpClassPrefix!=null&&Object.hasOwnProperty.call(l,"phpClassPrefix")&&P.uint32(322).string(l.phpClassPrefix),l.phpNamespace!=null&&Object.hasOwnProperty.call(l,"phpNamespace")&&P.uint32(330).string(l.phpNamespace),l.phpGenericServices!=null&&Object.hasOwnProperty.call(l,"phpGenericServices")&&P.uint32(336).bool(l.phpGenericServices),l.phpMetadataNamespace!=null&&Object.hasOwnProperty.call(l,"phpMetadataNamespace")&&P.uint32(354).string(l.phpMetadataNamespace),l.rubyPackage!=null&&Object.hasOwnProperty.call(l,"rubyPackage")&&P.uint32(362).string(l.rubyPackage),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();return P},ee.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},ee.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.FileOptions;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.javaPackage=l.string();break;case 8:K.javaOuterClassname=l.string();break;case 10:K.javaMultipleFiles=l.bool();break;case 20:K.javaGenerateEqualsAndHash=l.bool();break;case 27:K.javaStringCheckUtf8=l.bool();break;case 9:K.optimizeFor=l.int32();break;case 11:K.goPackage=l.string();break;case 16:K.ccGenericServices=l.bool();break;case 17:K.javaGenericServices=l.bool();break;case 18:K.pyGenericServices=l.bool();break;case 42:K.phpGenericServices=l.bool();break;case 23:K.deprecated=l.bool();break;case 31:K.ccEnableArenas=l.bool();break;case 36:K.objcClassPrefix=l.string();break;case 37:K.csharpNamespace=l.string();break;case 39:K.swiftPrefix=l.string();break;case 40:K.phpClassPrefix=l.string();break;case 41:K.phpNamespace=l.string();break;case 44:K.phpMetadataNamespace=l.string();break;case 45:K.rubyPackage=l.string();break;case 999:K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&pe)}}return K},ee.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},ee.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.javaPackage!=null&&l.hasOwnProperty("javaPackage")&&!p.isString(l.javaPackage))return"javaPackage: string expected";if(l.javaOuterClassname!=null&&l.hasOwnProperty("javaOuterClassname")&&!p.isString(l.javaOuterClassname))return"javaOuterClassname: string expected";if(l.javaMultipleFiles!=null&&l.hasOwnProperty("javaMultipleFiles")&&typeof l.javaMultipleFiles!="boolean")return"javaMultipleFiles: boolean expected";if(l.javaGenerateEqualsAndHash!=null&&l.hasOwnProperty("javaGenerateEqualsAndHash")&&typeof l.javaGenerateEqualsAndHash!="boolean")return"javaGenerateEqualsAndHash: boolean expected";if(l.javaStringCheckUtf8!=null&&l.hasOwnProperty("javaStringCheckUtf8")&&typeof l.javaStringCheckUtf8!="boolean")return"javaStringCheckUtf8: boolean expected";if(l.optimizeFor!=null&&l.hasOwnProperty("optimizeFor"))switch(l.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(l.goPackage!=null&&l.hasOwnProperty("goPackage")&&!p.isString(l.goPackage))return"goPackage: string expected";if(l.ccGenericServices!=null&&l.hasOwnProperty("ccGenericServices")&&typeof l.ccGenericServices!="boolean")return"ccGenericServices: boolean expected";if(l.javaGenericServices!=null&&l.hasOwnProperty("javaGenericServices")&&typeof l.javaGenericServices!="boolean")return"javaGenericServices: boolean expected";if(l.pyGenericServices!=null&&l.hasOwnProperty("pyGenericServices")&&typeof l.pyGenericServices!="boolean")return"pyGenericServices: boolean expected";if(l.phpGenericServices!=null&&l.hasOwnProperty("phpGenericServices")&&typeof l.phpGenericServices!="boolean")return"phpGenericServices: boolean expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.ccEnableArenas!=null&&l.hasOwnProperty("ccEnableArenas")&&typeof l.ccEnableArenas!="boolean")return"ccEnableArenas: boolean expected";if(l.objcClassPrefix!=null&&l.hasOwnProperty("objcClassPrefix")&&!p.isString(l.objcClassPrefix))return"objcClassPrefix: string expected";if(l.csharpNamespace!=null&&l.hasOwnProperty("csharpNamespace")&&!p.isString(l.csharpNamespace))return"csharpNamespace: string expected";if(l.swiftPrefix!=null&&l.hasOwnProperty("swiftPrefix")&&!p.isString(l.swiftPrefix))return"swiftPrefix: string expected";if(l.phpClassPrefix!=null&&l.hasOwnProperty("phpClassPrefix")&&!p.isString(l.phpClassPrefix))return"phpClassPrefix: string expected";if(l.phpNamespace!=null&&l.hasOwnProperty("phpNamespace")&&!p.isString(l.phpNamespace))return"phpNamespace: string expected";if(l.phpMetadataNamespace!=null&&l.hasOwnProperty("phpMetadataNamespace")&&!p.isString(l.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(l.rubyPackage!=null&&l.hasOwnProperty("rubyPackage")&&!p.isString(l.rubyPackage))return"rubyPackage: string expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P){var k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]);if(k)return"uninterpretedOption."+k}}return null},ee.fromObject=function(l){if(l instanceof g.google.protobuf.FileOptions)return l;var P=new g.google.protobuf.FileOptions;switch(l.javaPackage!=null&&(P.javaPackage=String(l.javaPackage)),l.javaOuterClassname!=null&&(P.javaOuterClassname=String(l.javaOuterClassname)),l.javaMultipleFiles!=null&&(P.javaMultipleFiles=!!l.javaMultipleFiles),l.javaGenerateEqualsAndHash!=null&&(P.javaGenerateEqualsAndHash=!!l.javaGenerateEqualsAndHash),l.javaStringCheckUtf8!=null&&(P.javaStringCheckUtf8=!!l.javaStringCheckUtf8),l.optimizeFor){case"SPEED":case 1:P.optimizeFor=1;break;case"CODE_SIZE":case 2:P.optimizeFor=2;break;case"LITE_RUNTIME":case 3:P.optimizeFor=3}if(l.goPackage!=null&&(P.goPackage=String(l.goPackage)),l.ccGenericServices!=null&&(P.ccGenericServices=!!l.ccGenericServices),l.javaGenericServices!=null&&(P.javaGenericServices=!!l.javaGenericServices),l.pyGenericServices!=null&&(P.pyGenericServices=!!l.pyGenericServices),l.phpGenericServices!=null&&(P.phpGenericServices=!!l.phpGenericServices),l.deprecated!=null&&(P.deprecated=!!l.deprecated),l.ccEnableArenas!=null&&(P.ccEnableArenas=!!l.ccEnableArenas),l.objcClassPrefix!=null&&(P.objcClassPrefix=String(l.objcClassPrefix)),l.csharpNamespace!=null&&(P.csharpNamespace=String(l.csharpNamespace)),l.swiftPrefix!=null&&(P.swiftPrefix=String(l.swiftPrefix)),l.phpClassPrefix!=null&&(P.phpClassPrefix=String(l.phpClassPrefix)),l.phpNamespace!=null&&(P.phpNamespace=String(l.phpNamespace)),l.phpMetadataNamespace!=null&&(P.phpMetadataNamespace=String(l.phpMetadataNamespace)),l.rubyPackage!=null&&(P.rubyPackage=String(l.rubyPackage)),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}return P},ee.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[]),P.defaults&&(k.javaPackage="",k.javaOuterClassname="",k.optimizeFor=P.enums===String?"SPEED":1,k.javaMultipleFiles=!1,k.goPackage="",k.ccGenericServices=!1,k.javaGenericServices=!1,k.pyGenericServices=!1,k.javaGenerateEqualsAndHash=!1,k.deprecated=!1,k.javaStringCheckUtf8=!1,k.ccEnableArenas=!0,k.objcClassPrefix="",k.csharpNamespace="",k.swiftPrefix="",k.phpClassPrefix="",k.phpNamespace="",k.phpGenericServices=!1,k.phpMetadataNamespace="",k.rubyPackage=""),l.javaPackage!=null&&l.hasOwnProperty("javaPackage")&&(k.javaPackage=l.javaPackage),l.javaOuterClassname!=null&&l.hasOwnProperty("javaOuterClassname")&&(k.javaOuterClassname=l.javaOuterClassname),l.optimizeFor!=null&&l.hasOwnProperty("optimizeFor")&&(k.optimizeFor=P.enums===String?g.google.protobuf.FileOptions.OptimizeMode[l.optimizeFor]:l.optimizeFor),l.javaMultipleFiles!=null&&l.hasOwnProperty("javaMultipleFiles")&&(k.javaMultipleFiles=l.javaMultipleFiles),l.goPackage!=null&&l.hasOwnProperty("goPackage")&&(k.goPackage=l.goPackage),l.ccGenericServices!=null&&l.hasOwnProperty("ccGenericServices")&&(k.ccGenericServices=l.ccGenericServices),l.javaGenericServices!=null&&l.hasOwnProperty("javaGenericServices")&&(k.javaGenericServices=l.javaGenericServices),l.pyGenericServices!=null&&l.hasOwnProperty("pyGenericServices")&&(k.pyGenericServices=l.pyGenericServices),l.javaGenerateEqualsAndHash!=null&&l.hasOwnProperty("javaGenerateEqualsAndHash")&&(k.javaGenerateEqualsAndHash=l.javaGenerateEqualsAndHash),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(k.deprecated=l.deprecated),l.javaStringCheckUtf8!=null&&l.hasOwnProperty("javaStringCheckUtf8")&&(k.javaStringCheckUtf8=l.javaStringCheckUtf8),l.ccEnableArenas!=null&&l.hasOwnProperty("ccEnableArenas")&&(k.ccEnableArenas=l.ccEnableArenas),l.objcClassPrefix!=null&&l.hasOwnProperty("objcClassPrefix")&&(k.objcClassPrefix=l.objcClassPrefix),l.csharpNamespace!=null&&l.hasOwnProperty("csharpNamespace")&&(k.csharpNamespace=l.csharpNamespace),l.swiftPrefix!=null&&l.hasOwnProperty("swiftPrefix")&&(k.swiftPrefix=l.swiftPrefix),l.phpClassPrefix!=null&&l.hasOwnProperty("phpClassPrefix")&&(k.phpClassPrefix=l.phpClassPrefix),l.phpNamespace!=null&&l.hasOwnProperty("phpNamespace")&&(k.phpNamespace=l.phpNamespace),l.phpGenericServices!=null&&l.hasOwnProperty("phpGenericServices")&&(k.phpGenericServices=l.phpGenericServices),l.phpMetadataNamespace!=null&&l.hasOwnProperty("phpMetadataNamespace")&&(k.phpMetadataNamespace=l.phpMetadataNamespace),l.rubyPackage!=null&&l.hasOwnProperty("rubyPackage")&&(k.rubyPackage=l.rubyPackage),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}return k},ee.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ee.OptimizeMode=(d={},(y=Object.create(d))[d[1]="SPEED"]=1,y[d[2]="CODE_SIZE"]=2,y[d[3]="LITE_RUNTIME"]=3,y),ee),O.MessageOptions=(ue.prototype.messageSetWireFormat=!1,ue.prototype.noStandardDescriptorAccessor=!1,ue.prototype.deprecated=!1,ue.prototype.mapEntry=!1,ue.prototype.uninterpretedOption=p.emptyArray,ue.create=function(l){return new ue(l)},ue.encode=function(l,P){if(P=P||v.create(),l.messageSetWireFormat!=null&&Object.hasOwnProperty.call(l,"messageSetWireFormat")&&P.uint32(8).bool(l.messageSetWireFormat),l.noStandardDescriptorAccessor!=null&&Object.hasOwnProperty.call(l,"noStandardDescriptorAccessor")&&P.uint32(16).bool(l.noStandardDescriptorAccessor),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&P.uint32(24).bool(l.deprecated),l.mapEntry!=null&&Object.hasOwnProperty.call(l,"mapEntry")&&P.uint32(56).bool(l.mapEntry),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();return P},ue.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},ue.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.MessageOptions;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.messageSetWireFormat=l.bool();break;case 2:K.noStandardDescriptorAccessor=l.bool();break;case 3:K.deprecated=l.bool();break;case 7:K.mapEntry=l.bool();break;case 999:K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&pe)}}return K},ue.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},ue.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.messageSetWireFormat!=null&&l.hasOwnProperty("messageSetWireFormat")&&typeof l.messageSetWireFormat!="boolean")return"messageSetWireFormat: boolean expected";if(l.noStandardDescriptorAccessor!=null&&l.hasOwnProperty("noStandardDescriptorAccessor")&&typeof l.noStandardDescriptorAccessor!="boolean")return"noStandardDescriptorAccessor: boolean expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.mapEntry!=null&&l.hasOwnProperty("mapEntry")&&typeof l.mapEntry!="boolean")return"mapEntry: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P){var k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]);if(k)return"uninterpretedOption."+k}}return null},ue.fromObject=function(l){if(l instanceof g.google.protobuf.MessageOptions)return l;var P=new g.google.protobuf.MessageOptions;if(l.messageSetWireFormat!=null&&(P.messageSetWireFormat=!!l.messageSetWireFormat),l.noStandardDescriptorAccessor!=null&&(P.noStandardDescriptorAccessor=!!l.noStandardDescriptorAccessor),l.deprecated!=null&&(P.deprecated=!!l.deprecated),l.mapEntry!=null&&(P.mapEntry=!!l.mapEntry),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}return P},ue.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[]),P.defaults&&(k.messageSetWireFormat=!1,k.noStandardDescriptorAccessor=!1,k.deprecated=!1,k.mapEntry=!1),l.messageSetWireFormat!=null&&l.hasOwnProperty("messageSetWireFormat")&&(k.messageSetWireFormat=l.messageSetWireFormat),l.noStandardDescriptorAccessor!=null&&l.hasOwnProperty("noStandardDescriptorAccessor")&&(k.noStandardDescriptorAccessor=l.noStandardDescriptorAccessor),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(k.deprecated=l.deprecated),l.mapEntry!=null&&l.hasOwnProperty("mapEntry")&&(k.mapEntry=l.mapEntry),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}return k},ue.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ue),O.FieldOptions=(fe.prototype.ctype=0,fe.prototype.packed=!1,fe.prototype.jstype=0,fe.prototype.lazy=!1,fe.prototype.deprecated=!1,fe.prototype.weak=!1,fe.prototype.uninterpretedOption=p.emptyArray,fe.create=function(l){return new fe(l)},fe.encode=function(l,P){if(P=P||v.create(),l.ctype!=null&&Object.hasOwnProperty.call(l,"ctype")&&P.uint32(8).int32(l.ctype),l.packed!=null&&Object.hasOwnProperty.call(l,"packed")&&P.uint32(16).bool(l.packed),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&P.uint32(24).bool(l.deprecated),l.lazy!=null&&Object.hasOwnProperty.call(l,"lazy")&&P.uint32(40).bool(l.lazy),l.jstype!=null&&Object.hasOwnProperty.call(l,"jstype")&&P.uint32(48).int32(l.jstype),l.weak!=null&&Object.hasOwnProperty.call(l,"weak")&&P.uint32(80).bool(l.weak),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();return P},fe.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},fe.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.FieldOptions;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.ctype=l.int32();break;case 2:K.packed=l.bool();break;case 6:K.jstype=l.int32();break;case 5:K.lazy=l.bool();break;case 3:K.deprecated=l.bool();break;case 10:K.weak=l.bool();break;case 999:K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&pe)}}return K},fe.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},fe.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.ctype!=null&&l.hasOwnProperty("ctype"))switch(l.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(l.packed!=null&&l.hasOwnProperty("packed")&&typeof l.packed!="boolean")return"packed: boolean expected";if(l.jstype!=null&&l.hasOwnProperty("jstype"))switch(l.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(l.lazy!=null&&l.hasOwnProperty("lazy")&&typeof l.lazy!="boolean")return"lazy: boolean expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.weak!=null&&l.hasOwnProperty("weak")&&typeof l.weak!="boolean")return"weak: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P){var k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]);if(k)return"uninterpretedOption."+k}}return null},fe.fromObject=function(l){if(l instanceof g.google.protobuf.FieldOptions)return l;var P=new g.google.protobuf.FieldOptions;switch(l.ctype){case"STRING":case 0:P.ctype=0;break;case"CORD":case 1:P.ctype=1;break;case"STRING_PIECE":case 2:P.ctype=2}switch(l.packed!=null&&(P.packed=!!l.packed),l.jstype){case"JS_NORMAL":case 0:P.jstype=0;break;case"JS_STRING":case 1:P.jstype=1;break;case"JS_NUMBER":case 2:P.jstype=2}if(l.lazy!=null&&(P.lazy=!!l.lazy),l.deprecated!=null&&(P.deprecated=!!l.deprecated),l.weak!=null&&(P.weak=!!l.weak),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}return P},fe.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[]),P.defaults&&(k.ctype=P.enums===String?"STRING":0,k.packed=!1,k.deprecated=!1,k.lazy=!1,k.jstype=P.enums===String?"JS_NORMAL":0,k.weak=!1),l.ctype!=null&&l.hasOwnProperty("ctype")&&(k.ctype=P.enums===String?g.google.protobuf.FieldOptions.CType[l.ctype]:l.ctype),l.packed!=null&&l.hasOwnProperty("packed")&&(k.packed=l.packed),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(k.deprecated=l.deprecated),l.lazy!=null&&l.hasOwnProperty("lazy")&&(k.lazy=l.lazy),l.jstype!=null&&l.hasOwnProperty("jstype")&&(k.jstype=P.enums===String?g.google.protobuf.FieldOptions.JSType[l.jstype]:l.jstype),l.weak!=null&&l.hasOwnProperty("weak")&&(k.weak=l.weak),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}return k},fe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},fe.CType=(d={},(y=Object.create(d))[d[0]="STRING"]=0,y[d[1]="CORD"]=1,y[d[2]="STRING_PIECE"]=2,y),fe.JSType=(d={},(y=Object.create(d))[d[0]="JS_NORMAL"]=0,y[d[1]="JS_STRING"]=1,y[d[2]="JS_NUMBER"]=2,y),fe),O.OneofOptions=(de.prototype.uninterpretedOption=p.emptyArray,de.create=function(l){return new de(l)},de.encode=function(l,P){if(P=P||v.create(),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();return P},de.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},de.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.OneofOptions;l.pos<k;){var pe=l.uint32();pe>>>3==999?(K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()))):l.skipType(7&pe)}return K},de.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},de.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P){var k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]);if(k)return"uninterpretedOption."+k}}return null},de.fromObject=function(l){if(l instanceof g.google.protobuf.OneofOptions)return l;var P=new g.google.protobuf.OneofOptions;if(l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}return P},de.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[]),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}return k},de.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},de),O.EnumOptions=(ge.prototype.allowAlias=!1,ge.prototype.deprecated=!1,ge.prototype.uninterpretedOption=p.emptyArray,ge.create=function(l){return new ge(l)},ge.encode=function(l,P){if(P=P||v.create(),l.allowAlias!=null&&Object.hasOwnProperty.call(l,"allowAlias")&&P.uint32(16).bool(l.allowAlias),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&P.uint32(24).bool(l.deprecated),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();return P},ge.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},ge.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.EnumOptions;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 2:K.allowAlias=l.bool();break;case 3:K.deprecated=l.bool();break;case 999:K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&pe)}}return K},ge.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},ge.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.allowAlias!=null&&l.hasOwnProperty("allowAlias")&&typeof l.allowAlias!="boolean")return"allowAlias: boolean expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P){var k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]);if(k)return"uninterpretedOption."+k}}return null},ge.fromObject=function(l){if(l instanceof g.google.protobuf.EnumOptions)return l;var P=new g.google.protobuf.EnumOptions;if(l.allowAlias!=null&&(P.allowAlias=!!l.allowAlias),l.deprecated!=null&&(P.deprecated=!!l.deprecated),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}return P},ge.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[]),P.defaults&&(k.allowAlias=!1,k.deprecated=!1),l.allowAlias!=null&&l.hasOwnProperty("allowAlias")&&(k.allowAlias=l.allowAlias),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(k.deprecated=l.deprecated),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}return k},ge.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ge),O.EnumValueOptions=(me.prototype.deprecated=!1,me.prototype.uninterpretedOption=p.emptyArray,me.create=function(l){return new me(l)},me.encode=function(l,P){if(P=P||v.create(),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&P.uint32(8).bool(l.deprecated),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();return P},me.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},me.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.EnumValueOptions;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.deprecated=l.bool();break;case 999:K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;default:l.skipType(7&pe)}}return K},me.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},me.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P){var k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]);if(k)return"uninterpretedOption."+k}}return null},me.fromObject=function(l){if(l instanceof g.google.protobuf.EnumValueOptions)return l;var P=new g.google.protobuf.EnumValueOptions;if(l.deprecated!=null&&(P.deprecated=!!l.deprecated),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}return P},me.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[]),P.defaults&&(k.deprecated=!1),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(k.deprecated=l.deprecated),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}return k},me.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},me),O.ServiceOptions=(_e.prototype.deprecated=!1,_e.prototype.uninterpretedOption=p.emptyArray,_e.prototype[".google.api.defaultHost"]="",_e.prototype[".google.api.oauthScopes"]="",_e.create=function(l){return new _e(l)},_e.encode=function(l,P){if(P=P||v.create(),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&P.uint32(264).bool(l.deprecated),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();return l[".google.api.defaultHost"]!=null&&Object.hasOwnProperty.call(l,".google.api.defaultHost")&&P.uint32(8394).string(l[".google.api.defaultHost"]),l[".google.api.oauthScopes"]!=null&&Object.hasOwnProperty.call(l,".google.api.oauthScopes")&&P.uint32(8402).string(l[".google.api.oauthScopes"]),P},_e.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},_e.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.ServiceOptions;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 33:K.deprecated=l.bool();break;case 999:K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;case 1049:K[".google.api.defaultHost"]=l.string();break;case 1050:K[".google.api.oauthScopes"]=l.string();break;default:l.skipType(7&pe)}}return K},_e.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},_e.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P){var k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]);if(k)return"uninterpretedOption."+k}}return l[".google.api.defaultHost"]!=null&&l.hasOwnProperty(".google.api.defaultHost")&&!p.isString(l[".google.api.defaultHost"])?".google.api.defaultHost: string expected":l[".google.api.oauthScopes"]!=null&&l.hasOwnProperty(".google.api.oauthScopes")&&!p.isString(l[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},_e.fromObject=function(l){if(l instanceof g.google.protobuf.ServiceOptions)return l;var P=new g.google.protobuf.ServiceOptions;if(l.deprecated!=null&&(P.deprecated=!!l.deprecated),l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}return l[".google.api.defaultHost"]!=null&&(P[".google.api.defaultHost"]=String(l[".google.api.defaultHost"])),l[".google.api.oauthScopes"]!=null&&(P[".google.api.oauthScopes"]=String(l[".google.api.oauthScopes"])),P},_e.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[]),P.defaults&&(k.deprecated=!1,k[".google.api.defaultHost"]="",k[".google.api.oauthScopes"]=""),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(k.deprecated=l.deprecated),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}return l[".google.api.defaultHost"]!=null&&l.hasOwnProperty(".google.api.defaultHost")&&(k[".google.api.defaultHost"]=l[".google.api.defaultHost"]),l[".google.api.oauthScopes"]!=null&&l.hasOwnProperty(".google.api.oauthScopes")&&(k[".google.api.oauthScopes"]=l[".google.api.oauthScopes"]),k},_e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},_e),O.MethodOptions=(we.prototype.deprecated=!1,we.prototype.idempotencyLevel=0,we.prototype.uninterpretedOption=p.emptyArray,we.prototype[".google.api.http"]=null,we.prototype[".google.api.methodSignature"]=p.emptyArray,we.create=function(l){return new we(l)},we.encode=function(l,P){if(P=P||v.create(),l.deprecated!=null&&Object.hasOwnProperty.call(l,"deprecated")&&P.uint32(264).bool(l.deprecated),l.idempotencyLevel!=null&&Object.hasOwnProperty.call(l,"idempotencyLevel")&&P.uint32(272).int32(l.idempotencyLevel),l.uninterpretedOption!=null&&l.uninterpretedOption.length)for(var k=0;k<l.uninterpretedOption.length;++k)g.google.protobuf.UninterpretedOption.encode(l.uninterpretedOption[k],P.uint32(7994).fork()).ldelim();if(l[".google.api.methodSignature"]!=null&&l[".google.api.methodSignature"].length)for(k=0;k<l[".google.api.methodSignature"].length;++k)P.uint32(8410).string(l[".google.api.methodSignature"][k]);return l[".google.api.http"]!=null&&Object.hasOwnProperty.call(l,".google.api.http")&&g.google.api.HttpRule.encode(l[".google.api.http"],P.uint32(578365826).fork()).ldelim(),P},we.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},we.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.MethodOptions;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 33:K.deprecated=l.bool();break;case 34:K.idempotencyLevel=l.int32();break;case 999:K.uninterpretedOption&&K.uninterpretedOption.length||(K.uninterpretedOption=[]),K.uninterpretedOption.push(g.google.protobuf.UninterpretedOption.decode(l,l.uint32()));break;case 72295728:K[".google.api.http"]=g.google.api.HttpRule.decode(l,l.uint32());break;case 1051:K[".google.api.methodSignature"]&&K[".google.api.methodSignature"].length||(K[".google.api.methodSignature"]=[]),K[".google.api.methodSignature"].push(l.string());break;default:l.skipType(7&pe)}}return K},we.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},we.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.deprecated!=null&&l.hasOwnProperty("deprecated")&&typeof l.deprecated!="boolean")return"deprecated: boolean expected";if(l.idempotencyLevel!=null&&l.hasOwnProperty("idempotencyLevel"))switch(l.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(l.uninterpretedOption!=null&&l.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(l.uninterpretedOption))return"uninterpretedOption: array expected";for(var P=0;P<l.uninterpretedOption.length;++P)if(k=g.google.protobuf.UninterpretedOption.verify(l.uninterpretedOption[P]))return"uninterpretedOption."+k}var k;if(l[".google.api.http"]!=null&&l.hasOwnProperty(".google.api.http")&&(k=g.google.api.HttpRule.verify(l[".google.api.http"])))return".google.api.http."+k;if(l[".google.api.methodSignature"]!=null&&l.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(l[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(P=0;P<l[".google.api.methodSignature"].length;++P)if(!p.isString(l[".google.api.methodSignature"][P]))return".google.api.methodSignature: string[] expected"}return null},we.fromObject=function(l){if(l instanceof g.google.protobuf.MethodOptions)return l;var P=new g.google.protobuf.MethodOptions;switch(l.deprecated!=null&&(P.deprecated=!!l.deprecated),l.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:P.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:P.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:P.idempotencyLevel=2}if(l.uninterpretedOption){if(!Array.isArray(l.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");P.uninterpretedOption=[];for(var k=0;k<l.uninterpretedOption.length;++k){if(typeof l.uninterpretedOption[k]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");P.uninterpretedOption[k]=g.google.protobuf.UninterpretedOption.fromObject(l.uninterpretedOption[k])}}if(l[".google.api.http"]!=null){if(typeof l[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");P[".google.api.http"]=g.google.api.HttpRule.fromObject(l[".google.api.http"])}if(l[".google.api.methodSignature"]){if(!Array.isArray(l[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(P[".google.api.methodSignature"]=[],k=0;k<l[".google.api.methodSignature"].length;++k)P[".google.api.methodSignature"][k]=String(l[".google.api.methodSignature"][k])}return P},we.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.uninterpretedOption=[],k[".google.api.methodSignature"]=[]),P.defaults&&(k.deprecated=!1,k.idempotencyLevel=P.enums===String?"IDEMPOTENCY_UNKNOWN":0,k[".google.api.http"]=null),l.deprecated!=null&&l.hasOwnProperty("deprecated")&&(k.deprecated=l.deprecated),l.idempotencyLevel!=null&&l.hasOwnProperty("idempotencyLevel")&&(k.idempotencyLevel=P.enums===String?g.google.protobuf.MethodOptions.IdempotencyLevel[l.idempotencyLevel]:l.idempotencyLevel),l.uninterpretedOption&&l.uninterpretedOption.length){k.uninterpretedOption=[];for(var K=0;K<l.uninterpretedOption.length;++K)k.uninterpretedOption[K]=g.google.protobuf.UninterpretedOption.toObject(l.uninterpretedOption[K],P)}if(l[".google.api.methodSignature"]&&l[".google.api.methodSignature"].length)for(k[".google.api.methodSignature"]=[],K=0;K<l[".google.api.methodSignature"].length;++K)k[".google.api.methodSignature"][K]=l[".google.api.methodSignature"][K];return l[".google.api.http"]!=null&&l.hasOwnProperty(".google.api.http")&&(k[".google.api.http"]=g.google.api.HttpRule.toObject(l[".google.api.http"],P)),k},we.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},we.IdempotencyLevel=(d={},(y=Object.create(d))[d[0]="IDEMPOTENCY_UNKNOWN"]=0,y[d[1]="NO_SIDE_EFFECTS"]=1,y[d[2]="IDEMPOTENT"]=2,y),we),O.UninterpretedOption=(Re.prototype.name=p.emptyArray,Re.prototype.identifierValue="",Re.prototype.positiveIntValue=p.Long?p.Long.fromBits(0,0,!0):0,Re.prototype.negativeIntValue=p.Long?p.Long.fromBits(0,0,!1):0,Re.prototype.doubleValue=0,Re.prototype.stringValue=p.newBuffer([]),Re.prototype.aggregateValue="",Re.create=function(l){return new Re(l)},Re.encode=function(l,P){if(P=P||v.create(),l.name!=null&&l.name.length)for(var k=0;k<l.name.length;++k)g.google.protobuf.UninterpretedOption.NamePart.encode(l.name[k],P.uint32(18).fork()).ldelim();return l.identifierValue!=null&&Object.hasOwnProperty.call(l,"identifierValue")&&P.uint32(26).string(l.identifierValue),l.positiveIntValue!=null&&Object.hasOwnProperty.call(l,"positiveIntValue")&&P.uint32(32).uint64(l.positiveIntValue),l.negativeIntValue!=null&&Object.hasOwnProperty.call(l,"negativeIntValue")&&P.uint32(40).int64(l.negativeIntValue),l.doubleValue!=null&&Object.hasOwnProperty.call(l,"doubleValue")&&P.uint32(49).double(l.doubleValue),l.stringValue!=null&&Object.hasOwnProperty.call(l,"stringValue")&&P.uint32(58).bytes(l.stringValue),l.aggregateValue!=null&&Object.hasOwnProperty.call(l,"aggregateValue")&&P.uint32(66).string(l.aggregateValue),P},Re.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},Re.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.UninterpretedOption;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 2:K.name&&K.name.length||(K.name=[]),K.name.push(g.google.protobuf.UninterpretedOption.NamePart.decode(l,l.uint32()));break;case 3:K.identifierValue=l.string();break;case 4:K.positiveIntValue=l.uint64();break;case 5:K.negativeIntValue=l.int64();break;case 6:K.doubleValue=l.double();break;case 7:K.stringValue=l.bytes();break;case 8:K.aggregateValue=l.string();break;default:l.skipType(7&pe)}}return K},Re.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},Re.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.name!=null&&l.hasOwnProperty("name")){if(!Array.isArray(l.name))return"name: array expected";for(var P=0;P<l.name.length;++P){var k=g.google.protobuf.UninterpretedOption.NamePart.verify(l.name[P]);if(k)return"name."+k}}return l.identifierValue!=null&&l.hasOwnProperty("identifierValue")&&!p.isString(l.identifierValue)?"identifierValue: string expected":l.positiveIntValue!=null&&l.hasOwnProperty("positiveIntValue")&&!(p.isInteger(l.positiveIntValue)||l.positiveIntValue&&p.isInteger(l.positiveIntValue.low)&&p.isInteger(l.positiveIntValue.high))?"positiveIntValue: integer|Long expected":l.negativeIntValue!=null&&l.hasOwnProperty("negativeIntValue")&&!(p.isInteger(l.negativeIntValue)||l.negativeIntValue&&p.isInteger(l.negativeIntValue.low)&&p.isInteger(l.negativeIntValue.high))?"negativeIntValue: integer|Long expected":l.doubleValue!=null&&l.hasOwnProperty("doubleValue")&&typeof l.doubleValue!="number"?"doubleValue: number expected":l.stringValue!=null&&l.hasOwnProperty("stringValue")&&!(l.stringValue&&typeof l.stringValue.length=="number"||p.isString(l.stringValue))?"stringValue: buffer expected":l.aggregateValue!=null&&l.hasOwnProperty("aggregateValue")&&!p.isString(l.aggregateValue)?"aggregateValue: string expected":null},Re.fromObject=function(l){if(l instanceof g.google.protobuf.UninterpretedOption)return l;var P=new g.google.protobuf.UninterpretedOption;if(l.name){if(!Array.isArray(l.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");P.name=[];for(var k=0;k<l.name.length;++k){if(typeof l.name[k]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");P.name[k]=g.google.protobuf.UninterpretedOption.NamePart.fromObject(l.name[k])}}return l.identifierValue!=null&&(P.identifierValue=String(l.identifierValue)),l.positiveIntValue!=null&&(p.Long?(P.positiveIntValue=p.Long.fromValue(l.positiveIntValue)).unsigned=!0:typeof l.positiveIntValue=="string"?P.positiveIntValue=parseInt(l.positiveIntValue,10):typeof l.positiveIntValue=="number"?P.positiveIntValue=l.positiveIntValue:typeof l.positiveIntValue=="object"&&(P.positiveIntValue=new p.LongBits(l.positiveIntValue.low>>>0,l.positiveIntValue.high>>>0).toNumber(!0))),l.negativeIntValue!=null&&(p.Long?(P.negativeIntValue=p.Long.fromValue(l.negativeIntValue)).unsigned=!1:typeof l.negativeIntValue=="string"?P.negativeIntValue=parseInt(l.negativeIntValue,10):typeof l.negativeIntValue=="number"?P.negativeIntValue=l.negativeIntValue:typeof l.negativeIntValue=="object"&&(P.negativeIntValue=new p.LongBits(l.negativeIntValue.low>>>0,l.negativeIntValue.high>>>0).toNumber())),l.doubleValue!=null&&(P.doubleValue=Number(l.doubleValue)),l.stringValue!=null&&(typeof l.stringValue=="string"?p.base64.decode(l.stringValue,P.stringValue=p.newBuffer(p.base64.length(l.stringValue)),0):l.stringValue.length&&(P.stringValue=l.stringValue)),l.aggregateValue!=null&&(P.aggregateValue=String(l.aggregateValue)),P},Re.toObject=function(l,P){var k,K={};if(((P=P||{}).arrays||P.defaults)&&(K.name=[]),P.defaults&&(K.identifierValue="",p.Long?(k=new p.Long(0,0,!0),K.positiveIntValue=P.longs===String?k.toString():P.longs===Number?k.toNumber():k):K.positiveIntValue=P.longs===String?"0":0,p.Long?(k=new p.Long(0,0,!1),K.negativeIntValue=P.longs===String?k.toString():P.longs===Number?k.toNumber():k):K.negativeIntValue=P.longs===String?"0":0,K.doubleValue=0,P.bytes===String?K.stringValue="":(K.stringValue=[],P.bytes!==Array&&(K.stringValue=p.newBuffer(K.stringValue))),K.aggregateValue=""),l.name&&l.name.length){K.name=[];for(var pe=0;pe<l.name.length;++pe)K.name[pe]=g.google.protobuf.UninterpretedOption.NamePart.toObject(l.name[pe],P)}return l.identifierValue!=null&&l.hasOwnProperty("identifierValue")&&(K.identifierValue=l.identifierValue),l.positiveIntValue!=null&&l.hasOwnProperty("positiveIntValue")&&(typeof l.positiveIntValue=="number"?K.positiveIntValue=P.longs===String?String(l.positiveIntValue):l.positiveIntValue:K.positiveIntValue=P.longs===String?p.Long.prototype.toString.call(l.positiveIntValue):P.longs===Number?new p.LongBits(l.positiveIntValue.low>>>0,l.positiveIntValue.high>>>0).toNumber(!0):l.positiveIntValue),l.negativeIntValue!=null&&l.hasOwnProperty("negativeIntValue")&&(typeof l.negativeIntValue=="number"?K.negativeIntValue=P.longs===String?String(l.negativeIntValue):l.negativeIntValue:K.negativeIntValue=P.longs===String?p.Long.prototype.toString.call(l.negativeIntValue):P.longs===Number?new p.LongBits(l.negativeIntValue.low>>>0,l.negativeIntValue.high>>>0).toNumber():l.negativeIntValue),l.doubleValue!=null&&l.hasOwnProperty("doubleValue")&&(K.doubleValue=P.json&&!isFinite(l.doubleValue)?String(l.doubleValue):l.doubleValue),l.stringValue!=null&&l.hasOwnProperty("stringValue")&&(K.stringValue=P.bytes===String?p.base64.encode(l.stringValue,0,l.stringValue.length):P.bytes===Array?Array.prototype.slice.call(l.stringValue):l.stringValue),l.aggregateValue!=null&&l.hasOwnProperty("aggregateValue")&&(K.aggregateValue=l.aggregateValue),K},Re.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Re.NamePart=(Te.prototype.namePart="",Te.prototype.isExtension=!1,Te.create=function(l){return new Te(l)},Te.encode=function(l,P){return(P=P||v.create()).uint32(10).string(l.namePart),P.uint32(16).bool(l.isExtension),P},Te.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},Te.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.UninterpretedOption.NamePart;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.namePart=l.string();break;case 2:K.isExtension=l.bool();break;default:l.skipType(7&pe)}}if(!K.hasOwnProperty("namePart"))throw p.ProtocolError("missing required 'namePart'",{instance:K});if(K.hasOwnProperty("isExtension"))return K;throw p.ProtocolError("missing required 'isExtension'",{instance:K})},Te.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},Te.verify=function(l){return typeof l!="object"||l===null?"object expected":p.isString(l.namePart)?typeof l.isExtension!="boolean"?"isExtension: boolean expected":null:"namePart: string expected"},Te.fromObject=function(l){var P;return l instanceof g.google.protobuf.UninterpretedOption.NamePart?l:(P=new g.google.protobuf.UninterpretedOption.NamePart,l.namePart!=null&&(P.namePart=String(l.namePart)),l.isExtension!=null&&(P.isExtension=!!l.isExtension),P)},Te.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.namePart="",k.isExtension=!1),l.namePart!=null&&l.hasOwnProperty("namePart")&&(k.namePart=l.namePart),l.isExtension!=null&&l.hasOwnProperty("isExtension")&&(k.isExtension=l.isExtension),k},Te.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Te),Re),O.SourceCodeInfo=(Ae.prototype.location=p.emptyArray,Ae.create=function(l){return new Ae(l)},Ae.encode=function(l,P){if(P=P||v.create(),l.location!=null&&l.location.length)for(var k=0;k<l.location.length;++k)g.google.protobuf.SourceCodeInfo.Location.encode(l.location[k],P.uint32(10).fork()).ldelim();return P},Ae.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},Ae.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.SourceCodeInfo;l.pos<k;){var pe=l.uint32();pe>>>3==1?(K.location&&K.location.length||(K.location=[]),K.location.push(g.google.protobuf.SourceCodeInfo.Location.decode(l,l.uint32()))):l.skipType(7&pe)}return K},Ae.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},Ae.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.location!=null&&l.hasOwnProperty("location")){if(!Array.isArray(l.location))return"location: array expected";for(var P=0;P<l.location.length;++P){var k=g.google.protobuf.SourceCodeInfo.Location.verify(l.location[P]);if(k)return"location."+k}}return null},Ae.fromObject=function(l){if(l instanceof g.google.protobuf.SourceCodeInfo)return l;var P=new g.google.protobuf.SourceCodeInfo;if(l.location){if(!Array.isArray(l.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");P.location=[];for(var k=0;k<l.location.length;++k){if(typeof l.location[k]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");P.location[k]=g.google.protobuf.SourceCodeInfo.Location.fromObject(l.location[k])}}return P},Ae.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.location=[]),l.location&&l.location.length){k.location=[];for(var K=0;K<l.location.length;++K)k.location[K]=g.google.protobuf.SourceCodeInfo.Location.toObject(l.location[K],P)}return k},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ae.Location=(Oe.prototype.path=p.emptyArray,Oe.prototype.span=p.emptyArray,Oe.prototype.leadingComments="",Oe.prototype.trailingComments="",Oe.prototype.leadingDetachedComments=p.emptyArray,Oe.create=function(l){return new Oe(l)},Oe.encode=function(l,P){if(P=P||v.create(),l.path!=null&&l.path.length){P.uint32(10).fork();for(var k=0;k<l.path.length;++k)P.int32(l.path[k]);P.ldelim()}if(l.span!=null&&l.span.length){for(P.uint32(18).fork(),k=0;k<l.span.length;++k)P.int32(l.span[k]);P.ldelim()}if(l.leadingComments!=null&&Object.hasOwnProperty.call(l,"leadingComments")&&P.uint32(26).string(l.leadingComments),l.trailingComments!=null&&Object.hasOwnProperty.call(l,"trailingComments")&&P.uint32(34).string(l.trailingComments),l.leadingDetachedComments!=null&&l.leadingDetachedComments.length)for(k=0;k<l.leadingDetachedComments.length;++k)P.uint32(50).string(l.leadingDetachedComments[k]);return P},Oe.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},Oe.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.SourceCodeInfo.Location;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:if(K.path&&K.path.length||(K.path=[]),(7&pe)==2)for(var Se=l.uint32()+l.pos;l.pos<Se;)K.path.push(l.int32());else K.path.push(l.int32());break;case 2:if(K.span&&K.span.length||(K.span=[]),(7&pe)==2)for(Se=l.uint32()+l.pos;l.pos<Se;)K.span.push(l.int32());else K.span.push(l.int32());break;case 3:K.leadingComments=l.string();break;case 4:K.trailingComments=l.string();break;case 6:K.leadingDetachedComments&&K.leadingDetachedComments.length||(K.leadingDetachedComments=[]),K.leadingDetachedComments.push(l.string());break;default:l.skipType(7&pe)}}return K},Oe.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},Oe.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.path!=null&&l.hasOwnProperty("path")){if(!Array.isArray(l.path))return"path: array expected";for(var P=0;P<l.path.length;++P)if(!p.isInteger(l.path[P]))return"path: integer[] expected"}if(l.span!=null&&l.hasOwnProperty("span")){if(!Array.isArray(l.span))return"span: array expected";for(P=0;P<l.span.length;++P)if(!p.isInteger(l.span[P]))return"span: integer[] expected"}if(l.leadingComments!=null&&l.hasOwnProperty("leadingComments")&&!p.isString(l.leadingComments))return"leadingComments: string expected";if(l.trailingComments!=null&&l.hasOwnProperty("trailingComments")&&!p.isString(l.trailingComments))return"trailingComments: string expected";if(l.leadingDetachedComments!=null&&l.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(l.leadingDetachedComments))return"leadingDetachedComments: array expected";for(P=0;P<l.leadingDetachedComments.length;++P)if(!p.isString(l.leadingDetachedComments[P]))return"leadingDetachedComments: string[] expected"}return null},Oe.fromObject=function(l){if(l instanceof g.google.protobuf.SourceCodeInfo.Location)return l;var P=new g.google.protobuf.SourceCodeInfo.Location;if(l.path){if(!Array.isArray(l.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");P.path=[];for(var k=0;k<l.path.length;++k)P.path[k]=0|l.path[k]}if(l.span){if(!Array.isArray(l.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(P.span=[],k=0;k<l.span.length;++k)P.span[k]=0|l.span[k]}if(l.leadingComments!=null&&(P.leadingComments=String(l.leadingComments)),l.trailingComments!=null&&(P.trailingComments=String(l.trailingComments)),l.leadingDetachedComments){if(!Array.isArray(l.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(P.leadingDetachedComments=[],k=0;k<l.leadingDetachedComments.length;++k)P.leadingDetachedComments[k]=String(l.leadingDetachedComments[k])}return P},Oe.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.path=[],k.span=[],k.leadingDetachedComments=[]),P.defaults&&(k.leadingComments="",k.trailingComments=""),l.path&&l.path.length){k.path=[];for(var K=0;K<l.path.length;++K)k.path[K]=l.path[K]}if(l.span&&l.span.length)for(k.span=[],K=0;K<l.span.length;++K)k.span[K]=l.span[K];if(l.leadingComments!=null&&l.hasOwnProperty("leadingComments")&&(k.leadingComments=l.leadingComments),l.trailingComments!=null&&l.hasOwnProperty("trailingComments")&&(k.trailingComments=l.trailingComments),l.leadingDetachedComments&&l.leadingDetachedComments.length)for(k.leadingDetachedComments=[],K=0;K<l.leadingDetachedComments.length;++K)k.leadingDetachedComments[K]=l.leadingDetachedComments[K];return k},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Oe),Ae),O.GeneratedCodeInfo=(ve.prototype.annotation=p.emptyArray,ve.create=function(l){return new ve(l)},ve.encode=function(l,P){if(P=P||v.create(),l.annotation!=null&&l.annotation.length)for(var k=0;k<l.annotation.length;++k)g.google.protobuf.GeneratedCodeInfo.Annotation.encode(l.annotation[k],P.uint32(10).fork()).ldelim();return P},ve.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},ve.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.GeneratedCodeInfo;l.pos<k;){var pe=l.uint32();pe>>>3==1?(K.annotation&&K.annotation.length||(K.annotation=[]),K.annotation.push(g.google.protobuf.GeneratedCodeInfo.Annotation.decode(l,l.uint32()))):l.skipType(7&pe)}return K},ve.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},ve.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.annotation!=null&&l.hasOwnProperty("annotation")){if(!Array.isArray(l.annotation))return"annotation: array expected";for(var P=0;P<l.annotation.length;++P){var k=g.google.protobuf.GeneratedCodeInfo.Annotation.verify(l.annotation[P]);if(k)return"annotation."+k}}return null},ve.fromObject=function(l){if(l instanceof g.google.protobuf.GeneratedCodeInfo)return l;var P=new g.google.protobuf.GeneratedCodeInfo;if(l.annotation){if(!Array.isArray(l.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");P.annotation=[];for(var k=0;k<l.annotation.length;++k){if(typeof l.annotation[k]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");P.annotation[k]=g.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(l.annotation[k])}}return P},ve.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.annotation=[]),l.annotation&&l.annotation.length){k.annotation=[];for(var K=0;K<l.annotation.length;++K)k.annotation[K]=g.google.protobuf.GeneratedCodeInfo.Annotation.toObject(l.annotation[K],P)}return k},ve.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ve.Annotation=(Ee.prototype.path=p.emptyArray,Ee.prototype.sourceFile="",Ee.prototype.begin=0,Ee.prototype.end=0,Ee.create=function(l){return new Ee(l)},Ee.encode=function(l,P){if(P=P||v.create(),l.path!=null&&l.path.length){P.uint32(10).fork();for(var k=0;k<l.path.length;++k)P.int32(l.path[k]);P.ldelim()}return l.sourceFile!=null&&Object.hasOwnProperty.call(l,"sourceFile")&&P.uint32(18).string(l.sourceFile),l.begin!=null&&Object.hasOwnProperty.call(l,"begin")&&P.uint32(24).int32(l.begin),l.end!=null&&Object.hasOwnProperty.call(l,"end")&&P.uint32(32).int32(l.end),P},Ee.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},Ee.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.GeneratedCodeInfo.Annotation;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:if(K.path&&K.path.length||(K.path=[]),(7&pe)==2)for(var Se=l.uint32()+l.pos;l.pos<Se;)K.path.push(l.int32());else K.path.push(l.int32());break;case 2:K.sourceFile=l.string();break;case 3:K.begin=l.int32();break;case 4:K.end=l.int32();break;default:l.skipType(7&pe)}}return K},Ee.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},Ee.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.path!=null&&l.hasOwnProperty("path")){if(!Array.isArray(l.path))return"path: array expected";for(var P=0;P<l.path.length;++P)if(!p.isInteger(l.path[P]))return"path: integer[] expected"}return l.sourceFile!=null&&l.hasOwnProperty("sourceFile")&&!p.isString(l.sourceFile)?"sourceFile: string expected":l.begin!=null&&l.hasOwnProperty("begin")&&!p.isInteger(l.begin)?"begin: integer expected":l.end!=null&&l.hasOwnProperty("end")&&!p.isInteger(l.end)?"end: integer expected":null},Ee.fromObject=function(l){if(l instanceof g.google.protobuf.GeneratedCodeInfo.Annotation)return l;var P=new g.google.protobuf.GeneratedCodeInfo.Annotation;if(l.path){if(!Array.isArray(l.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");P.path=[];for(var k=0;k<l.path.length;++k)P.path[k]=0|l.path[k]}return l.sourceFile!=null&&(P.sourceFile=String(l.sourceFile)),l.begin!=null&&(P.begin=0|l.begin),l.end!=null&&(P.end=0|l.end),P},Ee.toObject=function(l,P){var k={};if(((P=P||{}).arrays||P.defaults)&&(k.path=[]),P.defaults&&(k.sourceFile="",k.begin=0,k.end=0),l.path&&l.path.length){k.path=[];for(var K=0;K<l.path.length;++K)k.path[K]=l.path[K]}return l.sourceFile!=null&&l.hasOwnProperty("sourceFile")&&(k.sourceFile=l.sourceFile),l.begin!=null&&l.hasOwnProperty("begin")&&(k.begin=l.begin),l.end!=null&&l.hasOwnProperty("end")&&(k.end=l.end),k},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ee),ve),O.Any=(he.prototype.type_url="",he.prototype.value=p.newBuffer([]),he.create=function(l){return new he(l)},he.encode=function(l,P){return P=P||v.create(),l.type_url!=null&&Object.hasOwnProperty.call(l,"type_url")&&P.uint32(10).string(l.type_url),l.value!=null&&Object.hasOwnProperty.call(l,"value")&&P.uint32(18).bytes(l.value),P},he.encodeDelimited=function(l,P){return this.encode(l,P).ldelim()},he.decode=function(l,P){l instanceof E||(l=E.create(l));for(var k=P===void 0?l.len:l.pos+P,K=new g.google.protobuf.Any;l.pos<k;){var pe=l.uint32();switch(pe>>>3){case 1:K.type_url=l.string();break;case 2:K.value=l.bytes();break;default:l.skipType(7&pe)}}return K},he.decodeDelimited=function(l){return l instanceof E||(l=new E(l)),this.decode(l,l.uint32())},he.verify=function(l){return typeof l!="object"||l===null?"object expected":l.type_url!=null&&l.hasOwnProperty("type_url")&&!p.isString(l.type_url)?"type_url: string expected":l.value!=null&&l.hasOwnProperty("value")&&!(l.value&&typeof l.value.length=="number"||p.isString(l.value))?"value: buffer expected":null},he.fromObject=function(l){var P;return l instanceof g.google.protobuf.Any?l:(P=new g.google.protobuf.Any,l.type_url!=null&&(P.type_url=String(l.type_url)),l.value!=null&&(typeof l.value=="string"?p.base64.decode(l.value,P.value=p.newBuffer(p.base64.length(l.value)),0):l.value.length&&(P.value=l.value)),P)},he.toObject=function(l,P){var k={};return(P=P||{}).defaults&&(k.type_url="",P.bytes===String?k.value="":(k.value=[],P.bytes!==Array&&(k.value=p.newBuffer(k.value)))),l.type_url!=null&&l.hasOwnProperty("type_url")&&(k.type_url=l.type_url),l.value!=null&&l.hasOwnProperty("value")&&(k.value=P.bytes===String?p.base64.encode(l.value,0,l.value.length):P.bytes===Array?Array.prototype.slice.call(l.value):l.value),k},he.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},he),O),T),g})})(locations)),locations.exports}var pathTemplate={},hasRequiredPathTemplate;function requirePathTemplate(){if(hasRequiredPathTemplate)return pathTemplate;hasRequiredPathTemplate=1,Object.defineProperty(pathTemplate,"__esModule",{value:!0}),pathTemplate.PathTemplate=void 0;class c{constructor(y){ce(this,"data");ce(this,"bindings",{});ce(this,"segments");ce(this,"size");this.data=y,this.segments=this.parsePathTemplate(y),this.size=this.segments.length}match(y){let O=y.split("/");const T={};if(O.length!==this.segments.length)if(this.data.includes("**")){if(O.length!==this.segments.length+1)throw new TypeError(`This path ${y} does not match path template ${this.data}, the number of parameters is not same with one wildcard.`)}else throw new TypeError(`This path ${y} does not match path template ${this.data}, the number of parameters is not same.`);for(let E=0;E<this.segments.length&&O.length>0;E++)if(this.segments[E]!==O[0])if(this.segments[E].includes("*")){let v=this.segments[E];const p=v.match(/\{[$0-9a-zA-Z_]+=.*?\}/g);if(!p)throw new Error(`Error processing path template segment ${v}`);const g=p.map(w=>w.replace(/^\{/,"").replace(/=.*/,""));if(v.includes("**"))T[g[0]]=O[0]+"/"+O[1],O=O.slice(2);else{if(g.length===1)T[g[0]]=O[0];else{const w=O[0].split(/[-_.~]/);if(w.length!==g.length)throw new Error(`segment ${v} does not match ${O[0]}`);for(const R of g)T[R]=w[0],v=v.replace(`{${R}=*}`,`${w[0]}`),w.shift();if(v!==O[0])throw new TypeError(`non slash resource pattern ${this.segments[E]} and ${O[0]} should have same separator`)}O.shift()}}else throw new TypeError(`segment does not match, ${this.segments[E]} and  ${O[E]}.`);else O.shift();return T}render(y){if(Object.keys(y).length!==Object.keys(this.bindings).length)throw new TypeError(`The number of variables ${Object.keys(y).length} does not match the number of needed variables ${Object.keys(this.bindings).length}`);let O=this.inspect();for(const T of Object.keys(y)){const E=y[T].toString();if(!this.bindings[T])throw new TypeError(`render fails for not matching ${y[T]}`);const v=this.bindings[T];if(v==="*"){if(!E.match(/[^/{}]+/))throw new TypeError(`render fails for not matching ${E}`);O=O.replace(`{${T}=*}`,`${E}`)}else if(v==="**"){if(!E.match(/[^{}]+/))throw new TypeError(`render fails for not matching ${E}`);O=O.replace(`{${T}=**}`,`${E}`)}}return O}inspect(){return this.segments.join("/")}parsePathTemplate(y){const O=u(y);let T=0,E=0;const v=[];let p;if(O.forEach(g=>{if(g==="*"||g==="**")this.bindings[`$${T}`]=g,v.push(`{$${T}=${g}}`),T=T+1,g==="**"&&++E;else if(p=g.match(/\{[0-9a-zA-Z-.~_]+(?:=.*?)?\}/g)){for(const w of p){const R=w.match(/^\{([0-9a-zA-Z-.~_]+)(?:=(.*?))?\}$/);if(!R)throw new Error(`Cannot process path template segment ${w}`);const C=R[1];let N=R[2];N?N==="*"?this.bindings[C]=N:N==="**"&&(++E,this.bindings[C]=N):(N="*",g=g.replace(C,C+"=*"),this.bindings[C]=N)}v.push(g)}else g.match(/[0-9a-zA-Z-.~_]+/)&&v.push(g)}),E>1)throw new TypeError("Can not have more than one wildcard.");return v}}pathTemplate.PathTemplate=c;function u(d){let y=0,O=0,T=0;const E=[];for(;O>=y&&O<d.length;){if(d.charAt(O)==="{")T=T+1;else if(d.charAt(O)==="}")T=T-1;else if(d.charAt(O)==="/"){if(O===d.length-1)throw new TypeError("Invalid path, it can not be ended by /");T===0&&(E.push(d.substring(y,O)),y=O+1)}if(O===d.length-1){if(T!==0)throw new TypeError("Brackets are invalid.");E.push(d.substring(y))}O=O+1}return E}return pathTemplate}var iamService={};const interfaces$3={"google.iam.v1.IAMPolicy":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:2e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:2e4,total_timeout_millis:6e5}},methods:{GetIamPolicy:{retry_codes_name:"non_idempotent",retry_params_name:"default"},SetIamPolicy:{retry_codes_name:"non_idempotent",retry_params_name:"default"},TestIamPermissions:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$2$1={interfaces:interfaces$3},nested$8=JSON.parse('{"google":{"nested":{"iam":{"nested":{"v1":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.Cloud.Iam.V1","go_package":"google.golang.org/genproto/googleapis/iam/v1;iam","java_multiple_files":true,"java_outer_classname":"PolicyProto","java_package":"com.google.iam.v1","php_namespace":"Google\\\\Cloud\\\\Iam\\\\V1"},"nested":{"IAMPolicy":{"options":{"(google.api.default_host)":"iam-meta-api.googleapis.com"},"methods":{"SetIamPolicy":{"requestType":"SetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:setIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:setIamPolicy","body":"*"}}]},"GetIamPolicy":{"requestType":"GetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:getIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:getIamPolicy","body":"*"}}]},"TestIamPermissions":{"requestType":"TestIamPermissionsRequest","responseType":"TestIamPermissionsResponse","options":{"(google.api.http).post":"/v1/{resource=**}:testIamPermissions","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:testIamPermissions","body":"*"}}]}}},"SetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"policy":{"type":"Policy","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"options":{"type":"GetPolicyOptions","id":2}}},"TestIamPermissionsRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"permissions":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"TestIamPermissionsResponse":{"fields":{"permissions":{"rule":"repeated","type":"string","id":1}}},"GetPolicyOptions":{"fields":{"requestedPolicyVersion":{"type":"int32","id":1}}},"Policy":{"fields":{"version":{"type":"int32","id":1},"bindings":{"rule":"repeated","type":"Binding","id":4},"etag":{"type":"bytes","id":3}}},"Binding":{"fields":{"role":{"type":"string","id":1},"members":{"rule":"repeated","type":"string","id":2},"condition":{"type":"google.type.Expr","id":3}}},"PolicyDelta":{"fields":{"bindingDeltas":{"rule":"repeated","type":"BindingDelta","id":1},"auditConfigDeltas":{"rule":"repeated","type":"AuditConfigDelta","id":2}}},"BindingDelta":{"fields":{"action":{"type":"Action","id":1},"role":{"type":"string","id":2},"member":{"type":"string","id":3},"condition":{"type":"google.type.Expr","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"AuditConfigDelta":{"fields":{"action":{"type":"Action","id":1},"service":{"type":"string","id":2},"exemptedMember":{"type":"string","id":3},"logType":{"type":"string","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"logging":{"options":{"csharp_namespace":"Google.Cloud.Iam.V1.Logging","go_package":"google.golang.org/genproto/googleapis/iam/v1/logging;logging","java_multiple_files":true,"java_outer_classname":"AuditDataProto","java_package":"com.google.iam.v1.logging"},"nested":{"AuditData":{"fields":{"policyDelta":{"type":"google.iam.v1.PolicyDelta","id":2}}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions"},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/expr;expr","java_multiple_files":true,"java_outer_classname":"ExprProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"Expr":{"fields":{"expression":{"type":"string","id":1},"title":{"type":"string","id":2},"description":{"type":"string","id":3},"location":{"type":"string","id":4}}}}}}}}'),require$$5$2={nested:nested$8};var hasRequiredIamService;function requireIamService(){if(hasRequiredIamService)return iamService;hasRequiredIamService=1;var c=iamService&&iamService.__createBinding||(Object.create?(function(w,R,C,N){N===void 0&&(N=C);var D=Object.getOwnPropertyDescriptor(R,C);(!D||("get"in D?!R.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return R[C]}}),Object.defineProperty(w,N,D)}):(function(w,R,C,N){N===void 0&&(N=C),w[N]=R[C]})),u=iamService&&iamService.__setModuleDefault||(Object.create?(function(w,R){Object.defineProperty(w,"default",{enumerable:!0,value:R})}):function(w,R){w.default=R}),d=iamService&&iamService.__importStar||(function(){var w=function(R){return w=Object.getOwnPropertyNames||function(C){var N=[];for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(N[N.length]=D);return N},w(R)};return function(R){if(R&&R.__esModule)return R;var C={};if(R!=null)for(var N=w(R),D=0;D<N.length;D++)N[D]!=="default"&&c(C,R,N[D]);return u(C,R),C}})();Object.defineProperty(iamService,"__esModule",{value:!0}),iamService.IamClient=void 0;const y=requireCreateApiCall(),O=d(requireRoutingHeader()),T=d(require$$2$1),E=d(requireFallback());let v=require$$20.version;const p=require$$5$2;class g{constructor(R,C){ce(this,"_terminated",!1);ce(this,"_opts");ce(this,"_defaults");ce(this,"_protos");ce(this,"auth");ce(this,"descriptors",{page:{},stream:{},longrunning:{}});ce(this,"innerApiCalls",{});ce(this,"iamPolicyStub");ce(this,"gaxGrpc");this.gaxGrpc=R;const N=Object.assign({servicePath:C.servicePath,port:C.port,clientConfig:C.clientConfig,apiEndpoint:C.apiEndpoint,fallback:C.fallback},C);v=N.fallback?E.version:v,N.scopes=this.constructor.scopes,this._opts=N,this.auth=R.auth;const D=[`gax/${v}`,`gapic/${v}`];typeof process<"u"&&"versions"in process?D.push(`gl-node/${process.versions.node}`):D.push(`gl-web/${v}`),N.fallback||D.push(`grpc/${R.grpcVersion}`),N.libName&&N.libVersion&&D.push(`${N.libName}/${N.libVersion}`),this._protos=this.gaxGrpc.loadProtoJSON(p),this._defaults=R.constructSettings("google.iam.v1.IAMPolicy",T,N.clientConfig||{},{"x-goog-api-client":D.join(" ")}),this.innerApiCalls={}}initialize(){if(this.iamPolicyStub)return this.iamPolicyStub;this.iamPolicyStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.iam.v1.IAMPolicy"):this._protos.google.iam.v1.IAMPolicy,this._opts);const R=["getIamPolicy","setIamPolicy","testIamPermissions"];for(const C of R){const N=this.iamPolicyStub.then(D=>(...L)=>this._terminated?Promise.reject("The client has already been closed."):D[C].apply(D,L),D=>()=>{throw D});this.innerApiCalls[C]=(0,y.createApiCall)(N,this._defaults[C],this.descriptors.page[C])}return this.iamPolicyStub}static get servicePath(){return"cloudkms.googleapis.com"}static get apiEndpoint(){return"cloudkms.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudkms"]}getProjectId(R){if(this.auth&&"getProjectId"in this.auth)return this.auth.getProjectId(R);if(R)R(new Error("Cannot determine project ID."));else return Promise.reject("Cannot determine project ID.")}getIamPolicy(R,C,N){let D;return C instanceof Function&&N===void 0?(N=C,D={}):D=C,R=R||{},D=D||{},D.otherArgs=D.otherArgs||{},D.otherArgs.headers=D.otherArgs.headers||{},D.otherArgs.headers["x-goog-request-params"]=O.fromParams({resource:R.resource}),this.initialize().catch(console.error),this.innerApiCalls.getIamPolicy(R,D,N)}setIamPolicy(R,C,N){let D;return C instanceof Function&&N===void 0?(N=C,D={}):D=C,R=R||{},D=D||{},D.otherArgs=D.otherArgs||{},D.otherArgs.headers=D.otherArgs.headers||{},D.otherArgs.headers["x-goog-request-params"]=O.fromParams({resource:R.resource}),this.initialize().catch(console.error),this.innerApiCalls.setIamPolicy(R,D,N)}testIamPermissions(R,C,N){let D;return C instanceof Function&&N===void 0?(N=C,D={}):D=C,R=R||{},D=D||{},D.otherArgs=D.otherArgs||{},D.otherArgs.headers=D.otherArgs.headers||{},D.otherArgs.headers["x-goog-request-params"]=O.fromParams({resource:R.resource}),this.initialize().catch(console.error),this.innerApiCalls.testIamPermissions(R,D,N)}close(){return this.initialize().catch(console.error),this._terminated?Promise.resolve():this.iamPolicyStub.then(R=>{this._terminated=!0,R.close()})}}return iamService.IamClient=g,iamService}var locationService={};const nested$7=JSON.parse('{"google":{"nested":{"cloud":{"nested":{"location":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/cloud/location;location","java_multiple_files":true,"java_outer_classname":"LocationsProto","java_package":"com.google.cloud.location"},"nested":{"Locations":{"options":{"(google.api.default_host)":"cloud.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},"methods":{"ListLocations":{"requestType":"ListLocationsRequest","responseType":"ListLocationsResponse","options":{"(google.api.http).get":"/v1/{name=locations}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*}/locations"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations}","additional_bindings":{"get":"/v1/{name=projects/*}/locations"}}}]},"GetLocation":{"requestType":"GetLocationRequest","responseType":"Location","options":{"(google.api.http).get":"/v1/{name=locations/*}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*/locations/*}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations/*}","additional_bindings":{"get":"/v1/{name=projects/*/locations/*}"}}}]}}},"ListLocationsRequest":{"fields":{"name":{"type":"string","id":1},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListLocationsResponse":{"fields":{"locations":{"rule":"repeated","type":"Location","id":1},"nextPageToken":{"type":"string","id":2}}},"GetLocationRequest":{"fields":{"name":{"type":"string","id":1}}},"Location":{"fields":{"name":{"type":"string","id":1},"locationId":{"type":"string","id":4},"displayName":{"type":"string","id":5},"labels":{"keyType":"string","type":"string","id":2},"metadata":{"type":"google.protobuf.Any","id":3}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}}}}}}}'),require$$5$1={nested:nested$7},interfaces$2={"google.cloud.location.Locations":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{ListLocations:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetLocation:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$6$1={interfaces:interfaces$2};var hasRequiredLocationService;function requireLocationService(){if(hasRequiredLocationService)return locationService;hasRequiredLocationService=1;var c=locationService&&locationService.__createBinding||(Object.create?(function(C,N,D,L){L===void 0&&(L=D);var q=Object.getOwnPropertyDescriptor(N,D);(!q||("get"in q?!N.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return N[D]}}),Object.defineProperty(C,L,q)}):(function(C,N,D,L){L===void 0&&(L=D),C[L]=N[D]})),u=locationService&&locationService.__setModuleDefault||(Object.create?(function(C,N){Object.defineProperty(C,"default",{enumerable:!0,value:N})}):function(C,N){C.default=N}),d=locationService&&locationService.__importStar||(function(){var C=function(N){return C=Object.getOwnPropertyNames||function(D){var L=[];for(var q in D)Object.prototype.hasOwnProperty.call(D,q)&&(L[L.length]=q);return L},C(N)};return function(N){if(N&&N.__esModule)return N;var D={};if(N!=null)for(var L=C(N),q=0;q<L.length;q++)L[q]!=="default"&&c(D,N,L[q]);return u(D,N),D}})();Object.defineProperty(locationService,"__esModule",{value:!0}),locationService.LocationsClient=void 0;const y=d(requireGax()),O=requireWarnings(),T=requireCreateApiCall(),E=d(requireRoutingHeader()),v=requirePageDescriptor(),p=require$$5$1,g=d(require$$6$1),w=require$$20.version;class R{constructor(N,D){ce(this,"_terminated",!1);ce(this,"_opts");ce(this,"_providedCustomServicePath");ce(this,"_protos");ce(this,"_defaults");ce(this,"auth");ce(this,"descriptors",{page:{},stream:{},longrunning:{},batching:{}});ce(this,"warn");ce(this,"innerApiCalls");ce(this,"locationsStub");ce(this,"gaxGrpc");ce(this,"PageDescriptor");this.gaxGrpc=N;const L=this.constructor,q=(D==null?void 0:D.servicePath)||(D==null?void 0:D.apiEndpoint)||L.servicePath;this._providedCustomServicePath=!!(D!=null&&D.servicePath||D!=null&&D.apiEndpoint);const M=(D==null?void 0:D.port)||L.port,U=(D==null?void 0:D.clientConfig)??{},V=(D==null?void 0:D.fallback)??(typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function");D=Object.assign({servicePath:q,port:M,clientConfig:U,fallback:V},D),q!==L.servicePath&&!("scopes"in D)&&(D.scopes=L.scopes),this._opts=D,this.auth=N.auth,q===L.servicePath&&(this.auth.defaultScopes=L.scopes);const $=[`gax/${w}`,`gapic/${w}`];typeof process<"u"&&"versions"in process?$.push(`gl-node/${process.versions.node}`):$.push(`gl-web/${w}`),D.fallback?D.fallback==="rest"&&$.push(`rest/${N.grpcVersion}`):$.push(`grpc/${N.grpcVersion}`),D.libName&&D.libVersion&&$.push(`${D.libName}/${D.libVersion}`),this._protos=N.loadProtoJSON(p),this.descriptors.page={listLocations:new v.PageDescriptor("pageToken","nextPageToken","locations")},this._defaults=N.constructSettings("google.cloud.location.Locations",g,D.clientConfig||{},{"x-goog-api-client":$.join(" ")}),this.innerApiCalls={},this.warn=O.warn}initialize(){if(this.locationsStub)return this.locationsStub;this.locationsStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.location.Locations"):this._protos.google.cloud.location.Locations,this._opts,this._providedCustomServicePath);const N=["listLocations","getLocation"];for(const D of N){const L=this.locationsStub.then(U=>(...V)=>this._terminated?Promise.reject("The client has already been closed."):U[D].apply(U,V),U=>()=>{throw U}),q=this.descriptors.page[D]||void 0,M=(0,T.createApiCall)(L,this._defaults[D],q);this.innerApiCalls[D]=M}return this.locationsStub}static get servicePath(){return"cloud.googleapis.com"}static get apiEndpoint(){return"cloud.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(N){if(N){this.auth.getProjectId(N);return}return this.auth.getProjectId()}getLocation(N,D,L){N=N||{};let q;return typeof D=="function"&&L===void 0?(L=D,q={}):q=D,q=q||{},q.otherArgs=q.otherArgs||{},q.otherArgs.headers=q.otherArgs.headers||{},q.otherArgs.headers["x-goog-request-params"]=E.fromParams({name:N.name||""}),this.initialize().catch(console.error),this.innerApiCalls.getLocation(N,q,L)}listLocations(N,D,L){N=N||{};let q;return typeof D=="function"&&L===void 0?(L=D,q={}):q=D,q=q||{},q.otherArgs=q.otherArgs||{},q.otherArgs.headers=q.otherArgs.headers||{},q.otherArgs.headers["x-goog-request-params"]=E.fromParams({name:N.name||""}),this.initialize().catch(console.error),this.innerApiCalls.listLocations(N,q,L)}listLocationsAsync(N,D){N=N||{},D=D||{},D.otherArgs=D.otherArgs||{},D.otherArgs.headers=D.otherArgs.headers||{},D.otherArgs.headers["x-goog-request-params"]=E.fromParams({name:N.name||""}),D=D||{};const L=new y.CallSettings(D);return this.initialize().catch(console.error),this.descriptors.page.listLocations.asyncIterate(this.innerApiCalls.listLocations,N,L)}close(){return this.initialize().catch(console.error),this._terminated?Promise.resolve():this.locationsStub.then(N=>{this._terminated=!0,N.close()})}}return locationService.LocationsClient=R,locationService}var fallback_1=fallback.exports,hasRequiredFallback;function requireFallback(){return hasRequiredFallback||(hasRequiredFallback=1,(function(c,u){var d=fallback_1&&fallback_1.__createBinding||(Object.create?(function(Re,Te,Ae,Oe){Oe===void 0&&(Oe=Ae);var ve=Object.getOwnPropertyDescriptor(Te,Ae);(!ve||("get"in ve?!Te.__esModule:ve.writable||ve.configurable))&&(ve={enumerable:!0,get:function(){return Te[Ae]}}),Object.defineProperty(Re,Oe,ve)}):(function(Re,Te,Ae,Oe){Oe===void 0&&(Oe=Ae),Re[Oe]=Te[Ae]})),y=fallback_1&&fallback_1.__setModuleDefault||(Object.create?(function(Re,Te){Object.defineProperty(Re,"default",{enumerable:!0,value:Te})}):function(Re,Te){Re.default=Te}),O=fallback_1&&fallback_1.__importStar||(function(){var Re=function(Te){return Re=Object.getOwnPropertyNames||function(Ae){var Oe=[];for(var ve in Ae)Object.prototype.hasOwnProperty.call(Ae,ve)&&(Oe[Oe.length]=ve);return Oe},Re(Te)};return function(Te){if(Te&&Te.__esModule)return Te;var Ae={};if(Te!=null)for(var Oe=Re(Te),ve=0;ve<Oe.length;ve++)Oe[ve]!=="default"&&d(Ae,Te,Oe[ve]);return y(Ae,Te),Ae}})(),T=fallback_1&&fallback_1.__importDefault||function(Re){return Re&&Re.__esModule?Re:{default:Re}};Object.defineProperty(u,"__esModule",{value:!0}),u.fallback=u.GoogleError=u.operation=u.Operation=u.warn=u.protobufMinimal=u.protobuf=u.LocationProtos=u.IamProtos=u.operationsProtos=u.protobufFromJSON=u.GrpcClient=u.defaultToObjectOptions=u.makeUUID=u.LocationsClient=u.IamClient=u.OperationsClient=u.StreamType=u.StreamDescriptor=u.PageDescriptor=u.LongrunningDescriptor=u.BundleDescriptor=u.version=u.createDefaultBackoffSettings=u.RetryOptions=u.constructSettings=u.CallSettings=u.routingHeader=u.PathTemplate=void 0,u.lro=ue,u.createApiCall=fe;const E=T(requireObject_hash()),v=O(requireProtobufjs());u.protobuf=v;const p=O(requireGax()),g=O(requireRoutingHeader());u.routingHeader=g;const w=requireStatus(),R=requireSrc$5(),C=requireOperationsClient(),N=requireCreateApiCall(),D=O(requireFallbackRest()),L=requireFeatureDetection(),q=requireFallbackServiceStub(),M=requireStreaming(),U=requireUtil$5(),V=O(requireIam_service());u.IamProtos=V;const $=O(requireLocations());u.LocationProtos=$;const z=O(requireOperations());u.operationsProtos=z;var W=requirePathTemplate();Object.defineProperty(u,"PathTemplate",{enumerable:!0,get:function(){return W.PathTemplate}});var J=requireGax();Object.defineProperty(u,"CallSettings",{enumerable:!0,get:function(){return J.CallSettings}}),Object.defineProperty(u,"constructSettings",{enumerable:!0,get:function(){return J.constructSettings}}),Object.defineProperty(u,"RetryOptions",{enumerable:!0,get:function(){return J.RetryOptions}}),Object.defineProperty(u,"createDefaultBackoffSettings",{enumerable:!0,get:function(){return J.createDefaultBackoffSettings}}),u.version=require$$20.version+"-fallback";var Y=requireDescriptor$1();Object.defineProperty(u,"BundleDescriptor",{enumerable:!0,get:function(){return Y.BundleDescriptor}}),Object.defineProperty(u,"LongrunningDescriptor",{enumerable:!0,get:function(){return Y.LongrunningDescriptor}}),Object.defineProperty(u,"PageDescriptor",{enumerable:!0,get:function(){return Y.PageDescriptor}}),Object.defineProperty(u,"StreamDescriptor",{enumerable:!0,get:function(){return Y.StreamDescriptor}});var Q=requireStreaming();Object.defineProperty(u,"StreamType",{enumerable:!0,get:function(){return Q.StreamType}});var H=requireOperationsClient();Object.defineProperty(u,"OperationsClient",{enumerable:!0,get:function(){return H.OperationsClient}});var te=requireIamService();Object.defineProperty(u,"IamClient",{enumerable:!0,get:function(){return te.IamClient}});var ne=requireLocationService();Object.defineProperty(u,"LocationsClient",{enumerable:!0,get:function(){return ne.LocationsClient}});var oe=requireUtil$5();Object.defineProperty(u,"makeUUID",{enumerable:!0,get:function(){return oe.makeUUID}}),u.defaultToObjectOptions={keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0};const ie="x-goog-api-client",we=class we{constructor(Te={}){ce(this,"auth");ce(this,"authClient");ce(this,"fallback");ce(this,"grpcVersion");ce(this,"httpRules");ce(this,"numericEnums");ce(this,"minifyJson");Te.auth?this.auth=Te.auth:"authClient"in Te?this.auth=Te.authClient:this.auth=new R.GoogleAuth({authClient:Te.auth,...Te}),this.fallback=!!Te.fallback,this.grpcVersion=require$$20.version,this.httpRules=Te.httpRules,this.numericEnums=Te.numericEnums??!1,this.minifyJson=Te.minifyJson??!1}static clearProtoCache(){we.protoCache.clear()}loadProto(Te){return v.Root.fromJSON(Te)}loadProtoJSON(Te,Ae=!1){return we.protobufFromJSON(Te,Ae)}static protobufFromJSON(Te,Ae=!1){const Oe=(0,E.default)(JSON.stringify(Te)).toString(),ve=we.protoCache.get(Oe);if(ve&&!Ae)return ve;const Ee=v.Root.fromJSON(Te);return we.protoCache.set(Oe,Ee),Ee}static getServiceMethods(Te){const Ae={};for(const[Oe,ve]of Object.entries(Te.methods)){const Ee=(0,U.toLowerCamelCase)(Oe);Ae[Ee]=ve}return Ae}constructSettings(Te,Ae,Oe,ve){function Ee(he,l){const P={};ve||(ve={});for(const K in ve)P[K]=Array.isArray(ve[K])?ve[K]:[ve[K]];const k=[];if(P[ie]&&P[ie][0]&&k.push(...P[ie][0].split(" ")),k.push(`grpc-web/${u.version}`),P[ie]=[k.join(" ")],!l)return P;for(const K in l)if(K.toLowerCase()!==ie){const pe=l[K];if(Array.isArray(pe))if(P[K]===void 0)P[K]=pe;else if(Array.isArray(P[K]))P[K].push(...pe);else throw new Error(`Can not add value ${pe} to the call metadata.`);else P[K]=[pe]}return P}return p.constructSettings(Te,Ae,Oe,w.Status,{metadataBuilder:Ee})}async createStub(Te,Ae,Oe){if(this.authClient||(this.auth&&"getClient"in this.auth?this.authClient=await this.auth.getClient():this.auth&&"getRequestHeaders"in this.auth&&(this.authClient=this.auth)),!this.authClient)throw new Error("No authentication was provided");if(Ae.universeDomain||(Ae.universeDomain="googleapis.com"),Ae.universeDomain){const Se=this.authClient.universeDomain;if(Se&&Ae.universeDomain!==Se)throw new Error(`The configured universe domain (${Ae.universeDomain}) does not match the universe domain found in the credentials (${Se}). If you haven't configured the universe domain explicitly, googleapis.com is the default.`)}Te.resolveAll();const ve=we.getServiceMethods(Te),Ee=Ae.protocol||"https";let he=Ae.servicePath;if(!he&&Te.options&&Te.options["(google.api.default_host)"]&&(he=Te.options["(google.api.default_host)"]),!he)throw new Error(`Cannot determine service API path for service ${Te.name}.`);let l;const P=he.match(/^(.*):(\d+)$/);P&&(he=P[1],l=parseInt(P[2])),Ae.port?l=Ae.port:l||(l=443);const k=D.encodeRequest,K=D.decodeResponse;return(0,q.generateServiceStub)(ve,Ee,he,l,this.auth||this.authClient,k,K,this.numericEnums,this.minifyJson)}static createByteLengthFunction(Te){return p.createByteLengthFunction(Te)}};ce(we,"protoCache",new Map);let ee=we;u.GrpcClient=ee,u.protobufFromJSON=ee.protobufFromJSON;function ue(Re){Re=Object.assign({scopes:[]},Re),Re.protoJson&&(Re=Object.assign(Re,{fallback:!0}));const Te=new ee(Re);return new C.OperationsClientBuilder(Te,Re.protoJson)}function fe(Re,Te,Ae,Oe){return Ae&&"streaming"in Ae&&Ae.type!==M.StreamType.SERVER_STREAMING?()=>{throw new Error("The REST transport currently does not support client-streaming or bidi-stream calls.")}:Ae&&"streaming"in Ae&&!(0,L.isNodeJS)()?()=>{throw new Error("Server streaming over the REST transport is only supported in Node.js.")}:(0,N.createApiCall)(Re,Te,Ae)}u.protobufMinimal=O(requireMinimal());var de=requireWarnings();Object.defineProperty(u,"warn",{enumerable:!0,get:function(){return de.warn}});var ge=requireLongrunning();Object.defineProperty(u,"Operation",{enumerable:!0,get:function(){return ge.Operation}}),Object.defineProperty(u,"operation",{enumerable:!0,get:function(){return ge.operation}});var me=requireGoogleError();Object.defineProperty(u,"GoogleError",{enumerable:!0,get:function(){return me.GoogleError}});const _e=c.exports;u.fallback=_e})(fallback,fallback.exports)),fallback.exports}var src$2={},src$1={},callCredentials={},metadata={},logging={},constants$1={},hasRequiredConstants$1;function requireConstants$1(){if(hasRequiredConstants$1)return constants$1;hasRequiredConstants$1=1,Object.defineProperty(constants$1,"__esModule",{value:!0}),constants$1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=constants$1.DEFAULT_MAX_SEND_MESSAGE_LENGTH=constants$1.Propagate=constants$1.LogVerbosity=constants$1.Status=void 0;var c;(function(y){y[y.OK=0]="OK",y[y.CANCELLED=1]="CANCELLED",y[y.UNKNOWN=2]="UNKNOWN",y[y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",y[y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",y[y.NOT_FOUND=5]="NOT_FOUND",y[y.ALREADY_EXISTS=6]="ALREADY_EXISTS",y[y.PERMISSION_DENIED=7]="PERMISSION_DENIED",y[y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",y[y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",y[y.ABORTED=10]="ABORTED",y[y.OUT_OF_RANGE=11]="OUT_OF_RANGE",y[y.UNIMPLEMENTED=12]="UNIMPLEMENTED",y[y.INTERNAL=13]="INTERNAL",y[y.UNAVAILABLE=14]="UNAVAILABLE",y[y.DATA_LOSS=15]="DATA_LOSS",y[y.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(c||(constants$1.Status=c={}));var u;(function(y){y[y.DEBUG=0]="DEBUG",y[y.INFO=1]="INFO",y[y.ERROR=2]="ERROR",y[y.NONE=3]="NONE"})(u||(constants$1.LogVerbosity=u={}));var d;return(function(y){y[y.DEADLINE=1]="DEADLINE",y[y.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",y[y.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",y[y.CANCELLATION=8]="CANCELLATION",y[y.DEFAULTS=65535]="DEFAULTS"})(d||(constants$1.Propagate=d={})),constants$1.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,constants$1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024,constants$1}const version$1="1.14.2",require$$11={version:version$1};var hasRequiredLogging;function requireLogging(){return hasRequiredLogging||(hasRequiredLogging=1,(function(c){var u={},d,y,O,T;Object.defineProperty(c,"__esModule",{value:!0}),c.log=c.setLoggerVerbosity=c.setLogger=c.getLogger=void 0,c.trace=z,c.isTracerEnabled=W;const E=requireConstants$1(),v=require$$1$6,p=require$$11.version;let w={error:(J,...Y)=>{console.error("E "+J,...Y)},info:(J,...Y)=>{console.error("I "+J,...Y)},debug:(J,...Y)=>{console.error("D "+J,...Y)}},R=E.LogVerbosity.ERROR;switch(((y=(d=u.GRPC_NODE_VERBOSITY)!==null&&d!==void 0?d:u.GRPC_VERBOSITY)!==null&&y!==void 0?y:"").toUpperCase()){case"DEBUG":R=E.LogVerbosity.DEBUG;break;case"INFO":R=E.LogVerbosity.INFO;break;case"ERROR":R=E.LogVerbosity.ERROR;break;case"NONE":R=E.LogVerbosity.NONE;break}const N=()=>w;c.getLogger=N;const D=J=>{w=J};c.setLogger=D;const L=J=>{R=J};c.setLoggerVerbosity=L;const q=(J,...Y)=>{let Q;if(J>=R){switch(J){case E.LogVerbosity.DEBUG:Q=w.debug;break;case E.LogVerbosity.INFO:Q=w.info;break;case E.LogVerbosity.ERROR:Q=w.error;break}Q||(Q=w.error),Q&&Q.bind(w)(...Y)}};c.log=q;const M=(T=(O=u.GRPC_NODE_TRACE)!==null&&O!==void 0?O:u.GRPC_TRACE)!==null&&T!==void 0?T:"",U=new Set,V=new Set;for(const J of M.split(","))J.startsWith("-")?V.add(J.substring(1)):U.add(J);const $=U.has("all");function z(J,Y,Q){W(Y)&&(0,c.log)(J,new Date().toISOString()+" | v"+p+" "+v.pid+" | "+Y+" | "+Q)}function W(J){return!V.has(J)&&($||U.has(J))}})(logging)),logging}var error={},hasRequiredError;function requireError(){if(hasRequiredError)return error;hasRequiredError=1,Object.defineProperty(error,"__esModule",{value:!0}),error.getErrorMessage=c,error.getErrorCode=u;function c(d){return d instanceof Error?d.message:String(d)}function u(d){return typeof d=="object"&&d!==null&&"code"in d&&typeof d.code=="number"?d.code:null}return error}var hasRequiredMetadata;function requireMetadata(){if(hasRequiredMetadata)return metadata;hasRequiredMetadata=1,Object.defineProperty(metadata,"__esModule",{value:!0}),metadata.Metadata=void 0;const c=requireLogging(),u=requireConstants$1(),d=requireError(),y=/^[:0-9a-z_.-]+$/,O=/^[ -~]*$/;function T(N){return y.test(N)}function E(N){return O.test(N)}function v(N){return N.endsWith("-bin")}function p(N){return!N.startsWith("grpc-")}function g(N){return N.toLowerCase()}function w(N,D){if(!T(N))throw new Error('Metadata key "'+N+'" contains illegal characters');if(D!=null)if(v(N)){if(!Buffer.isBuffer(D))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(D))throw new Error("keys that don't end with '-bin' must have String values");if(!E(D))throw new Error('Metadata string value "'+D+'" contains illegal characters')}}class R{constructor(D={}){this.internalRepr=new Map,this.opaqueData=new Map,this.options=D}set(D,L){D=g(D),w(D,L),this.internalRepr.set(D,[L])}add(D,L){D=g(D),w(D,L);const q=this.internalRepr.get(D);q===void 0?this.internalRepr.set(D,[L]):q.push(L)}remove(D){D=g(D),this.internalRepr.delete(D)}get(D){return D=g(D),this.internalRepr.get(D)||[]}getMap(){const D={};for(const[L,q]of this.internalRepr)if(q.length>0){const M=q[0];D[L]=Buffer.isBuffer(M)?Buffer.from(M):M}return D}clone(){const D=new R(this.options),L=D.internalRepr;for(const[q,M]of this.internalRepr){const U=M.map(V=>Buffer.isBuffer(V)?Buffer.from(V):V);L.set(q,U)}return D}merge(D){for(const[L,q]of D.internalRepr){const M=(this.internalRepr.get(L)||[]).concat(q);this.internalRepr.set(L,M)}}setOptions(D){this.options=D}getOptions(){return this.options}toHttp2Headers(){const D={};for(const[L,q]of this.internalRepr)L.startsWith(":")||(D[L]=q.map(C));return D}toJSON(){const D={};for(const[L,q]of this.internalRepr)D[L]=q;return D}setOpaque(D,L){this.opaqueData.set(D,L)}getOpaque(D){return this.opaqueData.get(D)}static fromHttp2Headers(D){const L=new R;for(const q of Object.keys(D)){if(q.charAt(0)===":")continue;const M=D[q];try{v(q)?Array.isArray(M)?M.forEach(U=>{L.add(q,Buffer.from(U,"base64"))}):M!==void 0&&(p(q)?M.split(",").forEach(U=>{L.add(q,Buffer.from(U.trim(),"base64"))}):L.add(q,Buffer.from(M,"base64"))):Array.isArray(M)?M.forEach(U=>{L.add(q,U)}):M!==void 0&&L.add(q,M)}catch(U){const V=`Failed to add metadata entry ${q}: ${M}. ${(0,d.getErrorMessage)(U)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,c.log)(u.LogVerbosity.ERROR,V)}}return L}}metadata.Metadata=R;const C=N=>Buffer.isBuffer(N)?N.toString("base64"):N;return metadata}var hasRequiredCallCredentials;function requireCallCredentials(){if(hasRequiredCallCredentials)return callCredentials;hasRequiredCallCredentials=1,Object.defineProperty(callCredentials,"__esModule",{value:!0}),callCredentials.CallCredentials=void 0;const c=requireMetadata();function u(E){return"getRequestHeaders"in E&&typeof E.getRequestHeaders=="function"}class d{static createFromMetadataGenerator(v){return new O(v)}static createFromGoogleCredential(v){return d.createFromMetadataGenerator((p,g)=>{let w;u(v)?w=v.getRequestHeaders(p.service_url):w=new Promise((R,C)=>{v.getRequestMetadata(p.service_url,(N,D)=>{if(N){C(N);return}if(!D){C(new Error("Headers not set by metadata plugin"));return}R(D)})}),w.then(R=>{const C=new c.Metadata;for(const N of Object.keys(R))C.add(N,R[N]);g(null,C)},R=>{g(R)})})}static createEmpty(){return new T}}callCredentials.CallCredentials=d;class y extends d{constructor(v){super(),this.creds=v}async generateMetadata(v){const p=new c.Metadata,g=await Promise.all(this.creds.map(w=>w.generateMetadata(v)));for(const w of g)p.merge(w);return p}compose(v){return new y(this.creds.concat([v]))}_equals(v){return this===v?!0:v instanceof y?this.creds.every((p,g)=>p._equals(v.creds[g])):!1}}class O extends d{constructor(v){super(),this.metadataGenerator=v}generateMetadata(v){return new Promise((p,g)=>{this.metadataGenerator(v,(w,R)=>{R!==void 0?p(R):g(w)})})}compose(v){return new y([this,v])}_equals(v){return this===v?!0:v instanceof O?this.metadataGenerator===v.metadataGenerator:!1}}class T extends d{generateMetadata(v){return Promise.resolve(new c.Metadata)}compose(v){return v}_equals(v){return v instanceof T}}return callCredentials}var channel={},channelCredentials={},tlsHelpers={},hasRequiredTlsHelpers;function requireTlsHelpers(){if(hasRequiredTlsHelpers)return tlsHelpers;hasRequiredTlsHelpers=1;var c={};Object.defineProperty(tlsHelpers,"__esModule",{value:!0}),tlsHelpers.CIPHER_SUITES=void 0,tlsHelpers.getDefaultRootsData=O;const u=require$$0$7;tlsHelpers.CIPHER_SUITES=c.GRPC_SSL_CIPHER_SUITES;const d=c.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let y=null;function O(){return d?(y===null&&(y=u.readFileSync(d)),y):null}return tlsHelpers}var uriParser={},hasRequiredUriParser;function requireUriParser(){if(hasRequiredUriParser)return uriParser;hasRequiredUriParser=1,Object.defineProperty(uriParser,"__esModule",{value:!0}),uriParser.parseUri=u,uriParser.splitHostPort=y,uriParser.combineHostPort=O,uriParser.uriToString=T;const c=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function u(E){const v=c.exec(E);return v===null?null:{scheme:v[1],authority:v[2],path:v[3]}}const d=/^\d+$/;function y(E){if(E.startsWith("[")){const v=E.indexOf("]");if(v===-1)return null;const p=E.substring(1,v);if(p.indexOf(":")===-1)return null;if(E.length>v+1)if(E[v+1]===":"){const g=E.substring(v+2);return d.test(g)?{host:p,port:+g}:null}else return null;else return{host:p}}else{const v=E.split(":");return v.length===2?d.test(v[1])?{host:v[0],port:+v[1]}:null:{host:E}}}function O(E){return E.port===void 0?E.host:E.host.includes(":")?`[${E.host}]:${E.port}`:`${E.host}:${E.port}`}function T(E){let v="";return E.scheme!==void 0&&(v+=E.scheme+":"),E.authority!==void 0&&(v+="//"+E.authority+"/"),v+=E.path,v}return uriParser}var resolver={},hasRequiredResolver;function requireResolver(){if(hasRequiredResolver)return resolver;hasRequiredResolver=1,Object.defineProperty(resolver,"__esModule",{value:!0}),resolver.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=void 0,resolver.registerResolver=y,resolver.registerDefaultScheme=O,resolver.createResolver=T,resolver.getDefaultAuthority=E,resolver.mapUriDefaultScheme=v;const c=requireUriParser();resolver.CHANNEL_ARGS_CONFIG_SELECTOR_KEY="grpc.internal.config_selector";const u={};let d=null;function y(p,g){u[p]=g}function O(p){d=p}function T(p,g,w){if(p.scheme!==void 0&&p.scheme in u)return new u[p.scheme](p,g,w);throw new Error(`No resolver could be created for target ${(0,c.uriToString)(p)}`)}function E(p){if(p.scheme!==void 0&&p.scheme in u)return u[p.scheme].getDefaultAuthority(p);throw new Error(`Invalid target ${(0,c.uriToString)(p)}`)}function v(p){return p.scheme===void 0||!(p.scheme in u)?d!==null?{scheme:d,authority:void 0,path:(0,c.uriToString)(p)}:null:p}return resolver}var hasRequiredChannelCredentials;function requireChannelCredentials(){if(hasRequiredChannelCredentials)return channelCredentials;hasRequiredChannelCredentials=1,Object.defineProperty(channelCredentials,"__esModule",{value:!0}),channelCredentials.ChannelCredentials=void 0,channelCredentials.createCertificateProviderChannelCredentials=D;const c=require$$1$8,u=requireCallCredentials(),d=requireTlsHelpers(),y=requireUriParser(),O=requireResolver(),T=requireLogging(),E=requireConstants$1();function v(q,M){if(q&&!(q instanceof Buffer))throw new TypeError(`${M}, if provided, must be a Buffer.`)}class p{compose(M){return new L(this,M)}static createSsl(M,U,V,$){var z;if(v(M,"Root certificate"),v(U,"Private key"),v(V,"Certificate chain"),U&&!V)throw new Error("Private key must be given with accompanying certificate chain");if(!U&&V)throw new Error("Certificate chain must be given with accompanying private key");const W=(0,c.createSecureContext)({ca:(z=M??(0,d.getDefaultRootsData)())!==null&&z!==void 0?z:void 0,key:U??void 0,cert:V??void 0,ciphers:d.CIPHER_SUITES});return new C(W,$??{})}static createFromSecureContext(M,U){return new C(M,U??{})}static createInsecure(){return new g}}channelCredentials.ChannelCredentials=p;class g extends p{constructor(){super()}compose(M){throw new Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(M){return M instanceof g}_createSecureConnector(M,U,V){return{connect($){return Promise.resolve({socket:$,secure:!1})},waitForReady:()=>Promise.resolve(),getCallCredentials:()=>V??u.CallCredentials.createEmpty(),destroy(){}}}}function w(q,M,U,V){var $,z;const W={secureContext:q};let J=U;if("grpc.http_connect_target"in V){const te=(0,y.parseUri)(V["grpc.http_connect_target"]);te&&(J=te)}const Y=(0,O.getDefaultAuthority)(J),Q=(0,y.splitHostPort)(Y),H=($=Q==null?void 0:Q.host)!==null&&$!==void 0?$:Y;if(W.host=H,M.checkServerIdentity&&(W.checkServerIdentity=M.checkServerIdentity),M.rejectUnauthorized!==void 0&&(W.rejectUnauthorized=M.rejectUnauthorized),W.ALPNProtocols=["h2"],V["grpc.ssl_target_name_override"]){const te=V["grpc.ssl_target_name_override"],ne=(z=W.checkServerIdentity)!==null&&z!==void 0?z:c.checkServerIdentity;W.checkServerIdentity=(oe,ie)=>ne(te,ie),W.servername=te}else W.servername=H;return V["grpc-node.tls_enable_trace"]&&(W.enableTrace=!0),W}class R{constructor(M,U){this.connectionOptions=M,this.callCredentials=U}connect(M){const U=Object.assign({socket:M},this.connectionOptions);return new Promise((V,$)=>{const z=(0,c.connect)(U,()=>{var W;if((!((W=this.connectionOptions.rejectUnauthorized)!==null&&W!==void 0)||W)&&!z.authorized){$(z.authorizationError);return}V({socket:z,secure:!0})});z.on("error",W=>{$(W)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}}class C extends p{constructor(M,U){super(),this.secureContext=M,this.verifyOptions=U}_isSecure(){return!0}_equals(M){return this===M?!0:M instanceof C?this.secureContext===M.secureContext&&this.verifyOptions.checkServerIdentity===M.verifyOptions.checkServerIdentity:!1}_createSecureConnector(M,U,V){const $=w(this.secureContext,this.verifyOptions,M,U);return new R($,V??u.CallCredentials.createEmpty())}}class N extends p{constructor(M,U,V){super(),this.caCertificateProvider=M,this.identityCertificateProvider=U,this.verifyOptions=V,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(M){var U,V;return this===M?!0:M instanceof N?this.caCertificateProvider===M.caCertificateProvider&&this.identityCertificateProvider===M.identityCertificateProvider&&((U=this.verifyOptions)===null||U===void 0?void 0:U.checkServerIdentity)===((V=M.verifyOptions)===null||V===void 0?void 0:V.checkServerIdentity):!1}ref(){var M;this.refcount===0&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(M=this.identityCertificateProvider)===null||M===void 0||M.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1}unref(){var M;this.refcount-=1,this.refcount===0&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(M=this.identityCertificateProvider)===null||M===void 0||M.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_createSecureConnector(M,U,V){return this.ref(),new N.SecureConnectorImpl(this,M,U,V??u.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(const M of this.secureContextWatchers)M(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(M){this.latestCaUpdate=M,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(M){this.latestIdentityUpdate=M,this.maybeUpdateWatchers()}hasReceivedUpdates(){return!(this.latestCaUpdate===void 0||this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(M=>{this.secureContextWatchers.push(M)})}getLatestSecureContext(){var M,U;if(!this.latestCaUpdate||this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return(0,c.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(M=this.latestIdentityUpdate)===null||M===void 0?void 0:M.privateKey,cert:(U=this.latestIdentityUpdate)===null||U===void 0?void 0:U.certificate,ciphers:d.CIPHER_SUITES})}catch(V){return(0,T.log)(E.LogVerbosity.ERROR,"Failed to createSecureContext with error "+V.message),null}}}N.SecureConnectorImpl=class{constructor(q,M,U,V){this.parent=q,this.channelTarget=M,this.options=U,this.callCredentials=V}connect(q){return new Promise((M,U)=>{const V=this.parent.getLatestSecureContext();if(!V){U(new Error("Failed to load credentials"));return}q.closed&&U(new Error("Socket closed while loading credentials"));const $=w(V,this.parent.verifyOptions,this.channelTarget,this.options),z=Object.assign({socket:q},$),W=()=>{U(new Error("Socket closed"))},J=Q=>{U(Q)},Y=(0,c.connect)(z,()=>{var Q;if(Y.removeListener("close",W),Y.removeListener("error",J),(!((Q=this.parent.verifyOptions.rejectUnauthorized)!==null&&Q!==void 0)||Q)&&!Y.authorized){U(Y.authorizationError);return}M({socket:Y,secure:!0})});Y.once("close",W),Y.once("error",J)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};function D(q,M,U){return new N(q,M,U??{})}class L extends p{constructor(M,U){if(super(),this.channelCredentials=M,this.callCredentials=U,!M._isSecure())throw new Error("Cannot compose insecure credentials")}compose(M){const U=this.callCredentials.compose(M);return new L(this.channelCredentials,U)}_isSecure(){return!0}_equals(M){return this===M?!0:M instanceof L?this.channelCredentials._equals(M.channelCredentials)&&this.callCredentials._equals(M.callCredentials):!1}_createSecureConnector(M,U,V){const $=this.callCredentials.compose(V??u.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(M,U,$)}}return channelCredentials}var internalChannel={},resolvingLoadBalancer={},loadBalancer={},hasRequiredLoadBalancer;function requireLoadBalancer(){if(hasRequiredLoadBalancer)return loadBalancer;hasRequiredLoadBalancer=1,Object.defineProperty(loadBalancer,"__esModule",{value:!0}),loadBalancer.createChildChannelControlHelper=d,loadBalancer.registerLoadBalancerType=T,loadBalancer.registerDefaultLoadBalancerType=E,loadBalancer.createLoadBalancer=v,loadBalancer.isLoadBalancerNameRegistered=p,loadBalancer.parseLoadBalancingConfig=g,loadBalancer.getDefaultConfig=w,loadBalancer.selectLbConfigFromList=R;const c=requireLogging(),u=requireConstants$1();function d(C,N){var D,L,q,M,U,V,$,z,W,J;return{createSubchannel:(L=(D=N.createSubchannel)===null||D===void 0?void 0:D.bind(N))!==null&&L!==void 0?L:C.createSubchannel.bind(C),updateState:(M=(q=N.updateState)===null||q===void 0?void 0:q.bind(N))!==null&&M!==void 0?M:C.updateState.bind(C),requestReresolution:(V=(U=N.requestReresolution)===null||U===void 0?void 0:U.bind(N))!==null&&V!==void 0?V:C.requestReresolution.bind(C),addChannelzChild:(z=($=N.addChannelzChild)===null||$===void 0?void 0:$.bind(N))!==null&&z!==void 0?z:C.addChannelzChild.bind(C),removeChannelzChild:(J=(W=N.removeChannelzChild)===null||W===void 0?void 0:W.bind(N))!==null&&J!==void 0?J:C.removeChannelzChild.bind(C)}}const y={};let O=null;function T(C,N,D){y[C]={LoadBalancer:N,LoadBalancingConfig:D}}function E(C){O=C}function v(C,N){const D=C.getLoadBalancerName();return D in y?new y[D].LoadBalancer(N):null}function p(C){return C in y}function g(C){const N=Object.keys(C);if(N.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");const D=N[0];if(D in y)try{return y[D].LoadBalancingConfig.createFromJson(C[D])}catch(L){throw new Error(`${D}: ${L.message}`)}else throw new Error(`Unrecognized load balancing config name ${D}`)}function w(){if(!O)throw new Error("No default load balancer type registered");return new y[O].LoadBalancingConfig}function R(C,N=!1){for(const D of C)try{return g(D)}catch(L){(0,c.log)(u.LogVerbosity.DEBUG,"Config parsing failed with error",L.message);continue}return N&&O?new y[O].LoadBalancingConfig:null}return loadBalancer}var serviceConfig={},hasRequiredServiceConfig;function requireServiceConfig(){if(hasRequiredServiceConfig)return serviceConfig;hasRequiredServiceConfig=1,Object.defineProperty(serviceConfig,"__esModule",{value:!0}),serviceConfig.validateRetryThrottling=p,serviceConfig.validateServiceConfig=w,serviceConfig.extractAndSelectServiceConfig=N;const c=require$$1$5,u=requireConstants$1(),d=/^\d+(\.\d{1,9})?s$/,y="node";function O(D){if("service"in D&&D.service!==""){if(typeof D.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof D.service}`);if("method"in D&&D.method!==""){if(typeof D.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof D.service}`);return{service:D.service,method:D.method}}else return{service:D.service}}else{if("method"in D&&D.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function T(D){if(!("maxAttempts"in D)||!Number.isInteger(D.maxAttempts)||D.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in D)||typeof D.initialBackoff!="string"||!d.test(D.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in D)||typeof D.maxBackoff!="string"||!d.test(D.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in D)||typeof D.backoffMultiplier!="number"||D.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in D&&Array.isArray(D.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(D.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(const L of D.retryableStatusCodes)if(typeof L=="number"){if(!Object.values(u.Status).includes(L))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof L=="string"){if(!Object.values(u.Status).includes(L.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:D.maxAttempts,initialBackoff:D.initialBackoff,maxBackoff:D.maxBackoff,backoffMultiplier:D.backoffMultiplier,retryableStatusCodes:D.retryableStatusCodes}}function E(D){if(!("maxAttempts"in D)||!Number.isInteger(D.maxAttempts)||D.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in D&&(typeof D.hedgingDelay!="string"||!d.test(D.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in D&&Array.isArray(D.nonFatalStatusCodes))for(const q of D.nonFatalStatusCodes)if(typeof q=="number"){if(!Object.values(u.Status).includes(q))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof q=="string"){if(!Object.values(u.Status).includes(q.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");const L={maxAttempts:D.maxAttempts};return D.hedgingDelay&&(L.hedgingDelay=D.hedgingDelay),D.nonFatalStatusCodes&&(L.nonFatalStatusCodes=D.nonFatalStatusCodes),L}function v(D){var L;const q={name:[]};if(!("name"in D)||!Array.isArray(D.name))throw new Error("Invalid method config: invalid name array");for(const M of D.name)q.name.push(O(M));if("waitForReady"in D){if(typeof D.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");q.waitForReady=D.waitForReady}if("timeout"in D)if(typeof D.timeout=="object"){if(!("seconds"in D.timeout)||typeof D.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in D.timeout)||typeof D.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");q.timeout=D.timeout}else if(typeof D.timeout=="string"&&d.test(D.timeout)){const M=D.timeout.substring(0,D.timeout.length-1).split(".");q.timeout={seconds:M[0]|0,nanos:((L=M[1])!==null&&L!==void 0?L:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in D){if(typeof D.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");q.maxRequestBytes=D.maxRequestBytes}if("maxResponseBytes"in D){if(typeof D.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");q.maxResponseBytes=D.maxResponseBytes}if("retryPolicy"in D){if("hedgingPolicy"in D)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");q.retryPolicy=T(D.retryPolicy)}else"hedgingPolicy"in D&&(q.hedgingPolicy=E(D.hedgingPolicy));return q}function p(D){if(!("maxTokens"in D)||typeof D.maxTokens!="number"||D.maxTokens<=0||D.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in D)||typeof D.tokenRatio!="number"||D.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+D.maxTokens.toFixed(3),tokenRatio:+D.tokenRatio.toFixed(3)}}function g(D){if(!(typeof D=="object"&&D!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof D}`);const L=Object.keys(D);if(L.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${L}`);if(L.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[L[0]]:D[L[0]]}}function w(D){const L={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in D)if(typeof D.loadBalancingPolicy=="string")L.loadBalancingPolicy=D.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in D)if(Array.isArray(D.loadBalancingConfig))for(const M of D.loadBalancingConfig)L.loadBalancingConfig.push(g(M));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in D&&Array.isArray(D.methodConfig))for(const M of D.methodConfig)L.methodConfig.push(v(M));"retryThrottling"in D&&(L.retryThrottling=p(D.retryThrottling));const q=[];for(const M of L.methodConfig)for(const U of M.name){for(const V of q)if(U.service===V.service&&U.method===V.method)throw new Error(`Invalid service config: duplicate name ${U.service}/${U.method}`);q.push(U)}return L}function R(D){if(!("serviceConfig"in D))throw new Error("Invalid service config choice: missing service config");const L={serviceConfig:w(D.serviceConfig)};if("clientLanguage"in D)if(Array.isArray(D.clientLanguage)){L.clientLanguage=[];for(const M of D.clientLanguage)if(typeof M=="string")L.clientLanguage.push(M);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in D)if(Array.isArray(D.clientHostname)){L.clientHostname=[];for(const M of D.clientHostname)if(typeof M=="string")L.clientHostname.push(M);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in D)if(typeof D.percentage=="number"&&0<=D.percentage&&D.percentage<=100)L.percentage=D.percentage;else throw new Error("Invalid service config choice: invalid percentage");const q=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const M in D)if(!q.includes(M))throw new Error(`Invalid service config choice: unexpected field ${M}`);return L}function C(D,L){if(!Array.isArray(D))throw new Error("Invalid service config list");for(const q of D){const M=R(q);if(!(typeof M.percentage=="number"&&L>M.percentage)){if(Array.isArray(M.clientHostname)){let U=!1;for(const V of M.clientHostname)V===c.hostname()&&(U=!0);if(!U)continue}if(Array.isArray(M.clientLanguage)){let U=!1;for(const V of M.clientLanguage)V===y&&(U=!0);if(!U)continue}return M.serviceConfig}}throw new Error("No matching service config found")}function N(D,L){for(const q of D)if(q.length>0&&q[0].startsWith("grpc_config=")){const M=q.join("").substring(12),U=JSON.parse(M);return C(U,L)}return null}return serviceConfig}var connectivityState={},hasRequiredConnectivityState;function requireConnectivityState(){if(hasRequiredConnectivityState)return connectivityState;hasRequiredConnectivityState=1,Object.defineProperty(connectivityState,"__esModule",{value:!0}),connectivityState.ConnectivityState=void 0;var c;return(function(u){u[u.IDLE=0]="IDLE",u[u.CONNECTING=1]="CONNECTING",u[u.READY=2]="READY",u[u.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",u[u.SHUTDOWN=4]="SHUTDOWN"})(c||(connectivityState.ConnectivityState=c={})),connectivityState}var picker={},hasRequiredPicker;function requirePicker(){if(hasRequiredPicker)return picker;hasRequiredPicker=1,Object.defineProperty(picker,"__esModule",{value:!0}),picker.QueuePicker=picker.UnavailablePicker=picker.PickResultType=void 0;const c=requireMetadata(),u=requireConstants$1();var d;(function(T){T[T.COMPLETE=0]="COMPLETE",T[T.QUEUE=1]="QUEUE",T[T.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",T[T.DROP=3]="DROP"})(d||(picker.PickResultType=d={}));class y{constructor(E){this.status=Object.assign({code:u.Status.UNAVAILABLE,details:"No connection established",metadata:new c.Metadata},E)}pick(E){return{pickResultType:d.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}picker.UnavailablePicker=y;class O{constructor(E,v){this.loadBalancer=E,this.childPicker=v,this.calledExitIdle=!1}pick(E){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(E):{pickResultType:d.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}return picker.QueuePicker=O,picker}var backoffTimeout={},hasRequiredBackoffTimeout;function requireBackoffTimeout(){if(hasRequiredBackoffTimeout)return backoffTimeout;hasRequiredBackoffTimeout=1,Object.defineProperty(backoffTimeout,"__esModule",{value:!0}),backoffTimeout.BackoffTimeout=void 0;const c=requireConstants$1(),u=requireLogging(),d="backoff",y=1e3,O=1.6,T=12e4,E=.2;function v(g,w){return Math.random()*(w-g)+g}class p{constructor(w,R){this.callback=w,this.initialDelay=y,this.multiplier=O,this.maxDelay=T,this.jitter=E,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=p.getNextId(),R&&(R.initialDelay&&(this.initialDelay=R.initialDelay),R.multiplier&&(this.multiplier=R.multiplier),R.jitter&&(this.jitter=R.jitter),R.maxDelay&&(this.maxDelay=R.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(w){u.trace(c.LogVerbosity.DEBUG,d,"{"+this.id+"} "+w)}runTimer(w){var R,C;this.trace("runTimer(delay="+w+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+w),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},w),this.hasRef||(C=(R=this.timerId).unref)===null||C===void 0||C.call(R)}runOnce(){this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);const w=Math.min(this.nextDelay*this.multiplier,this.maxDelay),R=w*this.jitter;this.nextDelay=w+v(-R,R)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){const w=new Date,R=this.startTime;R.setMilliseconds(R.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),w<R?this.runTimer(R.getTime()-w.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var w,R;this.hasRef=!0,(R=(w=this.timerId).ref)===null||R===void 0||R.call(w)}unref(){var w,R;this.hasRef=!1,(R=(w=this.timerId).unref)===null||R===void 0||R.call(w)}getEndTime(){return this.endTime}}return backoffTimeout.BackoffTimeout=p,p.nextId=0,backoffTimeout}var loadBalancerChildHandler={},hasRequiredLoadBalancerChildHandler;function requireLoadBalancerChildHandler(){if(hasRequiredLoadBalancerChildHandler)return loadBalancerChildHandler;hasRequiredLoadBalancerChildHandler=1,Object.defineProperty(loadBalancerChildHandler,"__esModule",{value:!0}),loadBalancerChildHandler.ChildLoadBalancerHandler=void 0;const c=requireLoadBalancer(),u=requireConnectivityState(),d="child_load_balancer_helper";class y{constructor(T){this.channelControlHelper=T,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(E){this.parent=E,this.child=null}createSubchannel(E,v){return this.parent.channelControlHelper.createSubchannel(E,v)}updateState(E,v,p){var g;if(this.calledByPendingChild()){if(E===u.ConnectivityState.CONNECTING)return;(g=this.parent.currentChild)===null||g===void 0||g.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(E,v,p)}requestReresolution(){var E;const v=(E=this.parent.pendingChild)!==null&&E!==void 0?E:this.parent.currentChild;this.child===v&&this.parent.channelControlHelper.requestReresolution()}setChild(E){this.child=E}addChannelzChild(E){this.parent.channelControlHelper.addChannelzChild(E)}removeChannelzChild(E){this.parent.channelControlHelper.removeChannelzChild(E)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(T,E){return T.getLoadBalancerName()!==E.getLoadBalancerName()}updateAddressList(T,E,v,p){let g;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,E)){const w=new this.ChildPolicyHelper(this),R=(0,c.createLoadBalancer)(E,w);w.setChild(R),this.currentChild===null?(this.currentChild=R,g=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=R,g=this.pendingChild)}else this.pendingChild===null?g=this.currentChild:g=this.pendingChild;return this.latestConfig=E,g.updateAddressList(T,E,v,p)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return d}}return loadBalancerChildHandler.ChildLoadBalancerHandler=y,loadBalancerChildHandler}var hasRequiredResolvingLoadBalancer;function requireResolvingLoadBalancer(){if(hasRequiredResolvingLoadBalancer)return resolvingLoadBalancer;hasRequiredResolvingLoadBalancer=1,Object.defineProperty(resolvingLoadBalancer,"__esModule",{value:!0}),resolvingLoadBalancer.ResolvingLoadBalancer=void 0;const c=requireLoadBalancer(),u=requireServiceConfig(),d=requireConnectivityState(),y=requireResolver(),O=requirePicker(),T=requireBackoffTimeout(),E=requireConstants$1(),v=requireMetadata(),p=requireLogging(),g=requireConstants$1(),w=requireUriParser(),R=requireLoadBalancerChildHandler(),C="resolving_load_balancer";function N(V){p.trace(g.LogVerbosity.DEBUG,C,V)}const D=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function L(V,$,z,W){for(const J of z.name)switch(W){case"EMPTY":if(!J.service&&!J.method)return!0;break;case"SERVICE":if(J.service===V&&!J.method)return!0;break;case"SERVICE_AND_METHOD":if(J.service===V&&J.method===$)return!0}return!1}function q(V,$,z,W){for(const J of z)if(L(V,$,J,W))return J;return null}function M(V){return{invoke($,z){var W,J;const Y=$.split("/").filter(te=>te.length>0),Q=(W=Y[0])!==null&&W!==void 0?W:"",H=(J=Y[1])!==null&&J!==void 0?J:"";if(V&&V.methodConfig)for(const te of D){const ne=q(Q,H,V.methodConfig,te);if(ne)return{methodConfig:ne,pickInformation:{},status:E.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:E.Status.OK,dynamicFilterFactories:[]}},unref(){}}}class U{constructor($,z,W,J,Y){this.target=$,this.channelControlHelper=z,this.channelOptions=W,this.onSuccessfulResolution=J,this.onFailedResolution=Y,this.latestChildState=d.ConnectivityState.IDLE,this.latestChildPicker=new O.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=d.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,W["grpc.service_config"]?this.defaultServiceConfig=(0,u.validateServiceConfig)(JSON.parse(W["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(d.ConnectivityState.IDLE,new O.QueuePicker(this),null),this.childLoadBalancer=new R.ChildLoadBalancerHandler({createSubchannel:z.createSubchannel.bind(z),requestReresolution:()=>{this.backoffTimeout.isRunning()?(N("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(H,te,ne)=>{this.latestChildState=H,this.latestChildPicker=te,this.latestChildErrorMessage=ne,this.updateState(H,te,ne)},addChannelzChild:z.addChannelzChild.bind(z),removeChannelzChild:z.removeChannelzChild.bind(z)}),this.innerResolver=(0,y.createResolver)($,this.handleResolverResult.bind(this),W);const Q={initialDelay:W["grpc.initial_reconnect_backoff_ms"],maxDelay:W["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new T.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},Q),this.backoffTimeout.unref()}handleResolverResult($,z,W,J){var Y,Q;this.backoffTimeout.stop(),this.backoffTimeout.reset();let H=!0,te=null;if(W===null?te=this.defaultServiceConfig:W.ok?te=W.value:this.previousServiceConfig!==null?te=this.previousServiceConfig:(H=!1,this.handleResolutionFailure(W.error)),te!==null){const ne=(Y=te==null?void 0:te.loadBalancingConfig)!==null&&Y!==void 0?Y:[],oe=(0,c.selectLbConfigFromList)(ne,!0);oe===null?(H=!1,this.handleResolutionFailure({code:E.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new v.Metadata})):H=this.childLoadBalancer.updateAddressList($,oe,Object.assign(Object.assign({},this.channelOptions),z),J)}return H&&this.onSuccessfulResolution(te,(Q=z[y.CHANNEL_ARGS_CONFIG_SELECTOR_KEY])!==null&&Q!==void 0?Q:M(te)),H}updateResolution(){this.innerResolver.updateResolution(),this.currentState===d.ConnectivityState.IDLE&&this.updateState(d.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce()}updateState($,z,W){N((0,w.uriToString)(this.target)+" "+d.ConnectivityState[this.currentState]+" -> "+d.ConnectivityState[$]),$===d.ConnectivityState.IDLE&&(z=new O.QueuePicker(this,z)),this.currentState=$,this.channelControlHelper.updateState($,z,W)}handleResolutionFailure($){this.latestChildState===d.ConnectivityState.IDLE&&(this.updateState(d.ConnectivityState.TRANSIENT_FAILURE,new O.UnavailablePicker($),$.details),this.onFailedResolution($))}exitIdle(){(this.currentState===d.ConnectivityState.IDLE||this.currentState===d.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList($,z){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=d.ConnectivityState.IDLE,this.latestChildPicker=new O.QueuePicker(this),this.currentState=d.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}return resolvingLoadBalancer.ResolvingLoadBalancer=U,resolvingLoadBalancer}var subchannelPool={},channelOptions={},hasRequiredChannelOptions;function requireChannelOptions(){if(hasRequiredChannelOptions)return channelOptions;hasRequiredChannelOptions=1,Object.defineProperty(channelOptions,"__esModule",{value:!0}),channelOptions.recognizedOptions=void 0,channelOptions.channelOptionsEqual=c,channelOptions.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0,"grpc.server_call_metric_recording":!0};function c(u,d){const y=Object.keys(u).sort(),O=Object.keys(d).sort();if(y.length!==O.length)return!1;for(let T=0;T<y.length;T+=1)if(y[T]!==O[T]||u[y[T]]!==d[O[T]])return!1;return!0}return channelOptions}var subchannel={},subchannelAddress={},hasRequiredSubchannelAddress;function requireSubchannelAddress(){if(hasRequiredSubchannelAddress)return subchannelAddress;hasRequiredSubchannelAddress=1,Object.defineProperty(subchannelAddress,"__esModule",{value:!0}),subchannelAddress.EndpointMap=void 0,subchannelAddress.isTcpSubchannelAddress=u,subchannelAddress.subchannelAddressEqual=d,subchannelAddress.subchannelAddressToString=y,subchannelAddress.stringToSubchannelAddress=T,subchannelAddress.endpointEqual=E,subchannelAddress.endpointToString=v,subchannelAddress.endpointHasAddress=p;const c=require$$0$a;function u(R){return"port"in R}function d(R,C){return!R&&!C?!0:!R||!C?!1:u(R)?u(C)&&R.host===C.host&&R.port===C.port:!u(C)&&R.path===C.path}function y(R){return u(R)?(0,c.isIPv6)(R.host)?"["+R.host+"]:"+R.port:R.host+":"+R.port:R.path}const O=443;function T(R,C){return(0,c.isIP)(R)?{host:R,port:C??O}:{path:R}}function E(R,C){if(R.addresses.length!==C.addresses.length)return!1;for(let N=0;N<R.addresses.length;N++)if(!d(R.addresses[N],C.addresses[N]))return!1;return!0}function v(R){return"["+R.addresses.map(y).join(", ")+"]"}function p(R,C){for(const N of R.addresses)if(d(N,C))return!0;return!1}function g(R,C){if(R.addresses.length!==C.addresses.length)return!1;for(const N of R.addresses){let D=!1;for(const L of C.addresses)if(d(N,L)){D=!0;break}if(!D)return!1}return!0}class w{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(C){for(const N of this.map)if(p(N.key,C))return N.value}deleteMissing(C){const N=[];for(const D of this.map){let L=!1;for(const q of C)g(q,D.key)&&(L=!0);L||(N.push(D.value),this.map.delete(D))}return N}get(C){for(const N of this.map)if(g(C,N.key))return N.value}set(C,N){for(const D of this.map)if(g(C,D.key)){D.value=N;return}this.map.add({key:C,value:N})}delete(C){for(const N of this.map)if(g(C,N.key)){this.map.delete(N);return}}has(C){for(const N of this.map)if(g(C,N.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(const C of this.map)yield C.key}*values(){for(const C of this.map)yield C.value}*entries(){for(const C of this.map)yield[C.key,C.value]}}return subchannelAddress.EndpointMap=w,subchannelAddress}var channelz={},extendStatics=function(c,u){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var O in y)Object.prototype.hasOwnProperty.call(y,O)&&(d[O]=y[O])},extendStatics(c,u)};function __extends$1(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");extendStatics(c,u);function d(){this.constructor=c}c.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}function __generator(c,u){var d={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},y,O,T,E;return E={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function v(g){return function(w){return p([g,w])}}function p(g){if(y)throw new TypeError("Generator is already executing.");for(;E&&(E=0,g[0]&&(d=0)),d;)try{if(y=1,O&&(T=g[0]&2?O.return:g[0]?O.throw||((T=O.return)&&T.call(O),0):O.next)&&!(T=T.call(O,g[1])).done)return T;switch(O=0,T&&(g=[g[0]&2,T.value]),g[0]){case 0:case 1:T=g;break;case 4:return d.label++,{value:g[1],done:!1};case 5:d.label++,O=g[1],g=[0];continue;case 7:g=d.ops.pop(),d.trys.pop();continue;default:if(T=d.trys,!(T=T.length>0&&T[T.length-1])&&(g[0]===6||g[0]===2)){d=0;continue}if(g[0]===3&&(!T||g[1]>T[0]&&g[1]<T[3])){d.label=g[1];break}if(g[0]===6&&d.label<T[1]){d.label=T[1],T=g;break}if(T&&d.label<T[2]){d.label=T[2],d.ops.push(g);break}T[2]&&d.ops.pop(),d.trys.pop();continue}g=u.call(c,d)}catch(w){g=[6,w],O=0}finally{y=T=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var TreeNode=(function(){function c(u,d,y){y===void 0&&(y=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=u,this.o=d,this.l=y}return c.prototype.v=function(){var u=this,d=u.h.h===u;if(d&&u.l===1)u=u.i;else if(u.t)for(u=u.t;u.i;)u=u.i;else{if(d)return u.h;for(var y=u.h;y.t===u;)u=y,y=u.h;u=y}return u},c.prototype.p=function(){var u=this;if(u.i){for(u=u.i;u.t;)u=u.t;return u}else{for(var d=u.h;d.i===u;)u=d,d=u.h;return u.i!==d?d:u}},c.prototype.T=function(){var u=this.h,d=this.i,y=d.t;return u.h===this?u.h=d:u.t===this?u.t=d:u.i=d,d.h=u,d.t=this,this.h=d,this.i=y,y&&(y.h=this),d},c.prototype.I=function(){var u=this.h,d=this.t,y=d.i;return u.h===this?u.h=d:u.t===this?u.t=d:u.i=d,d.h=u,d.i=this,this.h=d,this.t=y,y&&(y.h=this),d},c})(),TreeNodeEnableIndex=(function(c){__extends$1(u,c);function u(){var d=c!==null&&c.apply(this,arguments)||this;return d.O=1,d}return u.prototype.T=function(){var d=c.prototype.T.call(this);return this.M(),d.M(),d},u.prototype.I=function(){var d=c.prototype.I.call(this);return this.M(),d.M(),d},u.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},u})(TreeNode),ContainerIterator=(function(){function c(u){u===void 0&&(u=0),this.iteratorType=u}return c.prototype.equals=function(u){return this.C===u.C},c})(),Base=(function(){function c(){this._=0}return Object.defineProperty(c.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),c.prototype.size=function(){return this._},c.prototype.empty=function(){return this._===0},c})(),Container=(function(c){__extends$1(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u})(Base);function throwIteratorAccessError(){throw new RangeError("Iterator access denied!")}var TreeContainer=(function(c){__extends$1(u,c);function u(d,y){d===void 0&&(d=function(T,E){return T<E?-1:T>E?1:0}),y===void 0&&(y=!1);var O=c.call(this)||this;return O.N=void 0,O.g=d,O.enableIndex=y,O.S=y?TreeNodeEnableIndex:TreeNode,O.A=new O.S,O}return u.prototype.m=function(d,y){for(var O=this.A;d;){var T=this.g(d.u,y);if(T<0)d=d.i;else if(T>0)O=d,d=d.t;else return d}return O},u.prototype.B=function(d,y){for(var O=this.A;d;){var T=this.g(d.u,y);T<=0?d=d.i:(O=d,d=d.t)}return O},u.prototype.j=function(d,y){for(var O=this.A;d;){var T=this.g(d.u,y);if(T<0)O=d,d=d.i;else if(T>0)d=d.t;else return d}return O},u.prototype.k=function(d,y){for(var O=this.A;d;){var T=this.g(d.u,y);T<0?(O=d,d=d.i):d=d.t}return O},u.prototype.R=function(d){for(;;){var y=d.h;if(y===this.A)return;if(d.l===1){d.l=0;return}if(d===y.t){var O=y.i;if(O.l===1)O.l=0,y.l=1,y===this.N?this.N=y.T():y.T();else if(O.i&&O.i.l===1){O.l=y.l,y.l=0,O.i.l=0,y===this.N?this.N=y.T():y.T();return}else O.t&&O.t.l===1?(O.l=1,O.t.l=0,O.I()):(O.l=1,d=y)}else{var O=y.t;if(O.l===1)O.l=0,y.l=1,y===this.N?this.N=y.I():y.I();else if(O.t&&O.t.l===1){O.l=y.l,y.l=0,O.t.l=0,y===this.N?this.N=y.I():y.I();return}else O.i&&O.i.l===1?(O.l=1,O.i.l=0,O.T()):(O.l=1,d=y)}}},u.prototype.G=function(d){if(this._===1){this.clear();return}for(var y=d;y.t||y.i;){if(y.i)for(y=y.i;y.t;)y=y.t;else y=y.t;var O=d.u;d.u=y.u,y.u=O;var T=d.o;d.o=y.o,y.o=T,d=y}this.A.t===y?this.A.t=y.h:this.A.i===y&&(this.A.i=y.h),this.R(y);var E=y.h;if(y===E.t?E.t=void 0:E.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;E!==this.A;)E.O-=1,E=E.h},u.prototype.P=function(d){for(var y=typeof d=="number"?d:void 0,O=typeof d=="function"?d:void 0,T=typeof d>"u"?[]:void 0,E=0,v=this.N,p=[];p.length||v;)if(v)p.push(v),v=v.t;else{if(v=p.pop(),E===y)return v;T&&T.push(v),O&&O(v,E,this),E+=1,v=v.i}return T},u.prototype.q=function(d){for(;;){var y=d.h;if(y.l===0)return;var O=y.h;if(y===O.t){var T=O.i;if(T&&T.l===1){if(T.l=y.l=0,O===this.N)return;O.l=1,d=O;continue}else if(d===y.i){if(d.l=0,d.t&&(d.t.h=y),d.i&&(d.i.h=O),y.i=d.t,O.t=d.i,d.t=y,d.i=O,O===this.N)this.N=d,this.A.h=d;else{var E=O.h;E.t===O?E.t=d:E.i=d}d.h=O.h,y.h=d,O.h=d,O.l=1}else{y.l=0,O===this.N?this.N=O.I():O.I(),O.l=1;return}}else{var T=O.t;if(T&&T.l===1){if(T.l=y.l=0,O===this.N)return;O.l=1,d=O;continue}else if(d===y.t){if(d.l=0,d.t&&(d.t.h=O),d.i&&(d.i.h=y),O.i=d.t,y.t=d.i,d.t=O,d.i=y,O===this.N)this.N=d,this.A.h=d;else{var E=O.h;E.t===O?E.t=d:E.i=d}d.h=O.h,y.h=d,O.h=d,O.l=1}else{y.l=0,O===this.N?this.N=O.T():O.T(),O.l=1;return}}this.enableIndex&&(y.M(),O.M(),d.M());return}},u.prototype.D=function(d,y,O){if(this.N===void 0)return this._+=1,this.N=new this.S(d,y,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var T,E=this.A.t,v=this.g(E.u,d);if(v===0)return E.o=y,this._;if(v>0)E.t=new this.S(d,y),E.t.h=E,T=E.t,this.A.t=T;else{var p=this.A.i,g=this.g(p.u,d);if(g===0)return p.o=y,this._;if(g<0)p.i=new this.S(d,y),p.i.h=p,T=p.i,this.A.i=T;else{if(O!==void 0){var w=O.C;if(w!==this.A){var R=this.g(w.u,d);if(R===0)return w.o=y,this._;if(R>0){var C=w.v(),N=this.g(C.u,d);if(N===0)return C.o=y,this._;N<0&&(T=new this.S(d,y),C.i===void 0?(C.i=T,T.h=C):(w.t=T,T.h=w))}}}if(T===void 0)for(T=this.N;;){var D=this.g(T.u,d);if(D>0){if(T.t===void 0){T.t=new this.S(d,y),T.t.h=T,T=T.t;break}T=T.t}else if(D<0){if(T.i===void 0){T.i=new this.S(d,y),T.i.h=T,T=T.i;break}T=T.i}else return T.o=y,this._}}}if(this.enableIndex)for(var L=T.h;L!==this.A;)L.O+=1,L=L.h;return this.q(T),this._+=1,this._},u.prototype.F=function(d,y){for(;d;){var O=this.g(d.u,y);if(O<0)d=d.i;else if(O>0)d=d.t;else return d}return d||this.A},u.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},u.prototype.updateKeyByIterator=function(d,y){var O=d.C;if(O===this.A&&throwIteratorAccessError(),this._===1)return O.u=y,!0;var T=O.p().u;if(O===this.A.t)return this.g(T,y)>0?(O.u=y,!0):!1;var E=O.v().u;return O===this.A.i?this.g(E,y)<0?(O.u=y,!0):!1:this.g(E,y)>=0||this.g(T,y)<=0?!1:(O.u=y,!0)},u.prototype.eraseElementByPos=function(d){if(d<0||d>this._-1)throw new RangeError;var y=this.P(d);return this.G(y),this._},u.prototype.eraseElementByKey=function(d){if(this._===0)return!1;var y=this.F(this.N,d);return y===this.A?!1:(this.G(y),!0)},u.prototype.eraseElementByIterator=function(d){var y=d.C;y===this.A&&throwIteratorAccessError();var O=y.i===void 0,T=d.iteratorType===0;return T?O&&d.next():(!O||y.t===void 0)&&d.next(),this.G(y),d},u.prototype.getHeight=function(){if(this._===0)return 0;function d(y){return y?Math.max(d(y.t),d(y.i))+1:0}return d(this.N)},u})(Container),TreeIterator=(function(c){__extends$1(u,c);function u(d,y,O){var T=c.call(this,O)||this;return T.C=d,T.A=y,T.iteratorType===0?(T.pre=function(){return this.C===this.A.t&&throwIteratorAccessError(),this.C=this.C.v(),this},T.next=function(){return this.C===this.A&&throwIteratorAccessError(),this.C=this.C.p(),this}):(T.pre=function(){return this.C===this.A.i&&throwIteratorAccessError(),this.C=this.C.p(),this},T.next=function(){return this.C===this.A&&throwIteratorAccessError(),this.C=this.C.v(),this}),T}return Object.defineProperty(u.prototype,"index",{get:function(){var d=this.C,y=this.A.h;if(d===this.A)return y?y.O-1:0;var O=0;for(d.t&&(O+=d.t.O);d!==y;){var T=d.h;d===T.i&&(O+=1,T.t&&(O+=T.t.O)),d=T}return O},enumerable:!1,configurable:!0}),u.prototype.isAccessible=function(){return this.C!==this.A},u})(ContainerIterator),OrderedMapIterator=(function(c){__extends$1(u,c);function u(d,y,O,T){var E=c.call(this,d,y,T)||this;return E.container=O,E}return Object.defineProperty(u.prototype,"pointer",{get:function(){this.C===this.A&&throwIteratorAccessError();var d=this;return new Proxy([],{get:function(y,O){return O==="0"?d.C.u:O==="1"?d.C.o:(y[0]=d.C.u,y[1]=d.C.o,y[O])},set:function(y,O,T){if(O!=="1")throw new TypeError("prop must be 1");return d.C.o=T,!0}})},enumerable:!1,configurable:!0}),u.prototype.copy=function(){return new u(this.C,this.A,this.container,this.iteratorType)},u})(TreeIterator),OrderedMap=(function(c){__extends$1(u,c);function u(d,y,O){d===void 0&&(d=[]);var T=c.call(this,y,O)||this,E=T;return d.forEach((function(v){E.setElement(v[0],v[1])})),T}return u.prototype.begin=function(){return new OrderedMapIterator(this.A.t||this.A,this.A,this)},u.prototype.end=function(){return new OrderedMapIterator(this.A,this.A,this)},u.prototype.rBegin=function(){return new OrderedMapIterator(this.A.i||this.A,this.A,this,1)},u.prototype.rEnd=function(){return new OrderedMapIterator(this.A,this.A,this,1)},u.prototype.front=function(){if(this._!==0){var d=this.A.t;return[d.u,d.o]}},u.prototype.back=function(){if(this._!==0){var d=this.A.i;return[d.u,d.o]}},u.prototype.lowerBound=function(d){var y=this.m(this.N,d);return new OrderedMapIterator(y,this.A,this)},u.prototype.upperBound=function(d){var y=this.B(this.N,d);return new OrderedMapIterator(y,this.A,this)},u.prototype.reverseLowerBound=function(d){var y=this.j(this.N,d);return new OrderedMapIterator(y,this.A,this)},u.prototype.reverseUpperBound=function(d){var y=this.k(this.N,d);return new OrderedMapIterator(y,this.A,this)},u.prototype.forEach=function(d){this.P((function(y,O,T){d([y.u,y.o],O,T)}))},u.prototype.setElement=function(d,y,O){return this.D(d,y,O)},u.prototype.getElementByPos=function(d){if(d<0||d>this._-1)throw new RangeError;var y=this.P(d);return[y.u,y.o]},u.prototype.find=function(d){var y=this.F(this.N,d);return new OrderedMapIterator(y,this.A,this)},u.prototype.getElementByKey=function(d){var y=this.F(this.N,d);return y.o},u.prototype.union=function(d){var y=this;return d.forEach((function(O){y.setElement(O[0],O[1])})),this._},u.prototype[Symbol.iterator]=function(){var d,y,O,T;return __generator(this,(function(E){switch(E.label){case 0:d=this._,y=this.P(),O=0,E.label=1;case 1:return O<d?(T=y[O],[4,[T.u,T.o]]):[3,4];case 2:E.sent(),E.label=3;case 3:return++O,[3,1];case 4:return[2]}}))},u})(TreeContainer);const esm$1=Object.freeze(Object.defineProperty({__proto__:null,OrderedMap},Symbol.toStringTag,{value:"Module"})),require$$1$3=getAugmentedNamespace(esm$1);var admin={},hasRequiredAdmin;function requireAdmin(){if(hasRequiredAdmin)return admin;hasRequiredAdmin=1,Object.defineProperty(admin,"__esModule",{value:!0}),admin.registerAdminService=u,admin.addAdminServicesToServer=d;const c=[];function u(y,O){c.push({getServiceDefinition:y,getHandlers:O})}function d(y){for(const{getServiceDefinition:O,getHandlers:T}of c)y.addService(O(),T())}return admin}var makeClient={},client={},call={},hasRequiredCall;function requireCall(){if(hasRequiredCall)return call;hasRequiredCall=1,Object.defineProperty(call,"__esModule",{value:!0}),call.ClientDuplexStreamImpl=call.ClientWritableStreamImpl=call.ClientReadableStreamImpl=call.ClientUnaryCallImpl=void 0,call.callErrorFromStatus=y;const c=require$$0$8,u=require$$0$6,d=requireConstants$1();function y(p,g){const w=`${p.code} ${d.Status[p.code]}: ${p.details}`,C=`${new Error(w).stack}
for call at
${g}`;return Object.assign(new Error(w),p,{stack:C})}class O extends c.EventEmitter{constructor(){super()}cancel(){var g;(g=this.call)===null||g===void 0||g.cancelWithStatus(d.Status.CANCELLED,"Cancelled on client")}getPeer(){var g,w;return(w=(g=this.call)===null||g===void 0?void 0:g.getPeer())!==null&&w!==void 0?w:"unknown"}getAuthContext(){var g,w;return(w=(g=this.call)===null||g===void 0?void 0:g.getAuthContext())!==null&&w!==void 0?w:null}}call.ClientUnaryCallImpl=O;class T extends u.Readable{constructor(g){super({objectMode:!0}),this.deserialize=g}cancel(){var g;(g=this.call)===null||g===void 0||g.cancelWithStatus(d.Status.CANCELLED,"Cancelled on client")}getPeer(){var g,w;return(w=(g=this.call)===null||g===void 0?void 0:g.getPeer())!==null&&w!==void 0?w:"unknown"}getAuthContext(){var g,w;return(w=(g=this.call)===null||g===void 0?void 0:g.getAuthContext())!==null&&w!==void 0?w:null}_read(g){var w;(w=this.call)===null||w===void 0||w.startRead()}}call.ClientReadableStreamImpl=T;class E extends u.Writable{constructor(g){super({objectMode:!0}),this.serialize=g}cancel(){var g;(g=this.call)===null||g===void 0||g.cancelWithStatus(d.Status.CANCELLED,"Cancelled on client")}getPeer(){var g,w;return(w=(g=this.call)===null||g===void 0?void 0:g.getPeer())!==null&&w!==void 0?w:"unknown"}getAuthContext(){var g,w;return(w=(g=this.call)===null||g===void 0?void 0:g.getAuthContext())!==null&&w!==void 0?w:null}_write(g,w,R){var C;const N={callback:R},D=Number(w);Number.isNaN(D)||(N.flags=D),(C=this.call)===null||C===void 0||C.sendMessageWithContext(N,g)}_final(g){var w;(w=this.call)===null||w===void 0||w.halfClose(),g()}}call.ClientWritableStreamImpl=E;class v extends u.Duplex{constructor(g,w){super({objectMode:!0}),this.serialize=g,this.deserialize=w}cancel(){var g;(g=this.call)===null||g===void 0||g.cancelWithStatus(d.Status.CANCELLED,"Cancelled on client")}getPeer(){var g,w;return(w=(g=this.call)===null||g===void 0?void 0:g.getPeer())!==null&&w!==void 0?w:"unknown"}getAuthContext(){var g,w;return(w=(g=this.call)===null||g===void 0?void 0:g.getAuthContext())!==null&&w!==void 0?w:null}_read(g){var w;(w=this.call)===null||w===void 0||w.startRead()}_write(g,w,R){var C;const N={callback:R},D=Number(w);Number.isNaN(D)||(N.flags=D),(C=this.call)===null||C===void 0||C.sendMessageWithContext(N,g)}_final(g){var w;(w=this.call)===null||w===void 0||w.halfClose(),g()}}return call.ClientDuplexStreamImpl=v,call}var clientInterceptors={},callInterface={},hasRequiredCallInterface;function requireCallInterface(){if(hasRequiredCallInterface)return callInterface;hasRequiredCallInterface=1,Object.defineProperty(callInterface,"__esModule",{value:!0}),callInterface.InterceptingListenerImpl=void 0,callInterface.statusOrFromValue=u,callInterface.statusOrFromError=d,callInterface.isInterceptingListener=y;const c=requireMetadata();function u(T){return{ok:!0,value:T}}function d(T){var E;return{ok:!1,error:Object.assign(Object.assign({},T),{metadata:(E=T.metadata)!==null&&E!==void 0?E:new c.Metadata})}}function y(T){return T.onReceiveMetadata!==void 0&&T.onReceiveMetadata.length===1}class O{constructor(E,v){this.listener=E,this.nextListener=v,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(E){this.processingMetadata=!0,this.listener.onReceiveMetadata(E,v=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(v),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(E){this.processingMessage=!0,this.listener.onReceiveMessage(E,v=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=v,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(v),this.processPendingStatus())})}onReceiveStatus(E){this.listener.onReceiveStatus(E,v=>{this.processingMetadata||this.processingMessage?this.pendingStatus=v:this.nextListener.onReceiveStatus(v)})}}return callInterface.InterceptingListenerImpl=O,callInterface}var hasRequiredClientInterceptors;function requireClientInterceptors(){if(hasRequiredClientInterceptors)return clientInterceptors;hasRequiredClientInterceptors=1,Object.defineProperty(clientInterceptors,"__esModule",{value:!0}),clientInterceptors.InterceptingCall=clientInterceptors.RequesterBuilder=clientInterceptors.ListenerBuilder=clientInterceptors.InterceptorConfigurationError=void 0,clientInterceptors.getInterceptingCall=L;const c=requireMetadata(),u=requireCallInterface(),d=requireConstants$1(),y=requireError();class O extends Error{constructor(M){super(M),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,O)}}clientInterceptors.InterceptorConfigurationError=O;class T{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(M){return this.metadata=M,this}withOnReceiveMessage(M){return this.message=M,this}withOnReceiveStatus(M){return this.status=M,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}clientInterceptors.ListenerBuilder=T;class E{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(M){return this.start=M,this}withSendMessage(M){return this.message=M,this}withHalfClose(M){return this.halfClose=M,this}withCancel(M){return this.cancel=M,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}clientInterceptors.RequesterBuilder=E;const v={onReceiveMetadata:(q,M)=>{M(q)},onReceiveMessage:(q,M)=>{M(q)},onReceiveStatus:(q,M)=>{M(q)}},p={start:(q,M,U)=>{U(q,M)},sendMessage:(q,M)=>{M(q)},halfClose:q=>{q()},cancel:q=>{q()}};class g{constructor(M,U){var V,$,z,W;this.nextCall=M,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,U?this.requester={start:(V=U.start)!==null&&V!==void 0?V:p.start,sendMessage:($=U.sendMessage)!==null&&$!==void 0?$:p.sendMessage,halfClose:(z=U.halfClose)!==null&&z!==void 0?z:p.halfClose,cancel:(W=U.cancel)!==null&&W!==void 0?W:p.cancel}:this.requester=p}cancelWithStatus(M,U){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(M,U)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(M,U){var V,$,z,W,J,Y;const Q={onReceiveMetadata:($=(V=U==null?void 0:U.onReceiveMetadata)===null||V===void 0?void 0:V.bind(U))!==null&&$!==void 0?$:(H=>{}),onReceiveMessage:(W=(z=U==null?void 0:U.onReceiveMessage)===null||z===void 0?void 0:z.bind(U))!==null&&W!==void 0?W:(H=>{}),onReceiveStatus:(Y=(J=U==null?void 0:U.onReceiveStatus)===null||J===void 0?void 0:J.bind(U))!==null&&Y!==void 0?Y:(H=>{})};this.processingMetadata=!0,this.requester.start(M,Q,(H,te)=>{var ne,oe,ie;this.processingMetadata=!1;let ee;if((0,u.isInterceptingListener)(te))ee=te;else{const ue={onReceiveMetadata:(ne=te.onReceiveMetadata)!==null&&ne!==void 0?ne:v.onReceiveMetadata,onReceiveMessage:(oe=te.onReceiveMessage)!==null&&oe!==void 0?oe:v.onReceiveMessage,onReceiveStatus:(ie=te.onReceiveStatus)!==null&&ie!==void 0?ie:v.onReceiveStatus};ee=new u.InterceptingListenerImpl(ue,Q)}this.nextCall.start(H,ee),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(M,U){this.processingMessage=!0,this.requester.sendMessage(U,V=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=M,this.pendingMessage=U):(this.nextCall.sendMessageWithContext(M,V),this.processPendingHalfClose())})}sendMessage(M){this.sendMessageWithContext({},M)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}getAuthContext(){return this.nextCall.getAuthContext()}}clientInterceptors.InterceptingCall=g;function w(q,M,U){var V,$;const z=(V=U.deadline)!==null&&V!==void 0?V:1/0,W=U.host,J=($=U.parent)!==null&&$!==void 0?$:null,Y=U.propagate_flags,Q=U.credentials,H=q.createCall(M,z,W,J,Y);return Q&&H.setCredentials(Q),H}class R{constructor(M,U){this.call=M,this.methodDefinition=U}cancelWithStatus(M,U){this.call.cancelWithStatus(M,U)}getPeer(){return this.call.getPeer()}sendMessageWithContext(M,U){let V;try{V=this.methodDefinition.requestSerialize(U)}catch($){this.call.cancelWithStatus(d.Status.INTERNAL,`Request message serialization failure: ${(0,y.getErrorMessage)($)}`);return}this.call.sendMessageWithContext(M,V)}sendMessage(M){this.sendMessageWithContext({},M)}start(M,U){let V=null;this.call.start(M,{onReceiveMetadata:$=>{var z;(z=U==null?void 0:U.onReceiveMetadata)===null||z===void 0||z.call(U,$)},onReceiveMessage:$=>{var z;let W;try{W=this.methodDefinition.responseDeserialize($)}catch(J){V={code:d.Status.INTERNAL,details:`Response message parsing error: ${(0,y.getErrorMessage)(J)}`,metadata:new c.Metadata},this.call.cancelWithStatus(V.code,V.details);return}(z=U==null?void 0:U.onReceiveMessage)===null||z===void 0||z.call(U,W)},onReceiveStatus:$=>{var z,W;V?(z=U==null?void 0:U.onReceiveStatus)===null||z===void 0||z.call(U,V):(W=U==null?void 0:U.onReceiveStatus)===null||W===void 0||W.call(U,$)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}getAuthContext(){return this.call.getAuthContext()}}class C extends R{constructor(M,U){super(M,U)}start(M,U){var V,$;let z=!1;const W={onReceiveMetadata:($=(V=U==null?void 0:U.onReceiveMetadata)===null||V===void 0?void 0:V.bind(U))!==null&&$!==void 0?$:(J=>{}),onReceiveMessage:J=>{var Y;z=!0,(Y=U==null?void 0:U.onReceiveMessage)===null||Y===void 0||Y.call(U,J)},onReceiveStatus:J=>{var Y,Q;z||(Y=U==null?void 0:U.onReceiveMessage)===null||Y===void 0||Y.call(U,null),(Q=U==null?void 0:U.onReceiveStatus)===null||Q===void 0||Q.call(U,J)}};super.start(M,W),this.call.startRead()}}class N extends R{}function D(q,M,U){const V=w(q,U.path,M);return U.responseStream?new N(V,U):new C(V,U)}function L(q,M,U,V){if(q.clientInterceptors.length>0&&q.clientInterceptorProviders.length>0)throw new O("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(q.callInterceptors.length>0&&q.callInterceptorProviders.length>0)throw new O("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let $=[];q.callInterceptors.length>0||q.callInterceptorProviders.length>0?$=[].concat(q.callInterceptors,q.callInterceptorProviders.map(J=>J(M))).filter(J=>J):$=[].concat(q.clientInterceptors,q.clientInterceptorProviders.map(J=>J(M))).filter(J=>J);const z=Object.assign({},U,{method_definition:M});return $.reduceRight((J,Y)=>Q=>Y(Q,J),J=>D(V,J,M))(z)}return clientInterceptors}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1,Object.defineProperty(client,"__esModule",{value:!0}),client.Client=void 0;const c=requireCall(),u=requireChannel(),d=requireConnectivityState(),y=requireConstants$1(),O=requireMetadata(),T=requireClientInterceptors(),E=Symbol(),v=Symbol(),p=Symbol(),g=Symbol();function w(N){return typeof N=="function"}function R(N){var D;return((D=N.stack)===null||D===void 0?void 0:D.split(`
`).slice(1).join(`
`))||"no stack trace available"}class C{constructor(D,L,q={}){var M,U;if(q=Object.assign({},q),this[v]=(M=q.interceptors)!==null&&M!==void 0?M:[],delete q.interceptors,this[p]=(U=q.interceptor_providers)!==null&&U!==void 0?U:[],delete q.interceptor_providers,this[v].length>0&&this[p].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[g]=q.callInvocationTransformer,delete q.callInvocationTransformer,q.channelOverride)this[E]=q.channelOverride;else if(q.channelFactoryOverride){const V=q.channelFactoryOverride;delete q.channelFactoryOverride,this[E]=V(D,L,q)}else this[E]=new u.ChannelImplementation(D,L,q)}close(){this[E].close()}getChannel(){return this[E]}waitForReady(D,L){const q=M=>{if(M){L(new Error("Failed to connect before the deadline"));return}let U;try{U=this[E].getConnectivityState(!0)}catch{L(new Error("The channel has been closed"));return}if(U===d.ConnectivityState.READY)L();else try{this[E].watchConnectivityState(U,D,q)}catch{L(new Error("The channel has been closed"))}};setImmediate(q)}checkOptionalUnaryResponseArguments(D,L,q){if(w(D))return{metadata:new O.Metadata,options:{},callback:D};if(w(L))return D instanceof O.Metadata?{metadata:D,options:{},callback:L}:{metadata:new O.Metadata,options:D,callback:L};if(!(D instanceof O.Metadata&&L instanceof Object&&w(q)))throw new Error("Incorrect arguments passed");return{metadata:D,options:L,callback:q}}makeUnaryRequest(D,L,q,M,U,V,$){var z,W;const J=this.checkOptionalUnaryResponseArguments(U,V,$),Y={path:D,requestStream:!1,responseStream:!1,requestSerialize:L,responseDeserialize:q};let Q={argument:M,metadata:J.metadata,call:new c.ClientUnaryCallImpl,channel:this[E],methodDefinition:Y,callOptions:J.options,callback:J.callback};this[g]&&(Q=this[g](Q));const H=Q.call,te={clientInterceptors:this[v],clientInterceptorProviders:this[p],callInterceptors:(z=Q.callOptions.interceptors)!==null&&z!==void 0?z:[],callInterceptorProviders:(W=Q.callOptions.interceptor_providers)!==null&&W!==void 0?W:[]},ne=(0,T.getInterceptingCall)(te,Q.methodDefinition,Q.callOptions,Q.channel);H.call=ne;let oe=null,ie=!1,ee=new Error;return ne.start(Q.metadata,{onReceiveMetadata:ue=>{H.emit("metadata",ue)},onReceiveMessage(ue){oe!==null&&ne.cancelWithStatus(y.Status.UNIMPLEMENTED,"Too many responses received"),oe=ue},onReceiveStatus(ue){if(!ie){if(ie=!0,ue.code===y.Status.OK)if(oe===null){const fe=R(ee);Q.callback((0,c.callErrorFromStatus)({code:y.Status.UNIMPLEMENTED,details:"No message received",metadata:ue.metadata},fe))}else Q.callback(null,oe);else{const fe=R(ee);Q.callback((0,c.callErrorFromStatus)(ue,fe))}ee=null,H.emit("status",ue)}}}),ne.sendMessage(M),ne.halfClose(),H}makeClientStreamRequest(D,L,q,M,U,V){var $,z;const W=this.checkOptionalUnaryResponseArguments(M,U,V),J={path:D,requestStream:!0,responseStream:!1,requestSerialize:L,responseDeserialize:q};let Y={metadata:W.metadata,call:new c.ClientWritableStreamImpl(L),channel:this[E],methodDefinition:J,callOptions:W.options,callback:W.callback};this[g]&&(Y=this[g](Y));const Q=Y.call,H={clientInterceptors:this[v],clientInterceptorProviders:this[p],callInterceptors:($=Y.callOptions.interceptors)!==null&&$!==void 0?$:[],callInterceptorProviders:(z=Y.callOptions.interceptor_providers)!==null&&z!==void 0?z:[]},te=(0,T.getInterceptingCall)(H,Y.methodDefinition,Y.callOptions,Y.channel);Q.call=te;let ne=null,oe=!1,ie=new Error;return te.start(Y.metadata,{onReceiveMetadata:ee=>{Q.emit("metadata",ee)},onReceiveMessage(ee){ne!==null&&te.cancelWithStatus(y.Status.UNIMPLEMENTED,"Too many responses received"),ne=ee,te.startRead()},onReceiveStatus(ee){if(!oe){if(oe=!0,ee.code===y.Status.OK)if(ne===null){const ue=R(ie);Y.callback((0,c.callErrorFromStatus)({code:y.Status.UNIMPLEMENTED,details:"No message received",metadata:ee.metadata},ue))}else Y.callback(null,ne);else{const ue=R(ie);Y.callback((0,c.callErrorFromStatus)(ee,ue))}ie=null,Q.emit("status",ee)}}}),Q}checkMetadataAndOptions(D,L){let q,M;return D instanceof O.Metadata?(q=D,L?M=L:M={}):(D?M=D:M={},q=new O.Metadata),{metadata:q,options:M}}makeServerStreamRequest(D,L,q,M,U,V){var $,z;const W=this.checkMetadataAndOptions(U,V),J={path:D,requestStream:!1,responseStream:!0,requestSerialize:L,responseDeserialize:q};let Y={argument:M,metadata:W.metadata,call:new c.ClientReadableStreamImpl(q),channel:this[E],methodDefinition:J,callOptions:W.options};this[g]&&(Y=this[g](Y));const Q=Y.call,H={clientInterceptors:this[v],clientInterceptorProviders:this[p],callInterceptors:($=Y.callOptions.interceptors)!==null&&$!==void 0?$:[],callInterceptorProviders:(z=Y.callOptions.interceptor_providers)!==null&&z!==void 0?z:[]},te=(0,T.getInterceptingCall)(H,Y.methodDefinition,Y.callOptions,Y.channel);Q.call=te;let ne=!1,oe=new Error;return te.start(Y.metadata,{onReceiveMetadata(ie){Q.emit("metadata",ie)},onReceiveMessage(ie){Q.push(ie)},onReceiveStatus(ie){if(!ne){if(ne=!0,Q.push(null),ie.code!==y.Status.OK){const ee=R(oe);Q.emit("error",(0,c.callErrorFromStatus)(ie,ee))}oe=null,Q.emit("status",ie)}}}),te.sendMessage(M),te.halfClose(),Q}makeBidiStreamRequest(D,L,q,M,U){var V,$;const z=this.checkMetadataAndOptions(M,U),W={path:D,requestStream:!0,responseStream:!0,requestSerialize:L,responseDeserialize:q};let J={metadata:z.metadata,call:new c.ClientDuplexStreamImpl(L,q),channel:this[E],methodDefinition:W,callOptions:z.options};this[g]&&(J=this[g](J));const Y=J.call,Q={clientInterceptors:this[v],clientInterceptorProviders:this[p],callInterceptors:(V=J.callOptions.interceptors)!==null&&V!==void 0?V:[],callInterceptorProviders:($=J.callOptions.interceptor_providers)!==null&&$!==void 0?$:[]},H=(0,T.getInterceptingCall)(Q,J.methodDefinition,J.callOptions,J.channel);Y.call=H;let te=!1,ne=new Error;return H.start(J.metadata,{onReceiveMetadata(oe){Y.emit("metadata",oe)},onReceiveMessage(oe){Y.push(oe)},onReceiveStatus(oe){if(!te){if(te=!0,Y.push(null),oe.code!==y.Status.OK){const ie=R(ne);Y.emit("error",(0,c.callErrorFromStatus)(oe,ie))}ne=null,Y.emit("status",oe)}}}),Y}}return client.Client=C,client}var hasRequiredMakeClient;function requireMakeClient(){if(hasRequiredMakeClient)return makeClient;hasRequiredMakeClient=1,Object.defineProperty(makeClient,"__esModule",{value:!0}),makeClient.makeClientConstructor=y,makeClient.loadPackageDefinition=E;const c=requireClient(),u={unary:c.Client.prototype.makeUnaryRequest,server_stream:c.Client.prototype.makeServerStreamRequest,client_stream:c.Client.prototype.makeClientStreamRequest,bidi:c.Client.prototype.makeBidiStreamRequest};function d(v){return["__proto__","prototype","constructor"].includes(v)}function y(v,p,g){class w extends c.Client{}return Object.keys(v).forEach(R=>{if(d(R))return;const C=v[R];let N;if(typeof R=="string"&&R.charAt(0)==="$")throw new Error("Method names cannot start with $");C.requestStream?C.responseStream?N="bidi":N="client_stream":C.responseStream?N="server_stream":N="unary";const D=C.requestSerialize,L=C.responseDeserialize,q=O(u[N],C.path,D,L);w.prototype[R]=q,Object.assign(w.prototype[R],C),C.originalName&&!d(C.originalName)&&(w.prototype[C.originalName]=w.prototype[R])}),w.service=v,w.serviceName=p,w}function O(v,p,g,w){return function(...R){return v.call(this,p,g,w,...R)}}function T(v){return"format"in v}function E(v){const p={};for(const g in v)if(Object.prototype.hasOwnProperty.call(v,g)){const w=v[g],R=g.split(".");if(R.some(D=>d(D)))continue;const C=R[R.length-1];let N=p;for(const D of R.slice(0,-1))N[D]||(N[D]={}),N=N[D];T(w)?N[C]=w:N[C]=y(w,C)}return p}return makeClient}var src={},lodash_camelcase,hasRequiredLodash_camelcase;function requireLodash_camelcase(){if(hasRequiredLodash_camelcase)return lodash_camelcase;hasRequiredLodash_camelcase=1;var c="[object Symbol]",u=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,d=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,y="\\ud800-\\udfff",O="\\u0300-\\u036f\\ufe20-\\ufe23",T="\\u20d0-\\u20f0",E="\\u2700-\\u27bf",v="a-z\\xdf-\\xf6\\xf8-\\xff",p="\\xac\\xb1\\xd7\\xf7",g="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",w="\\u2000-\\u206f",R=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",C="A-Z\\xc0-\\xd6\\xd8-\\xde",N="\\ufe0e\\ufe0f",D=p+g+w+R,L="[']",q="["+y+"]",M="["+D+"]",U="["+O+T+"]",V="\\d+",$="["+E+"]",z="["+v+"]",W="[^"+y+D+V+E+v+C+"]",J="\\ud83c[\\udffb-\\udfff]",Y="(?:"+U+"|"+J+")",Q="[^"+y+"]",H="(?:\\ud83c[\\udde6-\\uddff]){2}",te="[\\ud800-\\udbff][\\udc00-\\udfff]",ne="["+C+"]",oe="\\u200d",ie="(?:"+z+"|"+W+")",ee="(?:"+ne+"|"+W+")",ue="(?:"+L+"(?:d|ll|m|re|s|t|ve))?",fe="(?:"+L+"(?:D|LL|M|RE|S|T|VE))?",de=Y+"?",ge="["+N+"]?",me="(?:"+oe+"(?:"+[Q,H,te].join("|")+")"+ge+de+")*",_e=ge+de+me,we="(?:"+[$,H,te].join("|")+")"+_e,Re="(?:"+[Q+U+"?",U,H,te,q].join("|")+")",Te=RegExp(L,"g"),Ae=RegExp(U,"g"),Oe=RegExp(J+"(?="+J+")|"+Re+_e,"g"),ve=RegExp([ne+"?"+z+"+"+ue+"(?="+[M,ne,"$"].join("|")+")",ee+"+"+fe+"(?="+[M,ne+ie,"$"].join("|")+")",ne+"?"+ie+"+"+ue,ne+"+"+fe,V,we].join("|"),"g"),Ee=RegExp("["+oe+y+O+T+N+"]"),he=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,l={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},P=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,k=typeof self=="object"&&self&&self.Object===Object&&self,K=P||k||Function("return this")();function pe(Le,$e,Ye,lt){for(var ot=-1,Et=Le?Le.length:0;++ot<Et;)Ye=$e(Ye,Le[ot],ot,Le);return Ye}function Se(Le){return Le.split("")}function ye(Le){return Le.match(u)||[]}function a(Le){return function($e){return Le==null?void 0:Le[$e]}}var j=a(l);function G(Le){return Ee.test(Le)}function o(Le){return he.test(Le)}function I(Le){return G(Le)?B(Le):Se(Le)}function B(Le){return Le.match(Oe)||[]}function ae(Le){return Le.match(ve)||[]}var Ce=Object.prototype,Ue=Ce.toString,He=K.Symbol,Ve=He?He.prototype:void 0,Ke=Ve?Ve.toString:void 0;function st(Le,$e,Ye){var lt=-1,ot=Le.length;$e<0&&($e=-$e>ot?0:ot+$e),Ye=Ye>ot?ot:Ye,Ye<0&&(Ye+=ot),ot=$e>Ye?0:Ye-$e>>>0,$e>>>=0;for(var Et=Array(ot);++lt<ot;)Et[lt]=Le[lt+$e];return Et}function vt(Le){if(typeof Le=="string")return Le;if(je(Le))return Ke?Ke.call(Le):"";var $e=Le+"";return $e=="0"&&1/Le==-1/0?"-0":$e}function ft(Le,$e,Ye){var lt=Le.length;return Ye=Ye===void 0?lt:Ye,!$e&&Ye>=lt?Le:st(Le,$e,Ye)}function yt(Le){return function($e){$e=Ne($e);var Ye=G($e)?I($e):void 0,lt=Ye?Ye[0]:$e.charAt(0),ot=Ye?ft(Ye,1).join(""):$e.slice(1);return lt[Le]()+ot}}function tt(Le){return function($e){return pe(rt(Je($e).replace(Te,"")),Le,"")}}function ke(Le){return!!Le&&typeof Le=="object"}function je(Le){return typeof Le=="symbol"||ke(Le)&&Ue.call(Le)==c}function Ne(Le){return Le==null?"":vt(Le)}var Me=tt(function(Le,$e,Ye){return $e=$e.toLowerCase(),Le+(Ye?Be($e):$e)});function Be(Le){return et(Ne(Le).toLowerCase())}function Je(Le){return Le=Ne(Le),Le&&Le.replace(d,j).replace(Ae,"")}var et=yt("toUpperCase");function rt(Le,$e,Ye){return Le=Ne(Le),$e=$e,$e===void 0?o(Le)?ae(Le):ye(Le):Le.match($e)||[]}return lodash_camelcase=Me,lodash_camelcase}var descriptor={exports:{}};const nested$6=JSON.parse('{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}'),require$$4={nested:nested$6};var hasRequiredDescriptor;function requireDescriptor(){return hasRequiredDescriptor||(hasRequiredDescriptor=1,(function(c,u){var d=requireProtobufjs();c.exports=u=d.descriptor=d.Root.fromJSON(require$$4).lookup(".google.protobuf");var y=d.Namespace,O=d.Root,T=d.Enum,E=d.Type,v=d.Field,p=d.MapField,g=d.OneOf,w=d.Service,R=d.Method;O.fromDescriptor=function(ee){typeof ee.length=="number"&&(ee=u.FileDescriptorSet.decode(ee));var ue=new O;if(ee.file)for(var fe,de,ge=0,me;ge<ee.file.length;++ge){de=ue,(fe=ee.file[ge]).package&&fe.package.length&&(de=ue.define(fe.package));var _e=ne(fe);if(fe.name&&fe.name.length&&ue.files.push(de.filename=fe.name),fe.messageType)for(me=0;me<fe.messageType.length;++me)de.add(E.fromDescriptor(fe.messageType[me],_e));if(fe.enumType)for(me=0;me<fe.enumType.length;++me)de.add(T.fromDescriptor(fe.enumType[me],_e));if(fe.extension)for(me=0;me<fe.extension.length;++me)de.add(v.fromDescriptor(fe.extension[me],_e));if(fe.service)for(me=0;me<fe.service.length;++me)de.add(w.fromDescriptor(fe.service[me],_e));var we=J(fe.options,u.FileOptions);if(we){var Re=Object.keys(we);for(me=0;me<Re.length;++me)de.setOption(Re[me],we[Re[me]])}}return ue.resolveAll()},O.prototype.toDescriptor=function(ee){var ue=u.FileDescriptorSet.create();return C(this,ue.file,ee),ue};function C(ie,ee,ue){var fe=u.FileDescriptorProto.create({name:ie.filename||(ie.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});oe(ue,fe),ie instanceof O||(fe.package=ie.fullName.substring(1));for(var de=0,ge;de<ie.nestedArray.length;++de)(ge=ie._nestedArray[de])instanceof E?fe.messageType.push(ge.toDescriptor(ue)):ge instanceof T?fe.enumType.push(ge.toDescriptor()):ge instanceof v?fe.extension.push(ge.toDescriptor(ue)):ge instanceof w?fe.service.push(ge.toDescriptor()):ge instanceof y&&C(ge,ee,ue);fe.options=Q(ie.options,u.FileOptions),fe.messageType.length+fe.enumType.length+fe.extension.length+fe.service.length&&ee.push(fe)}var N=0;E.fromDescriptor=function(ee,ue,fe){typeof ee.length=="number"&&(ee=u.DescriptorProto.decode(ee));var de=new E(ee.name.length?ee.name:"Type"+N++,J(ee.options,u.MessageOptions)),ge;if(fe||(de._edition=ue),ee.oneofDecl)for(ge=0;ge<ee.oneofDecl.length;++ge)de.add(g.fromDescriptor(ee.oneofDecl[ge]));if(ee.field)for(ge=0;ge<ee.field.length;++ge){var me=v.fromDescriptor(ee.field[ge],ue,!0);de.add(me),ee.field[ge].hasOwnProperty("oneofIndex")&&de.oneofsArray[ee.field[ge].oneofIndex].add(me)}if(ee.extension)for(ge=0;ge<ee.extension.length;++ge)de.add(v.fromDescriptor(ee.extension[ge],ue,!0));if(ee.nestedType)for(ge=0;ge<ee.nestedType.length;++ge)de.add(E.fromDescriptor(ee.nestedType[ge],ue,!0)),ee.nestedType[ge].options&&ee.nestedType[ge].options.mapEntry&&de.setOption("map_entry",!0);if(ee.enumType)for(ge=0;ge<ee.enumType.length;++ge)de.add(T.fromDescriptor(ee.enumType[ge],ue,!0));if(ee.extensionRange&&ee.extensionRange.length)for(de.extensions=[],ge=0;ge<ee.extensionRange.length;++ge)de.extensions.push([ee.extensionRange[ge].start,ee.extensionRange[ge].end]);if(ee.reservedRange&&ee.reservedRange.length||ee.reservedName&&ee.reservedName.length){if(de.reserved=[],ee.reservedRange)for(ge=0;ge<ee.reservedRange.length;++ge)de.reserved.push([ee.reservedRange[ge].start,ee.reservedRange[ge].end]);if(ee.reservedName)for(ge=0;ge<ee.reservedName.length;++ge)de.reserved.push(ee.reservedName[ge])}return de},E.prototype.toDescriptor=function(ee){var ue=u.DescriptorProto.create({name:this.name}),fe;for(fe=0;fe<this.fieldsArray.length;++fe){var de;if(ue.field.push(de=this._fieldsArray[fe].toDescriptor(ee)),this._fieldsArray[fe]instanceof p){var ge=z(this._fieldsArray[fe].keyType,this._fieldsArray[fe].resolvedKeyType,!1),me=z(this._fieldsArray[fe].type,this._fieldsArray[fe].resolvedType,!1),_e=me===11||me===14?this._fieldsArray[fe].resolvedType&&H(this.parent,this._fieldsArray[fe].resolvedType)||this._fieldsArray[fe].type:void 0;ue.nestedType.push(u.DescriptorProto.create({name:de.typeName,field:[u.FieldDescriptorProto.create({name:"key",number:1,label:1,type:ge}),u.FieldDescriptorProto.create({name:"value",number:2,label:1,type:me,typeName:_e})],options:u.MessageOptions.create({mapEntry:!0})}))}}for(fe=0;fe<this.oneofsArray.length;++fe)ue.oneofDecl.push(this._oneofsArray[fe].toDescriptor());for(fe=0;fe<this.nestedArray.length;++fe)this._nestedArray[fe]instanceof v?ue.field.push(this._nestedArray[fe].toDescriptor(ee)):this._nestedArray[fe]instanceof E?ue.nestedType.push(this._nestedArray[fe].toDescriptor(ee)):this._nestedArray[fe]instanceof T&&ue.enumType.push(this._nestedArray[fe].toDescriptor());if(this.extensions)for(fe=0;fe<this.extensions.length;++fe)ue.extensionRange.push(u.DescriptorProto.ExtensionRange.create({start:this.extensions[fe][0],end:this.extensions[fe][1]}));if(this.reserved)for(fe=0;fe<this.reserved.length;++fe)typeof this.reserved[fe]=="string"?ue.reservedName.push(this.reserved[fe]):ue.reservedRange.push(u.DescriptorProto.ReservedRange.create({start:this.reserved[fe][0],end:this.reserved[fe][1]}));return ue.options=Q(this.options,u.MessageOptions),ue};var D=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;v.fromDescriptor=function(ee,ue,fe){if(typeof ee.length=="number"&&(ee=u.DescriptorProto.decode(ee)),typeof ee.number!="number")throw Error("missing field id");var de;ee.typeName&&ee.typeName.length?de=ee.typeName:de=V(ee.type);var ge;switch(ee.label){case 1:ge=void 0;break;case 2:ge="required";break;case 3:ge="repeated";break;default:throw Error("illegal label: "+ee.label)}var me=ee.extendee;ee.extendee!==void 0&&(me=me.length?me:void 0);var _e=new v(ee.name.length?ee.name:"field"+ee.number,ee.number,de,ge,me);if(fe||(_e._edition=ue),_e.options=J(ee.options,u.FieldOptions),ee.proto3_optional&&(_e.options.proto3_optional=!0),ee.defaultValue&&ee.defaultValue.length){var we=ee.defaultValue;switch(we){case"true":case"TRUE":we=!0;break;case"false":case"FALSE":we=!1;break;default:var Re=D.exec(we);Re&&(we=parseInt(we));break}_e.setOption("default",we)}return $(ee.type)&&(ue==="proto3"?ee.options&&!ee.options.packed&&_e.setOption("packed",!1):(!ue||ue==="proto2")&&ee.options&&ee.options.packed&&_e.setOption("packed",!0)),_e},v.prototype.toDescriptor=function(ee){var ue=u.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)ue.type=11,ue.typeName=d.util.ucFirst(this.name),ue.label=3;else{switch(ue.type=z(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:ue.typeName=this.resolvedType?H(this.parent,this.resolvedType):this.type;break}this.rule==="repeated"?ue.label=3:this.required&&ee==="proto2"?ue.label=2:ue.label=1}if(ue.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(ue.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(ue.options=Q(this.options,u.FieldOptions),this.options.default!=null&&(ue.defaultValue=String(this.options.default)),this.options.proto3_optional&&(ue.proto3_optional=!0)),ee==="proto3"?this.packed||((ue.options||(ue.options=u.FieldOptions.create())).packed=!1):(!ee||ee==="proto2")&&this.packed&&((ue.options||(ue.options=u.FieldOptions.create())).packed=!0),ue};var L=0;T.fromDescriptor=function(ee,ue,fe){typeof ee.length=="number"&&(ee=u.EnumDescriptorProto.decode(ee));var de={};if(ee.value)for(var ge=0;ge<ee.value.length;++ge){var me=ee.value[ge].name,_e=ee.value[ge].number||0;de[me&&me.length?me:"NAME"+_e]=_e}var we=new T(ee.name&&ee.name.length?ee.name:"Enum"+L++,de,J(ee.options,u.EnumOptions));return fe||(we._edition=ue),we},T.prototype.toDescriptor=function(){for(var ee=[],ue=0,fe=Object.keys(this.values);ue<fe.length;++ue)ee.push(u.EnumValueDescriptorProto.create({name:fe[ue],number:this.values[fe[ue]]}));return u.EnumDescriptorProto.create({name:this.name,value:ee,options:Q(this.options,u.EnumOptions)})};var q=0;g.fromDescriptor=function(ee){return typeof ee.length=="number"&&(ee=u.OneofDescriptorProto.decode(ee)),new g(ee.name&&ee.name.length?ee.name:"oneof"+q++)},g.prototype.toDescriptor=function(){return u.OneofDescriptorProto.create({name:this.name})};var M=0;w.fromDescriptor=function(ee,ue,fe){typeof ee.length=="number"&&(ee=u.ServiceDescriptorProto.decode(ee));var de=new w(ee.name&&ee.name.length?ee.name:"Service"+M++,J(ee.options,u.ServiceOptions));if(fe||(de._edition=ue),ee.method)for(var ge=0;ge<ee.method.length;++ge)de.add(R.fromDescriptor(ee.method[ge]));return de},w.prototype.toDescriptor=function(){for(var ee=[],ue=0;ue<this.methodsArray.length;++ue)ee.push(this._methodsArray[ue].toDescriptor());return u.ServiceDescriptorProto.create({name:this.name,method:ee,options:Q(this.options,u.ServiceOptions)})};var U=0;R.fromDescriptor=function(ee){return typeof ee.length=="number"&&(ee=u.MethodDescriptorProto.decode(ee)),new R(ee.name&&ee.name.length?ee.name:"Method"+U++,"rpc",ee.inputType,ee.outputType,!!ee.clientStreaming,!!ee.serverStreaming,J(ee.options,u.MethodOptions))},R.prototype.toDescriptor=function(){return u.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:Q(this.options,u.MethodOptions)})};function V(ie){switch(ie){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+ie)}function $(ie){switch(ie){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function z(ie,ee,ue){switch(ie){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(ee instanceof T)return 14;if(ee instanceof E)return ue?10:11;throw Error("illegal type: "+ie)}function W(ie,ee){for(var ue={},fe=0,de,ge;fe<ee.fieldsArray.length;++fe)if((ge=(de=ee._fieldsArray[fe]).name)!=="uninterpretedOption"&&Object.prototype.hasOwnProperty.call(ie,ge)){var me=te(ge);de.resolvedType instanceof E?ue[me]=W(ie[ge],de.resolvedType):de.resolvedType instanceof T?ue[me]=de.resolvedType.valuesById[ie[ge]]:ue[me]=ie[ge]}return ue}function J(ie,ee){if(ie)return W(ee.toObject(ie),ee)}function Y(ie,ee){for(var ue={},fe=Object.keys(ie),de=0;de<fe.length;++de){var ge=fe[de],me=d.util.camelCase(ge);if(Object.prototype.hasOwnProperty.call(ee.fields,me)){var _e=ee.fields[me];_e.resolvedType instanceof E?ue[me]=Y(ie[ge],_e.resolvedType):ue[me]=ie[ge],_e.repeated&&!Array.isArray(ue[me])&&(ue[me]=[ue[me]])}}return ue}function Q(ie,ee){if(ie)return ee.fromObject(Y(ie,ee))}function H(ie,ee){var ue=ie.fullName.split("."),fe=ee.fullName.split("."),de=0,ge=0,me=fe.length-1;if(!(ie instanceof O)&&ee instanceof y)for(;de<ue.length&&ge<me&&ue[de]===fe[ge];){var _e=ee.lookup(ue[de++],!0);if(_e!==null&&_e!==ee)break;++ge}else for(;de<ue.length&&ge<me&&ue[de]===fe[ge];++de,++ge);return fe.slice(ge).join(".")}function te(ie){return ie.substring(0,1)+ie.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(ee,ue){return"_"+ue.toLowerCase()})}function ne(ie){if(ie.syntax==="editions")switch(ie.edition){case u.Edition.EDITION_2023:return"2023";default:throw new Error("Unsupported edition "+ie.edition)}return ie.syntax==="proto3"?"proto3":"proto2"}function oe(ie,ee){if(ie)if(ie==="proto2"||ie==="proto3")ee.syntax=ie;else switch(ee.syntax="editions",ie){case"2023":ee.edition=u.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+ie)}}})(descriptor,descriptor.exports)),descriptor.exports}var util={};const nested$5={google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}},require$$3={nested:nested$5},nested$4={google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}},require$$5={nested:nested$4},nested$3={google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}},require$$6={nested:nested$3};var hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util;hasRequiredUtil$1=1;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(util,"__esModule",{value:!0}),util.addCommonProtos=util.loadProtosWithOptionsSync=util.loadProtosWithOptions=void 0;const c=require$$0$7,u=require$$6$2,d=requireProtobufjs();function y(v,p){const g=v.resolvePath;v.resolvePath=(w,R)=>{if(u.isAbsolute(R))return R;for(const C of p){const N=u.join(C,R);try{return c.accessSync(N,c.constants.R_OK),N}catch{continue}}return process.emitWarning(`${R} not found in any of the include paths ${p}`),g(w,R)}}async function O(v,p){const g=new d.Root;if(p=p||{},p.includeDirs){if(!Array.isArray(p.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));y(g,p.includeDirs)}const w=await g.load(v,p);return w.resolveAll(),w}util.loadProtosWithOptions=O;function T(v,p){const g=new d.Root;if(p=p||{},p.includeDirs){if(!Array.isArray(p.includeDirs))throw new Error("The includeDirs option must be an array");y(g,p.includeDirs)}const w=g.loadSync(v,p);return w.resolveAll(),w}util.loadProtosWithOptionsSync=T;function E(){const v=require$$3,p=require$$4,g=require$$5,w=require$$6;d.common("api",v.nested.google.nested.protobuf.nested),d.common("descriptor",p.nested.google.nested.protobuf.nested),d.common("source_context",g.nested.google.nested.protobuf.nested),d.common("type",w.nested.google.nested.protobuf.nested)}return util.addCommonProtos=E,util}var umd$1={exports:{}},umd=umd$1.exports,hasRequiredUmd;function requireUmd(){return hasRequiredUmd||(hasRequiredUmd=1,(function(c,u){(function(d,y){function O(T){return T.default||T}y(u),c.exports=O(u)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:umd,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var y=null;try{y=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function O(ie,ee,ue){this.low=ie|0,this.high=ee|0,this.unsigned=!!ue}O.prototype.__isLong__,Object.defineProperty(O.prototype,"__isLong__",{value:!0});function T(ie){return(ie&&ie.__isLong__)===!0}function E(ie){var ee=Math.clz32(ie&-ie);return ie?31-ee:ee}O.isLong=T;var v={},p={};function g(ie,ee){var ue,fe,de;return ee?(ie>>>=0,(de=0<=ie&&ie<256)&&(fe=p[ie],fe)?fe:(ue=R(ie,0,!0),de&&(p[ie]=ue),ue)):(ie|=0,(de=-128<=ie&&ie<128)&&(fe=v[ie],fe)?fe:(ue=R(ie,ie<0?-1:0,!1),de&&(v[ie]=ue),ue))}O.fromInt=g;function w(ie,ee){if(isNaN(ie))return ee?W:z;if(ee){if(ie<0)return W;if(ie>=U)return te}else{if(ie<=-V)return ne;if(ie+1>=V)return H}return ie<0?w(-ie,ee).neg():R(ie%M|0,ie/M|0,ee)}O.fromNumber=w;function R(ie,ee,ue){return new O(ie,ee,ue)}O.fromBits=R;var C=Math.pow;function N(ie,ee,ue){if(ie.length===0)throw Error("empty string");if(typeof ee=="number"?(ue=ee,ee=!1):ee=!!ee,ie==="NaN"||ie==="Infinity"||ie==="+Infinity"||ie==="-Infinity")return ee?W:z;if(ue=ue||10,ue<2||36<ue)throw RangeError("radix");var fe;if((fe=ie.indexOf("-"))>0)throw Error("interior hyphen");if(fe===0)return N(ie.substring(1),ee,ue).neg();for(var de=w(C(ue,8)),ge=z,me=0;me<ie.length;me+=8){var _e=Math.min(8,ie.length-me),we=parseInt(ie.substring(me,me+_e),ue);if(_e<8){var Re=w(C(ue,_e));ge=ge.mul(Re).add(w(we))}else ge=ge.mul(de),ge=ge.add(w(we))}return ge.unsigned=ee,ge}O.fromString=N;function D(ie,ee){return typeof ie=="number"?w(ie,ee):typeof ie=="string"?N(ie,ee):R(ie.low,ie.high,typeof ee=="boolean"?ee:ie.unsigned)}O.fromValue=D;var L=65536,q=1<<24,M=L*L,U=M*M,V=U/2,$=g(q),z=g(0);O.ZERO=z;var W=g(0,!0);O.UZERO=W;var J=g(1);O.ONE=J;var Y=g(1,!0);O.UONE=Y;var Q=g(-1);O.NEG_ONE=Q;var H=R(-1,2147483647,!1);O.MAX_VALUE=H;var te=R(-1,-1,!0);O.MAX_UNSIGNED_VALUE=te;var ne=R(0,-2147483648,!1);O.MIN_VALUE=ne;var oe=O.prototype;oe.toInt=function(){return this.unsigned?this.low>>>0:this.low},oe.toNumber=function(){return this.unsigned?(this.high>>>0)*M+(this.low>>>0):this.high*M+(this.low>>>0)},oe.toString=function(ee){if(ee=ee||10,ee<2||36<ee)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ne)){var ue=w(ee),fe=this.div(ue),de=fe.mul(ue).sub(this);return fe.toString(ee)+de.toInt().toString(ee)}else return"-"+this.neg().toString(ee);for(var ge=w(C(ee,6),this.unsigned),me=this,_e="";;){var we=me.div(ge),Re=me.sub(we.mul(ge)).toInt()>>>0,Te=Re.toString(ee);if(me=we,me.isZero())return Te+_e;for(;Te.length<6;)Te="0"+Te;_e=""+Te+_e}},oe.getHighBits=function(){return this.high},oe.getHighBitsUnsigned=function(){return this.high>>>0},oe.getLowBits=function(){return this.low},oe.getLowBitsUnsigned=function(){return this.low>>>0},oe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ne)?64:this.neg().getNumBitsAbs();for(var ee=this.high!=0?this.high:this.low,ue=31;ue>0&&(ee&1<<ue)==0;ue--);return this.high!=0?ue+33:ue+1},oe.isSafeInteger=function(){var ee=this.high>>21;return ee?this.unsigned?!1:ee===-1&&!(this.low===0&&this.high===-2097152):!0},oe.isZero=function(){return this.high===0&&this.low===0},oe.eqz=oe.isZero,oe.isNegative=function(){return!this.unsigned&&this.high<0},oe.isPositive=function(){return this.unsigned||this.high>=0},oe.isOdd=function(){return(this.low&1)===1},oe.isEven=function(){return(this.low&1)===0},oe.equals=function(ee){return T(ee)||(ee=D(ee)),this.unsigned!==ee.unsigned&&this.high>>>31===1&&ee.high>>>31===1?!1:this.high===ee.high&&this.low===ee.low},oe.eq=oe.equals,oe.notEquals=function(ee){return!this.eq(ee)},oe.neq=oe.notEquals,oe.ne=oe.notEquals,oe.lessThan=function(ee){return this.comp(ee)<0},oe.lt=oe.lessThan,oe.lessThanOrEqual=function(ee){return this.comp(ee)<=0},oe.lte=oe.lessThanOrEqual,oe.le=oe.lessThanOrEqual,oe.greaterThan=function(ee){return this.comp(ee)>0},oe.gt=oe.greaterThan,oe.greaterThanOrEqual=function(ee){return this.comp(ee)>=0},oe.gte=oe.greaterThanOrEqual,oe.ge=oe.greaterThanOrEqual,oe.compare=function(ee){if(T(ee)||(ee=D(ee)),this.eq(ee))return 0;var ue=this.isNegative(),fe=ee.isNegative();return ue&&!fe?-1:!ue&&fe?1:this.unsigned?ee.high>>>0>this.high>>>0||ee.high===this.high&&ee.low>>>0>this.low>>>0?-1:1:this.sub(ee).isNegative()?-1:1},oe.comp=oe.compare,oe.negate=function(){return!this.unsigned&&this.eq(ne)?ne:this.not().add(J)},oe.neg=oe.negate,oe.add=function(ee){T(ee)||(ee=D(ee));var ue=this.high>>>16,fe=this.high&65535,de=this.low>>>16,ge=this.low&65535,me=ee.high>>>16,_e=ee.high&65535,we=ee.low>>>16,Re=ee.low&65535,Te=0,Ae=0,Oe=0,ve=0;return ve+=ge+Re,Oe+=ve>>>16,ve&=65535,Oe+=de+we,Ae+=Oe>>>16,Oe&=65535,Ae+=fe+_e,Te+=Ae>>>16,Ae&=65535,Te+=ue+me,Te&=65535,R(Oe<<16|ve,Te<<16|Ae,this.unsigned)},oe.subtract=function(ee){return T(ee)||(ee=D(ee)),this.add(ee.neg())},oe.sub=oe.subtract,oe.multiply=function(ee){if(this.isZero())return this;if(T(ee)||(ee=D(ee)),y){var ue=y.mul(this.low,this.high,ee.low,ee.high);return R(ue,y.get_high(),this.unsigned)}if(ee.isZero())return this.unsigned?W:z;if(this.eq(ne))return ee.isOdd()?ne:z;if(ee.eq(ne))return this.isOdd()?ne:z;if(this.isNegative())return ee.isNegative()?this.neg().mul(ee.neg()):this.neg().mul(ee).neg();if(ee.isNegative())return this.mul(ee.neg()).neg();if(this.lt($)&&ee.lt($))return w(this.toNumber()*ee.toNumber(),this.unsigned);var fe=this.high>>>16,de=this.high&65535,ge=this.low>>>16,me=this.low&65535,_e=ee.high>>>16,we=ee.high&65535,Re=ee.low>>>16,Te=ee.low&65535,Ae=0,Oe=0,ve=0,Ee=0;return Ee+=me*Te,ve+=Ee>>>16,Ee&=65535,ve+=ge*Te,Oe+=ve>>>16,ve&=65535,ve+=me*Re,Oe+=ve>>>16,ve&=65535,Oe+=de*Te,Ae+=Oe>>>16,Oe&=65535,Oe+=ge*Re,Ae+=Oe>>>16,Oe&=65535,Oe+=me*we,Ae+=Oe>>>16,Oe&=65535,Ae+=fe*Te+de*Re+ge*we+me*_e,Ae&=65535,R(ve<<16|Ee,Ae<<16|Oe,this.unsigned)},oe.mul=oe.multiply,oe.divide=function(ee){if(T(ee)||(ee=D(ee)),ee.isZero())throw Error("division by zero");if(y){if(!this.unsigned&&this.high===-2147483648&&ee.low===-1&&ee.high===-1)return this;var ue=(this.unsigned?y.div_u:y.div_s)(this.low,this.high,ee.low,ee.high);return R(ue,y.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?W:z;var fe,de,ge;if(this.unsigned){if(ee.unsigned||(ee=ee.toUnsigned()),ee.gt(this))return W;if(ee.gt(this.shru(1)))return Y;ge=W}else{if(this.eq(ne)){if(ee.eq(J)||ee.eq(Q))return ne;if(ee.eq(ne))return J;var me=this.shr(1);return fe=me.div(ee).shl(1),fe.eq(z)?ee.isNegative()?J:Q:(de=this.sub(ee.mul(fe)),ge=fe.add(de.div(ee)),ge)}else if(ee.eq(ne))return this.unsigned?W:z;if(this.isNegative())return ee.isNegative()?this.neg().div(ee.neg()):this.neg().div(ee).neg();if(ee.isNegative())return this.div(ee.neg()).neg();ge=z}for(de=this;de.gte(ee);){fe=Math.max(1,Math.floor(de.toNumber()/ee.toNumber()));for(var _e=Math.ceil(Math.log(fe)/Math.LN2),we=_e<=48?1:C(2,_e-48),Re=w(fe),Te=Re.mul(ee);Te.isNegative()||Te.gt(de);)fe-=we,Re=w(fe,this.unsigned),Te=Re.mul(ee);Re.isZero()&&(Re=J),ge=ge.add(Re),de=de.sub(Te)}return ge},oe.div=oe.divide,oe.modulo=function(ee){if(T(ee)||(ee=D(ee)),y){var ue=(this.unsigned?y.rem_u:y.rem_s)(this.low,this.high,ee.low,ee.high);return R(ue,y.get_high(),this.unsigned)}return this.sub(this.div(ee).mul(ee))},oe.mod=oe.modulo,oe.rem=oe.modulo,oe.not=function(){return R(~this.low,~this.high,this.unsigned)},oe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},oe.clz=oe.countLeadingZeros,oe.countTrailingZeros=function(){return this.low?E(this.low):E(this.high)+32},oe.ctz=oe.countTrailingZeros,oe.and=function(ee){return T(ee)||(ee=D(ee)),R(this.low&ee.low,this.high&ee.high,this.unsigned)},oe.or=function(ee){return T(ee)||(ee=D(ee)),R(this.low|ee.low,this.high|ee.high,this.unsigned)},oe.xor=function(ee){return T(ee)||(ee=D(ee)),R(this.low^ee.low,this.high^ee.high,this.unsigned)},oe.shiftLeft=function(ee){return T(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee<32?R(this.low<<ee,this.high<<ee|this.low>>>32-ee,this.unsigned):R(0,this.low<<ee-32,this.unsigned)},oe.shl=oe.shiftLeft,oe.shiftRight=function(ee){return T(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee<32?R(this.low>>>ee|this.high<<32-ee,this.high>>ee,this.unsigned):R(this.high>>ee-32,this.high>=0?0:-1,this.unsigned)},oe.shr=oe.shiftRight,oe.shiftRightUnsigned=function(ee){return T(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee<32?R(this.low>>>ee|this.high<<32-ee,this.high>>>ee,this.unsigned):ee===32?R(this.high,0,this.unsigned):R(this.high>>>ee-32,0,this.unsigned)},oe.shru=oe.shiftRightUnsigned,oe.shr_u=oe.shiftRightUnsigned,oe.rotateLeft=function(ee){var ue;return T(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee===32?R(this.high,this.low,this.unsigned):ee<32?(ue=32-ee,R(this.low<<ee|this.high>>>ue,this.high<<ee|this.low>>>ue,this.unsigned)):(ee-=32,ue=32-ee,R(this.high<<ee|this.low>>>ue,this.low<<ee|this.high>>>ue,this.unsigned))},oe.rotl=oe.rotateLeft,oe.rotateRight=function(ee){var ue;return T(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee===32?R(this.high,this.low,this.unsigned):ee<32?(ue=32-ee,R(this.high<<ue|this.low>>>ee,this.low<<ue|this.high>>>ee,this.unsigned)):(ee-=32,ue=32-ee,R(this.low<<ue|this.high>>>ee,this.high<<ue|this.low>>>ee,this.unsigned))},oe.rotr=oe.rotateRight,oe.toSigned=function(){return this.unsigned?R(this.low,this.high,!1):this},oe.toUnsigned=function(){return this.unsigned?this:R(this.low,this.high,!0)},oe.toBytes=function(ee){return ee?this.toBytesLE():this.toBytesBE()},oe.toBytesLE=function(){var ee=this.high,ue=this.low;return[ue&255,ue>>>8&255,ue>>>16&255,ue>>>24,ee&255,ee>>>8&255,ee>>>16&255,ee>>>24]},oe.toBytesBE=function(){var ee=this.high,ue=this.low;return[ee>>>24,ee>>>16&255,ee>>>8&255,ee&255,ue>>>24,ue>>>16&255,ue>>>8&255,ue&255]},O.fromBytes=function(ee,ue,fe){return fe?O.fromBytesLE(ee,ue):O.fromBytesBE(ee,ue)},O.fromBytesLE=function(ee,ue){return new O(ee[0]|ee[1]<<8|ee[2]<<16|ee[3]<<24,ee[4]|ee[5]<<8|ee[6]<<16|ee[7]<<24,ue)},O.fromBytesBE=function(ee,ue){return new O(ee[4]<<24|ee[5]<<16|ee[6]<<8|ee[7],ee[0]<<24|ee[1]<<16|ee[2]<<8|ee[3],ue)},typeof BigInt=="function"&&(O.fromBigInt=function(ee,ue){var fe=Number(BigInt.asIntN(32,ee)),de=Number(BigInt.asIntN(32,ee>>BigInt(32)));return R(fe,de,ue)},O.fromValue=function(ee,ue){return typeof ee=="bigint"?O.fromBigInt(ee,ue):D(ee,ue)},oe.toBigInt=function(){var ee=BigInt(this.low>>>0),ue=BigInt(this.unsigned?this.high>>>0:this.high);return ue<<BigInt(32)|ee}),d.default=O})})(umd$1,umd$1.exports)),umd$1.exports}var hasRequiredSrc$3;function requireSrc$3(){return hasRequiredSrc$3||(hasRequiredSrc$3=1,(function(c){/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(c,"__esModule",{value:!0}),c.loadFileDescriptorSetFromObject=c.loadFileDescriptorSetFromBuffer=c.fromJSON=c.loadSync=c.load=c.IdempotencyLevel=c.isAnyExtension=c.Long=void 0;const u=requireLodash_camelcase(),d=requireProtobufjs(),y=requireDescriptor(),O=requireUtil$1(),T=requireUmd();c.Long=T;function E(ne){return"@type"in ne&&typeof ne["@type"]=="string"}c.isAnyExtension=E;var v;(function(ne){ne.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",ne.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",ne.IDEMPOTENT="IDEMPOTENT"})(v=c.IdempotencyLevel||(c.IdempotencyLevel={}));const p={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function g(ne,oe){return ne===""?oe:ne+"."+oe}function w(ne){return ne instanceof d.Service||ne instanceof d.Type||ne instanceof d.Enum}function R(ne){return ne instanceof d.Namespace||ne instanceof d.Root}function C(ne,oe){const ie=g(oe,ne.name);return w(ne)?[[ie,ne]]:R(ne)&&typeof ne.nested<"u"?Object.keys(ne.nested).map(ee=>C(ne.nested[ee],ie)).reduce((ee,ue)=>ee.concat(ue),[]):[]}function N(ne,oe){return function(ee){return ne.toObject(ne.decode(ee),oe)}}function D(ne){return function(ie){if(Array.isArray(ie))throw new Error(`Failed to serialize message: expected object with ${ne.name} structure, got array instead`);const ee=ne.fromObject(ie);return ne.encode(ee).finish()}}function L(ne){return(ne||[]).reduce((oe,ie)=>{for(const[ee,ue]of Object.entries(ie))switch(ee){case"uninterpreted_option":oe.uninterpreted_option.push(ie.uninterpreted_option);break;default:oe[ee]=ue}return oe},{deprecated:!1,idempotency_level:v.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function q(ne,oe,ie,ee){const ue=ne.resolvedRequestType,fe=ne.resolvedResponseType;return{path:"/"+oe+"/"+ne.name,requestStream:!!ne.requestStream,responseStream:!!ne.responseStream,requestSerialize:D(ue),requestDeserialize:N(ue,ie),responseSerialize:D(fe),responseDeserialize:N(fe,ie),originalName:u(ne.name),requestType:U(ue,ie,ee),responseType:U(fe,ie,ee),options:L(ne.parsedOptions)}}function M(ne,oe,ie,ee){const ue={};for(const fe of ne.methodsArray)ue[fe.name]=q(fe,oe,ie,ee);return ue}function U(ne,oe,ie){const ee=ne.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:ee.$type.toObject(ee,p),fileDescriptorProtos:ie,serialize:D(ne),deserialize:N(ne,oe)}}function V(ne,oe){const ie=ne.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:ie.$type.toObject(ie,p),fileDescriptorProtos:oe}}function $(ne,oe,ie,ee){if(ne instanceof d.Service)return M(ne,oe,ie,ee);if(ne instanceof d.Type)return U(ne,ie,ee);if(ne instanceof d.Enum)return V(ne,ee);throw new Error("Type mismatch in reflection object handling")}function z(ne,oe){const ie={};ne.resolveAll();const ue=ne.toDescriptor("proto3").file.map(fe=>Buffer.from(y.FileDescriptorProto.encode(fe).finish()));for(const[fe,de]of C(ne,""))ie[fe]=$(de,fe,oe,ue);return ie}function W(ne,oe){oe=oe||{};const ie=d.Root.fromDescriptor(ne);return ie.resolveAll(),z(ie,oe)}function J(ne,oe){return(0,O.loadProtosWithOptions)(ne,oe).then(ie=>z(ie,oe))}c.load=J;function Y(ne,oe){const ie=(0,O.loadProtosWithOptionsSync)(ne,oe);return z(ie,oe)}c.loadSync=Y;function Q(ne,oe){oe=oe||{};const ie=d.Root.fromJSON(ne);return ie.resolveAll(),z(ie,oe)}c.fromJSON=Q;function H(ne,oe){const ie=y.FileDescriptorSet.decode(ne);return W(ie,oe)}c.loadFileDescriptorSetFromBuffer=H;function te(ne,oe){const ie=y.FileDescriptorSet.fromObject(ne);return W(ie,oe)}c.loadFileDescriptorSetFromObject=te,(0,O.addCommonProtos)()})(src)),src}var hasRequiredChannelz;function requireChannelz(){if(hasRequiredChannelz)return channelz;hasRequiredChannelz=1,Object.defineProperty(channelz,"__esModule",{value:!0}),channelz.registerChannelzSocket=channelz.registerChannelzServer=channelz.registerChannelzSubchannel=channelz.registerChannelzChannel=channelz.ChannelzCallTrackerStub=channelz.ChannelzCallTracker=channelz.ChannelzChildrenTrackerStub=channelz.ChannelzChildrenTracker=channelz.ChannelzTrace=channelz.ChannelzTraceStub=void 0,channelz.unregisterChannelzRef=z,channelz.getChannelzHandlers=Re,channelz.getChannelzServiceDefinition=Ae,channelz.setup=Oe;const c=require$$0$a,u=require$$1$3,d=requireConnectivityState(),y=requireConstants$1(),O=requireSubchannelAddress(),T=requireAdmin(),E=requireMakeClient();function v(ve){return{channel_id:ve.id,name:ve.name}}function p(ve){return{subchannel_id:ve.id,name:ve.name}}function g(ve){return{server_id:ve.id}}function w(ve){return{socket_id:ve.id,name:ve.name}}const R=32,C=100;class N{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:ne(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}}channelz.ChannelzTraceStub=N;class D{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(Ee,he,l){const P=new Date;this.events.push({description:he,severity:Ee,timestamp:P,childChannel:(l==null?void 0:l.kind)==="channel"?l:void 0,childSubchannel:(l==null?void 0:l.kind)==="subchannel"?l:void 0}),this.events.length>=R*2&&(this.events=this.events.slice(R)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:ne(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(Ee=>({description:Ee.description,severity:Ee.severity,timestamp:ne(Ee.timestamp),channel_ref:Ee.childChannel?v(Ee.childChannel):null,subchannel_ref:Ee.childSubchannel?p(Ee.childSubchannel):null}))}}}channelz.ChannelzTrace=D;class L{constructor(){this.channelChildren=new u.OrderedMap,this.subchannelChildren=new u.OrderedMap,this.socketChildren=new u.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(Ee){const he=this.trackerMap[Ee.kind],l=he.find(Ee.id);l.equals(he.end())?he.setElement(Ee.id,{ref:Ee,count:1},l):l.pointer[1].count+=1}unrefChild(Ee){const he=this.trackerMap[Ee.kind],l=he.getElementByKey(Ee.id);l!==void 0&&(l.count-=1,l.count===0&&he.eraseElementByKey(Ee.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}channelz.ChannelzChildrenTracker=L;class q extends L{refChild(){}unrefChild(){}}channelz.ChannelzChildrenTrackerStub=q;class M{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}channelz.ChannelzCallTracker=M;class U extends M{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}}channelz.ChannelzCallTrackerStub=U;const V={channel:new u.OrderedMap,subchannel:new u.OrderedMap,server:new u.OrderedMap,socket:new u.OrderedMap},$=ve=>{let Ee=1;function he(){return Ee++}const l=V[ve];return(P,k,K)=>{const pe=he(),Se={id:pe,name:P,kind:ve};return K&&l.setElement(pe,{ref:Se,getInfo:k}),Se}};channelz.registerChannelzChannel=$("channel"),channelz.registerChannelzSubchannel=$("subchannel"),channelz.registerChannelzServer=$("server"),channelz.registerChannelzSocket=$("socket");function z(ve){V[ve.kind].eraseElementByKey(ve.id)}function W(ve){const Ee=Number.parseInt(ve,16);return[Ee/256|0,Ee%256]}function J(ve){if(ve==="")return[];const Ee=ve.split(":").map(l=>W(l));return[].concat(...Ee)}function Y(ve){return(0,c.isIPv6)(ve)&&ve.toLowerCase().startsWith("::ffff:")&&(0,c.isIPv4)(ve.substring(7))}function Q(ve){return Buffer.from(Uint8Array.from(ve.split(".").map(Ee=>Number.parseInt(Ee))))}function H(ve){if((0,c.isIPv4)(ve))return Q(ve);if(Y(ve))return Q(ve.substring(7));if((0,c.isIPv6)(ve)){let Ee,he;const l=ve.indexOf("::");l===-1?(Ee=ve,he=""):(Ee=ve.substring(0,l),he=ve.substring(l+2));const P=Buffer.from(J(Ee)),k=Buffer.from(J(he)),K=Buffer.alloc(16-P.length-k.length,0);return Buffer.concat([P,K,k])}else return null}function te(ve){switch(ve){case d.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case d.ConnectivityState.IDLE:return{state:"IDLE"};case d.ConnectivityState.READY:return{state:"READY"};case d.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case d.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function ne(ve){if(!ve)return null;const Ee=ve.getTime();return{seconds:Ee/1e3|0,nanos:Ee%1e3*1e6}}function oe(ve){const Ee=ve.getInfo(),he=[],l=[];return Ee.children.channels.forEach(P=>{he.push(v(P[1].ref))}),Ee.children.subchannels.forEach(P=>{l.push(p(P[1].ref))}),{ref:v(ve.ref),data:{target:Ee.target,state:te(Ee.state),calls_started:Ee.callTracker.callsStarted,calls_succeeded:Ee.callTracker.callsSucceeded,calls_failed:Ee.callTracker.callsFailed,last_call_started_timestamp:ne(Ee.callTracker.lastCallStartedTimestamp),trace:Ee.trace.getTraceMessage()},channel_ref:he,subchannel_ref:l}}function ie(ve,Ee){const he=parseInt(ve.request.channel_id,10),l=V.channel.getElementByKey(he);if(l===void 0){Ee({code:y.Status.NOT_FOUND,details:"No channel data found for id "+he});return}Ee(null,{channel:oe(l)})}function ee(ve,Ee){const he=parseInt(ve.request.max_results,10)||C,l=[],P=parseInt(ve.request.start_channel_id,10),k=V.channel;let K;for(K=k.lowerBound(P);!K.equals(k.end())&&l.length<he;K=K.next())l.push(oe(K.pointer[1]));Ee(null,{channel:l,end:K.equals(k.end())})}function ue(ve){const Ee=ve.getInfo(),he=[];return Ee.listenerChildren.sockets.forEach(l=>{he.push(w(l[1].ref))}),{ref:g(ve.ref),data:{calls_started:Ee.callTracker.callsStarted,calls_succeeded:Ee.callTracker.callsSucceeded,calls_failed:Ee.callTracker.callsFailed,last_call_started_timestamp:ne(Ee.callTracker.lastCallStartedTimestamp),trace:Ee.trace.getTraceMessage()},listen_socket:he}}function fe(ve,Ee){const he=parseInt(ve.request.server_id,10),P=V.server.getElementByKey(he);if(P===void 0){Ee({code:y.Status.NOT_FOUND,details:"No server data found for id "+he});return}Ee(null,{server:ue(P)})}function de(ve,Ee){const he=parseInt(ve.request.max_results,10)||C,l=parseInt(ve.request.start_server_id,10),P=V.server,k=[];let K;for(K=P.lowerBound(l);!K.equals(P.end())&&k.length<he;K=K.next())k.push(ue(K.pointer[1]));Ee(null,{server:k,end:K.equals(P.end())})}function ge(ve,Ee){const he=parseInt(ve.request.subchannel_id,10),l=V.subchannel.getElementByKey(he);if(l===void 0){Ee({code:y.Status.NOT_FOUND,details:"No subchannel data found for id "+he});return}const P=l.getInfo(),k=[];P.children.sockets.forEach(pe=>{k.push(w(pe[1].ref))});const K={ref:p(l.ref),data:{target:P.target,state:te(P.state),calls_started:P.callTracker.callsStarted,calls_succeeded:P.callTracker.callsSucceeded,calls_failed:P.callTracker.callsFailed,last_call_started_timestamp:ne(P.callTracker.lastCallStartedTimestamp),trace:P.trace.getTraceMessage()},socket_ref:k};Ee(null,{subchannel:K})}function me(ve){var Ee;return(0,O.isTcpSubchannelAddress)(ve)?{address:"tcpip_address",tcpip_address:{ip_address:(Ee=H(ve.host))!==null&&Ee!==void 0?Ee:void 0,port:ve.port}}:{address:"uds_address",uds_address:{filename:ve.path}}}function _e(ve,Ee){var he,l,P,k,K;const pe=parseInt(ve.request.socket_id,10),Se=V.socket.getElementByKey(pe);if(Se===void 0){Ee({code:y.Status.NOT_FOUND,details:"No socket data found for id "+pe});return}const ye=Se.getInfo(),a=ye.security?{model:"tls",tls:{cipher_suite:ye.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(he=ye.security.cipherSuiteStandardName)!==null&&he!==void 0?he:void 0,other_name:(l=ye.security.cipherSuiteOtherName)!==null&&l!==void 0?l:void 0,local_certificate:(P=ye.security.localCertificate)!==null&&P!==void 0?P:void 0,remote_certificate:(k=ye.security.remoteCertificate)!==null&&k!==void 0?k:void 0}}:null,j={ref:w(Se.ref),local:ye.localAddress?me(ye.localAddress):null,remote:ye.remoteAddress?me(ye.remoteAddress):null,remote_name:(K=ye.remoteName)!==null&&K!==void 0?K:void 0,security:a,data:{keep_alives_sent:ye.keepAlivesSent,streams_started:ye.streamsStarted,streams_succeeded:ye.streamsSucceeded,streams_failed:ye.streamsFailed,last_local_stream_created_timestamp:ne(ye.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:ne(ye.lastRemoteStreamCreatedTimestamp),messages_received:ye.messagesReceived,messages_sent:ye.messagesSent,last_message_received_timestamp:ne(ye.lastMessageReceivedTimestamp),last_message_sent_timestamp:ne(ye.lastMessageSentTimestamp),local_flow_control_window:ye.localFlowControlWindow?{value:ye.localFlowControlWindow}:null,remote_flow_control_window:ye.remoteFlowControlWindow?{value:ye.remoteFlowControlWindow}:null}};Ee(null,{socket:j})}function we(ve,Ee){const he=parseInt(ve.request.server_id,10),l=V.server.getElementByKey(he);if(l===void 0){Ee({code:y.Status.NOT_FOUND,details:"No server data found for id "+he});return}const P=parseInt(ve.request.start_socket_id,10),k=parseInt(ve.request.max_results,10)||C,pe=l.getInfo().sessionChildren.sockets,Se=[];let ye;for(ye=pe.lowerBound(P);!ye.equals(pe.end())&&Se.length<k;ye=ye.next())Se.push(w(ye.pointer[1].ref));Ee(null,{socket_ref:Se,end:ye.equals(pe.end())})}function Re(){return{GetChannel:ie,GetTopChannels:ee,GetServer:fe,GetServers:de,GetSubchannel:ge,GetSocket:_e,GetServerSockets:we}}let Te=null;function Ae(){if(Te)return Te;const ve=requireSrc$3().loadSync,Ee=ve("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return Te=(0,E.loadPackageDefinition)(Ee).grpc.channelz.v1.Channelz.service,Te}function Oe(){(0,T.registerAdminService)(Ae,Re)}return channelz}var singleSubchannelChannel={},callNumber={},hasRequiredCallNumber;function requireCallNumber(){if(hasRequiredCallNumber)return callNumber;hasRequiredCallNumber=1,Object.defineProperty(callNumber,"__esModule",{value:!0}),callNumber.getNextCallNumber=u;let c=0;function u(){return c++}return callNumber}var compressionFilter={},compressionAlgorithms={},hasRequiredCompressionAlgorithms;function requireCompressionAlgorithms(){if(hasRequiredCompressionAlgorithms)return compressionAlgorithms;hasRequiredCompressionAlgorithms=1,Object.defineProperty(compressionAlgorithms,"__esModule",{value:!0}),compressionAlgorithms.CompressionAlgorithms=void 0;var c;return(function(u){u[u.identity=0]="identity",u[u.deflate=1]="deflate",u[u.gzip=2]="gzip"})(c||(compressionAlgorithms.CompressionAlgorithms=c={})),compressionAlgorithms}var filter$1={},hasRequiredFilter$1;function requireFilter$1(){if(hasRequiredFilter$1)return filter$1;hasRequiredFilter$1=1,Object.defineProperty(filter$1,"__esModule",{value:!0}),filter$1.BaseFilter=void 0;class c{async sendMetadata(d){return d}receiveMetadata(d){return d}async sendMessage(d){return d}async receiveMessage(d){return d}receiveTrailers(d){return d}}return filter$1.BaseFilter=c,filter$1}var hasRequiredCompressionFilter;function requireCompressionFilter(){if(hasRequiredCompressionFilter)return compressionFilter;hasRequiredCompressionFilter=1,Object.defineProperty(compressionFilter,"__esModule",{value:!0}),compressionFilter.CompressionFilterFactory=compressionFilter.CompressionFilter=void 0;const c=require$$0$b,u=requireCompressionAlgorithms(),d=requireConstants$1(),y=requireFilter$1(),O=requireLogging(),T=D=>typeof D=="number"&&typeof u.CompressionAlgorithms[D]=="string";class E{async writeMessage(L,q){let M=L;q&&(M=await this.compressMessage(M));const U=Buffer.allocUnsafe(M.length+5);return U.writeUInt8(q?1:0,0),U.writeUInt32BE(M.length,1),M.copy(U,5),U}async readMessage(L){const q=L.readUInt8(0)===1;let M=L.slice(5);return q&&(M=await this.decompressMessage(M)),M}}class v extends E{async compressMessage(L){return L}async writeMessage(L,q){const M=Buffer.allocUnsafe(L.length+5);return M.writeUInt8(0,0),M.writeUInt32BE(L.length,1),L.copy(M,5),M}decompressMessage(L){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class p extends E{constructor(L){super(),this.maxRecvMessageLength=L}compressMessage(L){return new Promise((q,M)=>{c.deflate(L,(U,V)=>{U?M(U):q(V)})})}decompressMessage(L){return new Promise((q,M)=>{let U=0;const V=[],$=c.createInflate();$.on("data",z=>{V.push(z),U+=z.byteLength,this.maxRecvMessageLength!==-1&&U>this.maxRecvMessageLength&&($.destroy(),M({code:d.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),$.on("end",()=>{q(Buffer.concat(V))}),$.write(L),$.end()})}}class g extends E{constructor(L){super(),this.maxRecvMessageLength=L}compressMessage(L){return new Promise((q,M)=>{c.gzip(L,(U,V)=>{U?M(U):q(V)})})}decompressMessage(L){return new Promise((q,M)=>{let U=0;const V=[],$=c.createGunzip();$.on("data",z=>{V.push(z),U+=z.byteLength,this.maxRecvMessageLength!==-1&&U>this.maxRecvMessageLength&&($.destroy(),M({code:d.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),$.on("end",()=>{q(Buffer.concat(V))}),$.write(L),$.end()})}}class w extends E{constructor(L){super(),this.compressionName=L}compressMessage(L){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(L){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function R(D,L){switch(D){case"identity":return new v;case"deflate":return new p(L);case"gzip":return new g(L);default:return new w(D)}}class C extends y.BaseFilter{constructor(L,q){var M,U,V;super(),this.sharedFilterConfig=q,this.sendCompression=new v,this.receiveCompression=new v,this.currentCompressionAlgorithm="identity";const $=L["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(M=L["grpc.max_receive_message_length"])!==null&&M!==void 0?M:d.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(U=L["grpc.max_send_message_length"])!==null&&U!==void 0?U:d.DEFAULT_MAX_SEND_MESSAGE_LENGTH,$!==void 0)if(T($)){const z=u.CompressionAlgorithms[$],W=(V=q.serverSupportedEncodingHeader)===null||V===void 0?void 0:V.split(",");(!W||W.includes(z))&&(this.currentCompressionAlgorithm=z,this.sendCompression=R(this.currentCompressionAlgorithm,-1))}else O.log(d.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${$}`)}async sendMetadata(L){const q=await L;return q.set("grpc-accept-encoding","identity,deflate,gzip"),q.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?q.remove("grpc-encoding"):q.set("grpc-encoding",this.currentCompressionAlgorithm),q}receiveMetadata(L){const q=L.get("grpc-encoding");if(q.length>0){const U=q[0];typeof U=="string"&&(this.receiveCompression=R(U,this.maxReceiveMessageLength))}L.remove("grpc-encoding");const M=L.get("grpc-accept-encoding")[0];return M&&(this.sharedFilterConfig.serverSupportedEncodingHeader=M,M.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new v,this.currentCompressionAlgorithm="identity")),L.remove("grpc-accept-encoding"),L}async sendMessage(L){var q;const M=await L;if(this.maxSendMessageLength!==-1&&M.message.length>this.maxSendMessageLength)throw{code:d.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let U;return this.sendCompression instanceof v?U=!1:U=(((q=M.flags)!==null&&q!==void 0?q:0)&2)===0,{message:await this.sendCompression.writeMessage(M.message,U),flags:M.flags}}async receiveMessage(L){return this.receiveCompression.readMessage(await L)}}compressionFilter.CompressionFilter=C;class N{constructor(L,q){this.options=q,this.sharedFilterConfig={}}createFilter(){return new C(this.options,this.sharedFilterConfig)}}return compressionFilter.CompressionFilterFactory=N,compressionFilter}var controlPlaneStatus={},hasRequiredControlPlaneStatus;function requireControlPlaneStatus(){if(hasRequiredControlPlaneStatus)return controlPlaneStatus;hasRequiredControlPlaneStatus=1,Object.defineProperty(controlPlaneStatus,"__esModule",{value:!0}),controlPlaneStatus.restrictControlPlaneStatusCode=d;const c=requireConstants$1(),u=[c.Status.OK,c.Status.INVALID_ARGUMENT,c.Status.NOT_FOUND,c.Status.ALREADY_EXISTS,c.Status.FAILED_PRECONDITION,c.Status.ABORTED,c.Status.OUT_OF_RANGE,c.Status.DATA_LOSS];function d(y,O){return u.includes(y)?{code:c.Status.INTERNAL,details:`Invalid status from control plane: ${y} ${c.Status[y]} ${O}`}:{code:y,details:O}}return controlPlaneStatus}var deadline={},hasRequiredDeadline;function requireDeadline(){if(hasRequiredDeadline)return deadline;hasRequiredDeadline=1,Object.defineProperty(deadline,"__esModule",{value:!0}),deadline.minDeadline=c,deadline.getDeadlineTimeoutString=d,deadline.getRelativeTimeout=O,deadline.deadlineToString=T,deadline.formatDateDifference=E;function c(...v){let p=1/0;for(const g of v){const w=g instanceof Date?g.getTime():g;w<p&&(p=w)}return p}const u=[["m",1],["S",1e3],["M",60*1e3],["H",3600*1e3]];function d(v){const p=new Date().getTime();v instanceof Date&&(v=v.getTime());const g=Math.max(v-p,0);for(const[w,R]of u){const C=g/R;if(C<1e8)return String(Math.ceil(C))+w}throw new Error("Deadline is too far in the future")}const y=2147483647;function O(v){const p=v instanceof Date?v.getTime():v,g=new Date().getTime(),w=p-g;return w<0?0:w>y?1/0:w}function T(v){if(v instanceof Date)return v.toISOString();{const p=new Date(v);return Number.isNaN(p.getTime())?""+v:p.toISOString()}}function E(v,p){return((p.getTime()-v.getTime())/1e3).toFixed(3)+"s"}return deadline}var filterStack={},hasRequiredFilterStack;function requireFilterStack(){if(hasRequiredFilterStack)return filterStack;hasRequiredFilterStack=1,Object.defineProperty(filterStack,"__esModule",{value:!0}),filterStack.FilterStackFactory=filterStack.FilterStack=void 0;class c{constructor(y){this.filters=y}sendMetadata(y){let O=y;for(let T=0;T<this.filters.length;T++)O=this.filters[T].sendMetadata(O);return O}receiveMetadata(y){let O=y;for(let T=this.filters.length-1;T>=0;T--)O=this.filters[T].receiveMetadata(O);return O}sendMessage(y){let O=y;for(let T=0;T<this.filters.length;T++)O=this.filters[T].sendMessage(O);return O}receiveMessage(y){let O=y;for(let T=this.filters.length-1;T>=0;T--)O=this.filters[T].receiveMessage(O);return O}receiveTrailers(y){let O=y;for(let T=this.filters.length-1;T>=0;T--)O=this.filters[T].receiveTrailers(O);return O}push(y){this.filters.unshift(...y)}getFilters(){return this.filters}}filterStack.FilterStack=c;class u{constructor(y){this.factories=y}push(y){this.factories.unshift(...y)}clone(){return new u([...this.factories])}createFilter(){return new c(this.factories.map(y=>y.createFilter()))}}return filterStack.FilterStackFactory=u,filterStack}var hasRequiredSingleSubchannelChannel;function requireSingleSubchannelChannel(){if(hasRequiredSingleSubchannelChannel)return singleSubchannelChannel;hasRequiredSingleSubchannelChannel=1,Object.defineProperty(singleSubchannelChannel,"__esModule",{value:!0}),singleSubchannelChannel.SingleSubchannelChannel=void 0;const c=requireCallNumber(),u=requireChannelz(),d=requireCompressionFilter(),y=requireConnectivityState(),O=requireConstants$1(),T=requireControlPlaneStatus(),E=requireDeadline(),v=requireFilterStack(),p=requireMetadata(),g=requireResolver(),w=requireUriParser();class R{constructor(D,L,q,M,U){var V,$;this.subchannel=D,this.method=L,this.options=M,this.callNumber=U,this.childCall=null,this.pendingMessage=null,this.readPending=!1,this.halfClosePending=!1,this.pendingStatus=null,this.readFilterPending=!1,this.writeFilterPending=!1;const z=this.method.split("/");let W="";z.length>=2&&(W=z[1]);const J=($=(V=(0,w.splitHostPort)(this.options.host))===null||V===void 0?void 0:V.host)!==null&&$!==void 0?$:"localhost";this.serviceUrl=`https://${J}/${W}`;const Y=(0,E.getRelativeTimeout)(M.deadline);Y!==1/0&&(Y<=0?this.cancelWithStatus(O.Status.DEADLINE_EXCEEDED,"Deadline exceeded"):setTimeout(()=>{this.cancelWithStatus(O.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},Y)),this.filterStack=q.createFilter()}cancelWithStatus(D,L){this.childCall?this.childCall.cancelWithStatus(D,L):this.pendingStatus={code:D,details:L,metadata:new p.Metadata}}getPeer(){var D,L;return(L=(D=this.childCall)===null||D===void 0?void 0:D.getPeer())!==null&&L!==void 0?L:this.subchannel.getAddress()}async start(D,L){if(this.pendingStatus){L.onReceiveStatus(this.pendingStatus);return}if(this.subchannel.getConnectivityState()!==y.ConnectivityState.READY){L.onReceiveStatus({code:O.Status.UNAVAILABLE,details:"Subchannel not ready",metadata:new p.Metadata});return}const q=await this.filterStack.sendMetadata(Promise.resolve(D));let M;try{M=await this.subchannel.getCallCredentials().generateMetadata({method_name:this.method,service_url:this.serviceUrl})}catch(V){const $=V,{code:z,details:W}=(0,T.restrictControlPlaneStatusCode)(typeof $.code=="number"?$.code:O.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${$.message}`);L.onReceiveStatus({code:z,details:W,metadata:new p.Metadata});return}M.merge(q);const U={onReceiveMetadata:async V=>{L.onReceiveMetadata(await this.filterStack.receiveMetadata(V))},onReceiveMessage:async V=>{this.readFilterPending=!0;const $=await this.filterStack.receiveMessage(V);this.readFilterPending=!1,L.onReceiveMessage($),this.pendingStatus&&L.onReceiveStatus(this.pendingStatus)},onReceiveStatus:async V=>{const $=await this.filterStack.receiveTrailers(V);this.readFilterPending?this.pendingStatus=$:L.onReceiveStatus($)}};this.childCall=this.subchannel.createCall(M,this.options.host,this.method,U),this.readPending&&this.childCall.startRead(),this.pendingMessage&&this.childCall.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.halfClosePending&&!this.writeFilterPending&&this.childCall.halfClose()}async sendMessageWithContext(D,L){this.writeFilterPending=!0;const q=await this.filterStack.sendMessage(Promise.resolve({message:L,flags:D.flags}));this.writeFilterPending=!1,this.childCall?(this.childCall.sendMessageWithContext(D,q.message),this.halfClosePending&&this.childCall.halfClose()):this.pendingMessage={context:D,message:q.message}}startRead(){this.childCall?this.childCall.startRead():this.readPending=!0}halfClose(){this.childCall&&!this.writeFilterPending?this.childCall.halfClose():this.halfClosePending=!0}getCallNumber(){return this.callNumber}setCredentials(D){throw new Error("Method not implemented.")}getAuthContext(){return this.childCall?this.childCall.getAuthContext():null}}class C{constructor(D,L,q){this.subchannel=D,this.target=L,this.channelzEnabled=!1,this.channelzTrace=new u.ChannelzTrace,this.callTracker=new u.ChannelzCallTracker,this.childrenTracker=new u.ChannelzChildrenTracker,this.channelzEnabled=q["grpc.enable_channelz"]!==0,this.channelzRef=(0,u.registerChannelzChannel)((0,w.uriToString)(L),()=>({target:`${(0,w.uriToString)(L)} (${D.getAddress()})`,state:this.subchannel.getConnectivityState(),trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}),this.channelzEnabled),this.channelzEnabled&&this.childrenTracker.refChild(D.getChannelzRef()),this.filterStackFactory=new v.FilterStackFactory([new d.CompressionFilterFactory(this,q)])}close(){this.channelzEnabled&&this.childrenTracker.unrefChild(this.subchannel.getChannelzRef()),(0,u.unregisterChannelzRef)(this.channelzRef)}getTarget(){return(0,w.uriToString)(this.target)}getConnectivityState(D){throw new Error("Method not implemented.")}watchConnectivityState(D,L,q){throw new Error("Method not implemented.")}getChannelzRef(){return this.channelzRef}createCall(D,L){const q={deadline:L,host:(0,g.getDefaultAuthority)(this.target),flags:O.Propagate.DEFAULTS,parentCall:null};return new R(this.subchannel,D,this.filterStackFactory,q,(0,c.getNextCallNumber)())}}return singleSubchannelChannel.SingleSubchannelChannel=C,singleSubchannelChannel}var hasRequiredSubchannel;function requireSubchannel(){if(hasRequiredSubchannel)return subchannel;hasRequiredSubchannel=1,Object.defineProperty(subchannel,"__esModule",{value:!0}),subchannel.Subchannel=void 0;const c=requireConnectivityState(),u=requireBackoffTimeout(),d=requireLogging(),y=requireConstants$1(),O=requireUriParser(),T=requireSubchannelAddress(),E=requireChannelz(),v=requireSingleSubchannelChannel(),p="subchannel",g=2147483647;class w{constructor(C,N,D,L,q){var M;this.channelTarget=C,this.subchannelAddress=N,this.options=D,this.connector=q,this.connectivityState=c.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.dataProducers=new Map,this.subchannelChannel=null;const U={initialDelay:D["grpc.initial_reconnect_backoff_ms"],maxDelay:D["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new u.BackoffTimeout(()=>{this.handleBackoffTimer()},U),this.backoffTimeout.unref(),this.subchannelAddressString=(0,T.subchannelAddressToString)(N),this.keepaliveTime=(M=D["grpc.keepalive_time_ms"])!==null&&M!==void 0?M:-1,D["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new E.ChannelzTraceStub,this.callTracker=new E.ChannelzCallTrackerStub,this.childrenTracker=new E.ChannelzChildrenTrackerStub,this.streamTracker=new E.ChannelzCallTrackerStub):(this.channelzTrace=new E.ChannelzTrace,this.callTracker=new E.ChannelzCallTracker,this.childrenTracker=new E.ChannelzChildrenTracker,this.streamTracker=new E.ChannelzCallTracker),this.channelzRef=(0,E.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(D,void 0,2)),this.secureConnector=L._createSecureConnector(C,D)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(C){d.trace(y.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+C)}refTrace(C){d.trace(y.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+C)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([c.ConnectivityState.TRANSIENT_FAILURE],c.ConnectivityState.CONNECTING):this.transitionToState([c.ConnectivityState.TRANSIENT_FAILURE],c.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let C=this.options;if(C["grpc.keepalive_time_ms"]){const N=Math.min(this.keepaliveTime,g);C=Object.assign(Object.assign({},C),{"grpc.keepalive_time_ms":N})}this.connector.connect(this.subchannelAddress,this.secureConnector,C).then(N=>{this.transitionToState([c.ConnectivityState.CONNECTING],c.ConnectivityState.READY)?(this.transport=N,this.channelzEnabled&&this.childrenTracker.refChild(N.getChannelzRef()),N.addDisconnectListener(D=>{this.transitionToState([c.ConnectivityState.READY],c.ConnectivityState.IDLE),D&&this.keepaliveTime>0&&(this.keepaliveTime*=2,d.log(y.LogVerbosity.ERROR,`Connection to ${(0,O.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):N.shutdown()},N=>{this.transitionToState([c.ConnectivityState.CONNECTING],c.ConnectivityState.TRANSIENT_FAILURE,`${N}`)})}transitionToState(C,N,D){var L,q;if(C.indexOf(this.connectivityState)===-1)return!1;D?this.trace(c.ConnectivityState[this.connectivityState]+" -> "+c.ConnectivityState[N]+' with error "'+D+'"'):this.trace(c.ConnectivityState[this.connectivityState]+" -> "+c.ConnectivityState[N]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+c.ConnectivityState[N]);const M=this.connectivityState;switch(this.connectivityState=N,N){case c.ConnectivityState.READY:this.stopBackoff();break;case c.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case c.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(L=this.transport)===null||L===void 0||L.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case c.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(q=this.transport)===null||q===void 0||q.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${N}`)}for(const U of this.stateListeners)U(this,M,N,this.keepaliveTime,D);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,E.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([c.ConnectivityState.CONNECTING,c.ConnectivityState.READY],c.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(C,N,D,L){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let q;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),q={onCallEnd:M=>{M.code===y.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):q={},this.transport.createCall(C,N,D,L,q)}startConnecting(){process.nextTick(()=>{this.transitionToState([c.ConnectivityState.IDLE],c.ConnectivityState.CONNECTING)||this.connectivityState===c.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(C){this.stateListeners.add(C)}removeConnectivityStateListener(C){this.stateListeners.delete(C)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([c.ConnectivityState.TRANSIENT_FAILURE],c.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(C){}removeHealthStateWatcher(C){}getRealSubchannel(){return this}realSubchannelEquals(C){return C.getRealSubchannel()===this}throttleKeepalive(C){C>this.keepaliveTime&&(this.keepaliveTime=C)}getCallCredentials(){return this.secureConnector.getCallCredentials()}getChannel(){return this.subchannelChannel||(this.subchannelChannel=new v.SingleSubchannelChannel(this,this.channelTarget,this.options)),this.subchannelChannel}addDataWatcher(C){throw new Error("Not implemented")}getOrCreateDataProducer(C,N){const D=this.dataProducers.get(C);if(D)return D;const L=N(this);return this.dataProducers.set(C,L),L}removeDataProducer(C){this.dataProducers.delete(C)}}return subchannel.Subchannel=w,subchannel}var transport={},http_proxy={},resolverDns={},environment={},hasRequiredEnvironment;function requireEnvironment(){if(hasRequiredEnvironment)return environment;hasRequiredEnvironment=1;var c={},u;return Object.defineProperty(environment,"__esModule",{value:!0}),environment.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0,environment.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((u=c.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&u!==void 0?u:"false")==="true",environment}var hasRequiredResolverDns;function requireResolverDns(){return hasRequiredResolverDns||(hasRequiredResolverDns=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_PORT=void 0,c.setup=M;const u=requireResolver(),d=require$$1$9,y=requireServiceConfig(),O=requireConstants$1(),T=requireCallInterface(),E=requireMetadata(),v=requireLogging(),p=requireConstants$1(),g=requireUriParser(),w=require$$0$a,R=requireBackoffTimeout(),C=requireEnvironment(),N="dns_resolver";function D(U){v.trace(p.LogVerbosity.DEBUG,N,U)}c.DEFAULT_PORT=443;const L=3e4;class q{constructor(V,$,z){var W,J,Y;this.target=V,this.listener=$,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new d.promises.Resolver,D("Resolver constructed for target "+(0,g.uriToString)(V)),V.authority&&this.alternativeResolver.setServers([V.authority]);const Q=(0,g.splitHostPort)(V.path);Q===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,w.isIPv4)(Q.host)||(0,w.isIPv6)(Q.host)?(this.ipResult=[{addresses:[{host:Q.host,port:(W=Q.port)!==null&&W!==void 0?W:c.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=Q.host,this.port=(J=Q.port)!==null&&J!==void 0?J:c.DEFAULT_PORT),this.percentage=Math.random()*100,z["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:O.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,g.uriToString)(this.target)}`,metadata:new E.Metadata};const H={initialDelay:z["grpc.initial_reconnect_backoff_ms"],maxDelay:z["grpc.max_reconnect_backoff_ms"]};this.backoff=new R.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},H),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(Y=z["grpc.dns_min_time_between_resolutions_ms"])!==null&&Y!==void 0?Y:L,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(D("Returning IP address for target "+(0,g.uriToString)(this.target)),setImmediate(()=>{this.listener((0,T.statusOrFromValue)(this.ipResult),{},null,"")}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)D("Failed to parse DNS address "+(0,g.uriToString)(this.target)),setImmediate(()=>{this.listener((0,T.statusOrFromError)({code:O.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,g.uriToString)(this.target)}`}),{},null,"")}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;D("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;const V=this.dnsHostname;this.pendingLookupPromise=this.lookup(V),this.pendingLookupPromise.then($=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.latestLookupResult=(0,T.statusOrFromValue)($.map(J=>({addresses:[J]})));const z="["+$.map(J=>J.host+":"+J.port).join(",")+"]";D("Resolved addresses for target "+(0,g.uriToString)(this.target)+": "+z);const W=this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");this.handleHealthStatus(W)},$=>{this.pendingLookupPromise!==null&&(D("Resolution error for target "+(0,g.uriToString)(this.target)+": "+$.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener((0,T.statusOrFromError)(this.defaultResolutionError),{},this.latestServiceConfigResult,""))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=this.resolveTxt(V),this.pendingTxtPromise.then($=>{if(this.pendingTxtPromise===null)return;this.pendingTxtPromise=null;let z;try{z=(0,y.extractAndSelectServiceConfig)($,this.percentage),z?this.latestServiceConfigResult=(0,T.statusOrFromValue)(z):this.latestServiceConfigResult=null}catch(W){this.latestServiceConfigResult=(0,T.statusOrFromError)({code:O.Status.UNAVAILABLE,details:`Parsing service config failed with error ${W.message}`})}this.latestLookupResult!==null&&this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"")},$=>{}))}}handleHealthStatus(V){V?(this.backoff.stop(),this.backoff.reset()):this.continueResolving=!0}async lookup(V){if(C.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){D("Using alternative DNS resolver.");const z=await Promise.allSettled([this.alternativeResolver.resolve4(V),this.alternativeResolver.resolve6(V)]);if(z.every(W=>W.status==="rejected"))throw new Error(z[0].reason);return z.reduce((W,J)=>J.status==="fulfilled"?[...W,...J.value]:W,[]).map(W=>({host:W,port:+this.port}))}return(await d.promises.lookup(V,{all:!0})).map(z=>({host:z.address,port:+this.port}))}async resolveTxt(V){return C.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(D("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(V)):d.promises.resolveTxt(V)}startNextResolutionTimer(){var V,$;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),($=(V=this.nextResolutionTimer).unref)===null||$===void 0||$.call(V),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?D('resolution update delayed by "min time between resolutions" rate limit'):D("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.returnedIpResult=!1}static getDefaultAuthority(V){return V.path}}function M(){(0,u.registerResolver)("dns",q),(0,u.registerDefaultScheme)("dns")}})(resolverDns)),resolverDns}var hasRequiredHttp_proxy;function requireHttp_proxy(){if(hasRequiredHttp_proxy)return http_proxy;hasRequiredHttp_proxy=1;var c={};Object.defineProperty(http_proxy,"__esModule",{value:!0}),http_proxy.parseCIDR=D,http_proxy.mapProxyName=U,http_proxy.getProxiedConnection=V;const u=requireLogging(),d=requireConstants$1(),y=require$$0$a,O=require$$5$3,T=requireLogging(),E=requireSubchannelAddress(),v=requireUriParser(),p=require$$6$3,g=requireResolverDns(),w="proxy";function R($){T.trace(d.LogVerbosity.DEBUG,w,$)}function C(){let $="",z="";if(c.grpc_proxy)z="grpc_proxy",$=c.grpc_proxy;else if(c.https_proxy)z="https_proxy",$=c.https_proxy;else if(c.http_proxy)z="http_proxy",$=c.http_proxy;else return{};let W;try{W=new p.URL($)}catch{return(0,u.log)(d.LogVerbosity.ERROR,`cannot parse value of "${z}" env var`),{}}if(W.protocol!=="http:")return(0,u.log)(d.LogVerbosity.ERROR,`"${W.protocol}" scheme not supported in proxy URI`),{};let J=null;W.username&&(W.password?((0,u.log)(d.LogVerbosity.INFO,"userinfo found in proxy URI"),J=decodeURIComponent(`${W.username}:${W.password}`)):J=W.username);const Y=W.hostname;let Q=W.port;Q===""&&(Q="80");const H={address:`${Y}:${Q}`};return J&&(H.creds=J),R("Proxy server "+H.address+" set by environment variable "+z),H}function N(){let $=c.no_grpc_proxy,z="no_grpc_proxy";return $||($=c.no_proxy,z="no_proxy"),$?(R("No proxy server list set by environment variable "+z),$.split(",")):[]}function D($){const z=$.split("/");if(z.length!==2)return null;const W=parseInt(z[1],10);return!(0,y.isIPv4)(z[0])||Number.isNaN(W)||W<0||W>32?null:{ip:L(z[0]),prefixLength:W}}function L($){return $.split(".").reduce((z,W)=>(z<<8)+parseInt(W,10),0)}function q($,z){const W=$.ip,J=-1<<32-$.prefixLength;return(L(z)&J)===(W&J)}function M($){for(const z of N()){const W=D(z);if((0,y.isIPv4)($)&&W&&q(W,$))return!0;if($.endsWith(z))return!0}return!1}function U($,z){var W;const J={target:$,extraOptions:{}};if(((W=z["grpc.enable_http_proxy"])!==null&&W!==void 0?W:1)===0||$.scheme==="unix")return J;const Y=C();if(!Y.address)return J;const Q=(0,v.splitHostPort)($.path);if(!Q)return J;const H=Q.host;if(M(H))return R("Not using proxy for target in no_proxy list: "+(0,v.uriToString)($)),J;const te={"grpc.http_connect_target":(0,v.uriToString)($)};return Y.creds&&(te["grpc.http_connect_creds"]=Y.creds),{target:{scheme:"dns",path:Y.address},extraOptions:te}}function V($,z){var W;if(!("grpc.http_connect_target"in z))return Promise.resolve(null);const J=z["grpc.http_connect_target"],Y=(0,v.parseUri)(J);if(Y===null)return Promise.resolve(null);const Q=(0,v.splitHostPort)(Y.path);if(Q===null)return Promise.resolve(null);const H=`${Q.host}:${(W=Q.port)!==null&&W!==void 0?W:g.DEFAULT_PORT}`,te={method:"CONNECT",path:H},ne={Host:H};(0,E.isTcpSubchannelAddress)($)?(te.host=$.host,te.port=$.port):te.socketPath=$.path,"grpc.http_connect_creds"in z&&(ne["Proxy-Authorization"]="Basic "+Buffer.from(z["grpc.http_connect_creds"]).toString("base64")),te.headers=ne;const oe=(0,E.subchannelAddressToString)($);return R("Using proxy "+oe+" to connect to "+te.path),new Promise((ie,ee)=>{const ue=O.request(te);ue.once("connect",(fe,de,ge)=>{ue.removeAllListeners(),de.removeAllListeners(),fe.statusCode===200?(R("Successfully connected to "+te.path+" through proxy "+oe),ge.length>0&&de.unshift(ge),R("Successfully established a plaintext connection to "+te.path+" through proxy "+oe),ie(de)):((0,u.log)(d.LogVerbosity.ERROR,"Failed to connect to "+te.path+" through proxy "+oe+" with status "+fe.statusCode),ee())}),ue.once("error",fe=>{ue.removeAllListeners(),(0,u.log)(d.LogVerbosity.ERROR,"Failed to connect to proxy "+oe+" with error "+fe.message),ee()}),ue.end()})}return http_proxy}var subchannelCall={},streamDecoder={},hasRequiredStreamDecoder;function requireStreamDecoder(){if(hasRequiredStreamDecoder)return streamDecoder;hasRequiredStreamDecoder=1,Object.defineProperty(streamDecoder,"__esModule",{value:!0}),streamDecoder.StreamDecoder=void 0;var c;(function(d){d[d.NO_DATA=0]="NO_DATA",d[d.READING_SIZE=1]="READING_SIZE",d[d.READING_MESSAGE=2]="READING_MESSAGE"})(c||(c={}));class u{constructor(y){this.maxReadMessageLength=y,this.readState=c.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(y){let O=0,T;const E=[];for(;O<y.length;)switch(this.readState){case c.NO_DATA:this.readCompressFlag=y.slice(O,O+1),O+=1,this.readState=c.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case c.READING_SIZE:if(T=Math.min(y.length-O,this.readSizeRemaining),y.copy(this.readPartialSize,4-this.readSizeRemaining,O,O+T),this.readSizeRemaining-=T,O+=T,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=c.READING_MESSAGE;else{const v=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=c.NO_DATA,E.push(v)}}break;case c.READING_MESSAGE:if(T=Math.min(y.length-O,this.readMessageRemaining),this.readPartialMessage.push(y.slice(O,O+T)),this.readMessageRemaining-=T,O+=T,this.readMessageRemaining===0){const v=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),p=Buffer.concat(v,this.readMessageSize+5);this.readState=c.NO_DATA,E.push(p)}break;default:throw new Error("Unexpected read state")}return E}}return streamDecoder.StreamDecoder=u,streamDecoder}var hasRequiredSubchannelCall;function requireSubchannelCall(){if(hasRequiredSubchannelCall)return subchannelCall;hasRequiredSubchannelCall=1,Object.defineProperty(subchannelCall,"__esModule",{value:!0}),subchannelCall.Http2SubchannelCall=void 0;const c=require$$0$c,u=require$$1$5,d=requireConstants$1(),y=requireMetadata(),O=requireStreamDecoder(),T=requireLogging(),E=requireConstants$1(),v="subchannel_call";function p(R){for(const[C,N]of Object.entries(u.constants.errno))if(N===R)return C;return"Unknown system error "+R}function g(R){const C=`Received HTTP status code ${R}`;let N;switch(R){case 400:N=d.Status.INTERNAL;break;case 401:N=d.Status.UNAUTHENTICATED;break;case 403:N=d.Status.PERMISSION_DENIED;break;case 404:N=d.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:N=d.Status.UNAVAILABLE;break;default:N=d.Status.UNKNOWN}return{code:N,details:C,metadata:new y.Metadata}}class w{constructor(C,N,D,L,q){var M;this.http2Stream=C,this.callEventTracker=N,this.listener=D,this.transport=L,this.callId=q,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;const U=(M=L.getOptions()["grpc.max_receive_message_length"])!==null&&M!==void 0?M:d.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new O.StreamDecoder(U),C.on("response",(V,$)=>{let z="";for(const W of Object.keys(V))z+="		"+W+": "+V[W]+`
`;if(this.trace(`Received server headers:
`+z),this.httpStatusCode=V[":status"],$&c.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(V);else{let W;try{W=y.Metadata.fromHttp2Headers(V)}catch(J){this.endCall({code:d.Status.UNKNOWN,details:J.message,metadata:new y.Metadata});return}this.listener.onReceiveMetadata(W)}}),C.on("trailers",V=>{this.handleTrailers(V)}),C.on("data",V=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+V.length);let $;try{$=this.decoder.write(V)}catch(z){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){const W=g(this.httpStatusCode);this.cancelWithStatus(W.code,W.details)}else this.cancelWithStatus(d.Status.RESOURCE_EXHAUSTED,z.message);return}for(const z of $)this.trace("parsed message of length "+z.length),this.callEventTracker.addMessageReceived(),this.tryPush(z)}),C.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),C.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var V;if(this.trace("HTTP/2 stream closed with code "+C.rstCode),((V=this.finalStatus)===null||V===void 0?void 0:V.code)===d.Status.OK)return;let $,z="";switch(C.rstCode){case c.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){const W=g(this.httpStatusCode);$=W.code,z=W.details}else $=d.Status.INTERNAL,z=`Received RST_STREAM with code ${C.rstCode} (Call ended without gRPC status)`;break;case c.constants.NGHTTP2_REFUSED_STREAM:$=d.Status.UNAVAILABLE,z="Stream refused by server";break;case c.constants.NGHTTP2_CANCEL:this.connectionDropped?($=d.Status.UNAVAILABLE,z="Connection dropped"):($=d.Status.CANCELLED,z="Call cancelled");break;case c.constants.NGHTTP2_ENHANCE_YOUR_CALM:$=d.Status.RESOURCE_EXHAUSTED,z="Bandwidth exhausted or memory limit exceeded";break;case c.constants.NGHTTP2_INADEQUATE_SECURITY:$=d.Status.PERMISSION_DENIED,z="Protocol not secure enough";break;case c.constants.NGHTTP2_INTERNAL_ERROR:$=d.Status.INTERNAL,this.internalError===null?z=`Received RST_STREAM with code ${C.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?($=d.Status.UNAVAILABLE,z=this.internalError.message):z=`Received RST_STREAM with code ${C.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:$=d.Status.INTERNAL,z=`Received RST_STREAM with code ${C.rstCode}`}this.endCall({code:$,details:z,metadata:new y.Metadata,rstCode:C.rstCode})})}),C.on("error",V=>{V.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+V.message+" code="+V.code+" errno="+p(V.errno)+" syscall="+V.syscall),this.internalError=V),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:d.Status.UNAVAILABLE,details:"Connection dropped",metadata:new y.Metadata})})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(C){T.trace(E.LogVerbosity.DEBUG,v,"["+this.callId+"] "+C)}endCall(C){(this.finalStatus===null||this.finalStatus.code===d.Status.OK)&&(this.finalStatus=C,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==d.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(C){this.trace("pushing to reader message of length "+(C instanceof Buffer?C.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(C),this.maybeOutputStatus())})}tryPush(C){this.canPush?(this.http2Stream.pause(),this.push(C)):(this.trace("unpushedReadMessages.push message of length "+C.length),this.unpushedReadMessages.push(C))}handleTrailers(C){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let N="";for(const M of Object.keys(C))N+="		"+M+": "+C[M]+`
`;this.trace(`Received server trailers:
`+N);let D;try{D=y.Metadata.fromHttp2Headers(C)}catch{D=new y.Metadata}const L=D.getMap();let q;if(typeof L["grpc-status"]=="string"){const M=Number(L["grpc-status"]);this.trace("received status code "+M+" from server"),D.remove("grpc-status");let U="";if(typeof L["grpc-message"]=="string"){try{U=decodeURI(L["grpc-message"])}catch{U=L["grpc-message"]}D.remove("grpc-message"),this.trace('received status details string "'+U+'" from server')}q={code:M,details:U,metadata:D}}else this.httpStatusCode?(q=g(this.httpStatusCode),q.metadata=D):q={code:d.Status.UNKNOWN,details:"No status information received",metadata:D};this.endCall(q)}destroyHttp2Stream(){var C;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let N;((C=this.finalStatus)===null||C===void 0?void 0:C.code)===d.Status.OK?N=c.constants.NGHTTP2_NO_ERROR:N=c.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+N),this.http2Stream.close(N)}}cancelWithStatus(C,N){this.trace("cancelWithStatus code: "+C+' details: "'+N+'"'),this.endCall({code:C,details:N,metadata:new y.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}getAuthContext(){return this.transport.getAuthContext()}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==d.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){const C=this.unpushedReadMessages.shift();this.push(C);return}this.http2Stream.resume()}sendMessageWithContext(C,N){this.trace("write() called with message of length "+N.length);const D=L=>{process.nextTick(()=>{var q;let M=d.Status.UNAVAILABLE;(L==null?void 0:L.code)==="ERR_STREAM_WRITE_AFTER_END"&&(M=d.Status.INTERNAL),L&&this.cancelWithStatus(M,`Write error: ${L.message}`),(q=C.callback)===null||q===void 0||q.call(C)})};this.trace("sending data chunk of length "+N.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(N,D)}catch(L){this.endCall({code:d.Status.UNAVAILABLE,details:`Write failed with error ${L.message}`,metadata:new y.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}return subchannelCall.Http2SubchannelCall=w,subchannelCall}var hasRequiredTransport;function requireTransport(){if(hasRequiredTransport)return transport;hasRequiredTransport=1,Object.defineProperty(transport,"__esModule",{value:!0}),transport.Http2SubchannelConnector=void 0;const c=require$$0$c,u=require$$1$8,d=requireChannelz(),y=requireConstants$1(),O=requireHttp_proxy(),T=requireLogging(),E=requireResolver(),v=requireSubchannelAddress(),p=requireUriParser(),g=require$$0$a,w=requireSubchannelCall(),R=requireCallNumber(),C="transport",N="transport_flowctrl",D=require$$11.version,{HTTP2_HEADER_AUTHORITY:L,HTTP2_HEADER_CONTENT_TYPE:q,HTTP2_HEADER_METHOD:M,HTTP2_HEADER_PATH:U,HTTP2_HEADER_TE:V,HTTP2_HEADER_USER_AGENT:$}=c.constants,z=2e4,W=Buffer.from("too_many_pings","ascii");class J{constructor(H,te,ne,oe){this.session=H,this.options=ne,this.remoteName=oe,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,v.subchannelAddressToString)(te),ne["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new d.ChannelzCallTrackerStub):this.streamTracker=new d.ChannelzCallTracker,this.channelzRef=(0,d.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[ne["grpc.primary_user_agent"],`grpc-node-js/${D}`,ne["grpc.secondary_user_agent"]].filter(ie=>ie).join(" "),"grpc.keepalive_time_ms"in ne?this.keepaliveTimeMs=ne["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in ne?this.keepaliveTimeoutMs=ne["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=z,"grpc.keepalive_permit_without_calls"in ne?this.keepaliveWithoutCalls=ne["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,H.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),H.once("goaway",(ie,ee,ue)=>{let fe=!1;ie===c.constants.NGHTTP2_ENHANCE_YOUR_CALM&&ue&&ue.equals(W)&&(fe=!0),this.trace("connection closed by GOAWAY with code "+ie+" and data "+(ue==null?void 0:ue.toString())),this.reportDisconnectToOwner(fe)}),H.once("error",ie=>{this.trace("connection closed with error "+ie.message),this.handleDisconnect()}),H.socket.once("close",ie=>{this.trace("connection closed. hadError="+ie),this.handleDisconnect()}),T.isTracerEnabled(C)&&(H.on("remoteSettings",ie=>{this.trace("new settings received"+(this.session!==H?" on the old connection":"")+": "+JSON.stringify(ie))}),H.on("localSettings",ie=>{this.trace("local settings acknowledged by remote"+(this.session!==H?" on the old connection":"")+": "+JSON.stringify(ie))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer(),H.socket instanceof u.TLSSocket?this.authContext={transportSecurityType:"ssl",sslPeerCertificate:H.socket.getPeerCertificate()}:this.authContext={}}getChannelzInfo(){var H,te,ne;const oe=this.session.socket,ie=oe.remoteAddress?(0,v.stringToSubchannelAddress)(oe.remoteAddress,oe.remotePort):null,ee=oe.localAddress?(0,v.stringToSubchannelAddress)(oe.localAddress,oe.localPort):null;let ue;if(this.session.encrypted){const de=oe,ge=de.getCipher(),me=de.getCertificate(),_e=de.getPeerCertificate();ue={cipherSuiteStandardName:(H=ge.standardName)!==null&&H!==void 0?H:null,cipherSuiteOtherName:ge.standardName?null:ge.name,localCertificate:me&&"raw"in me?me.raw:null,remoteCertificate:_e&&"raw"in _e?_e.raw:null}}else ue=null;return{remoteAddress:ie,localAddress:ee,security:ue,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(te=this.session.state.localWindowSize)!==null&&te!==void 0?te:null,remoteFlowControlWindow:(ne=this.session.state.remoteWindowSize)!==null&&ne!==void 0?ne:null}}trace(H){T.trace(y.LogVerbosity.DEBUG,C,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+H)}keepaliveTrace(H){T.trace(y.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+H)}flowControlTrace(H){T.trace(y.LogVerbosity.DEBUG,N,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+H)}internalsTrace(H){T.trace(y.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+H)}reportDisconnectToOwner(H){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(te=>te(H)))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1);for(const H of this.activeCalls)H.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(H){this.disconnectListeners.push(H)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var H,te;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(te=(H=this.keepaliveTimer).unref)===null||te===void 0||te.call(H);let ne="";try{this.session.ping((ie,ee,ue)=>{this.clearKeepaliveTimeout(),ie?(this.keepaliveTrace("Ping failed with error "+ie.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(ne="Ping returned false")}catch(oe){ne=(oe instanceof Error?oe.message:"")||"Unknown error"}ne&&(this.keepaliveTrace("Ping send failed: "+ne),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var H,te;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),(te=(H=this.keepaliveTimer).unref)===null||te===void 0||te.call(H)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(H){this.activeCalls.delete(H),this.activeCalls.size===0&&this.session.unref()}addActiveCall(H){this.activeCalls.add(H),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(H,te,ne,oe,ie){const ee=H.toHttp2Headers();ee[L]=te,ee[$]=this.userAgent,ee[q]="application/grpc",ee[M]="POST",ee[U]=ne,ee[V]="trailers";let ue;try{ue=this.session.request(ee)}catch(ge){throw this.handleDisconnect(),ge}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let fe,de;return this.channelzEnabled?(this.streamTracker.addCallStarted(),fe={addMessageSent:()=>{var ge;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(ge=ie.addMessageSent)===null||ge===void 0||ge.call(ie)},addMessageReceived:()=>{var ge;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(ge=ie.addMessageReceived)===null||ge===void 0||ge.call(ie)},onCallEnd:ge=>{var me;(me=ie.onCallEnd)===null||me===void 0||me.call(ie,ge),this.removeActiveCall(de)},onStreamEnd:ge=>{var me;ge?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(me=ie.onStreamEnd)===null||me===void 0||me.call(ie,ge)}}):fe={addMessageSent:()=>{var ge;(ge=ie.addMessageSent)===null||ge===void 0||ge.call(ie)},addMessageReceived:()=>{var ge;(ge=ie.addMessageReceived)===null||ge===void 0||ge.call(ie)},onCallEnd:ge=>{var me;(me=ie.onCallEnd)===null||me===void 0||me.call(ie,ge),this.removeActiveCall(de)},onStreamEnd:ge=>{var me;(me=ie.onStreamEnd)===null||me===void 0||me.call(ie,ge)}},de=new w.Http2SubchannelCall(ue,fe,oe,this,(0,R.getNextCallNumber)()),this.addActiveCall(de),de}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}getAuthContext(){return this.authContext}shutdown(){this.session.close(),(0,d.unregisterChannelzRef)(this.channelzRef)}}class Y{constructor(H){this.channelTarget=H,this.session=null,this.isShutdown=!1}trace(H){T.trace(y.LogVerbosity.DEBUG,C,(0,p.uriToString)(this.channelTarget)+" "+H)}createSession(H,te,ne){return this.isShutdown?Promise.reject():H.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((oe,ie)=>{var ee,ue,fe,de,ge,me,_e,we;let Re=null,Te=this.channelTarget;if("grpc.http_connect_target"in ne){const Se=(0,p.parseUri)(ne["grpc.http_connect_target"]);Se&&(Te=Se,Re=(0,p.uriToString)(Se))}const Ae=H.secure?"https":"http",Oe=(0,E.getDefaultAuthority)(Te),ve=()=>{var Se;(Se=this.session)===null||Se===void 0||Se.destroy(),this.session=null,setImmediate(()=>{pe||(pe=!0,ie(`${K.trim()} (${new Date().toISOString()})`))})},Ee=Se=>{var ye;(ye=this.session)===null||ye===void 0||ye.destroy(),K=Se.message,this.trace("connection failed with error "+K),pe||(pe=!0,ie(`${K} (${new Date().toISOString()})`))},he={createConnection:(Se,ye)=>H.socket,settings:{initialWindowSize:(de=(ee=ne["grpc-node.flow_control_window"])!==null&&ee!==void 0?ee:(fe=(ue=c.getDefaultSettings)===null||ue===void 0?void 0:ue.call(c))===null||fe===void 0?void 0:fe.initialWindowSize)!==null&&de!==void 0?de:65535},maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER,maxSessionMemory:(ge=ne["grpc-node.max_session_memory"])!==null&&ge!==void 0?ge:Number.MAX_SAFE_INTEGER},l=c.connect(`${Ae}://${Oe}`,he),P=(we=(_e=(me=c.getDefaultSettings)===null||me===void 0?void 0:me.call(c))===null||_e===void 0?void 0:_e.initialWindowSize)!==null&&we!==void 0?we:65535,k=ne["grpc-node.flow_control_window"];this.session=l;let K="Failed to connect",pe=!1;l.unref(),l.once("remoteSettings",()=>{var Se;if(k&&k>P)try{l.setLocalWindowSize(k)}catch{const a=k-((Se=l.state.localWindowSize)!==null&&Se!==void 0?Se:P);a>0&&l.incrementWindowSize(a)}l.removeAllListeners(),H.socket.removeListener("close",ve),H.socket.removeListener("error",Ee),oe(new J(l,te,ne,Re)),this.session=null}),l.once("close",ve),l.once("error",Ee),H.socket.once("close",ve),H.socket.once("error",Ee)})}tcpConnect(H,te){return(0,O.getProxiedConnection)(H,te).then(ne=>ne||new Promise((oe,ie)=>{const ee=()=>{ie(new Error("Socket closed"))},ue=de=>{ie(de)},fe=g.connect(H,()=>{fe.removeListener("close",ee),fe.removeListener("error",ue),oe(fe)});fe.once("close",ee),fe.once("error",ue)}))}async connect(H,te,ne){if(this.isShutdown)return Promise.reject();let oe=null,ie=null;const ee=(0,v.subchannelAddressToString)(H);try{return this.trace(ee+" Waiting for secureConnector to be ready"),await te.waitForReady(),this.trace(ee+" secureConnector is ready"),oe=await this.tcpConnect(H,ne),oe.setNoDelay(),this.trace(ee+" Established TCP connection"),ie=await te.connect(oe),this.trace(ee+" Established secure connection"),this.createSession(ie,H,ne)}catch(ue){throw oe==null||oe.destroy(),ie==null||ie.socket.destroy(),ue}}shutdown(){var H;this.isShutdown=!0,(H=this.session)===null||H===void 0||H.close(),this.session=null}}return transport.Http2SubchannelConnector=Y,transport}var hasRequiredSubchannelPool;function requireSubchannelPool(){if(hasRequiredSubchannelPool)return subchannelPool;hasRequiredSubchannelPool=1,Object.defineProperty(subchannelPool,"__esModule",{value:!0}),subchannelPool.SubchannelPool=void 0,subchannelPool.getSubchannelPool=p;const c=requireChannelOptions(),u=requireSubchannel(),d=requireSubchannelAddress(),y=requireUriParser(),O=requireTransport(),T=1e4;class E{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let w=!0;for(const R in this.pool){const N=this.pool[R].filter(D=>!D.subchannel.unrefIfOneRef());N.length>0&&(w=!1),this.pool[R]=N}w&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var w,R;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},T),(R=(w=this.cleanupTimer).unref)===null||R===void 0||R.call(w))}getOrCreateSubchannel(w,R,C,N){this.ensureCleanupTask();const D=(0,y.uriToString)(w);if(D in this.pool){const q=this.pool[D];for(const M of q)if((0,d.subchannelAddressEqual)(R,M.subchannelAddress)&&(0,c.channelOptionsEqual)(C,M.channelArguments)&&N._equals(M.channelCredentials))return M.subchannel}const L=new u.Subchannel(w,R,C,N,new O.Http2SubchannelConnector(w));return D in this.pool||(this.pool[D]=[]),this.pool[D].push({subchannelAddress:R,channelArguments:C,channelCredentials:N,subchannel:L}),L.ref(),L}}subchannelPool.SubchannelPool=E;const v=new E;function p(g){return g?v:new E}return subchannelPool}var loadBalancingCall={},hasRequiredLoadBalancingCall;function requireLoadBalancingCall(){if(hasRequiredLoadBalancingCall)return loadBalancingCall;hasRequiredLoadBalancingCall=1,Object.defineProperty(loadBalancingCall,"__esModule",{value:!0}),loadBalancingCall.LoadBalancingCall=void 0;const c=requireConnectivityState(),u=requireConstants$1(),d=requireDeadline(),y=requireMetadata(),O=requirePicker(),T=requireUriParser(),E=requireLogging(),v=requireControlPlaneStatus(),p=require$$0$c,g="load_balancing_call";class w{constructor(C,N,D,L,q,M,U){var V,$;this.channel=C,this.callConfig=N,this.methodName=D,this.host=L,this.credentials=q,this.deadline=M,this.callNumber=U,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;const z=this.methodName.split("/");let W="";z.length>=2&&(W=z[1]);const J=($=(V=(0,T.splitHostPort)(this.host))===null||V===void 0?void 0:V.host)!==null&&$!==void 0?$:"localhost";this.serviceUrl=`https://${J}/${W}`,this.startTime=new Date}getDeadlineInfo(){var C,N;const D=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((C=this.metadata)===null||C===void 0)&&C.getOptions().waitForReady&&D.push("wait_for_ready"),D.push(`LB pick: ${(0,d.formatDateDifference)(this.startTime,this.childStartTime)}`)),D.push(...this.child.getDeadlineInfo()),D):(!((N=this.metadata)===null||N===void 0)&&N.getOptions().waitForReady&&D.push("wait_for_ready"),D.push("Waiting for LB pick"),D)}trace(C){E.trace(u.LogVerbosity.DEBUG,g,"["+this.callNumber+"] "+C)}outputStatus(C,N){var D,L;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+C.code+' details="'+C.details+'" start time='+this.startTime.toISOString());const q=Object.assign(Object.assign({},C),{progress:N});(D=this.listener)===null||D===void 0||D.onReceiveStatus(q),(L=this.onCallEnded)===null||L===void 0||L.call(this,q.code,q.details,q.metadata)}}doPick(){var C,N;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");const D=this.metadata.clone(),L=this.channel.doPick(D,this.callConfig.pickInformation),q=L.subchannel?"("+L.subchannel.getChannelzRef().id+") "+L.subchannel.getAddress():""+L.subchannel;switch(this.trace("Pick result: "+O.PickResultType[L.pickResultType]+" subchannel: "+q+" status: "+((C=L.status)===null||C===void 0?void 0:C.code)+" "+((N=L.status)===null||N===void 0?void 0:N.details)),L.pickResultType){case O.PickResultType.COMPLETE:this.credentials.compose(L.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then($=>{var z;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(D.merge($),D.get("authorization").length>1&&this.outputStatus({code:u.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new y.Metadata},"PROCESSED"),L.subchannel.getConnectivityState()!==c.ConnectivityState.READY){this.trace("Picked subchannel "+q+" has state "+c.ConnectivityState[L.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&D.set("grpc-timeout",(0,d.getDeadlineTimeoutString)(this.deadline));try{this.child=L.subchannel.getRealSubchannel().createCall(D,this.host,this.methodName,{onReceiveMetadata:W=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(W)},onReceiveMessage:W=>{this.trace("Received message"),this.listener.onReceiveMessage(W)},onReceiveStatus:W=>{this.trace("Received status"),W.rstCode===p.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(W,"REFUSED"):this.outputStatus(W,"PROCESSED")}}),this.childStartTime=new Date}catch(W){this.trace("Failed to start call on picked subchannel "+q+" with error "+W.message),this.outputStatus({code:u.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+W.message,metadata:new y.Metadata},"NOT_STARTED");return}(z=L.onCallStarted)===null||z===void 0||z.call(L),this.onCallEnded=L.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},$=>{const{code:z,details:W}=(0,v.restrictControlPlaneStatusCode)(typeof $.code=="number"?$.code:u.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${$.message}`);this.outputStatus({code:z,details:W,metadata:new y.Metadata},"PROCESSED")});break;case O.PickResultType.DROP:const{code:U,details:V}=(0,v.restrictControlPlaneStatusCode)(L.status.code,L.status.details);setImmediate(()=>{this.outputStatus({code:U,details:V,metadata:L.status.metadata},"DROP")});break;case O.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{const{code:$,details:z}=(0,v.restrictControlPlaneStatusCode)(L.status.code,L.status.details);setImmediate(()=>{this.outputStatus({code:$,details:z,metadata:L.status.metadata},"PROCESSED")})}break;case O.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(C,N){var D;this.trace("cancelWithStatus code: "+C+' details: "'+N+'"'),(D=this.child)===null||D===void 0||D.cancelWithStatus(C,N),this.outputStatus({code:C,details:N,metadata:new y.Metadata},"PROCESSED")}getPeer(){var C,N;return(N=(C=this.child)===null||C===void 0?void 0:C.getPeer())!==null&&N!==void 0?N:this.channel.getTarget()}start(C,N){this.trace("start called"),this.listener=N,this.metadata=C,this.doPick()}sendMessageWithContext(C,N){this.trace("write() called with message of length "+N.length),this.child?this.child.sendMessageWithContext(C,N):this.pendingMessage={context:C,message:N}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(C){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}}return loadBalancingCall.LoadBalancingCall=w,loadBalancingCall}var resolvingCall={},hasRequiredResolvingCall;function requireResolvingCall(){if(hasRequiredResolvingCall)return resolvingCall;hasRequiredResolvingCall=1,Object.defineProperty(resolvingCall,"__esModule",{value:!0}),resolvingCall.ResolvingCall=void 0;const c=requireCallCredentials(),u=requireConstants$1(),d=requireDeadline(),y=requireMetadata(),O=requireLogging(),T=requireControlPlaneStatus(),E="resolving_call";class v{constructor(g,w,R,C,N){this.channel=g,this.method=w,this.filterStackFactory=C,this.callNumber=N,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=c.CallCredentials.createEmpty(),this.deadline=R.deadline,this.host=R.host,R.parentCall&&(R.flags&u.Propagate.CANCELLATION&&R.parentCall.on("cancelled",()=>{this.cancelWithStatus(u.Status.CANCELLED,"Cancelled by parent call")}),R.flags&u.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+R.parentCall.getDeadline()),this.deadline=(0,d.minDeadline)(this.deadline,R.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(g){O.trace(u.LogVerbosity.DEBUG,E,"["+this.callNumber+"] "+g)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,d.deadlineToString)(this.deadline));const g=(0,d.getRelativeTimeout)(this.deadline);if(g!==1/0){this.trace("Deadline will be reached in "+g+"ms");const w=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(u.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}const R=[],C=new Date;R.push(`Deadline exceeded after ${(0,d.formatDateDifference)(this.deadlineStartTime,C)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&R.push(`name resolution: ${(0,d.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&R.push(`metadata filters: ${(0,d.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):R.push("waiting for metadata filters")):R.push("waiting for name resolution"),this.child&&R.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(u.Status.DEADLINE_EXCEEDED,R.join(","))};g<=0?process.nextTick(w):this.deadlineTimer=setTimeout(w,g)}}outputStatus(g){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);const w=this.filterStack.receiveTrailers(g);this.trace("ended with status: code="+w.code+' details="'+w.details+'"'),this.statusWatchers.forEach(R=>R(w)),process.nextTick(()=>{var R;(R=this.listener)===null||R===void 0||R.onReceiveStatus(w)})}}sendMessageOnChild(g,w){if(!this.child)throw new Error("sendMessageonChild called with child not populated");const R=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:w,flags:g.flags})).then(C=>{this.writeFilterPending=!1,R.sendMessageWithContext(g,C.message),this.pendingHalfClose&&R.halfClose()},C=>{this.cancelWithStatus(C.code,C.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");const g=this.channel.getConfig(this.method,this.metadata);if(g.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(g.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(g.error);return}this.configReceivedTime=new Date;const w=g.config;if(w.status!==u.Status.OK){const{code:R,details:C}=(0,T.restrictControlPlaneStatusCode)(w.status,"Failed to route call to method "+this.method);this.outputStatus({code:R,details:C,metadata:new y.Metadata});return}if(w.methodConfig.timeout){const R=new Date;R.setSeconds(R.getSeconds()+w.methodConfig.timeout.seconds),R.setMilliseconds(R.getMilliseconds()+w.methodConfig.timeout.nanos/1e6),this.deadline=(0,d.minDeadline)(this.deadline,R),this.runDeadlineTimer()}this.filterStackFactory.push(w.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(R=>{this.child=this.channel.createRetryingCall(w,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(R,{onReceiveMetadata:C=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(C))},onReceiveMessage:C=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(C).then(N=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(N),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},N=>{this.cancelWithStatus(N.code,N.details)})},onReceiveStatus:C=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=C:this.outputStatus(C)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},R=>{this.outputStatus(R)})}reportResolverError(g){var w;!((w=this.metadata)===null||w===void 0)&&w.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(g)}cancelWithStatus(g,w){var R;this.trace("cancelWithStatus code: "+g+' details: "'+w+'"'),(R=this.child)===null||R===void 0||R.cancelWithStatus(g,w),this.outputStatus({code:g,details:w,metadata:new y.Metadata})}getPeer(){var g,w;return(w=(g=this.child)===null||g===void 0?void 0:g.getPeer())!==null&&w!==void 0?w:this.channel.getTarget()}start(g,w){this.trace("start called"),this.metadata=g.clone(),this.listener=w,this.getConfig()}sendMessageWithContext(g,w){this.trace("write() called with message of length "+w.length),this.child?this.sendMessageOnChild(g,w):this.pendingMessage={context:g,message:w}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(g){this.credentials=g}addStatusWatcher(g){this.statusWatchers.push(g)}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}}return resolvingCall.ResolvingCall=v,resolvingCall}var retryingCall={},hasRequiredRetryingCall;function requireRetryingCall(){if(hasRequiredRetryingCall)return retryingCall;hasRequiredRetryingCall=1,Object.defineProperty(retryingCall,"__esModule",{value:!0}),retryingCall.RetryingCall=retryingCall.MessageBufferTracker=retryingCall.RetryThrottler=void 0;const c=requireConstants$1(),u=requireDeadline(),d=requireMetadata(),y=requireLogging(),O="retrying_call";class T{constructor(R,C,N){this.maxTokens=R,this.tokenRatio=C,N?this.tokens=N.tokens*(R/N.maxTokens):this.tokens=R}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}retryingCall.RetryThrottler=T;class E{constructor(R,C){this.totalLimit=R,this.limitPerCall=C,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(R,C){var N;const D=(N=this.allocatedPerCall.get(C))!==null&&N!==void 0?N:0;return this.limitPerCall-D<R||this.totalLimit-this.totalAllocated<R?!1:(this.allocatedPerCall.set(C,D+R),this.totalAllocated+=R,!0)}free(R,C){var N;if(this.totalAllocated<R)throw new Error(`Invalid buffer allocation state: call ${C} freed ${R} > total allocated ${this.totalAllocated}`);this.totalAllocated-=R;const D=(N=this.allocatedPerCall.get(C))!==null&&N!==void 0?N:0;if(D<R)throw new Error(`Invalid buffer allocation state: call ${C} freed ${R} > allocated for call ${D}`);this.allocatedPerCall.set(C,D-R)}freeAll(R){var C;const N=(C=this.allocatedPerCall.get(R))!==null&&C!==void 0?C:0;if(this.totalAllocated<N)throw new Error(`Invalid buffer allocation state: call ${R} allocated ${N} > total allocated ${this.totalAllocated}`);this.totalAllocated-=N,this.allocatedPerCall.delete(R)}}retryingCall.MessageBufferTracker=E;const v="grpc-previous-rpc-attempts",p=5;class g{constructor(R,C,N,D,L,q,M,U,V){var $;this.channel=R,this.callConfig=C,this.methodName=N,this.host=D,this.credentials=L,this.deadline=q,this.callNumber=M,this.bufferTracker=U,this.retryThrottler=V,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;const z=($=R.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&$!==void 0?$:p;if(R.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(C.methodConfig.retryPolicy){this.state="RETRY";const W=C.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(W.initialBackoff.substring(0,W.initialBackoff.length-1)),this.maxAttempts=Math.min(W.maxAttempts,z)}else C.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(C.methodConfig.hedgingPolicy.maxAttempts,z)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];const R=[],C=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&R.push(`previous attempts: ${this.underlyingCalls.length-1}`),C.startTime>this.startTime&&R.push(`time to current attempt start: ${(0,u.formatDateDifference)(this.startTime,C.startTime)}`),R.push(...C.call.getDeadlineInfo()),R}getCallNumber(){return this.callNumber}trace(R){y.trace(c.LogVerbosity.DEBUG,O,"["+this.callNumber+"] "+R)}reportStatus(R){this.trace("ended with status: code="+R.code+' details="'+R.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var C;(C=this.listener)===null||C===void 0||C.onReceiveStatus({code:R.code,details:R.details,metadata:R.metadata})})}cancelWithStatus(R,C){this.trace("cancelWithStatus code: "+R+' details: "'+C+'"'),this.reportStatus({code:R,details:C,metadata:new d.Metadata});for(const{call:N}of this.underlyingCalls)N.cancelWithStatus(R,C)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(R){var C;return(C=this.writeBuffer[R-this.writeBufferOffset])!==null&&C!==void 0?C:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let R;this.underlyingCalls[this.committedCallIndex].state==="COMPLETED"?R=this.getNextBufferIndex():R=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let C=this.writeBufferOffset;C<R;C++){const N=this.getBufferEntry(C);N.allocated&&this.bufferTracker.free(N.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(R-this.writeBufferOffset),this.writeBufferOffset=R}commitCall(R){var C,N;if(this.state!=="COMMITTED"){this.trace("Committing call ["+this.underlyingCalls[R].call.getCallNumber()+"] at index "+R),this.state="COMMITTED",(N=(C=this.callConfig).onCommitted)===null||N===void 0||N.call(C),this.committedCallIndex=R;for(let D=0;D<this.underlyingCalls.length;D++)D!==R&&this.underlyingCalls[D].state!=="COMPLETED"&&(this.underlyingCalls[D].state="COMPLETED",this.underlyingCalls[D].call.cancelWithStatus(c.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let R=-1,C=-1;for(const[N,D]of this.underlyingCalls.entries())D.state==="ACTIVE"&&D.nextMessageToSend>R&&(R=D.nextMessageToSend,C=N);C===-1?this.state="TRANSPARENT_ONLY":this.commitCall(C)}isStatusCodeInList(R,C){return R.some(N=>{var D;return N===C||N.toString().toLowerCase()===((D=c.Status[C])===null||D===void 0?void 0:D.toLowerCase())})}getNextRetryJitter(){return Math.random()*(1.2-.8)+.8}getNextRetryBackoffMs(){var R;const C=(R=this.callConfig)===null||R===void 0?void 0:R.methodConfig.retryPolicy;if(!C)return 0;const D=this.getNextRetryJitter()*this.nextRetryBackoffSec*1e3,L=Number(C.maxBackoff.substring(0,C.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*C.backoffMultiplier,L),D}maybeRetryCall(R,C){if(this.state!=="RETRY"){C(!1);return}if(this.attempts>=this.maxAttempts){C(!1);return}let N;if(R===null)N=this.getNextRetryBackoffMs();else if(R<0){this.state="TRANSPARENT_ONLY",C(!1);return}else N=R,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var D,L;if(this.state!=="RETRY"){C(!1);return}!((L=(D=this.retryThrottler)===null||D===void 0?void 0:D.canRetryCall())!==null&&L!==void 0)||L?(C(!0),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),C(!1))},N)}countActiveCalls(){let R=0;for(const C of this.underlyingCalls)(C==null?void 0:C.state)==="ACTIVE"&&(R+=1);return R}handleProcessedStatus(R,C,N){var D,L,q;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(C),this.reportStatus(R);break;case"HEDGING":if(this.isStatusCodeInList((D=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&D!==void 0?D:[],R.code)){(L=this.retryThrottler)===null||L===void 0||L.addCallFailed();let M;if(N===null)M=0;else if(N<0){this.state="TRANSPARENT_ONLY",this.commitCall(C),this.reportStatus(R);return}else M=N;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(C),this.reportStatus(R))},M)}else this.commitCall(C),this.reportStatus(R);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,R.code)?((q=this.retryThrottler)===null||q===void 0||q.addCallFailed(),this.maybeRetryCall(N,M=>{M||(this.commitCall(C),this.reportStatus(R))})):(this.commitCall(C),this.reportStatus(R));break}}getPushback(R){const C=R.get("grpc-retry-pushback-ms");if(C.length===0)return null;try{return parseInt(C[0])}catch{return-1}}handleChildStatus(R,C){var N;if(this.underlyingCalls[C].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+R.progress+" from child ["+this.underlyingCalls[C].call.getCallNumber()+"] in state "+this.underlyingCalls[C].state),this.underlyingCalls[C].state="COMPLETED",R.code===c.Status.OK){(N=this.retryThrottler)===null||N===void 0||N.addCallSucceeded(),this.commitCall(C),this.reportStatus(R);return}if(this.state==="NO_RETRY"){this.commitCall(C),this.reportStatus(R);return}if(this.state==="COMMITTED"){this.reportStatus(R);return}const D=this.getPushback(R.metadata);switch(R.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(R,C,D):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(C),this.reportStatus(R);break;case"PROCESSED":this.handleProcessedStatus(R,C,D);break}}maybeStartHedgingAttempt(){this.state==="HEDGING"&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var R,C,N;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;const D=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;const L=(R=D.hedgingDelay)!==null&&R!==void 0?R:"0s",q=Number(L.substring(0,L.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},q*1e3),(N=(C=this.hedgingTimer).unref)===null||N===void 0||N.call(C)}startNewAttempt(){const R=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+R.getCallNumber()+"] for attempt "+this.attempts);const C=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:R,nextMessageToSend:0,startTime:new Date});const N=this.attempts-1,D=this.initialMetadata.clone();N>0&&D.set(v,`${N}`);let L=!1;R.start(D,{onReceiveMetadata:q=>{this.trace("Received metadata from child ["+R.getCallNumber()+"]"),this.commitCall(C),L=!0,N>0&&q.set(v,`${N}`),this.underlyingCalls[C].state==="ACTIVE"&&this.listener.onReceiveMetadata(q)},onReceiveMessage:q=>{this.trace("Received message from child ["+R.getCallNumber()+"]"),this.commitCall(C),this.underlyingCalls[C].state==="ACTIVE"&&this.listener.onReceiveMessage(q)},onReceiveStatus:q=>{this.trace("Received status from child ["+R.getCallNumber()+"]"),!L&&N>0&&q.metadata.set(v,`${N}`),this.handleChildStatus(q,C)}}),this.sendNextChildMessage(C),this.readStarted&&R.startRead()}start(R,C){this.trace("start called"),this.listener=C,this.initialMetadata=R,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(R){var C,N;const D=this.underlyingCalls[R],L=D.nextMessageToSend;(N=(C=this.getBufferEntry(L)).callback)===null||N===void 0||N.call(C),this.clearSentMessages(),D.nextMessageToSend+=1,this.sendNextChildMessage(R)}sendNextChildMessage(R){const C=this.underlyingCalls[R];if(C.state!=="COMPLETED"&&this.getBufferEntry(C.nextMessageToSend)){const N=this.getBufferEntry(C.nextMessageToSend);switch(N.entryType){case"MESSAGE":C.call.sendMessageWithContext({callback:D=>{this.handleChildWriteCompleted(R)}},N.message.message);break;case"HALF_CLOSE":C.nextMessageToSend+=1,C.call.halfClose();break}}}sendMessageWithContext(R,C){var N;this.trace("write() called with message of length "+C.length);const D={message:C,flags:R.flags},L=this.getNextBufferIndex(),q={entryType:"MESSAGE",message:D,allocated:this.bufferTracker.allocate(C.length,this.callNumber)};if(this.writeBuffer.push(q),q.allocated){(N=R.callback)===null||N===void 0||N.call(R);for(const[M,U]of this.underlyingCalls.entries())U.state==="ACTIVE"&&U.nextMessageToSend===L&&U.call.sendMessageWithContext({callback:V=>{this.handleChildWriteCompleted(M)}},C)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;const M=this.underlyingCalls[this.committedCallIndex];q.callback=R.callback,M.state==="ACTIVE"&&M.nextMessageToSend===L&&M.call.sendMessageWithContext({callback:U=>{this.handleChildWriteCompleted(this.committedCallIndex)}},C)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(const R of this.underlyingCalls)(R==null?void 0:R.state)==="ACTIVE"&&R.call.startRead()}halfClose(){this.trace("halfClose called");const R=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(const C of this.underlyingCalls)(C==null?void 0:C.state)==="ACTIVE"&&C.nextMessageToSend===R&&(C.nextMessageToSend+=1,C.call.halfClose())}setCredentials(R){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}getAuthContext(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getAuthContext():null}}return retryingCall.RetryingCall=g,retryingCall}var subchannelInterface={},hasRequiredSubchannelInterface;function requireSubchannelInterface(){if(hasRequiredSubchannelInterface)return subchannelInterface;hasRequiredSubchannelInterface=1,Object.defineProperty(subchannelInterface,"__esModule",{value:!0}),subchannelInterface.BaseSubchannelWrapper=void 0;class c{constructor(d){this.child=d,this.healthy=!0,this.healthListeners=new Set,this.refcount=0,this.dataWatchers=new Set,d.addHealthStateWatcher(y=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(const d of this.healthListeners)d(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(d){this.child.addConnectivityStateListener(d)}removeConnectivityStateListener(d){this.child.removeConnectivityStateListener(d)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(d){this.child.throttleKeepalive(d)}ref(){this.child.ref(),this.refcount+=1}unref(){this.child.unref(),this.refcount-=1,this.refcount===0&&this.destroy()}destroy(){for(const d of this.dataWatchers)d.destroy()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(d){this.healthListeners.add(d)}removeHealthStateWatcher(d){this.healthListeners.delete(d)}addDataWatcher(d){d.setSubchannel(this.getRealSubchannel()),this.dataWatchers.add(d)}setHealthy(d){d!==this.healthy&&(this.healthy=d,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(d){return this.getRealSubchannel()===d.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}getChannel(){return this.child.getChannel()}}return subchannelInterface.BaseSubchannelWrapper=c,subchannelInterface}var hasRequiredInternalChannel;function requireInternalChannel(){return hasRequiredInternalChannel||(hasRequiredInternalChannel=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.InternalChannel=c.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;const u=requireChannelCredentials(),d=requireResolvingLoadBalancer(),y=requireSubchannelPool(),O=requirePicker(),T=requireMetadata(),E=requireConstants$1(),v=requireFilterStack(),p=requireCompressionFilter(),g=requireResolver(),w=requireLogging(),R=requireHttp_proxy(),C=requireUriParser(),N=requireConnectivityState(),D=requireChannelz(),L=requireLoadBalancingCall(),q=requireDeadline(),M=requireResolvingCall(),U=requireCallNumber(),V=requireControlPlaneStatus(),$=requireRetryingCall(),z=requireSubchannelInterface(),W=2147483647,J=1e3,Y=1800*1e3,Q=new Map,H=1<<24,te=1<<20;class ne extends z.BaseSubchannelWrapper{constructor(fe,de){super(fe),this.channel=de,this.refCount=0,this.subchannelStateListener=(ge,me,_e,we)=>{de.throttleKeepalive(we)}}ref(){this.refCount===0&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class oe{pick(fe){return{pickResultType:O.PickResultType.DROP,status:{code:E.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new T.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}c.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";class ie{constructor(fe){this.target=fe,this.trace=new D.ChannelzTrace,this.callTracker=new D.ChannelzCallTracker,this.childrenTracker=new D.ChannelzChildrenTracker,this.state=N.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}}class ee{constructor(fe,de,ge){var me,_e,we,Re,Te,Ae;if(this.credentials=de,this.options=ge,this.connectivityState=N.ConnectivityState.IDLE,this.currentPicker=new O.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof fe!="string")throw new TypeError("Channel target must be a string");if(!(de instanceof u.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(ge&&typeof ge!="object")throw new TypeError("Channel options must be an object");this.channelzInfoTracker=new ie(fe);const Oe=(0,C.parseUri)(fe);if(Oe===null)throw new Error(`Could not parse target name "${fe}"`);const ve=(0,g.mapUriDefaultScheme)(Oe);if(ve===null)throw new Error(`Could not find a default scheme for target name "${fe}"`);this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,D.registerChannelzChannel)(fe,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,g.getDefaultAuthority)(ve);const Ee=(0,R.mapProxyName)(ve,ge);this.target=Ee.target,this.options=Object.assign({},this.options,Ee.extraOptions),this.subchannelPool=(0,y.getSubchannelPool)(((me=this.options["grpc.use_local_subchannel_pool"])!==null&&me!==void 0?me:0)===0),this.retryBufferTracker=new $.MessageBufferTracker((_e=this.options["grpc.retry_buffer_size"])!==null&&_e!==void 0?_e:H,(we=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&we!==void 0?we:te),this.keepaliveTime=(Re=this.options["grpc.keepalive_time_ms"])!==null&&Re!==void 0?Re:-1,this.idleTimeoutMs=Math.max((Te=this.options["grpc.client_idle_timeout_ms"])!==null&&Te!==void 0?Te:Y,J);const he={createSubchannel:(P,k)=>{const K={};for(const[ye,a]of Object.entries(k))ye.startsWith(c.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(K[ye]=a);const pe=this.subchannelPool.getOrCreateSubchannel(this.target,P,K,this.credentials);return pe.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",pe.getChannelzRef()),new ne(pe,this)},updateState:(P,k)=>{this.currentPicker=k;const K=this.pickQueue.slice();this.pickQueue=[],K.length>0&&this.callRefTimerUnref();for(const pe of K)pe.doPick();this.updateState(P)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:P=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(P)},removeChannelzChild:P=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(P)}};this.resolvingLoadBalancer=new d.ResolvingLoadBalancer(this.target,he,this.options,(P,k)=>{var K;P.retryThrottling?Q.set(this.getTarget(),new $.RetryThrottler(P.retryThrottling.maxTokens,P.retryThrottling.tokenRatio,Q.get(this.getTarget()))):Q.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),(K=this.configSelector)===null||K===void 0||K.unref(),this.configSelector=k,this.currentResolutionError=null,process.nextTick(()=>{const pe=this.configSelectionQueue;this.configSelectionQueue=[],pe.length>0&&this.callRefTimerUnref();for(const Se of pe)Se.getConfig()})},P=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+P.code+' and details "'+P.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,V.restrictControlPlaneStatusCode)(P.code,P.details)),{metadata:P.metadata}));const k=this.configSelectionQueue;this.configSelectionQueue=[],k.length>0&&this.callRefTimerUnref();for(const K of k)K.reportResolverError(P)}),this.filterStackFactory=new v.FilterStackFactory([new p.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(ge,void 0,2));const l=new Error;(0,w.isTracerEnabled)("channel_stacktrace")&&(0,w.trace)(E.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((Ae=l.stack)===null||Ae===void 0?void 0:Ae.substring(l.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}trace(fe,de){(0,w.trace)(de??E.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,C.uriToString)(this.target)+" "+fe)}callRefTimerRef(){var fe,de,ge,me;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},W)),!((de=(fe=this.callRefTimer).hasRef)===null||de===void 0)&&de.call(fe)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(me=(ge=this.callRefTimer).ref)===null||me===void 0||me.call(ge))}callRefTimerUnref(){var fe,de,ge;(!(!((fe=this.callRefTimer)===null||fe===void 0)&&fe.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(ge=(de=this.callRefTimer)===null||de===void 0?void 0:de.unref)===null||ge===void 0||ge.call(de))}removeConnectivityStateWatcher(fe){const de=this.connectivityStateWatchers.findIndex(ge=>ge===fe);de>=0&&this.connectivityStateWatchers.splice(de,1)}updateState(fe){(0,w.trace)(E.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,C.uriToString)(this.target)+" "+N.ConnectivityState[this.connectivityState]+" -> "+N.ConnectivityState[fe]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+N.ConnectivityState[fe]),this.connectivityState=fe,this.channelzInfoTracker.state=fe;const de=this.connectivityStateWatchers.slice();for(const ge of de)fe!==ge.currentState&&(ge.timer&&clearTimeout(ge.timer),this.removeConnectivityStateWatcher(ge),ge.callback());fe!==N.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(fe){if(fe>this.keepaliveTime){this.keepaliveTime=fe;for(const de of this.wrappedSubchannels)de.throttleKeepalive(fe)}}addWrappedSubchannel(fe){this.wrappedSubchannels.add(fe)}removeWrappedSubchannel(fe){this.wrappedSubchannels.delete(fe)}doPick(fe,de){return this.currentPicker.pick({metadata:fe,extraPickInfo:de})}queueCallForPick(fe){this.pickQueue.push(fe),this.callRefTimerRef()}getConfig(fe,de){return this.connectivityState!==N.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector.invoke(fe,de,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(fe){this.configSelectionQueue.push(fe),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(N.ConnectivityState.IDLE),this.currentPicker=new O.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null)}startIdleTimeout(fe){var de,ge;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}const _e=new Date().valueOf()-this.lastActivityTimestamp.valueOf();_e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-_e)},fe),(ge=(de=this.idleTimer).unref)===null||ge===void 0||ge.call(de)}maybeStartIdleTimer(){this.connectivityState!==N.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(fe){this.channelzEnabled&&(fe.code===E.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(fe,de,ge,me,_e){const we=(0,U.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+we+'] method="'+de+'"'),new L.LoadBalancingCall(this,fe,de,ge,me,_e,we)}createRetryingCall(fe,de,ge,me,_e){const we=(0,U.getNextCallNumber)();return this.trace("createRetryingCall ["+we+'] method="'+de+'"'),new $.RetryingCall(this,fe,de,ge,me,_e,we,this.retryBufferTracker,Q.get(this.getTarget()))}createResolvingCall(fe,de,ge,me,_e){const we=(0,U.getNextCallNumber)();this.trace("createResolvingCall ["+we+'] method="'+fe+'", deadline='+(0,q.deadlineToString)(de));const Re={deadline:de,flags:_e??E.Propagate.DEFAULTS,host:ge??this.defaultAuthority,parentCall:me},Te=new M.ResolvingCall(this,fe,Re,this.filterStackFactory.clone(),we);return this.onCallStart(),Te.addStatusWatcher(Ae=>{this.onCallEnd(Ae)}),Te}close(){var fe;this.resolvingLoadBalancer.destroy(),this.updateState(N.ConnectivityState.SHUTDOWN),this.currentPicker=new oe;for(const de of this.configSelectionQueue)de.cancelWithStatus(E.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(const de of this.pickQueue)de.cancelWithStatus(E.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,D.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),(fe=this.configSelector)===null||fe===void 0||fe.unref(),this.configSelector=null}getTarget(){return(0,C.uriToString)(this.target)}getConnectivityState(fe){const de=this.connectivityState;return fe&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),de}watchConnectivityState(fe,de,ge){if(this.connectivityState===N.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let me=null;if(de!==1/0){const we=de instanceof Date?de:new Date(de),Re=new Date;if(de===-1/0||we<=Re){process.nextTick(ge,new Error("Deadline passed without connectivity state change"));return}me=setTimeout(()=>{this.removeConnectivityStateWatcher(_e),ge(new Error("Deadline passed without connectivity state change"))},we.getTime()-Re.getTime())}const _e={currentState:fe,callback:ge,timer:me};this.connectivityStateWatchers.push(_e)}getChannelzRef(){return this.channelzRef}createCall(fe,de,ge,me,_e){if(typeof fe!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof de=="number"||de instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===N.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(fe,de,ge,me,_e)}getOptions(){return this.options}}c.InternalChannel=ee})(internalChannel)),internalChannel}var hasRequiredChannel;function requireChannel(){if(hasRequiredChannel)return channel;hasRequiredChannel=1,Object.defineProperty(channel,"__esModule",{value:!0}),channel.ChannelImplementation=void 0;const c=requireChannelCredentials(),u=requireInternalChannel();class d{constructor(O,T,E){if(typeof O!="string")throw new TypeError("Channel target must be a string");if(!(T instanceof c.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(E&&typeof E!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new u.InternalChannel(O,T,E)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(O){return this.internalChannel.getConnectivityState(O)}watchConnectivityState(O,T,E){this.internalChannel.watchConnectivityState(O,T,E)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(O,T,E,v,p){if(typeof O!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof T=="number"||T instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(O,T,E,v,p)}}return channel.ChannelImplementation=d,channel}var server={},serverCall={},hasRequiredServerCall;function requireServerCall(){if(hasRequiredServerCall)return serverCall;hasRequiredServerCall=1,Object.defineProperty(serverCall,"__esModule",{value:!0}),serverCall.ServerDuplexStreamImpl=serverCall.ServerWritableStreamImpl=serverCall.ServerReadableStreamImpl=serverCall.ServerUnaryCallImpl=void 0,serverCall.serverErrorToStatus=O;const c=require$$0$8,u=require$$0$6,d=requireConstants$1(),y=requireMetadata();function O(g,w){var R;const C={code:d.Status.UNKNOWN,details:"message"in g?g.message:"Unknown Error",metadata:(R=w??g.metadata)!==null&&R!==void 0?R:null};return"code"in g&&typeof g.code=="number"&&Number.isInteger(g.code)&&(C.code=g.code,"details"in g&&typeof g.details=="string"&&(C.details=g.details)),C}class T extends c.EventEmitter{constructor(w,R,C,N){super(),this.path=w,this.call=R,this.metadata=C,this.request=N,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(w){this.call.sendMetadata(w)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}serverCall.ServerUnaryCallImpl=T;class E extends u.Readable{constructor(w,R,C){super({objectMode:!0}),this.path=w,this.call=R,this.metadata=C,this.cancelled=!1}_read(w){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(w){this.call.sendMetadata(w)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}serverCall.ServerReadableStreamImpl=E;class v extends u.Writable{constructor(w,R,C,N){super({objectMode:!0}),this.path=w,this.call=R,this.metadata=C,this.request=N,this.pendingStatus={code:d.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new y.Metadata,this.on("error",D=>{this.pendingStatus=O(D),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(w){this.call.sendMetadata(w)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_write(w,R,C){this.call.sendMessage(w,C)}_final(w){var R;w(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(R=this.pendingStatus.metadata)!==null&&R!==void 0?R:this.trailingMetadata}))}end(w){return w&&(this.trailingMetadata=w),super.end()}}serverCall.ServerWritableStreamImpl=v;class p extends u.Duplex{constructor(w,R,C){super({objectMode:!0}),this.path=w,this.call=R,this.metadata=C,this.pendingStatus={code:d.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new y.Metadata,this.on("error",N=>{this.pendingStatus=O(N),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(w){this.call.sendMetadata(w)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_read(w){this.call.startRead()}_write(w,R,C){this.call.sendMessage(w,C)}_final(w){var R;w(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(R=this.pendingStatus.metadata)!==null&&R!==void 0?R:this.trailingMetadata}))}end(w){return w&&(this.trailingMetadata=w),super.end()}}return serverCall.ServerDuplexStreamImpl=p,serverCall}var serverCredentials={},hasRequiredServerCredentials;function requireServerCredentials(){if(hasRequiredServerCredentials)return serverCredentials;hasRequiredServerCredentials=1,Object.defineProperty(serverCredentials,"__esModule",{value:!0}),serverCredentials.ServerCredentials=void 0,serverCredentials.createCertificateProviderServerCredentials=T,serverCredentials.createServerCredentialsWithInterceptors=v;const c=requireTlsHelpers();class u{constructor(g,w){this.serverConstructorOptions=g,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=w??null}_addWatcher(g){this.watchers.add(g)}_removeWatcher(g){this.watchers.delete(g)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(g){this.latestContextOptions=g;for(const w of this.watchers)w(this.latestContextOptions)}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new d}static createSsl(g,w,R=!1){var C;if(g!==null&&!Buffer.isBuffer(g))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(w))throw new TypeError("keyCertPairs must be an array");if(typeof R!="boolean")throw new TypeError("checkClientCertificate must be a boolean");const N=[],D=[];for(let L=0;L<w.length;L++){const q=w[L];if(q===null||typeof q!="object")throw new TypeError(`keyCertPair[${L}] must be an object`);if(!Buffer.isBuffer(q.private_key))throw new TypeError(`keyCertPair[${L}].private_key must be a Buffer`);if(!Buffer.isBuffer(q.cert_chain))throw new TypeError(`keyCertPair[${L}].cert_chain must be a Buffer`);N.push(q.cert_chain),D.push(q.private_key)}return new y({requestCert:R,ciphers:c.CIPHER_SUITES},{ca:(C=g??(0,c.getDefaultRootsData)())!==null&&C!==void 0?C:void 0,cert:N,key:D})}}serverCredentials.ServerCredentials=u;class d extends u{constructor(){super(null)}_getSettings(){return null}_equals(g){return g instanceof d}}class y extends u{constructor(g,w){super(g,w),this.options=Object.assign(Object.assign({},g),w)}_equals(g){if(this===g)return!0;if(!(g instanceof y))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(g.options.ca)){if(!this.options.ca.equals(g.options.ca))return!1}else if(this.options.ca!==g.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(g.options.cert)){if(this.options.cert.length!==g.options.cert.length)return!1;for(let w=0;w<this.options.cert.length;w++){const R=this.options.cert[w],C=g.options.cert[w];if(Buffer.isBuffer(R)&&Buffer.isBuffer(C)){if(!R.equals(C))return!1}else if(R!==C)return!1}}else if(this.options.cert!==g.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(g.options.key)){if(this.options.key.length!==g.options.key.length)return!1;for(let w=0;w<this.options.key.length;w++){const R=this.options.key[w],C=g.options.key[w];if(Buffer.isBuffer(R)&&Buffer.isBuffer(C)){if(!R.equals(C))return!1}else if(R!==C)return!1}}else if(this.options.key!==g.options.key)return!1;return this.options.requestCert===g.options.requestCert}}class O extends u{constructor(g,w,R){super({requestCert:w!==null,rejectUnauthorized:R,ciphers:c.CIPHER_SUITES}),this.identityCertificateProvider=g,this.caCertificateProvider=w,this.requireClientCertificate=R,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(g){var w;this.getWatcherCount()===0&&((w=this.caCertificateProvider)===null||w===void 0||w.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(g)}_removeWatcher(g){var w;super._removeWatcher(g),this.getWatcherCount()===0&&((w=this.caCertificateProvider)===null||w===void 0||w.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_equals(g){return this===g?!0:g instanceof O?this.caCertificateProvider===g.caCertificateProvider&&this.identityCertificateProvider===g.identityCertificateProvider&&this.requireClientCertificate===g.requireClientCertificate:!1}calculateSecureContextOptions(){var g;return this.latestIdentityUpdate===null||this.caCertificateProvider!==null&&this.latestCaUpdate===null?null:{ca:(g=this.latestCaUpdate)===null||g===void 0?void 0:g.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){const g=this.calculateSecureContextOptions();this.updateSecureContextOptions(g)}handleCaCertificateUpdate(g){this.latestCaUpdate=g,this.finalizeUpdate()}handleIdentityCertitificateUpdate(g){this.latestIdentityUpdate=g,this.finalizeUpdate()}}function T(p,g,w){return new O(p,g,w)}class E extends u{constructor(g,w){super({}),this.childCredentials=g,this.interceptors=w}_isSecure(){return this.childCredentials._isSecure()}_equals(g){if(!(g instanceof E)||!this.childCredentials._equals(g.childCredentials)||this.interceptors.length!==g.interceptors.length)return!1;for(let w=0;w<this.interceptors.length;w++)if(this.interceptors[w]!==g.interceptors[w])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(g){this.childCredentials._addWatcher(g)}_removeWatcher(g){this.childCredentials._removeWatcher(g)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}}function v(p,g){return new E(p,g)}return serverCredentials}var serverInterceptors={},orca={},duration={},hasRequiredDuration;function requireDuration(){if(hasRequiredDuration)return duration;hasRequiredDuration=1,Object.defineProperty(duration,"__esModule",{value:!0}),duration.durationMessageToDuration=c,duration.msToDuration=u,duration.durationToMs=d,duration.isDuration=y,duration.isDurationMessage=O,duration.parseDuration=E,duration.durationToString=v;function c(p){return{seconds:Number.parseInt(p.seconds),nanos:p.nanos}}function u(p){return{seconds:p/1e3|0,nanos:p%1e3*1e6|0}}function d(p){return p.seconds*1e3+p.nanos/1e6|0}function y(p){return typeof p.seconds=="number"&&typeof p.nanos=="number"}function O(p){return typeof p.seconds=="string"&&typeof p.nanos=="number"}const T=/^(\d+)(?:\.(\d+))?s$/;function E(p){const g=p.match(T);return g?{seconds:Number.parseInt(g[1],10),nanos:g[2]?Number.parseInt(g[2].padEnd(9,"0"),10):0}:null}function v(p){if(p.nanos===0)return`${p.seconds}s`;let g;return p.nanos%1e6===0?g=1e6:p.nanos%1e3===0?g=1e3:g=1,`${p.seconds}.${p.nanos/g}s`}return duration}var hasRequiredOrca;function requireOrca(){return hasRequiredOrca||(hasRequiredOrca=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.OrcaOobMetricsSubchannelWrapper=c.GRPC_METRICS_HEADER=c.ServerMetricRecorder=c.PerRequestMetricRecorder=void 0,c.createOrcaClient=C,c.createMetricsReader=D;const u=requireMakeClient(),d=requireDuration(),y=requireChannelCredentials(),O=requireSubchannelInterface(),T=requireConstants$1(),E=requireBackoffTimeout(),v=requireConnectivityState();function p(){const $=requireSrc$3().loadSync,z=$("xds/service/orca/v3/orca.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto/xds`,`${__dirname}/../../proto/protoc-gen-validate`]});return(0,u.loadPackageDefinition)(z)}class g{constructor(){this.message={}}recordRequestCostMetric(z,W){this.message.request_cost||(this.message.request_cost={}),this.message.request_cost[z]=W}recordUtilizationMetric(z,W){this.message.utilization||(this.message.utilization={}),this.message.utilization[z]=W}recordNamedMetric(z,W){this.message.named_metrics||(this.message.named_metrics={}),this.message.named_metrics[z]=W}recordCPUUtilizationMetric(z){this.message.cpu_utilization=z}recordMemoryUtilizationMetric(z){this.message.mem_utilization=z}recordApplicationUtilizationMetric(z){this.message.application_utilization=z}recordQpsMetric(z){this.message.rps_fractional=z}recordEpsMetric(z){this.message.eps=z}serialize(){return p().xds.data.orca.v3.OrcaLoadReport.serialize(this.message)}}c.PerRequestMetricRecorder=g;const w=3e4;class R{constructor(){this.message={},this.serviceImplementation={StreamCoreMetrics:z=>{const W=z.request.report_interval?(0,d.durationToMs)((0,d.durationMessageToDuration)(z.request.report_interval)):w,J=setInterval(()=>{z.write(this.message)},W);z.on("cancelled",()=>{clearInterval(J)})}}}putUtilizationMetric(z,W){this.message.utilization||(this.message.utilization={}),this.message.utilization[z]=W}setAllUtilizationMetrics(z){this.message.utilization=Object.assign({},z)}deleteUtilizationMetric(z){var W;(W=this.message.utilization)===null||W===void 0||delete W[z]}setCpuUtilizationMetric(z){this.message.cpu_utilization=z}deleteCpuUtilizationMetric(){delete this.message.cpu_utilization}setApplicationUtilizationMetric(z){this.message.application_utilization=z}deleteApplicationUtilizationMetric(){delete this.message.application_utilization}setQpsMetric(z){this.message.rps_fractional=z}deleteQpsMetric(){delete this.message.rps_fractional}setEpsMetric(z){this.message.eps=z}deleteEpsMetric(){delete this.message.eps}addToServer(z){const W=p().xds.service.orca.v3.OpenRcaService.service;z.addService(W,this.serviceImplementation)}}c.ServerMetricRecorder=R;function C($){const z=p().xds.service.orca.v3.OpenRcaService;return new z("unused",y.ChannelCredentials.createInsecure(),{channelOverride:$})}c.GRPC_METRICS_HEADER="endpoint-load-metrics-bin";const N="grpc_orca_load_report";function D($,z){return(W,J,Y)=>{let Q=Y.getOpaque(N);if(Q)$(Q);else{const H=Y.get(c.GRPC_METRICS_HEADER);H.length>0&&(Q=p().xds.data.orca.v3.OrcaLoadReport.deserialize(H[0]),$(Q),Y.setOpaque(N,Q))}z&&z(W,J,Y)}}const L="orca_oob_metrics";class q{constructor(z,W){this.metricsListener=z,this.intervalMs=W,this.dataProducer=null}setSubchannel(z){const W=z.getOrCreateDataProducer(L,V);this.dataProducer=W,W.addDataWatcher(this)}destroy(){var z;(z=this.dataProducer)===null||z===void 0||z.removeDataWatcher(this)}getInterval(){return this.intervalMs}onMetricsUpdate(z){this.metricsListener(z)}}class M{constructor(z){this.subchannel=z,this.dataWatchers=new Set,this.orcaSupported=!0,this.metricsCall=null,this.currentInterval=1/0,this.backoffTimer=new E.BackoffTimeout(()=>this.updateMetricsSubscription()),this.subchannelStateListener=()=>this.updateMetricsSubscription();const W=z.getChannel();this.client=C(W),z.addConnectivityStateListener(this.subchannelStateListener)}addDataWatcher(z){this.dataWatchers.add(z),this.updateMetricsSubscription()}removeDataWatcher(z){var W;this.dataWatchers.delete(z),this.dataWatchers.size===0?(this.subchannel.removeDataProducer(L),(W=this.metricsCall)===null||W===void 0||W.cancel(),this.metricsCall=null,this.client.close(),this.subchannel.removeConnectivityStateListener(this.subchannelStateListener)):this.updateMetricsSubscription()}updateMetricsSubscription(){var z;if(this.dataWatchers.size===0||!this.orcaSupported||this.subchannel.getConnectivityState()!==v.ConnectivityState.READY)return;const W=Math.min(...Array.from(this.dataWatchers).map(J=>J.getInterval()));if(!this.metricsCall||W!==this.currentInterval){(z=this.metricsCall)===null||z===void 0||z.cancel(),this.currentInterval=W;const J=this.client.streamCoreMetrics({report_interval:(0,d.msToDuration)(W)});this.metricsCall=J,J.on("data",Y=>{this.dataWatchers.forEach(Q=>{Q.onMetricsUpdate(Y)})}),J.on("error",Y=>{if(this.metricsCall=null,Y.code===T.Status.UNIMPLEMENTED){this.orcaSupported=!1;return}Y.code!==T.Status.CANCELLED&&this.backoffTimer.runOnce()})}}}class U extends O.BaseSubchannelWrapper{constructor(z,W,J){super(z),this.addDataWatcher(new q(W,J))}getWrappedSubchannel(){return this.child}}c.OrcaOobMetricsSubchannelWrapper=U;function V($){return new M($)}})(orca)),orca}var hasRequiredServerInterceptors;function requireServerInterceptors(){if(hasRequiredServerInterceptors)return serverInterceptors;hasRequiredServerInterceptors=1,Object.defineProperty(serverInterceptors,"__esModule",{value:!0}),serverInterceptors.BaseServerInterceptingCall=serverInterceptors.ServerInterceptingCall=serverInterceptors.ResponderBuilder=serverInterceptors.ServerListenerBuilder=void 0,serverInterceptors.isInterceptingServerListener=C,serverInterceptors.getServerInterceptingCall=oe;const c=requireMetadata(),u=requireConstants$1(),d=require$$0$c,y=requireError(),O=require$$0$b,T=requireStreamDecoder(),E=requireLogging(),v=require$$1$8,p=requireOrca(),g="server_call";function w(ie){E.trace(u.LogVerbosity.DEBUG,g,ie)}class R{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(ee){return this.metadata=ee,this}withOnReceiveMessage(ee){return this.message=ee,this}withOnReceiveHalfClose(ee){return this.halfClose=ee,this}withOnCancel(ee){return this.cancel=ee,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}}serverInterceptors.ServerListenerBuilder=R;function C(ie){return ie.onReceiveMetadata!==void 0&&ie.onReceiveMetadata.length===1}class N{constructor(ee,ue){this.listener=ee,this.nextListener=ue,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(ee){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(ee,ue=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(ue),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(ee){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(ee,ue=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=ue,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(ue),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}class D{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(ee){return this.start=ee,this}withSendMetadata(ee){return this.metadata=ee,this}withSendMessage(ee){return this.message=ee,this}withSendStatus(ee){return this.status=ee,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}}serverInterceptors.ResponderBuilder=D;const L={onReceiveMetadata:(ie,ee)=>{ee(ie)},onReceiveMessage:(ie,ee)=>{ee(ie)},onReceiveHalfClose:ie=>{ie()},onCancel:()=>{}},q={start:ie=>{ie()},sendMetadata:(ie,ee)=>{ee(ie)},sendMessage:(ie,ee)=>{ee(ie)},sendStatus:(ie,ee)=>{ee(ie)}};class M{constructor(ee,ue){var fe,de,ge,me;this.nextCall=ee,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(fe=ue==null?void 0:ue.start)!==null&&fe!==void 0?fe:q.start,sendMetadata:(de=ue==null?void 0:ue.sendMetadata)!==null&&de!==void 0?de:q.sendMetadata,sendMessage:(ge=ue==null?void 0:ue.sendMessage)!==null&&ge!==void 0?ge:q.sendMessage,sendStatus:(me=ue==null?void 0:ue.sendStatus)!==null&&me!==void 0?me:q.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(ee){this.responder.start(ue=>{var fe,de,ge,me;const _e={onReceiveMetadata:(fe=ue==null?void 0:ue.onReceiveMetadata)!==null&&fe!==void 0?fe:L.onReceiveMetadata,onReceiveMessage:(de=ue==null?void 0:ue.onReceiveMessage)!==null&&de!==void 0?de:L.onReceiveMessage,onReceiveHalfClose:(ge=ue==null?void 0:ue.onReceiveHalfClose)!==null&&ge!==void 0?ge:L.onReceiveHalfClose,onCancel:(me=ue==null?void 0:ue.onCancel)!==null&&me!==void 0?me:L.onCancel},we=new N(_e,ee);this.nextCall.start(we)})}sendMetadata(ee){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(ee,ue=>{this.processingMetadata=!1,this.nextCall.sendMetadata(ue),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(ee,ue){this.processingMessage=!0,this.sentMetadata||this.sendMetadata(new c.Metadata),this.responder.sendMessage(ee,fe=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=fe,this.pendingMessageCallback=ue):this.nextCall.sendMessage(fe,ue)})}sendStatus(ee){this.responder.sendStatus(ee,ue=>{this.processingMetadata||this.processingMessage?this.pendingStatus=ue:this.nextCall.sendStatus(ue)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}getAuthContext(){return this.nextCall.getAuthContext()}getConnectionInfo(){return this.nextCall.getConnectionInfo()}getMetricsRecorder(){return this.nextCall.getMetricsRecorder()}}serverInterceptors.ServerInterceptingCall=M;const U="grpc-accept-encoding",V="grpc-encoding",$="grpc-message",z="grpc-status",W="grpc-timeout",J=/(\d{1,8})\s*([HMSmun])/,Y={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},Q={[U]:"identity,deflate,gzip",[V]:"identity"},H={[d.constants.HTTP2_HEADER_STATUS]:d.constants.HTTP_STATUS_OK,[d.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},te={waitForTrailers:!0};class ne{constructor(ee,ue,fe,de,ge){var me,_e;this.stream=ee,this.callEventTracker=fe,this.handler=de,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=u.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=u.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.metricsRecorder=new p.PerRequestMetricRecorder,this.stream.once("error",Oe=>{}),this.stream.once("close",()=>{var Oe;w("Request to method "+((Oe=this.handler)===null||Oe===void 0?void 0:Oe.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:u.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",Oe=>{this.handleDataFrame(Oe)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in ge&&(this.maxSendMessageSize=ge["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in ge&&(this.maxReceiveMessageSize=ge["grpc.max_receive_message_length"]),this.host=(me=ue[":authority"])!==null&&me!==void 0?me:ue.host,this.decoder=new T.StreamDecoder(this.maxReceiveMessageSize);const we=c.Metadata.fromHttp2Headers(ue);E.isTracerEnabled(g)&&w("Request to "+this.handler.path+" received headers "+JSON.stringify(we.toJSON()));const Re=we.get(W);Re.length>0&&this.handleTimeoutHeader(Re[0]);const Te=we.get(V);Te.length>0&&(this.incomingEncoding=Te[0]),we.remove(W),we.remove(V),we.remove(U),we.remove(d.constants.HTTP2_HEADER_ACCEPT_ENCODING),we.remove(d.constants.HTTP2_HEADER_TE),we.remove(d.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=we;const Ae=(_e=ee.session)===null||_e===void 0?void 0:_e.socket;this.connectionInfo={localAddress:Ae==null?void 0:Ae.localAddress,localPort:Ae==null?void 0:Ae.localPort,remoteAddress:Ae==null?void 0:Ae.remoteAddress,remotePort:Ae==null?void 0:Ae.remotePort},this.shouldSendMetrics=!!ge["grpc.server_call_metric_recording"]}handleTimeoutHeader(ee){const ue=ee.toString().match(J);if(ue===null){const ge={code:u.Status.INTERNAL,details:`Invalid ${W} value "${ee}"`,metadata:null};process.nextTick(()=>{this.sendStatus(ge)});return}const fe=+ue[1]*Y[ue[2]]|0,de=new Date;this.deadline=de.setMilliseconds(de.getMilliseconds()+fe),this.deadlineTimer=setTimeout(()=>{const ge={code:u.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(ge)},fe)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var ee;(ee=this.listener)===null||ee===void 0||ee.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new c.Metadata)}serializeMessage(ee){const ue=this.handler.serialize(ee),fe=ue.byteLength,de=Buffer.allocUnsafe(fe+5);return de.writeUInt8(0,0),de.writeUInt32BE(fe,1),ue.copy(de,5),de}decompressMessage(ee,ue){const fe=ee.subarray(5);if(ue==="identity")return fe;if(ue==="deflate"||ue==="gzip"){let de;return ue==="deflate"?de=O.createInflate():de=O.createGunzip(),new Promise((ge,me)=>{let _e=0;const we=[];de.on("data",Re=>{we.push(Re),_e+=Re.byteLength,this.maxReceiveMessageSize!==-1&&_e>this.maxReceiveMessageSize&&(de.destroy(),me({code:u.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),de.on("end",()=>{ge(Buffer.concat(we))}),de.write(fe),de.end()})}else return Promise.reject({code:u.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${ue}"`})}async decompressAndMaybePush(ee){if(ee.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${ee.type}`);const fe=ee.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity";let de;try{de=await this.decompressMessage(ee.compressedMessage,fe)}catch(ge){this.sendStatus(ge);return}try{ee.parsedMessage=this.handler.deserialize(de)}catch(ge){this.sendStatus({code:u.Status.INTERNAL,details:`Error deserializing request: ${ge.message}`});return}ee.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;const ee=this.readQueue.shift();ee.type==="READABLE"?this.listener.onReceiveMessage(ee.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(ee){var ue;if(this.checkCancelled())return;w("Request to "+this.handler.path+" received data frame of size "+ee.length);let fe;try{fe=this.decoder.write(ee)}catch(de){this.sendStatus({code:u.Status.RESOURCE_EXHAUSTED,details:de.message});return}for(const de of fe){this.stream.pause();const ge={type:"COMPRESSED",compressedMessage:de,parsedMessage:null};this.readQueue.push(ge),this.decompressAndMaybePush(ge),(ue=this.callEventTracker)===null||ue===void 0||ue.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(ee){w("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=ee,ee.onReceiveMetadata(this.metadata))}sendMetadata(ee){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;const ue=ee?ee.toHttp2Headers():null,fe=Object.assign(Object.assign(Object.assign({},H),Q),ue);this.stream.respond(fe,te)}sendMessage(ee,ue){if(this.checkCancelled())return;let fe;try{fe=this.serializeMessage(ee)}catch(de){this.sendStatus({code:u.Status.INTERNAL,details:`Error serializing response: ${(0,y.getErrorMessage)(de)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&fe.length-5>this.maxSendMessageSize){this.sendStatus({code:u.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${fe.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),w("Request to "+this.handler.path+" sent data frame of size "+fe.length),this.stream.write(fe,de=>{var ge;if(de){this.sendStatus({code:u.Status.INTERNAL,details:`Error writing message: ${(0,y.getErrorMessage)(de)}`,metadata:null});return}(ge=this.callEventTracker)===null||ge===void 0||ge.addMessageSent(),ue()})}sendStatus(ee){var ue,fe,de;if(this.checkCancelled())return;w("Request to method "+((ue=this.handler)===null||ue===void 0?void 0:ue.path)+" ended with status code: "+u.Status[ee.code]+" details: "+ee.details);const ge=(de=(fe=ee.metadata)===null||fe===void 0?void 0:fe.clone())!==null&&de!==void 0?de:new c.Metadata;if(this.shouldSendMetrics&&ge.set(p.GRPC_METRICS_HEADER,this.metricsRecorder.serialize()),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(ee));const me=Object.assign({[z]:ee.code,[$]:encodeURI(ee.details)},ge.toHttp2Headers());this.stream.sendTrailers(me),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(ee));const me=Object.assign(Object.assign({[z]:ee.code,[$]:encodeURI(ee.details)},H),ge.toHttp2Headers());this.stream.respond(me,{endStream:!0}),this.notifyOnCancel()}}startRead(){w("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var ee;const ue=(ee=this.stream.session)===null||ee===void 0?void 0:ee.socket;return ue!=null&&ue.remoteAddress?ue.remotePort?`${ue.remoteAddress}:${ue.remotePort}`:ue.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}getAuthContext(){var ee;if(((ee=this.stream.session)===null||ee===void 0?void 0:ee.socket)instanceof v.TLSSocket){const ue=this.stream.session.socket.getPeerCertificate();return{transportSecurityType:"ssl",sslPeerCertificate:ue.raw?ue:void 0}}else return{}}getConnectionInfo(){return this.connectionInfo}getMetricsRecorder(){return this.metricsRecorder}}serverInterceptors.BaseServerInterceptingCall=ne;function oe(ie,ee,ue,fe,de,ge){const me={path:de.path,requestStream:de.type==="clientStream"||de.type==="bidi",responseStream:de.type==="serverStream"||de.type==="bidi",requestDeserialize:de.deserialize,responseSerialize:de.serialize},_e=new ne(ee,ue,fe,de,ge);return ie.reduce((we,Re)=>Re(me,we),_e)}return serverInterceptors}var hasRequiredServer;function requireServer(){if(hasRequiredServer)return server;hasRequiredServer=1;var c=server&&server.__runInitializers||function(ie,ee,ue){for(var fe=arguments.length>2,de=0;de<ee.length;de++)ue=fe?ee[de].call(ie,ue):ee[de].call(ie);return fe?ue:void 0},u=server&&server.__esDecorate||function(ie,ee,ue,fe,de,ge){function me(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var _e=fe.kind,we=_e==="getter"?"get":_e==="setter"?"set":"value",Re=!ee&&ie?fe.static?ie:ie.prototype:null,Te=ee||(Re?Object.getOwnPropertyDescriptor(Re,fe.name):{}),Ae,Oe=!1,ve=ue.length-1;ve>=0;ve--){var Ee={};for(var he in fe)Ee[he]=he==="access"?{}:fe[he];for(var he in fe.access)Ee.access[he]=fe.access[he];Ee.addInitializer=function(P){if(Oe)throw new TypeError("Cannot add initializers after decoration has completed");ge.push(me(P||null))};var l=(0,ue[ve])(_e==="accessor"?{get:Te.get,set:Te.set}:Te[we],Ee);if(_e==="accessor"){if(l===void 0)continue;if(l===null||typeof l!="object")throw new TypeError("Object expected");(Ae=me(l.get))&&(Te.get=Ae),(Ae=me(l.set))&&(Te.set=Ae),(Ae=me(l.init))&&de.unshift(Ae)}else(Ae=me(l))&&(_e==="field"?de.unshift(Ae):Te[we]=Ae)}Re&&Object.defineProperty(Re,fe.name,Te),Oe=!0};Object.defineProperty(server,"__esModule",{value:!0}),server.Server=void 0;const d=require$$0$c,y=require$$3$2,O=requireConstants$1(),T=requireServerCall(),E=requireServerCredentials(),v=requireResolver(),p=requireLogging(),g=requireSubchannelAddress(),w=requireUriParser(),R=requireChannelz(),C=requireServerInterceptors(),N=2147483647,D=2147483647,L=2e4,q=2147483647,{HTTP2_HEADER_PATH:M}=d.constants,U="server",V=Buffer.from("max_age");function $(ie){p.trace(O.LogVerbosity.DEBUG,"server_call",ie)}function z(){}function W(ie){return function(ee,ue){return y.deprecate(ee,ie)}}function J(ie){return{code:O.Status.UNIMPLEMENTED,details:`The server does not implement the method ${ie}`}}function Y(ie,ee){const ue=J(ee);switch(ie){case"unary":return(fe,de)=>{de(ue,null)};case"clientStream":return(fe,de)=>{de(ue,null)};case"serverStream":return fe=>{fe.emit("error",ue)};case"bidi":return fe=>{fe.emit("error",ue)};default:throw new Error(`Invalid handlerType ${ie}`)}}let Q=(()=>{var ie;let ee=[],ue;return ie=class{constructor(de){var ge,me,_e,we,Re,Te;this.boundPorts=(c(this,ee),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=de??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new R.ChannelzTraceStub,this.callTracker=new R.ChannelzCallTrackerStub,this.listenerChildrenTracker=new R.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new R.ChannelzChildrenTrackerStub):(this.channelzTrace=new R.ChannelzTrace,this.callTracker=new R.ChannelzCallTracker,this.listenerChildrenTracker=new R.ChannelzChildrenTracker,this.sessionChildrenTracker=new R.ChannelzChildrenTracker),this.channelzRef=(0,R.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(ge=this.options["grpc.max_connection_age_ms"])!==null&&ge!==void 0?ge:N,this.maxConnectionAgeGraceMs=(me=this.options["grpc.max_connection_age_grace_ms"])!==null&&me!==void 0?me:N,this.keepaliveTimeMs=(_e=this.options["grpc.keepalive_time_ms"])!==null&&_e!==void 0?_e:D,this.keepaliveTimeoutMs=(we=this.options["grpc.keepalive_timeout_ms"])!==null&&we!==void 0?we:L,this.sessionIdleTimeout=(Re=this.options["grpc.max_connection_idle_ms"])!==null&&Re!==void 0?Re:q,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(Te=this.options.interceptors)!==null&&Te!==void 0?Te:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(de){var ge,me,_e;const we=this.sessions.get(de),Re=de.socket,Te=Re.remoteAddress?(0,g.stringToSubchannelAddress)(Re.remoteAddress,Re.remotePort):null,Ae=Re.localAddress?(0,g.stringToSubchannelAddress)(Re.localAddress,Re.localPort):null;let Oe;if(de.encrypted){const Ee=Re,he=Ee.getCipher(),l=Ee.getCertificate(),P=Ee.getPeerCertificate();Oe={cipherSuiteStandardName:(ge=he.standardName)!==null&&ge!==void 0?ge:null,cipherSuiteOtherName:he.standardName?null:he.name,localCertificate:l&&"raw"in l?l.raw:null,remoteCertificate:P&&"raw"in P?P.raw:null}}else Oe=null;return{remoteAddress:Te,localAddress:Ae,security:Oe,remoteName:null,streamsStarted:we.streamTracker.callsStarted,streamsSucceeded:we.streamTracker.callsSucceeded,streamsFailed:we.streamTracker.callsFailed,messagesSent:we.messagesSent,messagesReceived:we.messagesReceived,keepAlivesSent:we.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:we.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:we.lastMessageSentTimestamp,lastMessageReceivedTimestamp:we.lastMessageReceivedTimestamp,localFlowControlWindow:(me=de.state.localWindowSize)!==null&&me!==void 0?me:null,remoteFlowControlWindow:(_e=de.state.remoteWindowSize)!==null&&_e!==void 0?_e:null}}trace(de){p.trace(O.LogVerbosity.DEBUG,U,"("+this.channelzRef.id+") "+de)}keepaliveTrace(de){p.trace(O.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+de)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(de,ge){if(de===null||typeof de!="object"||ge===null||typeof ge!="object")throw new Error("addService() requires two objects as arguments");const me=Object.keys(de);if(me.length===0)throw new Error("Cannot add an empty service to a server");me.forEach(_e=>{const we=de[_e];let Re;we.requestStream?we.responseStream?Re="bidi":Re="clientStream":we.responseStream?Re="serverStream":Re="unary";let Te=ge[_e],Ae;if(Te===void 0&&typeof we.originalName=="string"&&(Te=ge[we.originalName]),Te!==void 0?Ae=Te.bind(ge):Ae=Y(Re,_e),this.register(we.path,Ae,we.responseSerialize,we.requestDeserialize,Re)===!1)throw new Error(`Method handler for ${we.path} already provided.`)})}removeService(de){if(de===null||typeof de!="object")throw new Error("removeService() requires object as argument");Object.keys(de).forEach(me=>{const _e=de[me];this.unregister(_e.path)})}bind(de,ge){throw new Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(de){return(0,R.registerChannelzSocket)((0,g.subchannelAddressToString)(de),()=>({localAddress:de,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(de){(0,R.unregisterChannelzRef)(de)}createHttp2Server(de){let ge;if(de._isSecure()){const me=de._getConstructorOptions(),_e=de._getSecureContextOptions(),we=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),me),_e),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1});let Re=_e!==null;this.trace("Initial credentials valid: "+Re),ge=d.createSecureServer(we),ge.prependListener("connection",Ae=>{Re||(this.trace("Dropped connection from "+JSON.stringify(Ae.address())+" due to unloaded credentials"),Ae.destroy())}),ge.on("secureConnection",Ae=>{Ae.on("error",Oe=>{this.trace("An incoming TLS connection closed with error: "+Oe.message)})});const Te=Ae=>{if(Ae){const Oe=ge;try{Oe.setSecureContext(Ae)}catch(ve){p.log(O.LogVerbosity.ERROR,"Failed to set secure context with error "+ve.message),Ae=null}}Re=Ae!==null,this.trace("Post-update credentials valid: "+Re)};de._addWatcher(Te),ge.on("close",()=>{de._removeWatcher(Te)})}else ge=d.createServer(this.commonServerOptions);return ge.setTimeout(0,z),this._setupHandlers(ge,de._getInterceptors()),ge}bindOneAddress(de,ge){this.trace("Attempting to bind "+(0,g.subchannelAddressToString)(de));const me=this.createHttp2Server(ge.credentials);return new Promise((_e,we)=>{const Re=Te=>{this.trace("Failed to bind "+(0,g.subchannelAddressToString)(de)+" with error "+Te.message),_e({port:"port"in de?de.port:1,error:Te.message})};me.once("error",Re),me.listen(de,()=>{const Te=me.address();let Ae;typeof Te=="string"?Ae={path:Te}:Ae={host:Te.address,port:Te.port};const Oe=this.experimentalRegisterListenerToChannelz(Ae);this.listenerChildrenTracker.refChild(Oe),this.http2Servers.set(me,{channelzRef:Oe,sessions:new Set,ownsChannelzRef:!0}),ge.listeningServers.add(me),this.trace("Successfully bound "+(0,g.subchannelAddressToString)(Ae)),_e({port:"port"in Ae?Ae.port:1}),me.removeListener("error",Re)})})}async bindManyPorts(de,ge){if(de.length===0)return{count:0,port:0,errors:[]};if((0,g.isTcpSubchannelAddress)(de[0])&&de[0].port===0){const me=await this.bindOneAddress(de[0],ge);if(me.error){const _e=await this.bindManyPorts(de.slice(1),ge);return Object.assign(Object.assign({},_e),{errors:[me.error,..._e.errors]})}else{const _e=de.slice(1).map(Te=>(0,g.isTcpSubchannelAddress)(Te)?{host:Te.host,port:me.port}:Te),we=await Promise.all(_e.map(Te=>this.bindOneAddress(Te,ge))),Re=[me,...we];return{count:Re.filter(Te=>Te.error===void 0).length,port:me.port,errors:Re.filter(Te=>Te.error).map(Te=>Te.error)}}}else{const me=await Promise.all(de.map(_e=>this.bindOneAddress(_e,ge)));return{count:me.filter(_e=>_e.error===void 0).length,port:me[0].port,errors:me.filter(_e=>_e.error).map(_e=>_e.error)}}}async bindAddressList(de,ge){const me=await this.bindManyPorts(de,ge);if(me.count>0)return me.count<de.length&&p.log(O.LogVerbosity.INFO,`WARNING Only ${me.count} addresses added out of total ${de.length} resolved`),me.port;{const _e=`No address added out of total ${de.length} resolved`;throw p.log(O.LogVerbosity.ERROR,_e),new Error(`${_e} errors: [${me.errors.join(",")}]`)}}resolvePort(de){return new Promise((ge,me)=>{let _e=!1;const we=(Te,Ae,Oe,ve)=>{if(_e)return!0;if(_e=!0,!Te.ok)return me(new Error(Te.error.details)),!0;const Ee=[].concat(...Te.value.map(he=>he.addresses));return Ee.length===0?(me(new Error(`No addresses resolved for port ${de}`)),!0):(ge(Ee),!0)};(0,v.createResolver)(de,we,this.options).updateResolution()})}async bindPort(de,ge){const me=await this.resolvePort(de);if(ge.cancelled)throw this.completeUnbind(ge),new Error("bindAsync operation cancelled by unbind call");const _e=await this.bindAddressList(me,ge);if(ge.cancelled)throw this.completeUnbind(ge),new Error("bindAsync operation cancelled by unbind call");return _e}normalizePort(de){const ge=(0,w.parseUri)(de);if(ge===null)throw new Error(`Could not parse port "${de}"`);const me=(0,v.mapUriDefaultScheme)(ge);if(me===null)throw new Error(`Could not get a default scheme for port "${de}"`);return me}bindAsync(de,ge,me){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof de!="string")throw new TypeError("port must be a string");if(ge===null||!(ge instanceof E.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof me!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+de);const _e=this.normalizePort(de),we=(Oe,ve)=>{process.nextTick(()=>me(Oe,ve))};let Re=this.boundPorts.get((0,w.uriToString)(_e));if(Re){if(!ge._equals(Re.credentials)){we(new Error(`${de} already bound with incompatible credentials`),0);return}Re.cancelled=!1,Re.completionPromise?Re.completionPromise.then(Oe=>me(null,Oe),Oe=>me(Oe,0)):we(null,Re.portNumber);return}Re={mapKey:(0,w.uriToString)(_e),originalUri:_e,completionPromise:null,cancelled:!1,portNumber:0,credentials:ge,listeningServers:new Set};const Te=(0,w.splitHostPort)(_e.path),Ae=this.bindPort(_e,Re);Re.completionPromise=Ae,(Te==null?void 0:Te.port)===0?Ae.then(Oe=>{const ve={scheme:_e.scheme,authority:_e.authority,path:(0,w.combineHostPort)({host:Te.host,port:Oe})};Re.mapKey=(0,w.uriToString)(ve),Re.completionPromise=null,Re.portNumber=Oe,this.boundPorts.set(Re.mapKey,Re),me(null,Oe)},Oe=>{me(Oe,0)}):(this.boundPorts.set(Re.mapKey,Re),Ae.then(Oe=>{Re.completionPromise=null,Re.portNumber=Oe,me(null,Oe)},Oe=>{me(Oe,0)}))}registerInjectorToChannelz(){return(0,R.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(de,ge,me=!1){if(de===null||!(de instanceof E.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(ge);const _e=this.createHttp2Server(de),we=new Set;return this.http2Servers.set(_e,{channelzRef:ge,sessions:we,ownsChannelzRef:me}),{injectConnection:Re=>{_e.emit("connection",Re)},drain:Re=>{var Te,Ae;for(const Oe of we)this.closeSession(Oe);(Ae=(Te=setTimeout(()=>{for(const Oe of we)Oe.destroy(d.constants.NGHTTP2_CANCEL)},Re)).unref)===null||Ae===void 0||Ae.call(Te)},destroy:()=>{this.closeServer(_e);for(const Re of we)this.closeSession(Re)}}}createConnectionInjector(de){if(de===null||!(de instanceof E.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");const ge=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(de,ge,!0)}closeServer(de,ge){this.trace("Closing server with address "+JSON.stringify(de.address()));const me=this.http2Servers.get(de);de.close(()=>{me&&me.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(me.channelzRef),(0,R.unregisterChannelzRef)(me.channelzRef)),this.http2Servers.delete(de),ge==null||ge()})}closeSession(de,ge){var me;this.trace("Closing session initiated by "+((me=de.socket)===null||me===void 0?void 0:me.remoteAddress));const _e=this.sessions.get(de),we=()=>{_e&&(this.sessionChildrenTracker.unrefChild(_e.ref),(0,R.unregisterChannelzRef)(_e.ref)),ge==null||ge()};de.closed?queueMicrotask(we):de.close(we)}completeUnbind(de){for(const ge of de.listeningServers){const me=this.http2Servers.get(ge);if(this.closeServer(ge,()=>{de.listeningServers.delete(ge)}),me)for(const _e of me.sessions)this.closeSession(_e)}this.boundPorts.delete(de.mapKey)}unbind(de){this.trace("unbind port="+de);const ge=this.normalizePort(de),me=(0,w.splitHostPort)(ge.path);if((me==null?void 0:me.port)===0)throw new Error("Cannot unbind port 0");const _e=this.boundPorts.get((0,w.uriToString)(ge));_e&&(this.trace("unbinding "+_e.mapKey+" originally bound as "+(0,w.uriToString)(_e.originalUri)),_e.completionPromise?_e.cancelled=!0:this.completeUnbind(_e))}drain(de,ge){var me,_e;this.trace("drain port="+de+" graceTimeMs="+ge);const we=this.normalizePort(de),Re=(0,w.splitHostPort)(we.path);if((Re==null?void 0:Re.port)===0)throw new Error("Cannot drain port 0");const Te=this.boundPorts.get((0,w.uriToString)(we));if(!Te)return;const Ae=new Set;for(const Oe of Te.listeningServers){const ve=this.http2Servers.get(Oe);if(ve)for(const Ee of ve.sessions)Ae.add(Ee),this.closeSession(Ee,()=>{Ae.delete(Ee)})}(_e=(me=setTimeout(()=>{for(const Oe of Ae)Oe.destroy(d.constants.NGHTTP2_CANCEL)},ge)).unref)===null||_e===void 0||_e.call(me)}forceShutdown(){for(const de of this.boundPorts.values())de.cancelled=!0;this.boundPorts.clear();for(const de of this.http2Servers.keys())this.closeServer(de);this.sessions.forEach((de,ge)=>{this.closeSession(ge),ge.destroy(d.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,R.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(de,ge,me,_e,we){return this.handlers.has(de)?!1:(this.handlers.set(de,{func:ge,serialize:me,deserialize:_e,type:we,path:de}),!0)}unregister(de){return this.handlers.delete(de)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(de=>!de.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(de){var ge;const me=Re=>{(0,R.unregisterChannelzRef)(this.channelzRef),de(Re)};let _e=0;function we(){_e--,_e===0&&me()}this.shutdown=!0;for(const[Re,Te]of this.http2Servers.entries()){_e++;const Ae=Te.channelzRef.name;this.trace("Waiting for server "+Ae+" to close"),this.closeServer(Re,()=>{this.trace("Server "+Ae+" finished closing"),we()});for(const Oe of Te.sessions.keys()){_e++;const ve=(ge=Oe.socket)===null||ge===void 0?void 0:ge.remoteAddress;this.trace("Waiting for session "+ve+" to close"),this.closeSession(Oe,()=>{this.trace("Session "+ve+" finished closing"),we()})}}_e===0&&me()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(de,ge){const me=ge[d.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof me!="string"||!me.startsWith("application/grpc")?(de.respond({[d.constants.HTTP2_HEADER_STATUS]:d.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(de){$("Received call to method "+de+" at address "+this.serverAddressString);const ge=this.handlers.get(de);return ge===void 0?($("No handler registered for method "+de+". Sending UNIMPLEMENTED status."),null):ge}_respondWithError(de,ge,me=null){var _e,we;const Re=Object.assign({"grpc-status":(_e=de.code)!==null&&_e!==void 0?_e:O.Status.INTERNAL,"grpc-message":de.details,[d.constants.HTTP2_HEADER_STATUS]:d.constants.HTTP_STATUS_OK,[d.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(we=de.metadata)===null||we===void 0?void 0:we.toHttp2Headers());ge.respond(Re,{endStream:!0}),this.callTracker.addCallFailed(),me==null||me.streamTracker.addCallFailed()}_channelzHandler(de,ge,me){this.onStreamOpened(ge);const _e=this.sessions.get(ge.session);if(this.callTracker.addCallStarted(),_e==null||_e.streamTracker.addCallStarted(),!this._verifyContentType(ge,me)){this.callTracker.addCallFailed(),_e==null||_e.streamTracker.addCallFailed();return}const we=me[M],Re=this._retrieveHandler(we);if(!Re){this._respondWithError(J(we),ge,_e);return}const Te={addMessageSent:()=>{_e&&(_e.messagesSent+=1,_e.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{_e&&(_e.messagesReceived+=1,_e.lastMessageReceivedTimestamp=new Date)},onCallEnd:Oe=>{Oe.code===O.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:Oe=>{_e&&(Oe?_e.streamTracker.addCallSucceeded():_e.streamTracker.addCallFailed())}},Ae=(0,C.getServerInterceptingCall)([...de,...this.interceptors],ge,me,Te,Re,this.options);this._runHandlerForCall(Ae,Re)||(this.callTracker.addCallFailed(),_e==null||_e.streamTracker.addCallFailed(),Ae.sendStatus({code:O.Status.INTERNAL,details:`Unknown handler type: ${Re.type}`}))}_streamHandler(de,ge,me){if(this.onStreamOpened(ge),this._verifyContentType(ge,me)!==!0)return;const _e=me[M],we=this._retrieveHandler(_e);if(!we){this._respondWithError(J(_e),ge,null);return}const Re=(0,C.getServerInterceptingCall)([...de,...this.interceptors],ge,me,null,we,this.options);this._runHandlerForCall(Re,we)||Re.sendStatus({code:O.Status.INTERNAL,details:`Unknown handler type: ${we.type}`})}_runHandlerForCall(de,ge){const{type:me}=ge;if(me==="unary")H(de,ge);else if(me==="clientStream")te(de,ge);else if(me==="serverStream")ne(de,ge);else if(me==="bidi")oe(de,ge);else return!1;return!0}_setupHandlers(de,ge){if(de===null)return;const me=de.address();let _e="null";me&&(typeof me=="string"?_e=me:_e=me.address+":"+me.port),this.serverAddressString=_e;const we=this.channelzEnabled?this._channelzHandler:this._streamHandler,Re=this.channelzEnabled?this._channelzSessionHandler(de):this._sessionHandler(de);de.on("stream",we.bind(this,ge)),de.on("session",Re)}_sessionHandler(de){return ge=>{var me,_e;(me=this.http2Servers.get(de))===null||me===void 0||me.sessions.add(ge);let we=null,Re=null,Te=null,Ae=!1;const Oe=this.enableIdleTimeout(ge);if(this.maxConnectionAgeMs!==N){const P=this.maxConnectionAgeMs/10,k=Math.random()*P*2-P;we=setTimeout(()=>{var K,pe;Ae=!0,this.trace("Connection dropped by max connection age: "+((K=ge.socket)===null||K===void 0?void 0:K.remoteAddress));try{ge.goaway(d.constants.NGHTTP2_NO_ERROR,~(1<<31),V)}catch{ge.destroy();return}ge.close(),this.maxConnectionAgeGraceMs!==N&&(Re=setTimeout(()=>{ge.destroy()},this.maxConnectionAgeGraceMs),(pe=Re.unref)===null||pe===void 0||pe.call(Re))},this.maxConnectionAgeMs+k),(_e=we.unref)===null||_e===void 0||_e.call(we)}const ve=()=>{Te&&(clearTimeout(Te),Te=null)},Ee=()=>!ge.destroyed&&this.keepaliveTimeMs<D&&this.keepaliveTimeMs>0;let he;const l=()=>{var P;Ee()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),Te=setTimeout(()=>{ve(),he()},this.keepaliveTimeMs),(P=Te.unref)===null||P===void 0||P.call(Te))};he=()=>{var P;if(!Ee())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let k="";try{ge.ping((pe,Se,ye)=>{ve(),pe?(this.keepaliveTrace("Ping failed with error: "+pe.message),Ae=!0,ge.destroy()):(this.keepaliveTrace("Received ping response"),l())})||(k="Ping returned false")}catch(K){k=(K instanceof Error?K.message:"")||"Unknown error"}if(k){this.keepaliveTrace("Ping send failed: "+k),this.trace("Connection dropped due to ping send error: "+k),Ae=!0,ge.destroy();return}Te=setTimeout(()=>{ve(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),Ae=!0,ge.destroy()},this.keepaliveTimeoutMs),(P=Te.unref)===null||P===void 0||P.call(Te)},l(),ge.on("close",()=>{var P,k;Ae||this.trace(`Connection dropped by client ${(P=ge.socket)===null||P===void 0?void 0:P.remoteAddress}`),we&&clearTimeout(we),Re&&clearTimeout(Re),ve(),Oe!==null&&(clearTimeout(Oe.timeout),this.sessionIdleTimeouts.delete(ge)),(k=this.http2Servers.get(de))===null||k===void 0||k.sessions.delete(ge)})}}_channelzSessionHandler(de){return ge=>{var me,_e,we,Re;const Te=(0,R.registerChannelzSocket)((_e=(me=ge.socket)===null||me===void 0?void 0:me.remoteAddress)!==null&&_e!==void 0?_e:"unknown",this.getChannelzSessionInfo.bind(this,ge),this.channelzEnabled),Ae={ref:Te,streamTracker:new R.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(we=this.http2Servers.get(de))===null||we===void 0||we.sessions.add(ge),this.sessions.set(ge,Ae);const Oe=`${ge.socket.remoteAddress}:${ge.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+Oe),this.trace("Connection established by client "+Oe),this.sessionChildrenTracker.refChild(Te);let ve=null,Ee=null,he=null,l=!1;const P=this.enableIdleTimeout(ge);if(this.maxConnectionAgeMs!==N){const ye=this.maxConnectionAgeMs/10,a=Math.random()*ye*2-ye;ve=setTimeout(()=>{var j;l=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+Oe);try{ge.goaway(d.constants.NGHTTP2_NO_ERROR,~(1<<31),V)}catch{ge.destroy();return}ge.close(),this.maxConnectionAgeGraceMs!==N&&(Ee=setTimeout(()=>{ge.destroy()},this.maxConnectionAgeGraceMs),(j=Ee.unref)===null||j===void 0||j.call(Ee))},this.maxConnectionAgeMs+a),(Re=ve.unref)===null||Re===void 0||Re.call(ve)}const k=()=>{he&&(clearTimeout(he),he=null)},K=()=>!ge.destroyed&&this.keepaliveTimeMs<D&&this.keepaliveTimeMs>0;let pe;const Se=()=>{var ye;K()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),he=setTimeout(()=>{k(),pe()},this.keepaliveTimeMs),(ye=he.unref)===null||ye===void 0||ye.call(he))};pe=()=>{var ye;if(!K())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let a="";try{ge.ping((G,o,I)=>{k(),G?(this.keepaliveTrace("Ping failed with error: "+G.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+G.message+" return in "+o),l=!0,ge.destroy()):(this.keepaliveTrace("Received ping response"),Se())})||(a="Ping returned false")}catch(j){a=(j instanceof Error?j.message:"")||"Unknown error"}if(a){this.keepaliveTrace("Ping send failed: "+a),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+a),l=!0,ge.destroy();return}Ae.keepAlivesSent+=1,he=setTimeout(()=>{k(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+Oe),l=!0,ge.destroy()},this.keepaliveTimeoutMs),(ye=he.unref)===null||ye===void 0||ye.call(he)},Se(),ge.on("close",()=>{var ye;l||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+Oe),this.sessionChildrenTracker.unrefChild(Te),(0,R.unregisterChannelzRef)(Te),ve&&clearTimeout(ve),Ee&&clearTimeout(Ee),k(),P!==null&&(clearTimeout(P.timeout),this.sessionIdleTimeouts.delete(ge)),(ye=this.http2Servers.get(de))===null||ye===void 0||ye.sessions.delete(ge),this.sessions.delete(ge)})}}enableIdleTimeout(de){var ge,me;if(this.sessionIdleTimeout>=q)return null;const _e={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,de),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,de)};(me=(ge=_e.timeout).unref)===null||me===void 0||me.call(ge),this.sessionIdleTimeouts.set(de,_e);const{socket:we}=de;return this.trace("Enable idle timeout for "+we.remoteAddress+":"+we.remotePort),_e}onIdleTimeout(de,ge){const{socket:me}=ge,_e=de.sessionIdleTimeouts.get(ge);_e!==void 0&&_e.activeStreams===0&&(Date.now()-_e.lastIdle>=de.sessionIdleTimeout?(de.trace("Session idle timeout triggered for "+(me==null?void 0:me.remoteAddress)+":"+(me==null?void 0:me.remotePort)+" last idle at "+_e.lastIdle),de.closeSession(ge)):_e.timeout.refresh())}onStreamOpened(de){const ge=de.session,me=this.sessionIdleTimeouts.get(ge);me&&(me.activeStreams+=1,de.once("close",me.onClose))}onStreamClose(de){var ge,me;const _e=this.sessionIdleTimeouts.get(de);_e&&(_e.activeStreams-=1,_e.activeStreams===0&&(_e.lastIdle=Date.now(),_e.timeout.refresh(),this.trace("Session onStreamClose"+((ge=de.socket)===null||ge===void 0?void 0:ge.remoteAddress)+":"+((me=de.socket)===null||me===void 0?void 0:me.remotePort)+" at "+_e.lastIdle)))}},(()=>{const fe=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;ue=[W("Calling start() is no longer necessary. It can be safely omitted.")],u(ie,null,ue,{kind:"method",name:"start",static:!1,private:!1,access:{has:de=>"start"in de,get:de=>de.start},metadata:fe},null,ee),fe&&Object.defineProperty(ie,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:fe})})(),ie})();server.Server=Q;async function H(ie,ee){let ue;function fe(me,_e,we,Re){if(me){ie.sendStatus((0,T.serverErrorToStatus)(me,we));return}ie.sendMessage(_e,()=>{ie.sendStatus({code:O.Status.OK,details:"OK",metadata:we??null})})}let de,ge=null;ie.start({onReceiveMetadata(me){de=me,ie.startRead()},onReceiveMessage(me){if(ge){ie.sendStatus({code:O.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${ee.path}`,metadata:null});return}ge=me,ie.startRead()},onReceiveHalfClose(){if(!ge){ie.sendStatus({code:O.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${ee.path}`,metadata:null});return}ue=new T.ServerWritableStreamImpl(ee.path,ie,de,ge);try{ee.func(ue,fe)}catch(me){ie.sendStatus({code:O.Status.UNKNOWN,details:`Server method handler threw error ${me.message}`,metadata:null})}},onCancel(){ue&&(ue.cancelled=!0,ue.emit("cancelled","cancelled"))}})}function te(ie,ee){let ue;function fe(de,ge,me,_e){if(de){ie.sendStatus((0,T.serverErrorToStatus)(de,me));return}ie.sendMessage(ge,()=>{ie.sendStatus({code:O.Status.OK,details:"OK",metadata:me??null})})}ie.start({onReceiveMetadata(de){ue=new T.ServerDuplexStreamImpl(ee.path,ie,de);try{ee.func(ue,fe)}catch(ge){ie.sendStatus({code:O.Status.UNKNOWN,details:`Server method handler threw error ${ge.message}`,metadata:null})}},onReceiveMessage(de){ue.push(de)},onReceiveHalfClose(){ue.push(null)},onCancel(){ue&&(ue.cancelled=!0,ue.emit("cancelled","cancelled"),ue.destroy())}})}function ne(ie,ee){let ue,fe,de=null;ie.start({onReceiveMetadata(ge){fe=ge,ie.startRead()},onReceiveMessage(ge){if(de){ie.sendStatus({code:O.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${ee.path}`,metadata:null});return}de=ge,ie.startRead()},onReceiveHalfClose(){if(!de){ie.sendStatus({code:O.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${ee.path}`,metadata:null});return}ue=new T.ServerWritableStreamImpl(ee.path,ie,fe,de);try{ee.func(ue)}catch(ge){ie.sendStatus({code:O.Status.UNKNOWN,details:`Server method handler threw error ${ge.message}`,metadata:null})}},onCancel(){ue&&(ue.cancelled=!0,ue.emit("cancelled","cancelled"),ue.destroy())}})}function oe(ie,ee){let ue;ie.start({onReceiveMetadata(fe){ue=new T.ServerDuplexStreamImpl(ee.path,ie,fe);try{ee.func(ue)}catch(de){ie.sendStatus({code:O.Status.UNKNOWN,details:`Server method handler threw error ${de.message}`,metadata:null})}},onReceiveMessage(fe){ue.push(fe)},onReceiveHalfClose(){ue.push(null)},onCancel(){ue&&(ue.cancelled=!0,ue.emit("cancelled","cancelled"),ue.destroy())}})}return server}var statusBuilder={},hasRequiredStatusBuilder;function requireStatusBuilder(){if(hasRequiredStatusBuilder)return statusBuilder;hasRequiredStatusBuilder=1,Object.defineProperty(statusBuilder,"__esModule",{value:!0}),statusBuilder.StatusBuilder=void 0;class c{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(d){return this.code=d,this}withDetails(d){return this.details=d,this}withMetadata(d){return this.metadata=d,this}build(){const d={};return this.code!==null&&(d.code=this.code),this.details!==null&&(d.details=this.details),this.metadata!==null&&(d.metadata=this.metadata),d}}return statusBuilder.StatusBuilder=c,statusBuilder}var experimental={},loadBalancerPickFirst={},hasRequiredLoadBalancerPickFirst;function requireLoadBalancerPickFirst(){if(hasRequiredLoadBalancerPickFirst)return loadBalancerPickFirst;hasRequiredLoadBalancerPickFirst=1,Object.defineProperty(loadBalancerPickFirst,"__esModule",{value:!0}),loadBalancerPickFirst.LeafLoadBalancer=loadBalancerPickFirst.PickFirstLoadBalancer=loadBalancerPickFirst.PickFirstLoadBalancingConfig=void 0,loadBalancerPickFirst.shuffled=L,loadBalancerPickFirst.setup=z;const c=requireLoadBalancer(),u=requireConnectivityState(),d=requirePicker(),y=requireSubchannelAddress(),O=requireLogging(),T=requireConstants$1(),E=requireSubchannelAddress(),v=require$$0$a,p=requireCallInterface(),g="pick_first";function w(W){O.trace(T.LogVerbosity.DEBUG,g,W)}const R="pick_first",C=250;class N{constructor(J){this.shuffleAddressList=J}getLoadBalancerName(){return R}toJsonObject(){return{[R]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(J){if("shuffleAddressList"in J&&typeof J.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new N(J.shuffleAddressList===!0)}}loadBalancerPickFirst.PickFirstLoadBalancingConfig=N;class D{constructor(J){this.subchannel=J}pick(J){return{pickResultType:d.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function L(W){const J=W.slice();for(let Y=J.length-1;Y>1;Y--){const Q=Math.floor(Math.random()*(Y+1)),H=J[Y];J[Y]=J[Q],J[Q]=H}return J}function q(W){if(W.length===0)return[];const J=[],Y=[],Q=[],H=(0,E.isTcpSubchannelAddress)(W[0])&&(0,v.isIPv6)(W[0].host);for(const oe of W)(0,E.isTcpSubchannelAddress)(oe)&&(0,v.isIPv6)(oe.host)?Y.push(oe):Q.push(oe);const te=H?Y:Q,ne=H?Q:Y;for(let oe=0;oe<Math.max(te.length,ne.length);oe++)oe<te.length&&J.push(te[oe]),oe<ne.length&&J.push(ne[oe]);return J}const M="grpc-node.internal.pick-first.report_health_status";class U{constructor(J){this.channelControlHelper=J,this.children=[],this.currentState=u.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(Y,Q,H,te,ne)=>{this.onSubchannelStateUpdate(Y,Q,H,ne)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.latestResolutionNote="",this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(J=>J.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(J=>J.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var J;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){const Y=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(u.ConnectivityState.TRANSIENT_FAILURE,new d.UnavailablePicker({details:Y}),Y)}else this.updateState(u.ConnectivityState.READY,new D(this.currentPick),null);else if(((J=this.latestAddressList)===null||J===void 0?void 0:J.length)===0){const Y=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(u.ConnectivityState.TRANSIENT_FAILURE,new d.UnavailablePicker({details:Y}),Y)}else if(this.children.length===0)this.updateState(u.ConnectivityState.IDLE,new d.QueuePicker(this),null);else if(this.stickyTransientFailureMode){const Y=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(u.ConnectivityState.TRANSIENT_FAILURE,new d.UnavailablePicker({details:Y}),Y)}else this.updateState(u.ConnectivityState.CONNECTING,new d.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=!0;for(const{subchannel:J}of this.children)J.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){this.currentPick!==null&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null)}onSubchannelStateUpdate(J,Y,Q,H){var te;if(!((te=this.currentPick)===null||te===void 0)&&te.realSubchannelEquals(J)){Q!==u.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(const[ne,oe]of this.children.entries())if(J.realSubchannelEquals(oe.subchannel)){Q===u.ConnectivityState.READY&&this.pickSubchannel(oe.subchannel),Q===u.ConnectivityState.TRANSIENT_FAILURE&&(oe.hasReportedTransientFailure=!0,H&&(this.lastError=H),this.maybeEnterStickyTransientFailureMode(),ne===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(ne+1)),oe.subchannel.startConnecting();return}}startNextSubchannelConnecting(J){clearTimeout(this.connectionDelayTimeout);for(const[Y,Q]of this.children.entries())if(Y>=J){const H=Q.subchannel.getConnectivityState();if(H===u.ConnectivityState.IDLE||H===u.ConnectivityState.CONNECTING){this.startConnecting(Y);return}}this.maybeEnterStickyTransientFailureMode()}startConnecting(J){var Y,Q;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=J,this.children[J].subchannel.getConnectivityState()===u.ConnectivityState.IDLE&&(w("Start connecting to subchannel with address "+this.children[J].subchannel.getAddress()),process.nextTick(()=>{var H;(H=this.children[J])===null||H===void 0||H.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(J+1)},C),(Q=(Y=this.connectionDelayTimeout).unref)===null||Q===void 0||Q.call(Y)}pickSubchannel(J){w("Pick subchannel with address "+J.getAddress()),this.stickyTransientFailureMode=!1,J.ref(),this.channelControlHelper.addChannelzChild(J.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),J.addConnectivityStateListener(this.subchannelStateListener),J.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=J,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(J,Y,Q){w(u.ConnectivityState[this.currentState]+" -> "+u.ConnectivityState[J]),this.currentState=J,this.channelControlHelper.updateState(J,Y,Q)}resetSubchannelList(){for(const J of this.children)J.subchannel.removeConnectivityStateListener(this.subchannelStateListener),J.subchannel.unref(),this.channelControlHelper.removeChannelzChild(J.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(J,Y){w("connectToAddressList(["+J.map(H=>(0,y.subchannelAddressToString)(H))+"])");const Q=J.map(H=>({subchannel:this.channelControlHelper.createSubchannel(H,Y),hasReportedTransientFailure:!1}));for(const{subchannel:H}of Q)if(H.getConnectivityState()===u.ConnectivityState.READY){this.pickSubchannel(H);return}for(const{subchannel:H}of Q)H.ref(),this.channelControlHelper.addChannelzChild(H.getChannelzRef());this.resetSubchannelList(),this.children=Q;for(const{subchannel:H}of this.children)H.addConnectivityStateListener(this.subchannelStateListener);for(const H of this.children)H.subchannel.getConnectivityState()===u.ConnectivityState.TRANSIENT_FAILURE&&(H.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(J,Y,Q,H){if(!(Y instanceof N))return!1;if(!J.ok)return this.children.length===0&&this.currentPick===null&&this.channelControlHelper.updateState(u.ConnectivityState.TRANSIENT_FAILURE,new d.UnavailablePicker(J.error),J.error.details),!0;let te=J.value;this.reportHealthStatus=Q[M],Y.getShuffleAddressList()&&(te=L(te));const ne=[].concat(...te.map(ie=>ie.addresses));w("updateAddressList(["+ne.map(ie=>(0,y.subchannelAddressToString)(ie))+"])");const oe=q(ne);return this.latestAddressList=oe,this.latestOptions=Q,this.connectToAddressList(oe,Q),this.latestResolutionNote=H,ne.length>0?!0:(this.lastError="No addresses resolved",!1)}exitIdle(){this.currentState===u.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return R}}loadBalancerPickFirst.PickFirstLoadBalancer=U;const V=new N(!1);class ${constructor(J,Y,Q,H){this.endpoint=J,this.options=Q,this.resolutionNote=H,this.latestState=u.ConnectivityState.IDLE;const te=(0,c.createChildChannelControlHelper)(Y,{updateState:(ne,oe,ie)=>{this.latestState=ne,this.latestPicker=oe,Y.updateState(ne,oe,ie)}});this.pickFirstBalancer=new U(te),this.latestPicker=new d.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList((0,p.statusOrFromValue)([this.endpoint]),V,Object.assign(Object.assign({},this.options),{[M]:!0}),this.resolutionNote)}updateEndpoint(J,Y){this.options=Y,this.endpoint=J,this.latestState!==u.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}loadBalancerPickFirst.LeafLoadBalancer=$;function z(){(0,c.registerLoadBalancerType)(R,U,N),(0,c.registerDefaultLoadBalancerType)(R)}return loadBalancerPickFirst}var certificateProvider={},hasRequiredCertificateProvider;function requireCertificateProvider(){if(hasRequiredCertificateProvider)return certificateProvider;hasRequiredCertificateProvider=1,Object.defineProperty(certificateProvider,"__esModule",{value:!0}),certificateProvider.FileWatcherCertificateProvider=void 0;const c=require$$0$7,u=requireLogging(),d=requireConstants$1(),y=require$$3$2,O="certificate_provider";function T(p){u.trace(d.LogVerbosity.DEBUG,O,p)}const E=(0,y.promisify)(c.readFile);class v{constructor(g){if(this.config=g,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,g.certificateFile===void 0!=(g.privateKeyFile===void 0))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(g.certificateFile===void 0&&g.caCertificateFile===void 0)throw new Error("At least one of certificateFile and caCertificateFile must be set");T("File watcher constructed with config "+JSON.stringify(g))}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?E(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?E(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?E(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([g,w,R])=>{if(this.refreshTimer){T("File watcher read certificates certificate "+g.status+", privateKey "+w.status+", CA certificate "+R.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,g.status==="fulfilled"&&w.status==="fulfilled"?this.latestIdentityUpdate={certificate:g.value,privateKey:w.value}:this.latestIdentityUpdate=null,R.status==="fulfilled"?this.latestCaUpdate={caCertificate:R.value}:this.latestCaUpdate=null;for(const C of this.identityListeners)C(this.latestIdentityUpdate);for(const C of this.caListeners)C(this.latestCaUpdate)}}),T("File watcher initiated certificate update"))}maybeStartWatchingFiles(){if(!this.refreshTimer){const g=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;g>this.config.refreshIntervalMs&&this.updateCertificates(),g>this.config.refreshIntervalMs*2&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),T("File watcher started watching")}}maybeStopWatchingFiles(){this.caListeners.size===0&&this.identityListeners.size===0&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null))}addCaCertificateListener(g){this.caListeners.add(g),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0&&process.nextTick(g,this.latestCaUpdate)}removeCaCertificateListener(g){this.caListeners.delete(g),this.maybeStopWatchingFiles()}addIdentityCertificateListener(g){this.identityListeners.add(g),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0&&process.nextTick(g,this.latestIdentityUpdate)}removeIdentityCertificateListener(g){this.identityListeners.delete(g),this.maybeStopWatchingFiles()}}return certificateProvider.FileWatcherCertificateProvider=v,certificateProvider}var hasRequiredExperimental;function requireExperimental(){return hasRequiredExperimental||(hasRequiredExperimental=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=c.createCertificateProviderChannelCredentials=c.FileWatcherCertificateProvider=c.createCertificateProviderServerCredentials=c.createServerCredentialsWithInterceptors=c.BaseSubchannelWrapper=c.registerAdminService=c.FilterStackFactory=c.BaseFilter=c.statusOrFromError=c.statusOrFromValue=c.PickResultType=c.QueuePicker=c.UnavailablePicker=c.ChildLoadBalancerHandler=c.EndpointMap=c.endpointHasAddress=c.endpointToString=c.subchannelAddressToString=c.LeafLoadBalancer=c.isLoadBalancerNameRegistered=c.parseLoadBalancingConfig=c.selectLbConfigFromList=c.registerLoadBalancerType=c.createChildChannelControlHelper=c.BackoffTimeout=c.parseDuration=c.durationToMs=c.splitHostPort=c.uriToString=c.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=c.createResolver=c.registerResolver=c.log=c.trace=void 0;var u=requireLogging();Object.defineProperty(c,"trace",{enumerable:!0,get:function(){return u.trace}}),Object.defineProperty(c,"log",{enumerable:!0,get:function(){return u.log}});var d=requireResolver();Object.defineProperty(c,"registerResolver",{enumerable:!0,get:function(){return d.registerResolver}}),Object.defineProperty(c,"createResolver",{enumerable:!0,get:function(){return d.createResolver}}),Object.defineProperty(c,"CHANNEL_ARGS_CONFIG_SELECTOR_KEY",{enumerable:!0,get:function(){return d.CHANNEL_ARGS_CONFIG_SELECTOR_KEY}});var y=requireUriParser();Object.defineProperty(c,"uriToString",{enumerable:!0,get:function(){return y.uriToString}}),Object.defineProperty(c,"splitHostPort",{enumerable:!0,get:function(){return y.splitHostPort}});var O=requireDuration();Object.defineProperty(c,"durationToMs",{enumerable:!0,get:function(){return O.durationToMs}}),Object.defineProperty(c,"parseDuration",{enumerable:!0,get:function(){return O.parseDuration}});var T=requireBackoffTimeout();Object.defineProperty(c,"BackoffTimeout",{enumerable:!0,get:function(){return T.BackoffTimeout}});var E=requireLoadBalancer();Object.defineProperty(c,"createChildChannelControlHelper",{enumerable:!0,get:function(){return E.createChildChannelControlHelper}}),Object.defineProperty(c,"registerLoadBalancerType",{enumerable:!0,get:function(){return E.registerLoadBalancerType}}),Object.defineProperty(c,"selectLbConfigFromList",{enumerable:!0,get:function(){return E.selectLbConfigFromList}}),Object.defineProperty(c,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return E.parseLoadBalancingConfig}}),Object.defineProperty(c,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return E.isLoadBalancerNameRegistered}});var v=requireLoadBalancerPickFirst();Object.defineProperty(c,"LeafLoadBalancer",{enumerable:!0,get:function(){return v.LeafLoadBalancer}});var p=requireSubchannelAddress();Object.defineProperty(c,"subchannelAddressToString",{enumerable:!0,get:function(){return p.subchannelAddressToString}}),Object.defineProperty(c,"endpointToString",{enumerable:!0,get:function(){return p.endpointToString}}),Object.defineProperty(c,"endpointHasAddress",{enumerable:!0,get:function(){return p.endpointHasAddress}}),Object.defineProperty(c,"EndpointMap",{enumerable:!0,get:function(){return p.EndpointMap}});var g=requireLoadBalancerChildHandler();Object.defineProperty(c,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return g.ChildLoadBalancerHandler}});var w=requirePicker();Object.defineProperty(c,"UnavailablePicker",{enumerable:!0,get:function(){return w.UnavailablePicker}}),Object.defineProperty(c,"QueuePicker",{enumerable:!0,get:function(){return w.QueuePicker}}),Object.defineProperty(c,"PickResultType",{enumerable:!0,get:function(){return w.PickResultType}});var R=requireCallInterface();Object.defineProperty(c,"statusOrFromValue",{enumerable:!0,get:function(){return R.statusOrFromValue}}),Object.defineProperty(c,"statusOrFromError",{enumerable:!0,get:function(){return R.statusOrFromError}});var C=requireFilter$1();Object.defineProperty(c,"BaseFilter",{enumerable:!0,get:function(){return C.BaseFilter}});var N=requireFilterStack();Object.defineProperty(c,"FilterStackFactory",{enumerable:!0,get:function(){return N.FilterStackFactory}});var D=requireAdmin();Object.defineProperty(c,"registerAdminService",{enumerable:!0,get:function(){return D.registerAdminService}});var L=requireSubchannelInterface();Object.defineProperty(c,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return L.BaseSubchannelWrapper}});var q=requireServerCredentials();Object.defineProperty(c,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return q.createServerCredentialsWithInterceptors}}),Object.defineProperty(c,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return q.createCertificateProviderServerCredentials}});var M=requireCertificateProvider();Object.defineProperty(c,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return M.FileWatcherCertificateProvider}});var U=requireChannelCredentials();Object.defineProperty(c,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return U.createCertificateProviderChannelCredentials}});var V=requireInternalChannel();Object.defineProperty(c,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return V.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})})(experimental)),experimental}var resolverUds={},hasRequiredResolverUds;function requireResolverUds(){if(hasRequiredResolverUds)return resolverUds;hasRequiredResolverUds=1,Object.defineProperty(resolverUds,"__esModule",{value:!0}),resolverUds.setup=y;const c=requireResolver(),u=requireCallInterface();class d{constructor(T,E,v){this.listener=E,this.hasReturnedResult=!1,this.endpoints=[];let p;T.authority===""?p="/"+T.path:p=T.path,this.endpoints=[{addresses:[{path:p}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener,(0,u.statusOrFromValue)(this.endpoints),{},null,""))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(T){return"localhost"}}function y(){(0,c.registerResolver)("unix",d)}return resolverUds}var resolverIp={},hasRequiredResolverIp;function requireResolverIp(){if(hasRequiredResolverIp)return resolverIp;hasRequiredResolverIp=1,Object.defineProperty(resolverIp,"__esModule",{value:!0}),resolverIp.setup=D;const c=require$$0$a,u=requireCallInterface(),d=requireConstants$1(),y=requireMetadata(),O=requireResolver(),T=requireSubchannelAddress(),E=requireUriParser(),v=requireLogging(),p="ip_resolver";function g(L){v.trace(d.LogVerbosity.DEBUG,p,L)}const w="ipv4",R="ipv6",C=443;class N{constructor(q,M,U){var V;this.listener=M,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,g("Resolver constructed for target "+(0,E.uriToString)(q));const $=[];if(!(q.scheme===w||q.scheme===R)){this.error={code:d.Status.UNAVAILABLE,details:`Unrecognized scheme ${q.scheme} in IP resolver`,metadata:new y.Metadata};return}const z=q.path.split(",");for(const W of z){const J=(0,E.splitHostPort)(W);if(J===null){this.error={code:d.Status.UNAVAILABLE,details:`Failed to parse ${q.scheme} address ${W}`,metadata:new y.Metadata};return}if(q.scheme===w&&!(0,c.isIPv4)(J.host)||q.scheme===R&&!(0,c.isIPv6)(J.host)){this.error={code:d.Status.UNAVAILABLE,details:`Failed to parse ${q.scheme} address ${W}`,metadata:new y.Metadata};return}$.push({host:J.host,port:(V=J.port)!==null&&V!==void 0?V:C})}this.endpoints=$.map(W=>({addresses:[W]})),g("Parsed "+q.scheme+" address list "+$.map(T.subchannelAddressToString))}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener((0,u.statusOrFromError)(this.error),{},null,""):this.listener((0,u.statusOrFromValue)(this.endpoints),{},null,"")}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(q){return q.path.split(",")[0]}}function D(){(0,O.registerResolver)(w,N),(0,O.registerResolver)(R,N)}return resolverIp}var loadBalancerRoundRobin={},hasRequiredLoadBalancerRoundRobin;function requireLoadBalancerRoundRobin(){if(hasRequiredLoadBalancerRoundRobin)return loadBalancerRoundRobin;hasRequiredLoadBalancerRoundRobin=1,Object.defineProperty(loadBalancerRoundRobin,"__esModule",{value:!0}),loadBalancerRoundRobin.RoundRobinLoadBalancer=void 0,loadBalancerRoundRobin.setup=D;const c=requireLoadBalancer(),u=requireConnectivityState(),d=requirePicker(),y=requireLogging(),O=requireConstants$1(),T=requireSubchannelAddress(),E=requireLoadBalancerPickFirst(),v="round_robin";function p(L){y.trace(O.LogVerbosity.DEBUG,v,L)}const g="round_robin";class w{getLoadBalancerName(){return g}constructor(){}toJsonObject(){return{[g]:{}}}static createFromJson(q){return new w}}class R{constructor(q,M=0){this.children=q,this.nextIndex=M}pick(q){const M=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,M.pick(q)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}function C(L,q){return[...L.slice(q),...L.slice(0,q)]}class N{constructor(q){this.channelControlHelper=q,this.children=[],this.currentState=u.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,c.createChildChannelControlHelper)(q,{updateState:(M,U,V)=>{this.currentState===u.ConnectivityState.READY&&M!==u.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),V&&(this.lastError=V),this.calculateAndUpdateState()}})}countChildrenWithState(q){return this.children.filter(M=>M.getConnectivityState()===q).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(u.ConnectivityState.READY)>0){const q=this.children.filter(U=>U.getConnectivityState()===u.ConnectivityState.READY);let M=0;if(this.currentReadyPicker!==null){const U=this.currentReadyPicker.peekNextEndpoint();M=q.findIndex(V=>(0,T.endpointEqual)(V.getEndpoint(),U)),M<0&&(M=0)}this.updateState(u.ConnectivityState.READY,new R(q.map(U=>({endpoint:U.getEndpoint(),picker:U.getPicker()})),M),null)}else if(this.countChildrenWithState(u.ConnectivityState.CONNECTING)>0)this.updateState(u.ConnectivityState.CONNECTING,new d.QueuePicker(this),null);else if(this.countChildrenWithState(u.ConnectivityState.TRANSIENT_FAILURE)>0){const q=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(u.ConnectivityState.TRANSIENT_FAILURE,new d.UnavailablePicker({details:q}),q)}else this.updateState(u.ConnectivityState.IDLE,new d.QueuePicker(this),null);for(const q of this.children)q.getConnectivityState()===u.ConnectivityState.IDLE&&q.exitIdle()}}updateState(q,M,U){p(u.ConnectivityState[this.currentState]+" -> "+u.ConnectivityState[q]),q===u.ConnectivityState.READY?this.currentReadyPicker=M:this.currentReadyPicker=null,this.currentState=q,this.channelControlHelper.updateState(q,M,U)}resetSubchannelList(){for(const q of this.children)q.destroy();this.children=[]}updateAddressList(q,M,U,V){if(!(M instanceof w))return!1;if(!q.ok)return this.children.length===0&&this.updateState(u.ConnectivityState.TRANSIENT_FAILURE,new d.UnavailablePicker(q.error),q.error.details),!0;const $=Math.random()*q.value.length|0,z=C(q.value,$);if(this.resetSubchannelList(),z.length===0){const W=`No addresses resolved. Resolution note: ${V}`;this.updateState(u.ConnectivityState.TRANSIENT_FAILURE,new d.UnavailablePicker({details:W}),W)}p("Connect to endpoint list "+z.map(T.endpointToString)),this.updatesPaused=!0,this.children=z.map(W=>new E.LeafLoadBalancer(W,this.childChannelControlHelper,U,V));for(const W of this.children)W.startConnecting();return this.updatesPaused=!1,this.calculateAndUpdateState(),!0}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return g}}loadBalancerRoundRobin.RoundRobinLoadBalancer=N;function D(){(0,c.registerLoadBalancerType)(g,N,w)}return loadBalancerRoundRobin}var loadBalancerOutlierDetection={},hasRequiredLoadBalancerOutlierDetection;function requireLoadBalancerOutlierDetection(){if(hasRequiredLoadBalancerOutlierDetection)return loadBalancerOutlierDetection;hasRequiredLoadBalancerOutlierDetection=1;var c={},u;Object.defineProperty(loadBalancerOutlierDetection,"__esModule",{value:!0}),loadBalancerOutlierDetection.OutlierDetectionLoadBalancer=loadBalancerOutlierDetection.OutlierDetectionLoadBalancingConfig=void 0,loadBalancerOutlierDetection.setup=te;const d=requireConnectivityState(),y=requireConstants$1(),O=requireDuration(),T=requireExperimental(),E=requireLoadBalancer(),v=requireLoadBalancerChildHandler(),p=requirePicker(),g=requireSubchannelAddress(),w=requireSubchannelInterface(),R=requireLogging(),C="outlier_detection";function N(ne){R.trace(y.LogVerbosity.DEBUG,C,ne)}const D="outlier_detection",L=((u=c.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&u!==void 0?u:"true")==="true",q={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},M={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function U(ne,oe,ie,ee){if(oe in ne&&ne[oe]!==void 0&&typeof ne[oe]!==ie){const ue=ee?`${ee}.${oe}`:oe;throw new Error(`outlier detection config ${ue} parse error: expected ${ie}, got ${typeof ne[oe]}`)}}function V(ne,oe,ie){const ee=oe;if(oe in ne&&ne[oe]!==void 0){if(!(0,O.isDuration)(ne[oe]))throw new Error(`outlier detection config ${ee} parse error: expected Duration, got ${typeof ne[oe]}`);if(!(ne[oe].seconds>=0&&ne[oe].seconds<=315576e6&&ne[oe].nanos>=0&&ne[oe].nanos<=999999999))throw new Error(`outlier detection config ${ee} parse error: values out of range for non-negative Duaration`)}}function $(ne,oe,ie){const ee=ie?`${ie}.${oe}`:oe;if(U(ne,oe,"number",ie),oe in ne&&ne[oe]!==void 0&&!(ne[oe]>=0&&ne[oe]<=100))throw new Error(`outlier detection config ${ee} parse error: value out of range for percentage (0-100)`)}class z{constructor(oe,ie,ee,ue,fe,de,ge){if(this.childPolicy=ge,ge.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=oe??1e4,this.baseEjectionTimeMs=ie??3e4,this.maxEjectionTimeMs=ee??3e5,this.maxEjectionPercent=ue??10,this.successRateEjection=fe?Object.assign(Object.assign({},q),fe):null,this.failurePercentageEjection=de?Object.assign(Object.assign({},M),de):null}getLoadBalancerName(){return D}toJsonObject(){var oe,ie;return{outlier_detection:{interval:(0,O.msToDuration)(this.intervalMs),base_ejection_time:(0,O.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,O.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(oe=this.successRateEjection)!==null&&oe!==void 0?oe:void 0,failure_percentage_ejection:(ie=this.failurePercentageEjection)!==null&&ie!==void 0?ie:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(oe){var ie;if(V(oe,"interval"),V(oe,"base_ejection_time"),V(oe,"max_ejection_time"),$(oe,"max_ejection_percent"),"success_rate_ejection"in oe&&oe.success_rate_ejection!==void 0){if(typeof oe.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");U(oe.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),$(oe.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),U(oe.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),U(oe.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in oe&&oe.failure_percentage_ejection!==void 0){if(typeof oe.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");$(oe.failure_percentage_ejection,"threshold","failure_percentage_ejection"),$(oe.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),U(oe.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),U(oe.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in oe)||!Array.isArray(oe.child_policy))throw new Error("outlier detection config child_policy must be an array");const ee=(0,E.selectLbConfigFromList)(oe.child_policy);if(!ee)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new z(oe.interval?(0,O.durationToMs)(oe.interval):null,oe.base_ejection_time?(0,O.durationToMs)(oe.base_ejection_time):null,oe.max_ejection_time?(0,O.durationToMs)(oe.max_ejection_time):null,(ie=oe.max_ejection_percent)!==null&&ie!==void 0?ie:null,oe.success_rate_ejection,oe.failure_percentage_ejection,ee)}}loadBalancerOutlierDetection.OutlierDetectionLoadBalancingConfig=z;class W extends w.BaseSubchannelWrapper{constructor(oe,ie){super(oe),this.mapEntry=ie,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){const oe=this.mapEntry.subchannelWrappers.indexOf(this);oe>=0&&this.mapEntry.subchannelWrappers.splice(oe,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function J(){return{success:0,failure:0}}class Y{constructor(){this.activeBucket=J(),this.inactiveBucket=J()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=J()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class Q{constructor(oe,ie){this.wrappedPicker=oe,this.countCalls=ie}pick(oe){const ie=this.wrappedPicker.pick(oe);if(ie.pickResultType===p.PickResultType.COMPLETE){const ee=ie.subchannel,ue=ee.getMapEntry();if(ue){let fe=ie.onCallEnded;return this.countCalls&&(fe=(de,ge,me)=>{var _e;de===y.Status.OK?ue.counter.addSuccess():ue.counter.addFailure(),(_e=ie.onCallEnded)===null||_e===void 0||_e.call(ie,de,ge,me)}),Object.assign(Object.assign({},ie),{subchannel:ee.getWrappedSubchannel(),onCallEnded:fe})}else return Object.assign(Object.assign({},ie),{subchannel:ee.getWrappedSubchannel()})}else return ie}}class H{constructor(oe){this.entryMap=new g.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new v.ChildLoadBalancerHandler((0,T.createChildChannelControlHelper)(oe,{createSubchannel:(ie,ee)=>{const ue=oe.createSubchannel(ie,ee),fe=this.entryMap.getForSubchannelAddress(ie),de=new W(ue,fe);return(fe==null?void 0:fe.currentEjectionTimestamp)!==null&&de.eject(),fe==null||fe.subchannelWrappers.push(de),de},updateState:(ie,ee,ue)=>{ie===d.ConnectivityState.READY?oe.updateState(ie,new Q(ee,this.isCountingEnabled()),ue):oe.updateState(ie,ee,ue)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let oe=0;for(const ie of this.entryMap.values())ie.currentEjectionTimestamp!==null&&(oe+=1);return oe*100/this.entryMap.size}runSuccessRateCheck(oe){if(!this.latestConfig)return;const ie=this.latestConfig.getSuccessRateEjectionConfig();if(!ie)return;N("Running success rate check");const ee=ie.request_volume;let ue=0;const fe=[];for(const[Re,Te]of this.entryMap.entries()){const Ae=Te.counter.getLastSuccesses(),Oe=Te.counter.getLastFailures();N("Stats for "+(0,g.endpointToString)(Re)+": successes="+Ae+" failures="+Oe+" targetRequestVolume="+ee),Ae+Oe>=ee&&(ue+=1,fe.push(Ae/(Ae+Oe)))}if(N("Found "+ue+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+fe+"]"),ue<ie.minimum_hosts)return;const de=fe.reduce((Re,Te)=>Re+Te)/fe.length;let ge=0;for(const Re of fe){const Te=Re-de;ge+=Te*Te}const me=ge/fe.length,_e=Math.sqrt(me),we=de-_e*(ie.stdev_factor/1e3);N("stdev="+_e+" ejectionThreshold="+we);for(const[Re,Te]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const Ae=Te.counter.getLastSuccesses(),Oe=Te.counter.getLastFailures();if(Ae+Oe<ee)continue;const ve=Ae/(Ae+Oe);if(N("Checking candidate "+Re+" successRate="+ve),ve<we){const Ee=Math.random()*100;N("Candidate "+Re+" randomNumber="+Ee+" enforcement_percentage="+ie.enforcement_percentage),Ee<ie.enforcement_percentage&&(N("Ejecting candidate "+Re),this.eject(Te,oe))}}}runFailurePercentageCheck(oe){if(!this.latestConfig)return;const ie=this.latestConfig.getFailurePercentageEjectionConfig();if(!ie)return;N("Running failure percentage check. threshold="+ie.threshold+" request volume threshold="+ie.request_volume);let ee=0;for(const ue of this.entryMap.values()){const fe=ue.counter.getLastSuccesses(),de=ue.counter.getLastFailures();fe+de>=ie.request_volume&&(ee+=1)}if(!(ee<ie.minimum_hosts))for(const[ue,fe]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const de=fe.counter.getLastSuccesses(),ge=fe.counter.getLastFailures();if(N("Candidate successes="+de+" failures="+ge),de+ge<ie.request_volume)continue;if(ge*100/(ge+de)>ie.threshold){const _e=Math.random()*100;N("Candidate "+ue+" randomNumber="+_e+" enforcement_percentage="+ie.enforcement_percentage),_e<ie.enforcement_percentage&&(N("Ejecting candidate "+ue),this.eject(fe,oe))}}}eject(oe,ie){oe.currentEjectionTimestamp=new Date,oe.ejectionTimeMultiplier+=1;for(const ee of oe.subchannelWrappers)ee.eject()}uneject(oe){oe.currentEjectionTimestamp=null;for(const ie of oe.subchannelWrappers)ie.uneject()}switchAllBuckets(){for(const oe of this.entryMap.values())oe.counter.switchBuckets()}startTimer(oe){var ie,ee;this.ejectionTimer=setTimeout(()=>this.runChecks(),oe),(ee=(ie=this.ejectionTimer).unref)===null||ee===void 0||ee.call(ie)}runChecks(){const oe=new Date;if(N("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=oe,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(oe),this.runFailurePercentageCheck(oe);for(const[ie,ee]of this.entryMap.entries())if(ee.currentEjectionTimestamp===null)ee.ejectionTimeMultiplier>0&&(ee.ejectionTimeMultiplier-=1);else{const ue=this.latestConfig.getBaseEjectionTimeMs(),fe=this.latestConfig.getMaxEjectionTimeMs(),de=new Date(ee.currentEjectionTimestamp.getTime());de.setMilliseconds(de.getMilliseconds()+Math.min(ue*ee.ejectionTimeMultiplier,Math.max(ue,fe))),de<new Date&&(N("Unejecting "+ie),this.uneject(ee))}}}updateAddressList(oe,ie,ee,ue){if(!(ie instanceof z))return!1;if(N("Received update with config: "+JSON.stringify(ie.toJsonObject(),void 0,2)),oe.ok){for(const de of oe.value)this.entryMap.has(de)||(N("Adding map entry for "+(0,g.endpointToString)(de)),this.entryMap.set(de,{counter:new Y,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(oe.value)}const fe=ie.getChildPolicy();if(this.childBalancer.updateAddressList(oe,fe,ee,ue),ie.getSuccessRateEjectionConfig()||ie.getFailurePercentageEjectionConfig())if(this.timerStartTime){N("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);const de=ie.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(de)}else N("Starting new timer"),this.timerStartTime=new Date,this.startTimer(ie.getIntervalMs()),this.switchAllBuckets();else{N("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(const de of this.entryMap.values())this.uneject(de),de.ejectionTimeMultiplier=0}return this.latestConfig=ie,!0}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return D}}loadBalancerOutlierDetection.OutlierDetectionLoadBalancer=H;function te(){L&&(0,T.registerLoadBalancerType)(D,H,z)}return loadBalancerOutlierDetection}var loadBalancerWeightedRoundRobin={},priorityQueue={},hasRequiredPriorityQueue;function requirePriorityQueue(){if(hasRequiredPriorityQueue)return priorityQueue;hasRequiredPriorityQueue=1,Object.defineProperty(priorityQueue,"__esModule",{value:!0}),priorityQueue.PriorityQueue=void 0;const c=0,u=T=>Math.floor(T/2),d=T=>T*2+1,y=T=>T*2+2;class O{constructor(E=(v,p)=>v>p){this.comparator=E,this.heap=[]}size(){return this.heap.length}isEmpty(){return this.size()==0}peek(){return this.heap[c]}push(...E){return E.forEach(v=>{this.heap.push(v),this.siftUp()}),this.size()}pop(){const E=this.peek(),v=this.size()-1;return v>c&&this.swap(c,v),this.heap.pop(),this.siftDown(),E}replace(E){const v=this.peek();return this.heap[c]=E,this.siftDown(),v}greater(E,v){return this.comparator(this.heap[E],this.heap[v])}swap(E,v){[this.heap[E],this.heap[v]]=[this.heap[v],this.heap[E]]}siftUp(){let E=this.size()-1;for(;E>c&&this.greater(E,u(E));)this.swap(E,u(E)),E=u(E)}siftDown(){let E=c;for(;d(E)<this.size()&&this.greater(d(E),E)||y(E)<this.size()&&this.greater(y(E),E);){let v=y(E)<this.size()&&this.greater(y(E),d(E))?y(E):d(E);this.swap(E,v),E=v}}}return priorityQueue.PriorityQueue=O,priorityQueue}var hasRequiredLoadBalancerWeightedRoundRobin;function requireLoadBalancerWeightedRoundRobin(){if(hasRequiredLoadBalancerWeightedRoundRobin)return loadBalancerWeightedRoundRobin;hasRequiredLoadBalancerWeightedRoundRobin=1,Object.defineProperty(loadBalancerWeightedRoundRobin,"__esModule",{value:!0}),loadBalancerWeightedRoundRobin.WeightedRoundRobinLoadBalancingConfig=void 0,loadBalancerWeightedRoundRobin.setup=J;const c=requireConnectivityState(),u=requireConstants$1(),d=requireDuration(),y=requireLoadBalancer(),O=requireLoadBalancerPickFirst(),T=requireLogging(),E=requireOrca(),v=requirePicker(),p=requirePriorityQueue(),g=requireSubchannelAddress(),w="weighted_round_robin";function R(Y){T.trace(u.LogVerbosity.DEBUG,w,Y)}const C="weighted_round_robin",N=1e4,D=1e4,L=3*6e4,q=1e3,M=1;function U(Y,Q,H){if(Q in Y&&Y[Q]!==void 0&&typeof Y[Q]!==H)throw new Error(`weighted round robin config ${Q} parse error: expected ${H}, got ${typeof Y[Q]}`)}function V(Y,Q){if(Q in Y&&Y[Q]!==void 0&&Y[Q]!==null){let H;if((0,d.isDuration)(Y[Q]))H=Y[Q];else if((0,d.isDurationMessage)(Y[Q]))H=(0,d.durationMessageToDuration)(Y[Q]);else if(typeof Y[Q]=="string"){const te=(0,d.parseDuration)(Y[Q]);if(!te)throw new Error(`weighted round robin config ${Q}: failed to parse duration string ${Y[Q]}`);H=te}else throw new Error(`weighted round robin config ${Q}: expected duration, got ${typeof Y[Q]}`);return(0,d.durationToMs)(H)}return null}class ${constructor(Q,H,te,ne,oe,ie){this.enableOobLoadReport=Q??!1,this.oobLoadReportingPeriodMs=H??N,this.blackoutPeriodMs=te??D,this.weightExpirationPeriodMs=ne??L,this.weightUpdatePeriodMs=Math.max(oe??q,100),this.errorUtilizationPenalty=ie??M}getLoadBalancerName(){return C}toJsonObject(){return{enable_oob_load_report:this.enableOobLoadReport,oob_load_reporting_period:(0,d.durationToString)((0,d.msToDuration)(this.oobLoadReportingPeriodMs)),blackout_period:(0,d.durationToString)((0,d.msToDuration)(this.blackoutPeriodMs)),weight_expiration_period:(0,d.durationToString)((0,d.msToDuration)(this.weightExpirationPeriodMs)),weight_update_period:(0,d.durationToString)((0,d.msToDuration)(this.weightUpdatePeriodMs)),error_utilization_penalty:this.errorUtilizationPenalty}}static createFromJson(Q){if(U(Q,"enable_oob_load_report","boolean"),U(Q,"error_utilization_penalty","number"),Q.error_utilization_penalty<0)throw new Error("weighted round robin config error_utilization_penalty < 0");return new $(Q.enable_oob_load_report,V(Q,"oob_load_reporting_period"),V(Q,"blackout_period"),V(Q,"weight_expiration_period"),V(Q,"weight_update_period"),Q.error_utilization_penalty)}getEnableOobLoadReport(){return this.enableOobLoadReport}getOobLoadReportingPeriodMs(){return this.oobLoadReportingPeriodMs}getBlackoutPeriodMs(){return this.blackoutPeriodMs}getWeightExpirationPeriodMs(){return this.weightExpirationPeriodMs}getWeightUpdatePeriodMs(){return this.weightUpdatePeriodMs}getErrorUtilizationPenalty(){return this.errorUtilizationPenalty}}loadBalancerWeightedRoundRobin.WeightedRoundRobinLoadBalancingConfig=$;class z{constructor(Q,H){this.metricsHandler=H,this.queue=new p.PriorityQueue((oe,ie)=>oe.deadline<ie.deadline);const te=Q.filter(oe=>oe.weight>0);let ne;if(te.length<2)ne=1;else{let oe=0;for(const{weight:ie}of te)oe+=ie;ne=oe/te.length}for(const oe of Q){const ie=oe.weight>0?1/oe.weight:ne;this.queue.push({endpointName:oe.endpointName,picker:oe.picker,period:ie,deadline:Math.random()*ie})}}pick(Q){const H=this.queue.pop();this.queue.push(Object.assign(Object.assign({},H),{deadline:H.deadline+H.period}));const te=H.picker.pick(Q);if(te.pickResultType===v.PickResultType.COMPLETE){if(this.metricsHandler)return Object.assign(Object.assign({},te),{onCallEnded:(0,E.createMetricsReader)(ne=>this.metricsHandler(ne,H.endpointName),te.onCallEnded)});{const ne=te.subchannel;return Object.assign(Object.assign({},te),{subchannel:ne.getWrappedSubchannel()})}}else return te}}class W{constructor(Q){this.channelControlHelper=Q,this.latestConfig=null,this.children=new Map,this.currentState=c.ConnectivityState.IDLE,this.updatesPaused=!1,this.lastError=null,this.weightUpdateTimer=null}countChildrenWithState(Q){let H=0;for(const te of this.children.values())te.child.getConnectivityState()===Q&&(H+=1);return H}updateWeight(Q,H){var te,ne;const oe=H.rps_fractional;let ie=H.application_utilization;ie>0&&oe>0&&(ie+=H.eps/oe*((ne=(te=this.latestConfig)===null||te===void 0?void 0:te.getErrorUtilizationPenalty())!==null&&ne!==void 0?ne:0));const ee=ie===0?0:oe/ie;if(ee===0)return;const ue=new Date;Q.nonEmptySince===null&&(Q.nonEmptySince=ue),Q.lastUpdated=ue,Q.weight=ee}getWeight(Q){if(!this.latestConfig)return 0;const H=new Date().getTime();if(H-Q.lastUpdated.getTime()>=this.latestConfig.getWeightExpirationPeriodMs())return Q.nonEmptySince=null,0;const te=this.latestConfig.getBlackoutPeriodMs();return te>0&&(Q.nonEmptySince===null||H-Q.nonEmptySince.getTime()<te)?0:Q.weight}calculateAndUpdateState(){if(!(this.updatesPaused||!this.latestConfig)){if(this.countChildrenWithState(c.ConnectivityState.READY)>0){const Q=[];for(const[te,ne]of this.children)ne.child.getConnectivityState()===c.ConnectivityState.READY&&Q.push({endpointName:te,picker:ne.child.getPicker(),weight:this.getWeight(ne)});R("Created picker with weights: "+Q.map(te=>te.endpointName+":"+te.weight).join(","));let H;this.latestConfig.getEnableOobLoadReport()?H=null:H=(te,ne)=>{const oe=this.children.get(ne);oe&&this.updateWeight(oe,te)},this.updateState(c.ConnectivityState.READY,new z(Q,H),null)}else if(this.countChildrenWithState(c.ConnectivityState.CONNECTING)>0)this.updateState(c.ConnectivityState.CONNECTING,new v.QueuePicker(this),null);else if(this.countChildrenWithState(c.ConnectivityState.TRANSIENT_FAILURE)>0){const Q=`weighted_round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(c.ConnectivityState.TRANSIENT_FAILURE,new v.UnavailablePicker({details:Q}),Q)}else this.updateState(c.ConnectivityState.IDLE,new v.QueuePicker(this),null);for(const{child:Q}of this.children.values())Q.getConnectivityState()===c.ConnectivityState.IDLE&&Q.exitIdle()}}updateState(Q,H,te){R(c.ConnectivityState[this.currentState]+" -> "+c.ConnectivityState[Q]),this.currentState=Q,this.channelControlHelper.updateState(Q,H,te)}updateAddressList(Q,H,te,ne){var oe,ie;if(!(H instanceof $))return!1;if(!Q.ok)return this.children.size===0&&this.updateState(c.ConnectivityState.TRANSIENT_FAILURE,new v.UnavailablePicker(Q.error),Q.error.details),!0;if(Q.value.length===0){const fe=`No addresses resolved. Resolution note: ${ne}`;return this.updateState(c.ConnectivityState.TRANSIENT_FAILURE,new v.UnavailablePicker({details:fe}),fe),!1}R("Connect to endpoint list "+Q.value.map(g.endpointToString));const ee=new Date,ue=new Set;this.updatesPaused=!0,this.latestConfig=H;for(const fe of Q.value){const de=(0,g.endpointToString)(fe);ue.add(de);let ge=this.children.get(de);ge||(ge={child:new O.LeafLoadBalancer(fe,(0,y.createChildChannelControlHelper)(this.channelControlHelper,{updateState:(me,_e,we)=>{this.currentState===c.ConnectivityState.READY&&me!==c.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),me===c.ConnectivityState.READY&&(ge.nonEmptySince=null),we&&(this.lastError=we),this.calculateAndUpdateState()},createSubchannel:(me,_e)=>{const we=this.channelControlHelper.createSubchannel(me,_e);return ge!=null&&ge.oobMetricsListener?new E.OrcaOobMetricsSubchannelWrapper(we,ge.oobMetricsListener,this.latestConfig.getOobLoadReportingPeriodMs()):we}}),te,ne),lastUpdated:ee,nonEmptySince:null,weight:0,oobMetricsListener:null},this.children.set(de,ge)),H.getEnableOobLoadReport()?ge.oobMetricsListener=me=>{this.updateWeight(ge,me)}:ge.oobMetricsListener=null}for(const[fe,de]of this.children)ue.has(fe)?de.child.startConnecting():(de.child.destroy(),this.children.delete(fe));return this.updatesPaused=!1,this.calculateAndUpdateState(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer),this.weightUpdateTimer=(ie=(oe=setInterval(()=>{this.currentState===c.ConnectivityState.READY&&this.calculateAndUpdateState()},H.getWeightUpdatePeriodMs())).unref)===null||ie===void 0?void 0:ie.call(oe),!0}exitIdle(){}resetBackoff(){}destroy(){for(const Q of this.children.values())Q.child.destroy();this.children.clear(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer)}getTypeName(){return C}}function J(){(0,y.registerLoadBalancerType)(C,W,$)}return loadBalancerWeightedRoundRobin}var hasRequiredSrc$2;function requireSrc$2(){return hasRequiredSrc$2||(hasRequiredSrc$2=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.experimental=c.ServerMetricRecorder=c.ServerInterceptingCall=c.ResponderBuilder=c.ServerListenerBuilder=c.addAdminServicesToServer=c.getChannelzHandlers=c.getChannelzServiceDefinition=c.InterceptorConfigurationError=c.InterceptingCall=c.RequesterBuilder=c.ListenerBuilder=c.StatusBuilder=c.getClientChannel=c.ServerCredentials=c.Server=c.setLogVerbosity=c.setLogger=c.load=c.loadObject=c.CallCredentials=c.ChannelCredentials=c.waitForClientReady=c.closeClient=c.Channel=c.makeGenericClientConstructor=c.makeClientConstructor=c.loadPackageDefinition=c.Client=c.compressionAlgorithms=c.propagate=c.connectivityState=c.status=c.logVerbosity=c.Metadata=c.credentials=void 0;const u=requireCallCredentials();Object.defineProperty(c,"CallCredentials",{enumerable:!0,get:function(){return u.CallCredentials}});const d=requireChannel();Object.defineProperty(c,"Channel",{enumerable:!0,get:function(){return d.ChannelImplementation}});const y=requireCompressionAlgorithms();Object.defineProperty(c,"compressionAlgorithms",{enumerable:!0,get:function(){return y.CompressionAlgorithms}});const O=requireConnectivityState();Object.defineProperty(c,"connectivityState",{enumerable:!0,get:function(){return O.ConnectivityState}});const T=requireChannelCredentials();Object.defineProperty(c,"ChannelCredentials",{enumerable:!0,get:function(){return T.ChannelCredentials}});const E=requireClient();Object.defineProperty(c,"Client",{enumerable:!0,get:function(){return E.Client}});const v=requireConstants$1();Object.defineProperty(c,"logVerbosity",{enumerable:!0,get:function(){return v.LogVerbosity}}),Object.defineProperty(c,"status",{enumerable:!0,get:function(){return v.Status}}),Object.defineProperty(c,"propagate",{enumerable:!0,get:function(){return v.Propagate}});const p=requireLogging(),g=requireMakeClient();Object.defineProperty(c,"loadPackageDefinition",{enumerable:!0,get:function(){return g.loadPackageDefinition}}),Object.defineProperty(c,"makeClientConstructor",{enumerable:!0,get:function(){return g.makeClientConstructor}}),Object.defineProperty(c,"makeGenericClientConstructor",{enumerable:!0,get:function(){return g.makeClientConstructor}});const w=requireMetadata();Object.defineProperty(c,"Metadata",{enumerable:!0,get:function(){return w.Metadata}});const R=requireServer();Object.defineProperty(c,"Server",{enumerable:!0,get:function(){return R.Server}});const C=requireServerCredentials();Object.defineProperty(c,"ServerCredentials",{enumerable:!0,get:function(){return C.ServerCredentials}});const N=requireStatusBuilder();Object.defineProperty(c,"StatusBuilder",{enumerable:!0,get:function(){return N.StatusBuilder}}),c.credentials={combineChannelCredentials:(ge,...me)=>me.reduce((_e,we)=>_e.compose(we),ge),combineCallCredentials:(ge,...me)=>me.reduce((_e,we)=>_e.compose(we),ge),createInsecure:T.ChannelCredentials.createInsecure,createSsl:T.ChannelCredentials.createSsl,createFromSecureContext:T.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:u.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:u.CallCredentials.createFromGoogleCredential,createEmpty:u.CallCredentials.createEmpty};const D=ge=>ge.close();c.closeClient=D;const L=(ge,me,_e)=>ge.waitForReady(me,_e);c.waitForClientReady=L;const q=(ge,me)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};c.loadObject=q;const M=(ge,me,_e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};c.load=M;const U=ge=>{p.setLogger(ge)};c.setLogger=U;const V=ge=>{p.setLoggerVerbosity(ge)};c.setLogVerbosity=V;const $=ge=>E.Client.prototype.getChannel.call(ge);c.getClientChannel=$;var z=requireClientInterceptors();Object.defineProperty(c,"ListenerBuilder",{enumerable:!0,get:function(){return z.ListenerBuilder}}),Object.defineProperty(c,"RequesterBuilder",{enumerable:!0,get:function(){return z.RequesterBuilder}}),Object.defineProperty(c,"InterceptingCall",{enumerable:!0,get:function(){return z.InterceptingCall}}),Object.defineProperty(c,"InterceptorConfigurationError",{enumerable:!0,get:function(){return z.InterceptorConfigurationError}});var W=requireChannelz();Object.defineProperty(c,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return W.getChannelzServiceDefinition}}),Object.defineProperty(c,"getChannelzHandlers",{enumerable:!0,get:function(){return W.getChannelzHandlers}});var J=requireAdmin();Object.defineProperty(c,"addAdminServicesToServer",{enumerable:!0,get:function(){return J.addAdminServicesToServer}});var Y=requireServerInterceptors();Object.defineProperty(c,"ServerListenerBuilder",{enumerable:!0,get:function(){return Y.ServerListenerBuilder}}),Object.defineProperty(c,"ResponderBuilder",{enumerable:!0,get:function(){return Y.ResponderBuilder}}),Object.defineProperty(c,"ServerInterceptingCall",{enumerable:!0,get:function(){return Y.ServerInterceptingCall}});var Q=requireOrca();Object.defineProperty(c,"ServerMetricRecorder",{enumerable:!0,get:function(){return Q.ServerMetricRecorder}});const H=requireExperimental();c.experimental=H;const te=requireResolverDns(),ne=requireResolverUds(),oe=requireResolverIp(),ie=requireLoadBalancerPickFirst(),ee=requireLoadBalancerRoundRobin(),ue=requireLoadBalancerOutlierDetection(),fe=requireLoadBalancerWeightedRoundRobin(),de=requireChannelz();te.setup(),ne.setup(),oe.setup(),ie.setup(),ee.setup(),ue.setup(),fe.setup(),de.setup()})(src$1)),src$1}var grpc={};const require$$10=["google/api/annotations.proto","google/api/apikeys/v2/apikeys.proto","google/api/apikeys/v2/resources.proto","google/api/auth.proto","google/api/backend.proto","google/api/billing.proto","google/api/client.proto","google/api/cloudquotas/v1/cloudquotas.proto","google/api/cloudquotas/v1/resources.proto","google/api/config_change.proto","google/api/consumer.proto","google/api/context.proto","google/api/control.proto","google/api/distribution.proto","google/api/documentation.proto","google/api/endpoint.proto","google/api/error_reason.proto","google/api/expr/conformance/v1alpha1/conformance_service.proto","google/api/expr/v1alpha1/checked.proto","google/api/expr/v1alpha1/eval.proto","google/api/expr/v1alpha1/explain.proto","google/api/expr/v1alpha1/syntax.proto","google/api/expr/v1alpha1/value.proto","google/api/expr/v1beta1/decl.proto","google/api/expr/v1beta1/eval.proto","google/api/expr/v1beta1/expr.proto","google/api/expr/v1beta1/source.proto","google/api/expr/v1beta1/value.proto","google/api/field_behavior.proto","google/api/field_info.proto","google/api/http.proto","google/api/httpbody.proto","google/api/label.proto","google/api/launch_stage.proto","google/api/log.proto","google/api/logging.proto","google/api/metric.proto","google/api/monitored_resource.proto","google/api/monitoring.proto","google/api/policy.proto","google/api/quota.proto","google/api/resource.proto","google/api/routing.proto","google/api/service.proto","google/api/servicecontrol/v1/check_error.proto","google/api/servicecontrol/v1/distribution.proto","google/api/servicecontrol/v1/http_request.proto","google/api/servicecontrol/v1/log_entry.proto","google/api/servicecontrol/v1/metric_value.proto","google/api/servicecontrol/v1/operation.proto","google/api/servicecontrol/v1/quota_controller.proto","google/api/servicecontrol/v1/service_controller.proto","google/api/servicecontrol/v2/service_controller.proto","google/api/servicemanagement/v1/resources.proto","google/api/servicemanagement/v1/servicemanager.proto","google/api/serviceusage/v1/resources.proto","google/api/serviceusage/v1/serviceusage.proto","google/api/serviceusage/v1beta1/resources.proto","google/api/serviceusage/v1beta1/serviceusage.proto","google/api/source_info.proto","google/api/system_parameter.proto","google/api/usage.proto","google/api/visibility.proto","google/cloud/location/locations.proto","google/iam/v1/iam_policy.proto","google/iam/v1/logging/audit_data.proto","google/iam/v1/options.proto","google/iam/v1/policy.proto","google/logging/type/http_request.proto","google/logging/type/log_severity.proto","google/longrunning/operations.proto","google/monitoring/v3/alert.proto","google/monitoring/v3/alert_service.proto","google/monitoring/v3/common.proto","google/monitoring/v3/dropped_labels.proto","google/monitoring/v3/group.proto","google/monitoring/v3/group_service.proto","google/monitoring/v3/metric.proto","google/monitoring/v3/metric_service.proto","google/monitoring/v3/mutation_record.proto","google/monitoring/v3/notification.proto","google/monitoring/v3/notification_service.proto","google/monitoring/v3/query_service.proto","google/monitoring/v3/service.proto","google/monitoring/v3/service_service.proto","google/monitoring/v3/snooze.proto","google/monitoring/v3/snooze_service.proto","google/monitoring/v3/span_context.proto","google/monitoring/v3/uptime.proto","google/monitoring/v3/uptime_service.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/bridge/message_set.proto","google/protobuf/compiler/plugin.proto","google/protobuf/compiler/ruby/ruby_generated_code.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2_import.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit_legacy.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_implicit.proto","google/protobuf/cpp_features.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/util/json_format.proto","google/protobuf/util/json_format_proto3.proto","google/protobuf/wrappers.proto","google/rpc/code.proto","google/rpc/context/attribute_context.proto","google/rpc/context/audit_context.proto","google/rpc/error_details.proto","google/rpc/http.proto","google/rpc/status.proto","google/type/calendar_period.proto","google/type/color.proto","google/type/date.proto","google/type/datetime.proto","google/type/dayofweek.proto","google/type/decimal.proto","google/type/expr.proto","google/type/fraction.proto","google/type/interval.proto","google/type/latlng.proto","google/type/localized_text.proto","google/type/money.proto","google/type/month.proto","google/type/phone_number.proto","google/type/postal_address.proto","google/type/quaternion.proto","google/type/timeofday.proto"];var hasRequiredGrpc;function requireGrpc(){if(hasRequiredGrpc)return grpc;hasRequiredGrpc=1;var c=grpc&&grpc.__createBinding||(Object.create?(function(Q,H,te,ne){ne===void 0&&(ne=te);var oe=Object.getOwnPropertyDescriptor(H,te);(!oe||("get"in oe?!H.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return H[te]}}),Object.defineProperty(Q,ne,oe)}):(function(Q,H,te,ne){ne===void 0&&(ne=te),Q[ne]=H[te]})),u=grpc&&grpc.__setModuleDefault||(Object.create?(function(Q,H){Object.defineProperty(Q,"default",{enumerable:!0,value:H})}):function(Q,H){Q.default=H}),d=grpc&&grpc.__importStar||(function(){var Q=function(H){return Q=Object.getOwnPropertyNames||function(te){var ne=[];for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&(ne[ne.length]=oe);return ne},Q(H)};return function(H){if(H&&H.__esModule)return H;var te={};if(H!=null)for(var ne=Q(H),oe=0;oe<ne.length;oe++)ne[oe]!=="default"&&c(te,H,ne[oe]);return u(te,H),te}})(),y=grpc&&grpc.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(grpc,"__esModule",{value:!0}),grpc.GoogleProtoFilesRoot=grpc.GrpcClient=grpc.ClientStub=void 0;const O=d(requireSrc$3()),T=require$$1$7,E=d(require$$0$7),v=requireSrc$5(),p=d(requireSrc$2()),g=d(require$$1$5),w=require$$6$2,R=d(require$$6$2),C=d(requireProtobufjs()),N=y(requireObject_hash()),D=d(requireGax()),L=R.join(__dirname,"..","..","build","protos"),q=[];q.push(L);const U=y(require$$10).default.map(Q=>Q.replace(/[/\\]/g,R.sep));async function V(Q){return new Promise((H,te)=>{E.readFile(Q,"utf8",(ne,oe)=>{if(ne)return te(ne);H(oe)})})}async function $(Q,H){return new Promise((te,ne)=>{(0,T.execFile)(Q,H,(oe,ie)=>{if(oe)return ne(oe);te(ie)})})}class z extends p.Client{}grpc.ClientStub=z;const Y=class Y{constructor(H={}){ce(this,"auth");ce(this,"grpc");ce(this,"grpcVersion");ce(this,"fallback");ce(this,"httpRules");ce(this,"baseDirectory");var oe;this.auth=H.auth||new v.GoogleAuth(H),this.fallback=!1;const te=10,ne=Number((oe=process.version.match(/^v(\d+)/))==null?void 0:oe[1]);if(Number.isNaN(ne)||ne<te){const ie=`Node.js v${te}.0.0 is a minimum requirement. To learn about legacy version support visit: https://github.com/googleapis/google-cloud-node#supported-nodejs-versions`;throw new Error(ie)}"grpc"in H?(this.grpc=H.grpc,this.grpcVersion=""):(this.grpc=p,this.grpcVersion=require$$11.version)}static protoCacheKey(H,te){if(!(!H||Array.isArray(H)&&(H.length===0||!H[0])))return JSON.stringify(H)+" "+JSON.stringify(te)}static clearProtoCache(){Y.protoCache.clear()}async _getCredentials(H){if(H.sslCreds)return H.sslCreds;const te=this.grpc,ne=H.cert&&H.key?te.credentials.createSsl(null,Buffer.from(H.key),Buffer.from(H.cert)):te.credentials.createSsl(),oe=await this.auth.getClient();return te.credentials.combineChannelCredentials(ne,te.credentials.createFromGoogleCredential({getRequestHeaders:async ee=>{const ue=await oe.getRequestHeaders(ee),fe={};return ue.forEach((de,ge)=>fe[ge]=de),fe}}))}static defaultOptions(){const H=q.slice();return{keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:H}}loadFromProto(H,te,ne=!1){const oe=Y.protoCacheKey(H,te);let ie=oe?Y.protoCache.get(oe):void 0;if(ne||!ie){const ee=O.loadSync(H,te);ie=this.grpc.loadPackageDefinition(ee),oe&&Y.protoCache.set(oe,ie)}return ie}loadProto(H,te,ne=!1){if(te||(te=R.basename(H),H=R.dirname(H)),Array.isArray(te)&&te.length===0)return{};const oe=Y.defaultOptions();return oe.includeDirs.unshift(H),this.loadFromProto(te,oe,ne)}static _resolveFile(H,te){if(E.existsSync(R.join(H,te)))return R.join(H,te);if(U.indexOf(te)>-1)return R.join(L,te);throw new Error(te+" could not be found in "+H)}loadProtoJSON(H,te=!1){const ne=(0,N.default)(JSON.stringify(H)).toString(),oe=Y.protoCache.get(ne);if(oe&&!te)return oe;const ie=Y.defaultOptions(),ee=O.fromJSON(H,ie),ue=this.grpc.loadPackageDefinition(ee);return Y.protoCache.set(ne,ue),ue}metadataBuilder(H){const te=this.grpc.Metadata,ne=new te;for(const oe in H){const ie=H[oe];Array.isArray(ie)?ie.forEach(ee=>ne.add(oe,ee)):ne.set(oe,`${ie}`)}return function(ie,ee){let ue=!1,fe=ne;if(ee){for(const de in ee)if(de.toLowerCase()!=="x-goog-api-client"){ue||(ue=!0,fe=fe.clone());const ge=ee[de];Array.isArray(ge)?ge.forEach(me=>fe.add(de,me)):fe.set(de,`${ge}`)}}return fe}}constructSettings(H,te,ne,oe){return D.constructSettings(H,te,ne,this.grpc.status,{metadataBuilder:this.metadataBuilder(oe)})}async createStub(H,te,ne){const oe=["grpc.callInvocationTransformer","grpc.channelFactoryOverride","grpc.gcpApiConfig"],[ie,ee]=await this._detectClientCertificate(te,te.universeDomain),ue=this._mtlsServicePath(te.servicePath,ne,ie&&ee),fe=Object.assign({},te,{cert:ie,key:ee,servicePath:ue}),de=ue+":"+fe.port;if(te.universeDomain||(te.universeDomain="googleapis.com"),te.universeDomain){const we=await this.auth.getUniverseDomain();if(we&&te.universeDomain!==we)throw new Error(`The configured universe domain (${te.universeDomain}) does not match the universe domain found in the credentials (${we}). If you haven't configured the universe domain explicitly, googleapis.com is the default.`)}const ge=await this._getCredentials(fe),me={};return me["grpc.max_receive_message_length"]=-1,me["grpc.max_send_message_length"]=-1,me["grpc.initial_reconnect_backoff_ms"]=1e3,Object.keys(fe).forEach(we=>{const Re=te[we];we.startsWith("grpc.grpc.")&&(we=we.replace(/^grpc\./,"")),we.startsWith("grpc.")&&(oe.includes(we)&&(we=we.replace(/^grpc\./,"")),me[we]=Re),we.startsWith("grpc-node.")&&(me[we]=Re)}),new H(de,ge,me)}async _detectClientCertificate(H,te){var ie;const ne=/(?<cert>-----BEGIN CERTIFICATE-----.*?-----END CERTIFICATE-----)/s,oe=/(?<key>-----BEGIN PRIVATE KEY-----.*?-----END PRIVATE KEY-----)/s;if(typeof process<"u"&&((ie=process==null?void 0:process.env)==null?void 0:ie.GOOGLE_API_USE_CLIENT_CERTIFICATE)==="true"){if(te&&te!=="googleapis.com")throw new Error("mTLS is not supported outside of googleapis.com universe domain.");if(H!=null&&H.cert&&(H!=null&&H.key))return[H.cert,H.key];const ee=(0,w.join)(this.baseDirectory||g.homedir(),".secureConnect","context_aware_metadata.json"),ue=JSON.parse(await V(ee));if(!ue.cert_provider_command)throw Error("no cert_provider_command found");const fe=await $(ue.cert_provider_command[0],ue.cert_provider_command.slice(1)),de=fe.toString().match(ne),ge=fe.toString().match(oe);if(de!=null&&de.groups&&(ge!=null&&ge.groups))return[de.groups.cert,ge.groups.key];throw Error("unable to parse certificate and key")}return[void 0,void 0]}_mtlsServicePath(H,te,ne){var oe,ie;return te||!H||typeof process<"u"&&((oe=process==null?void 0:process.env)==null?void 0:oe.GOOGLE_API_USE_MTLS_ENDPOINT)==="never"?H:typeof process<"u"&&((ie=process==null?void 0:process.env)==null?void 0:ie.GOOGLE_API_USE_MTLS_ENDPOINT)==="always"||ne?H.replace("googleapis.com","mtls.googleapis.com"):H}static createByteLengthFunction(H){return D.createByteLengthFunction(H)}};ce(Y,"protoCache",new Map);let W=Y;grpc.GrpcClient=W;class J extends C.Root{constructor(...H){super(...H)}resolvePath(H,te){if(H=R.normalize(H),te=R.normalize(te),R.isAbsolute(te)){if(!E.existsSync(te))throw new Error("The include `"+te+"` was not found.");return te}return U.indexOf(te)>-1?R.join(L,te):J._findIncludePath(H,te)}static _findIncludePath(H,te){H=R.normalize(H),te=R.normalize(te);let ne=H,oe=E.existsSync(R.join(ne,te));for(;!oe&&ne.length>0;)ne=ne.substring(0,ne.lastIndexOf(R.sep)),oe=E.existsSync(R.join(ne,te));if(!oe)throw new Error("The include `"+te+"` was not found.");return R.join(ne,te)}}return grpc.GoogleProtoFilesRoot=J,grpc}var hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,(function(c){var ue;var u=src$2&&src$2.__createBinding||(Object.create?(function(fe,de,ge,me){me===void 0&&(me=ge);var _e=Object.getOwnPropertyDescriptor(de,ge);(!_e||("get"in _e?!de.__esModule:_e.writable||_e.configurable))&&(_e={enumerable:!0,get:function(){return de[ge]}}),Object.defineProperty(fe,me,_e)}):(function(fe,de,ge,me){me===void 0&&(me=ge),fe[me]=de[ge]})),d=src$2&&src$2.__setModuleDefault||(Object.create?(function(fe,de){Object.defineProperty(fe,"default",{enumerable:!0,value:de})}):function(fe,de){fe.default=de}),y=src$2&&src$2.__importStar||(function(){var fe=function(de){return fe=Object.getOwnPropertyNames||function(ge){var me=[];for(var _e in ge)Object.prototype.hasOwnProperty.call(ge,_e)&&(me[me.length]=_e);return me},fe(de)};return function(de){if(de&&de.__esModule)return de;var ge={};if(de!=null)for(var me=fe(de),_e=0;_e<me.length;_e++)me[_e]!=="default"&&u(ge,de,me[_e]);return d(ge,de),ge}})();Object.defineProperty(c,"__esModule",{value:!0}),c.serializer=c.warn=c.ChannelCredentials=c.decodeProtobufAny=c.decodeAnyProtosInArray=c.makeUUID=c.protobufFromJSON=c.fallback=c.protobufMinimal=c.protobuf=c.version=c.createByteLengthFunction=c.LocationsClient=c.IamClient=c.OperationsClient=c.LocationProtos=c.IamProtos=c.operationsProtos=c.routingHeader=c.StreamType=c.Status=c.PathTemplate=c.operation=c.Operation=c.GrpcClient=c.GoogleProtoFilesRoot=c.ClientStub=c.GoogleError=c.createMaxRetriesBackoffSettings=c.createDefaultBackoffSettings=c.createBackoffSettings=c.createBundleOptions=c.createRetryOptions=c.RetryOptions=c.constructSettings=c.CallSettings=c.StreamDescriptor=c.PageDescriptor=c.LongrunningDescriptor=c.BundleDescriptor=c.createApiCall=c.OngoingCall=c.grpc=c.loggingUtils=c.googleAuthLibrary=c.GoogleAuth=void 0,c.lro=W;const O=y(requireSrc$2());c.grpc=O;const T=requireGrpc(),E=y(requireIam_service());c.IamProtos=E;const v=y(requireLocations());c.LocationProtos=v;const p=y(requireOperations());c.operationsProtos=p;const g=y(requireOperationsClient()),w=y(requireRoutingHeader());c.routingHeader=w;var R=requireSrc$5();Object.defineProperty(c,"GoogleAuth",{enumerable:!0,get:function(){return R.GoogleAuth}}),c.googleAuthLibrary=y(requireSrc$5()),c.loggingUtils=y(requireSrc$8());var C=requireCall$1();Object.defineProperty(c,"OngoingCall",{enumerable:!0,get:function(){return C.OngoingCall}});var N=requireCreateApiCall();Object.defineProperty(c,"createApiCall",{enumerable:!0,get:function(){return N.createApiCall}});var D=requireDescriptor$1();Object.defineProperty(c,"BundleDescriptor",{enumerable:!0,get:function(){return D.BundleDescriptor}}),Object.defineProperty(c,"LongrunningDescriptor",{enumerable:!0,get:function(){return D.LongrunningDescriptor}}),Object.defineProperty(c,"PageDescriptor",{enumerable:!0,get:function(){return D.PageDescriptor}}),Object.defineProperty(c,"StreamDescriptor",{enumerable:!0,get:function(){return D.StreamDescriptor}});var L=requireGax();Object.defineProperty(c,"CallSettings",{enumerable:!0,get:function(){return L.CallSettings}}),Object.defineProperty(c,"constructSettings",{enumerable:!0,get:function(){return L.constructSettings}}),Object.defineProperty(c,"RetryOptions",{enumerable:!0,get:function(){return L.RetryOptions}}),Object.defineProperty(c,"createRetryOptions",{enumerable:!0,get:function(){return L.createRetryOptions}}),Object.defineProperty(c,"createBundleOptions",{enumerable:!0,get:function(){return L.createBundleOptions}}),Object.defineProperty(c,"createBackoffSettings",{enumerable:!0,get:function(){return L.createBackoffSettings}}),Object.defineProperty(c,"createDefaultBackoffSettings",{enumerable:!0,get:function(){return L.createDefaultBackoffSettings}}),Object.defineProperty(c,"createMaxRetriesBackoffSettings",{enumerable:!0,get:function(){return L.createMaxRetriesBackoffSettings}});var q=requireGoogleError();Object.defineProperty(c,"GoogleError",{enumerable:!0,get:function(){return q.GoogleError}});var M=requireGrpc();Object.defineProperty(c,"ClientStub",{enumerable:!0,get:function(){return M.ClientStub}}),Object.defineProperty(c,"GoogleProtoFilesRoot",{enumerable:!0,get:function(){return M.GoogleProtoFilesRoot}}),Object.defineProperty(c,"GrpcClient",{enumerable:!0,get:function(){return M.GrpcClient}});var U=requireLongrunning();Object.defineProperty(c,"Operation",{enumerable:!0,get:function(){return U.Operation}}),Object.defineProperty(c,"operation",{enumerable:!0,get:function(){return U.operation}});var V=requirePathTemplate();Object.defineProperty(c,"PathTemplate",{enumerable:!0,get:function(){return V.PathTemplate}});var $=requireStatus();Object.defineProperty(c,"Status",{enumerable:!0,get:function(){return $.Status}});var z=requireStreaming();Object.defineProperty(c,"StreamType",{enumerable:!0,get:function(){return z.StreamType}});function W(fe){fe=Object.assign({scopes:W.ALL_SCOPES},fe);const de=new T.GrpcClient(fe);return new g.OperationsClientBuilder(de)}W.SERVICE_ADDRESS=g.SERVICE_ADDRESS,W.ALL_SCOPES=g.ALL_SCOPES;var J=requireOperationsClient();Object.defineProperty(c,"OperationsClient",{enumerable:!0,get:function(){return J.OperationsClient}});var Y=requireIamService();Object.defineProperty(c,"IamClient",{enumerable:!0,get:function(){return Y.IamClient}});var Q=requireLocationService();Object.defineProperty(c,"LocationsClient",{enumerable:!0,get:function(){return Q.LocationsClient}}),c.createByteLengthFunction=(ue=T.GrpcClient)==null?void 0:ue.createByteLengthFunction,c.version=require$$20.version;const H=y(requireProtobufjs());c.protobuf=H,c.protobufMinimal=y(requireMinimal());const te=y(requireFallback());c.fallback=te,c.protobufFromJSON=te.protobufFromJSON;var ne=requireUtil$5();Object.defineProperty(c,"makeUUID",{enumerable:!0,get:function(){return ne.makeUUID}}),Object.defineProperty(c,"decodeAnyProtosInArray",{enumerable:!0,get:function(){return ne.decodeAnyProtosInArray}}),Object.defineProperty(c,"decodeProtobufAny",{enumerable:!0,get:function(){return ne.decodeProtobufAny}});var oe=requireSrc$2();Object.defineProperty(c,"ChannelCredentials",{enumerable:!0,get:function(){return oe.ChannelCredentials}});var ie=requireWarnings();Object.defineProperty(c,"warn",{enumerable:!0,get:function(){return ie.warn}});const ee=y(requireSrc$4());c.serializer=ee})(src$2)),src$2}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$6;hasRequiredUtil=1;var c={};/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(util$6,"__esModule",{value:!0}),util$6.Deferred=void 0,util$6.autoId=O,util$6.requestTag=T,util$6.isObject=E,util$6.isPlainObject=v,util$6.isEmpty=p,util$6.isFunction=g,util$6.isPermanentRpcError=w,util$6.getRetryCodes=N,util$6.getTotalTimeout=D,util$6.getRetryParams=L,util$6.silencePromise=q,util$6.wrapError=M,util$6.tryGetPreferRestEnvironmentVariable=U,util$6.mapToArray=V,util$6.isArrayEqual=$,util$6.isPrimitiveArrayEqual=z;const u=require$$0$4,d=require$$19;class y{constructor(){ce(this,"promise");ce(this,"resolve",()=>{});ce(this,"reject",()=>{});this.promise=new Promise((J,Y)=>{this.resolve=J,this.reject=Y})}}util$6.Deferred=y;function O(){const W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let J="";for(;J.length<20;)(0,u.randomBytes)(40).forEach(Q=>{J.length<20&&Q<=247&&(J+=W.charAt(Q%62))});return J}function T(){return O().substr(0,5)}function E(W){return Object.prototype.toString.call(W)==="[object Object]"}function v(W){return E(W)&&(Object.getPrototypeOf(W)===Object.prototype||Object.getPrototypeOf(W)===null||W.constructor.name==="Object")}function p(W){return Object.keys(W).length===0}function g(W){return typeof W=="function"}function w(W,J){return W.code!==void 0?N(J).indexOf(W.code)===-1:!1}let R;function C(W){return R||(R=requireFallback().constructSettings("google.firestore.v1.Firestore",d,{},requireSrc$1().Status)),R[W]}function N(W){var J,Y;return((Y=(J=C(W))==null?void 0:J.retry)==null?void 0:Y.retryCodes)??[]}function D(W){var J,Y,Q;return((Q=(Y=(J=C(W))==null?void 0:J.retry)==null?void 0:Y.backoffSettings)==null?void 0:Q.totalTimeoutMillis)??0}function L(W){var J,Y;return((Y=(J=C(W))==null?void 0:J.retry)==null?void 0:Y.backoffSettings)??requireFallback().createDefaultBackoffSettings()}function q(W){return W.then(()=>{},()=>{})}function M(W,J){return W.stack+=`
Caused by: `+J,W}function U(){var J;const W=(J=c.FIRESTORE_PREFER_REST)==null?void 0:J.trim().toLowerCase();if(W!==void 0){if(W==="1"||W==="true")return!0;if(W==="0"||W==="false")return!1;console.warn(`An unsupported value was specified for the environment variable FIRESTORE_PREFER_REST. Value ${W} is unsupported.`);return}}function V(W,J){const Y=[];for(const Q in W)Object.prototype.hasOwnProperty.call(W,Q)&&Y.push(J(W[Q],Q,W));return Y}function $(W,J){if(W.length!==J.length)return!1;for(let Y=0;Y<W.length;++Y)if(!W[Y].isEqual(J[Y]))return!1;return!0}function z(W,J){if(W.length!==J.length)return!1;for(let Y=0;Y<W.length;++Y)if(W[Y]!==J[Y])return!1;return!0}return util$6}var timestamp={},hasRequiredTimestamp;function requireTimestamp(){if(hasRequiredTimestamp)return timestamp;hasRequiredTimestamp=1;/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(timestamp,"__esModule",{value:!0}),timestamp.Timestamp=void 0;const c=requireValidate();/*!
 * Number of nanoseconds in a millisecond.
 *
 * @type {number}
 */const u=1e6;/*!
 * The minimum legal value for the "seconds" property of a Timestamp object.
 *
 * This value corresponds to 0001-01-01T00:00:00Z.
 *
 * @type {number}
 */const d=-62135596800;/*!
 * The maximum legal value for the "seconds" property of a Timestamp object.
 *
 * This value corresponds to 9999-12-31T23:59:59.999999999Z.
 *
 * @type {number}
 */const y=253402300799;class O{constructor(E,v){ce(this,"_seconds");ce(this,"_nanoseconds");(0,c.validateInteger)("seconds",E,{minValue:d,maxValue:y}),(0,c.validateInteger)("nanoseconds",v,{minValue:0,maxValue:999999999}),this._seconds=E,this._nanoseconds=v}static now(){return O.fromMillis(Date.now())}static fromDate(E){return O.fromMillis(E.getTime())}static fromMillis(E){const v=Math.floor(E/1e3),p=Math.floor((E-v*1e3)*u);return new O(v,p)}static fromProto(E){return new O(Number(E.seconds||0),E.nanos||0)}get seconds(){return this._seconds}get nanoseconds(){return this._nanoseconds}toDate(){return new Date(this._seconds*1e3+Math.round(this._nanoseconds/u))}toMillis(){return this._seconds*1e3+Math.floor(this._nanoseconds/u)}isEqual(E){return this===E||E instanceof O&&this._seconds===E.seconds&&this._nanoseconds===E.nanoseconds}toProto(){const E={};return this.seconds&&(E.seconds=this.seconds.toString()),this.nanoseconds&&(E.nanos=this.nanoseconds),{timestampValue:E}}valueOf(){const E=this.seconds-d,v=String(E).padStart(12,"0"),p=String(this.nanoseconds).padStart(9,"0");return v+"."+p}}return timestamp.Timestamp=O,timestamp}var hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate;hasRequiredValidate=1;/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(validate,"__esModule",{value:!0}),validate.customObjectMessage=y,validate.validateFunction=O,validate.validateObject=T,validate.validateString=E,validate.validateHost=v,validate.validateBoolean=p,validate.validateNumber=g,validate.validateInteger=w,validate.validateTimestamp=R,validate.invalidArgumentMessage=C,validate.validateOptional=N,validate.validateMinNumberOfArguments=q,validate.validateMaxNumberOfArguments=M,validate.validateEnumValue=U;const c=require$$6$3,u=requireUtil(),d=requireTimestamp();function y(V,$,z){const W=z?` (found in field "${z}")`:"";if((0,u.isObject)($)){const J=$.constructor.name;switch(J){case"DocumentReference":case"FieldPath":case"FieldValue":case"GeoPoint":case"Timestamp":return`${C(V,"Firestore document")} Detected an object of type "${J}" that doesn't match the expected instance${W}. Please ensure that the Firestore types you are using are from the same NPM package.)`;case"Object":return`${C(V,"Firestore document")} Invalid use of type "${typeof $}" as a Firestore argument${W}.`;default:return`${C(V,"Firestore document")} Couldn't serialize object of type "${J}"${W}. Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).`}}else return`${C(V,"Firestore document")} Input is not a plain JavaScript object${W}.`}function O(V,$,z){if(!N($,z)&&!(0,u.isFunction)($))throw new Error(C(V,"function"))}function T(V,$,z){if(!N($,z)&&!(0,u.isObject)($))throw new Error(C(V,"object"))}function E(V,$,z){if(!N($,z)&&typeof $!="string")throw new Error(C(V,"string"))}function v(V,$,z){if(!N($,z)){E(V,$);const W=`http://${$}/`;let J;try{J=new c.URL(W)}catch{throw new Error(C(V,"host"))}if(J.search!==""||J.pathname!=="/"||J.username!=="")throw new Error(C(V,"host"))}}function p(V,$,z){if(!N($,z)&&typeof $!="boolean")throw new Error(C(V,"boolean"))}function g(V,$,z){const W=z!==void 0&&z.minValue!==void 0?z.minValue:-1/0,J=z!==void 0&&z.maxValue!==void 0?z.maxValue:1/0;if(!N($,z)){if(typeof $!="number"||isNaN($))throw new Error(C(V,"number"));if($<W||$>J)throw new Error(`${L(V)} must be within [${W}, ${J}] inclusive, but was: ${$}`)}}function w(V,$,z){const W=z!==void 0&&z.minValue!==void 0?z.minValue:-1/0,J=z!==void 0&&z.maxValue!==void 0?z.maxValue:1/0;if(!N($,z)){if(typeof $!="number"||isNaN($)||$%1!==0)throw new Error(C(V,"integer"));if($<W||$>J)throw new Error(`${L(V)} must be within [${W}, ${J}] inclusive, but was: ${$}`)}}function R(V,$,z){if(!N($,z)&&!($ instanceof d.Timestamp))throw new Error(C(V,"Timestamp"))}function C(V,$){return`${L(V)} is not a valid ${$}.`}function N(V,$){return V===void 0&&$!==void 0&&$.optional===!0}function D(V,$){return`${V} ${$}`+(V===1?"":"s")}function L(V){return typeof V=="string"?`Value for argument "${V}"`:`Element at index ${V}`}function q(V,$,z){if($.length<z)throw new Error(`Function "${V}()" requires at least ${D(z,"argument")}.`)}function M(V,$,z){if($.length>z)throw new Error(`Function "${V}()" accepts at most ${D(z,"argument")}.`)}function U(V,$,z,W){if(!N($,W)){const J=[];for(const Y of z){if(Y===$)return;J.push(Y)}throw new Error(`${L(V)} is invalid. Acceptable values are: ${J.join(", ")}`)}}return validate}var hasRequiredLogger;function requireLogger(){if(hasRequiredLogger)return logger;hasRequiredLogger=1;/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(logger,"__esModule",{value:!0}),logger.logger=O,logger.setLogFunction=T,logger.setLibVersion=E;const c=require$$3$2,u=requireValidate();/*! The Firestore library version */let d;/*! The external function used to emit logs. */let y=null;function O(v,p,g,...w){if(p=p||"#####",y){const R=c.format(g,...w),C=new Date().toISOString();y(`Firestore (${d}) ${C} ${p} [${v}]: `+R)}}function T(v){v!==null&&(0,u.validateFunction)("logger",v),y=v}function E(v){d=v}return logger}var hasRequiredBackoff;function requireBackoff(){return hasRequiredBackoff||(hasRequiredBackoff=1,(function(c){/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(c,"__esModule",{value:!0}),c.ExponentialBackoff=c.delayExecution=c.MAX_RETRY_ATTEMPTS=c.DEFAULT_BACKOFF_FACTOR=c.DEFAULT_BACKOFF_MAX_DELAY_MS=c.DEFAULT_BACKOFF_INITIAL_DELAY_MS=void 0,c.setTimeoutHandler=y;const u=requireLogger();/*!
 * The default initial backoff time in milliseconds after an error.
 * Set to 1s according to https://cloud.google.com/apis/design/errors.
 */c.DEFAULT_BACKOFF_INITIAL_DELAY_MS=1e3;/*!
 * The default maximum backoff time in milliseconds.
 */c.DEFAULT_BACKOFF_MAX_DELAY_MS=60*1e3;/*!
 * The default factor to increase the backup by after each failed attempt.
 */c.DEFAULT_BACKOFF_FACTOR=1.5;/*!
 * The default jitter to distribute the backoff attempts by (0 means no
 * randomization, 1.0 means +/-50% randomization).
 */const d=1;/*!
 * The maximum number of retries that will be attempted by backoff
 * before stopping all retry attempts.
 */c.MAX_RETRY_ATTEMPTS=10;/*!
 * The timeout handler used by `ExponentialBackoff` and `BulkWriter`.
 */c.delayExecution=setTimeout;function y(T){c.delayExecution=(E,v)=>(T(E,v),{hasRef:()=>{throw new Error("For tests only. Not Implemented")},ref:()=>{throw new Error("For tests only. Not Implemented")},refresh:()=>{throw new Error("For tests only. Not Implemented")},unref:()=>{throw new Error("For tests only. Not Implemented")},[Symbol.toPrimitive]:()=>{throw new Error("For tests only. Not Implemented")}})}class O{constructor(E={}){ce(this,"initialDelayMs");ce(this,"backoffFactor");ce(this,"maxDelayMs");ce(this,"jitterFactor");ce(this,"_retryCount",0);ce(this,"currentBaseMs",0);ce(this,"awaitingBackoffCompletion",!1);this.initialDelayMs=E.initialDelayMs!==void 0?E.initialDelayMs:c.DEFAULT_BACKOFF_INITIAL_DELAY_MS,this.backoffFactor=E.backoffFactor!==void 0?E.backoffFactor:c.DEFAULT_BACKOFF_FACTOR,this.maxDelayMs=E.maxDelayMs!==void 0?E.maxDelayMs:c.DEFAULT_BACKOFF_MAX_DELAY_MS,this.jitterFactor=E.jitterFactor!==void 0?E.jitterFactor:d}reset(){this._retryCount=0,this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndWait(){if(this.awaitingBackoffCompletion)return Promise.reject(new Error("A backoff operation is already in progress."));if(this.retryCount>c.MAX_RETRY_ATTEMPTS)return Promise.reject(new Error("Exceeded maximum number of retries allowed."));const E=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&(0,u.logger)("ExponentialBackoff.backoffAndWait",null,`Backing off for ${E} ms (base delay: ${this.currentBaseMs} ms)`),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs=Math.max(this.currentBaseMs,this.initialDelayMs),this.currentBaseMs=Math.min(this.currentBaseMs,this.maxDelayMs),this._retryCount+=1,new Promise(v=>{this.awaitingBackoffCompletion=!0,(0,c.delayExecution)(()=>{this.awaitingBackoffCompletion=!1,v()},E)})}get retryCount(){return this._retryCount}jitterDelayMs(){return(Math.random()-.5)*this.jitterFactor*this.currentBaseMs}}c.ExponentialBackoff=O})(backoff)),backoff}var bulkWriter={},rateLimiter={},hasRequiredRateLimiter;function requireRateLimiter(){if(hasRequiredRateLimiter)return rateLimiter;hasRequiredRateLimiter=1,Object.defineProperty(rateLimiter,"__esModule",{value:!0}),rateLimiter.RateLimiter=void 0;/*!
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c=require$$0$d,u=requireLogger();class d{constructor(O,T,E,v,p=Date.now()){ce(this,"initialCapacity");ce(this,"multiplier");ce(this,"multiplierMillis");ce(this,"maximumCapacity");ce(this,"startTimeMillis");ce(this,"availableTokens");ce(this,"lastRefillTimeMillis");ce(this,"previousCapacity");this.initialCapacity=O,this.multiplier=T,this.multiplierMillis=E,this.maximumCapacity=v,this.startTimeMillis=p,this.availableTokens=O,this.lastRefillTimeMillis=p,this.previousCapacity=O}tryMakeRequest(O,T=Date.now()){return this.refillTokens(T),O<=this.availableTokens?(this.availableTokens-=O,!0):!1}getNextRequestDelayMs(O,T=Date.now()){if(this.refillTokens(T),O<this.availableTokens)return 0;const E=this.calculateCapacity(T);if(E<O)return-1;const v=O-this.availableTokens;return Math.ceil(v*1e3/E)}refillTokens(O){if(O>=this.lastRefillTimeMillis){const T=O-this.lastRefillTimeMillis,E=this.calculateCapacity(O),v=Math.floor(T*E/1e3);v>0&&(this.availableTokens=Math.min(E,this.availableTokens+v),this.lastRefillTimeMillis=O)}else throw new Error("Request time should not be before the last token refill time.")}calculateCapacity(O){c(O>=this.startTimeMillis,"startTime cannot be after currentTime");const T=O-this.startTimeMillis,E=Math.min(Math.floor(Math.pow(this.multiplier,Math.floor(T/this.multiplierMillis))*this.initialCapacity),this.maximumCapacity);return E!==this.previousCapacity&&(0,u.logger)("RateLimiter.calculateCapacity",null,`New request capacity: ${E} operations per second.`),this.previousCapacity=E,E}}return rateLimiter.RateLimiter=d,rateLimiter}var writeBatch={},document$1={},fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function c(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){if(u.constructor!==d.constructor)return!1;var y,O,T;if(Array.isArray(u)){if(y=u.length,y!=d.length)return!1;for(O=y;O--!==0;)if(!c(u[O],d[O]))return!1;return!0}if(u.constructor===RegExp)return u.source===d.source&&u.flags===d.flags;if(u.valueOf!==Object.prototype.valueOf)return u.valueOf()===d.valueOf();if(u.toString!==Object.prototype.toString)return u.toString()===d.toString();if(T=Object.keys(u),y=T.length,y!==Object.keys(d).length)return!1;for(O=y;O--!==0;)if(!Object.prototype.hasOwnProperty.call(d,T[O]))return!1;for(O=y;O--!==0;){var E=T[O];if(!c(u[E],d[E]))return!1}return!0}return u!==u&&d!==d}),fastDeepEqual}var fieldValue={},serializer={},convert={},mapType={},hasRequiredMapType;function requireMapType(){if(hasRequiredMapType)return mapType;hasRequiredMapType=1;/*!
 * Copyright 2024 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return Object.defineProperty(mapType,"__esModule",{value:!0}),mapType.VECTOR_MAP_VECTORS_KEY=mapType.RESERVED_MAP_KEY_VECTOR_VALUE=mapType.RESERVED_MAP_KEY=void 0,mapType.RESERVED_MAP_KEY="__type__",mapType.RESERVED_MAP_KEY_VECTOR_VALUE="__vector__",mapType.VECTOR_MAP_VECTORS_KEY="value",mapType}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1;/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(convert,"__esModule",{value:!0}),convert.timestampFromJson=d,convert.detectValueType=O,convert.detectGoogleProtobufValueType=T,convert.valueFromJson=E,convert.fieldsFromJson=v;const c=requireValidate(),u=requireMapType();/*!
 * @module firestore/convert
 * @private
 * @internal
 *
 * This module contains utility functions to convert
 * `firestore.v1.Documents` from Proto3 JSON to their equivalent
 * representation in Protobuf JS. Protobuf JS is the only encoding supported by
 * this client, and dependencies that use Proto3 JSON (such as the Google Cloud
 * Functions SDK) are supported through this conversion and its usage in
 * {@see Firestore#snapshot_}.
 */function d(p,g){let w={};if(typeof p=="string"){const R=new Date(p),C=Math.floor(R.getTime()/1e3);let N=0;if(p.length>20){const D=p.substring(20,p.length-1),L=9-D.length;N=Number(D)*Math.pow(10,L)}if(isNaN(C)||isNaN(N))throw g=g||"timestampValue",new Error(`Specify a valid ISO 8601 timestamp for "${g}".`);w={seconds:C||void 0,nanos:N||void 0}}else p!==void 0&&((0,c.validateObject)("timestampValue",p),w={seconds:p.seconds||void 0,nanos:p.nanos||void 0});return w}function y(p){return typeof p=="string"?Buffer.from(p,"base64"):p}function O(p){var w;let g;if(p.valueType)g=p.valueType;else{const R=[];if(p.stringValue!==void 0&&R.push("stringValue"),p.booleanValue!==void 0&&R.push("booleanValue"),p.integerValue!==void 0&&R.push("integerValue"),p.doubleValue!==void 0&&R.push("doubleValue"),p.timestampValue!==void 0&&R.push("timestampValue"),p.referenceValue!==void 0&&R.push("referenceValue"),p.arrayValue!==void 0&&R.push("arrayValue"),p.nullValue!==void 0&&R.push("nullValue"),p.mapValue!==void 0&&R.push("mapValue"),p.geoPointValue!==void 0&&R.push("geoPointValue"),p.bytesValue!==void 0&&R.push("bytesValue"),R.length!==1)throw new Error(`Unable to infer type value from '${JSON.stringify(p)}'.`);g=R[0]}if(g==="mapValue"){const R=(w=p.mapValue)==null?void 0:w.fields;R&&Object.keys(R).indexOf(u.RESERVED_MAP_KEY)!==-1&&O(R[u.RESERVED_MAP_KEY])==="stringValue"&&R[u.RESERVED_MAP_KEY].stringValue===u.RESERVED_MAP_KEY_VECTOR_VALUE&&(g="vectorValue")}return g}function T(p){const g=[];if(p.nullValue!==void 0&&g.push("nullValue"),p.numberValue!==void 0&&g.push("numberValue"),p.stringValue!==void 0&&g.push("stringValue"),p.boolValue!==void 0&&g.push("boolValue"),p.structValue!==void 0&&g.push("structValue"),p.listValue!==void 0&&g.push("listValue"),g.length!==1)throw new Error(`Unable to infer type value from '${JSON.stringify(p)}'.`);return g[0]}function E(p){switch(O(p)){case"timestampValue":return{timestampValue:d(p.timestampValue)};case"bytesValue":return{bytesValue:y(p.bytesValue)};case"doubleValue":return{doubleValue:Number(p.doubleValue)};case"arrayValue":{const w=[];if(Array.isArray(p.arrayValue.values))for(const R of p.arrayValue.values)w.push(E(R));return{arrayValue:{values:w}}}case"mapValue":case"vectorValue":{const w={},R=p.mapValue.fields;if(R)for(const C of Object.keys(R))w[C]=E(p.mapValue.fields[C]);return{mapValue:{fields:w}}}default:return p}}function v(p){const g={};for(const w of Object.keys(p))g[w]=E(p[w]);return g}return convert}var geoPoint={},hasRequiredGeoPoint;function requireGeoPoint(){if(hasRequiredGeoPoint)return geoPoint;hasRequiredGeoPoint=1;/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(geoPoint,"__esModule",{value:!0}),geoPoint.GeoPoint=void 0;const c=requireValidate();class u{constructor(y,O){ce(this,"_latitude");ce(this,"_longitude");(0,c.validateNumber)("latitude",y,{minValue:-90,maxValue:90}),(0,c.validateNumber)("longitude",O,{minValue:-180,maxValue:180}),this._latitude=y,this._longitude=O}get latitude(){return this._latitude}get longitude(){return this._longitude}isEqual(y){return this===y||y instanceof u&&this.latitude===y.latitude&&this.longitude===y.longitude}toProto(){return{geoPointValue:{latitude:this.latitude,longitude:this.longitude}}}static fromProto(y){return new u(y.latitude||0,y.longitude||0)}}return geoPoint.GeoPoint=u,geoPoint}var path={},order={},hasRequiredOrder;function requireOrder(){if(hasRequiredOrder)return order;hasRequiredOrder=1;/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(order,"__esModule",{value:!0}),order.primitiveComparator=O,order.compareArrays=R,order.compareUtf8Strings=D,order.compare=U;const c=requireConvert(),u=requirePath();/*!
 * The type order as defined by the backend.
 */var d;(function(V){V[V.NULL=0]="NULL",V[V.BOOLEAN=1]="BOOLEAN",V[V.NUMBER=2]="NUMBER",V[V.TIMESTAMP=3]="TIMESTAMP",V[V.STRING=4]="STRING",V[V.BLOB=5]="BLOB",V[V.REF=6]="REF",V[V.GEO_POINT=7]="GEO_POINT",V[V.ARRAY=8]="ARRAY",V[V.VECTOR=9]="VECTOR",V[V.OBJECT=10]="OBJECT"})(d||(d={}));/*!
 * @private
 * @internal
 */function y(V){const $=(0,c.detectValueType)(V);switch($){case"nullValue":return d.NULL;case"integerValue":return d.NUMBER;case"doubleValue":return d.NUMBER;case"stringValue":return d.STRING;case"booleanValue":return d.BOOLEAN;case"arrayValue":return d.ARRAY;case"timestampValue":return d.TIMESTAMP;case"geoPointValue":return d.GEO_POINT;case"bytesValue":return d.BLOB;case"referenceValue":return d.REF;case"mapValue":return d.OBJECT;case"vectorValue":return d.VECTOR;default:throw new Error("Unexpected value type: "+$)}}/*!
 * @private
 * @internal
 */function O(V,$){return V<$?-1:V>$?1:0}/*!
 * Utility function to compare doubles (using Firestore semantics for NaN).
 * @private
 * @internal
 */function T(V,$){return V<$?-1:V>$?1:V===$?0:isNaN(V)?isNaN($)?0:-1:1}/*!
 * @private
 * @internal
 */function E(V,$){let z,W;return V.integerValue!==void 0?z=Number(V.integerValue):z=Number(V.doubleValue),$.integerValue!==void 0?W=Number($.integerValue):W=Number($.doubleValue),T(z,W)}/*!
 * @private
 * @internal
 */function v(V,$){const z=O(V.seconds||0,$.seconds||0);return z!==0?z:O(V.nanos||0,$.nanos||0)}/*!
 * @private
 * @internal
 */function p(V,$){if(!(V instanceof Buffer)||!($ instanceof Buffer))throw new Error("Blobs can only be compared if they are Buffers.");return Buffer.compare(V,$)}/*!
 * @private
 * @internal
 */function g(V,$){const z=u.QualifiedResourcePath.fromSlashSeparatedString(V.referenceValue),W=u.QualifiedResourcePath.fromSlashSeparatedString($.referenceValue);return z.compareTo(W)}/*!
 * @private
 * @internal
 */function w(V,$){return O(V.latitude||0,$.latitude||0)||O(V.longitude||0,$.longitude||0)}/*!
 * @private
 * @internal
 */function R(V,$){for(let z=0;z<V.length&&z<$.length;z++){const W=U(V[z],$[z]);if(W!==0)return W}return O(V.length,$.length)}/*!
 * @private
 * @internal
 */function C(V,$){const z=Object.keys(V),W=Object.keys($);z.sort(),W.sort();for(let J=0;J<z.length&&J<W.length;J++){const Y=D(z[J],W[J]);if(Y!==0)return Y;const Q=z[J],H=U(V[Q],$[Q]);if(H!==0)return H}return O(z.length,W.length)}/*!
 * @private
 * @internal
 */function N(V,$){var Y,Q,H,te;const z=((Q=(Y=V==null?void 0:V.value)==null?void 0:Y.arrayValue)==null?void 0:Q.values)??[],W=((te=(H=$==null?void 0:$.value)==null?void 0:H.arrayValue)==null?void 0:te.values)??[],J=O(z.length,W.length);return J!==0?J:R(z,W)}/*!
 * Compare strings in UTF-8 encoded byte order
 * @private
 * @internal
 */function D(V,$){const z=Math.min(V.length,$.length);for(let W=0;W<z;W++){const J=V.charAt(W),Y=$.charAt(W);if(J!==Y)return M(J)===M(Y)?O(J,Y):M(J)?1:-1}return O(V.length,$.length)}const L=55296,q=57343;function M(V){const $=V.charCodeAt(0);return $>=L&&$<=q}/*!
 * @private
 * @internal
 */function U(V,$){const z=y(V),W=y($),J=O(z,W);if(J!==0)return J;switch(z){case d.NULL:return 0;case d.BOOLEAN:return O(V.booleanValue,$.booleanValue);case d.STRING:return D(V.stringValue,$.stringValue);case d.NUMBER:return E(V,$);case d.TIMESTAMP:return v(V.timestampValue,$.timestampValue);case d.BLOB:return p(V.bytesValue,$.bytesValue);case d.REF:return g(V,$);case d.GEO_POINT:return w(V.geoPointValue,$.geoPointValue);case d.ARRAY:return R(V.arrayValue.values||[],$.arrayValue.values||[]);case d.OBJECT:return C(V.mapValue.fields||{},$.mapValue.fields||{});case d.VECTOR:return N(V.mapValue.fields||{},$.mapValue.fields||{});default:throw new Error(`Encountered unknown type order: ${z}`)}}return order}var hasRequiredPath;function requirePath(){if(hasRequiredPath)return path;hasRequiredPath=1;/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(path,"__esModule",{value:!0}),path.FieldPath=path.QualifiedResourcePath=path.ResourcePath=path.DEFAULT_DATABASE_ID=void 0,path.validateResourcePath=g,path.validateFieldPath=R;const c=requireOrder(),u=requireUtil(),d=requireValidate();/*!
 * The default database ID for this Firestore client. We do not yet expose the
 * ability to use different databases.
 */path.DEFAULT_DATABASE_ID="(default)";/*!
 * A regular expression to verify an absolute Resource Path in Firestore. It
 * extracts the project ID, the database name and the relative resource path
 * if available.
 *
 * @type {RegExp}
 */const y=/^projects\/([^/]*)\/databases\/([^/]*)(?:\/documents\/)?([\s\S]*)$/;/*!
 * A regular expression to verify whether a field name can be passed to the
 * backend without escaping.
 *
 * @type {RegExp}
 */const O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;/*!
 * A regular expression to verify field paths that are passed to the API as
 * strings. Field paths that do not match this expression have to be provided
 * as a [FieldPath]{@link FieldPath} object.
 *
 * @type {RegExp}
 */const T=/^[^*~/[\]]+$/;class E{constructor(L){ce(this,"segments");this.segments=L}get size(){return this.segments.length}append(L){return L instanceof E?this.construct(this.segments.concat(L.segments)):this.construct(this.segments.concat(this.split(L)))}parent(){return this.segments.length===0?null:this.construct(this.segments.slice(0,this.segments.length-1))}isPrefixOf(L){if(L.segments.length<this.segments.length)return!1;for(let q=0;q<this.segments.length;q++)if(this.segments[q]!==L.segments[q])return!1;return!0}compareTo(L){const q=Math.min(this.segments.length,L.segments.length);for(let M=0;M<q;M++){const U=this.compareSegments(this.segments[M],L.segments[M]);if(U!==0)return U}return(0,c.primitiveComparator)(this.segments.length,L.segments.length)}compareSegments(L,q){const M=this.isNumericId(L),U=this.isNumericId(q);return M&&!U?-1:!M&&U?1:M&&U?this.compareNumbers(this.extractNumericId(L),this.extractNumericId(q)):(0,c.compareUtf8Strings)(L,q)}isNumericId(L){return L.startsWith("__id")&&L.endsWith("__")}extractNumericId(L){return BigInt(L.substring(4,L.length-2))}compareNumbers(L,q){return L<q?-1:L>q?1:0}toArray(){return this.segments.slice()}popLast(){return this.segments.pop(),this.construct(this.segments)}isEqual(L){return this===L||this.compareTo(L)===0}}const C=class C extends E{constructor(...L){super(L)}get isDocument(){return this.segments.length>0&&this.segments.length%2===0}get isCollection(){return this.segments.length%2===1}get id(){return this.segments.length>0?this.segments[this.segments.length-1]:null}get relativeName(){return this.segments.join("/")}construct(L){return new C(...L)}split(L){return L.split("/").filter(q=>q.length>0)}toQualifiedResourcePath(L,q){return new p(L,q,...this.segments)}};ce(C,"EMPTY",new C);let v=C;path.ResourcePath=v;class p extends v{constructor(q,M,...U){super(...U);ce(this,"projectId");ce(this,"databaseId");this.projectId=q,this.databaseId=M}get relativeName(){return this.segments.join("/")}static fromSlashSeparatedString(q){const M=y.exec(q);if(M){const U=M[1],V=M[2],$=M[3];return new p(U,V).append($)}throw new Error(`Resource name '${q}' is not valid.`)}append(q){return super.append(q)}parent(){return super.parent()}get formattedName(){return["projects",this.projectId,"databases",this.databaseId,"documents",...this.segments].join("/")}construct(q){return new p(this.projectId,this.databaseId,...q)}toQualifiedResourcePath(){return this}compareTo(q){if(q instanceof p){if(this.projectId<q.projectId)return-1;if(this.projectId>q.projectId)return 1;if(this.databaseId<q.databaseId)return-1;if(this.databaseId>q.databaseId)return 1}return super.compareTo(q)}toProto(){return{referenceValue:this.formattedName}}}path.QualifiedResourcePath=p;function g(D,L){if(typeof L!="string"||L==="")throw new Error(`${(0,d.invalidArgumentMessage)(D,"resource path")} Path must be a non-empty string.`);if(L.indexOf("//")>=0)throw new Error(`${(0,d.invalidArgumentMessage)(D,"resource path")} Paths must not contain //.`)}const N=class N extends E{constructor(...L){if(Array.isArray(L[0]))throw new Error("The FieldPath constructor no longer supports an array as its first argument. Please unpack your array and call FieldPath() with individual arguments.");(0,d.validateMinNumberOfArguments)("FieldPath",L,1);for(let q=0;q<L.length;++q)if((0,d.validateString)(q,L[q]),L[q].length===0)throw new Error(`Element at index ${q} should not be an empty string.`);super(L)}static documentId(){return N._DOCUMENT_ID}static fromArgument(L){return L instanceof N?L:new N(...L.split("."))}get formattedName(){return this.segments.map(L=>O.test(L)?L:"`"+L.replace(/\\/g,"\\\\").replace(/`/g,"\\`")+"`").join(".")}toString(){return this.formattedName}split(L){return L.split(".")}construct(L){return new N(...L)}isEqual(L){return super.isEqual(L)}};ce(N,"_DOCUMENT_ID",new N("__name__"));let w=N;path.FieldPath=w;function R(D,L){if(!(L instanceof w)){if(L===void 0)throw new Error((0,d.invalidArgumentMessage)(D,"field path")+" The path cannot be omitted.");if((0,u.isObject)(L)&&L.constructor.name==="FieldPath")throw new Error((0,d.customObjectMessage)(D,L));if(typeof L!="string")throw new Error(`${(0,d.invalidArgumentMessage)(D,"field path")} Paths can only be specified as strings or via a FieldPath object.`);if(L.indexOf("..")>=0)throw new Error(`${(0,d.invalidArgumentMessage)(D,"field path")} Paths must not contain ".." in them.`);if(L.startsWith(".")||L.endsWith("."))throw new Error(`${(0,d.invalidArgumentMessage)(D,"field path")} Paths must not start or end with ".".`);if(!T.test(L))throw new Error(`${(0,d.invalidArgumentMessage)(D,"field path")} Paths can't be empty and must not contain
    "*~/[]".`)}}return path}var hasRequiredSerializer;function requireSerializer(){if(hasRequiredSerializer)return serializer;hasRequiredSerializer=1;/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(serializer,"__esModule",{value:!0}),serializer.Serializer=void 0,serializer.validateUserInput=R;const c=requireFieldValue(),u=requireConvert(),d=requireGeoPoint(),y=requireSrc(),O=requirePath(),T=requireTimestamp(),E=requireUtil(),v=requireValidate(),p=requireMapType(),g=20;class w{constructor(D){ce(this,"allowUndefined");ce(this,"createReference");ce(this,"createInteger");this.createReference=L=>D.doc(L),this.createInteger=L=>D._settings.useBigInt?BigInt(L):Number(L),this.allowUndefined=!!D._settings.ignoreUndefinedProperties}encodeFields(D){const L={};for(const q of Object.keys(D)){const M=this.encodeValue(D[q]);M&&(L[q]=M)}return L}encodeValue(D){if(D instanceof c.FieldTransform)return null;if(typeof D=="string")return{stringValue:D};if(typeof D=="boolean")return{booleanValue:D};if(typeof D=="number"){const L=D===0&&1/D===-1/0;return Number.isSafeInteger(D)&&!L?{integerValue:D}:{doubleValue:D}}if(typeof D=="bigint")return{integerValue:D.toString()};if(D instanceof Date){const L=T.Timestamp.fromDate(D);return{timestampValue:{seconds:L.seconds,nanos:L.nanoseconds}}}if(C(D)){const L=T.Timestamp.fromDate(D.toDate());return{timestampValue:{seconds:L.seconds,nanos:L.nanoseconds}}}if(D===null)return{nullValue:"NULL_VALUE"};if(D instanceof Buffer||D instanceof Uint8Array)return{bytesValue:D};if(D instanceof c.VectorValue)return D._toProto(this);if((0,E.isObject)(D)){const L=D.toProto;if(typeof L=="function")return L.bind(D)()}if(Array.isArray(D)){const L={arrayValue:{}};if(D.length>0){L.arrayValue.values=[];for(let q=0;q<D.length;++q){const M=this.encodeValue(D[q]);M&&L.arrayValue.values.push(M)}}return L}if(typeof D=="object"&&(0,E.isPlainObject)(D)){const L={mapValue:{}};return!(0,E.isEmpty)(D)&&(L.mapValue.fields=this.encodeFields(D),(0,E.isEmpty)(L.mapValue.fields))?null:L}if(D===void 0&&this.allowUndefined)return null;throw new Error(`Cannot encode value: ${D}`)}encodeVector(D){return{mapValue:{fields:{[p.RESERVED_MAP_KEY]:{stringValue:p.RESERVED_MAP_KEY_VECTOR_VALUE},[p.VECTOR_MAP_VECTORS_KEY]:{arrayValue:{values:D.map(L=>({doubleValue:L}))}}}}}}decodeValue(D){switch((0,u.detectValueType)(D)){case"stringValue":return D.stringValue;case"booleanValue":return D.booleanValue;case"integerValue":return this.createInteger(D.integerValue);case"doubleValue":return D.doubleValue;case"timestampValue":return T.Timestamp.fromProto(D.timestampValue);case"referenceValue":{const q=O.QualifiedResourcePath.fromSlashSeparatedString(D.referenceValue);return this.createReference(q.relativeName)}case"arrayValue":{const q=[];if(Array.isArray(D.arrayValue.values))for(const M of D.arrayValue.values)q.push(this.decodeValue(M));return q}case"nullValue":return null;case"mapValue":{const q=D.mapValue.fields;if(q){const M={};for(const U of Object.keys(q))M[U]=this.decodeValue(q[U]);return M}else return{}}case"vectorValue":{const q=D.mapValue.fields;return c.VectorValue._fromProto(q[p.VECTOR_MAP_VECTORS_KEY])}case"geoPointValue":return d.GeoPoint.fromProto(D.geoPointValue);case"bytesValue":return D.bytesValue;default:throw new Error("Cannot decode type from Firestore Value: "+JSON.stringify(D))}}decodeGoogleProtobufValue(D){switch((0,u.detectGoogleProtobufValueType)(D)){case"nullValue":return null;case"numberValue":return D.numberValue;case"stringValue":return D.stringValue;case"boolValue":return D.boolValue;case"listValue":return this.decodeGoogleProtobufList(D.listValue);case"structValue":return this.decodeGoogleProtobufStruct(D.structValue);default:throw new Error("Cannot decode type from google.protobuf.Value: "+JSON.stringify(D))}}decodeGoogleProtobufList(D){const L=[];if(D&&D.values&&Array.isArray(D.values))for(const q of D.values)L.push(this.decodeGoogleProtobufValue(q));return L}decodeGoogleProtobufStruct(D){const L={};if(D&&D.fields)for(const q of Object.keys(D.fields))L[q]=this.decodeGoogleProtobufValue(D.fields[q]);return L}}serializer.Serializer=w;function R(N,D,L,q,M,U,V){if(M&&M.size-1>g)throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} Input object is deeper than ${g} levels or contains a cycle.`);U=U||0,V=V||!1;const $=M?` (found in field "${M}")`:"";if(Array.isArray(D))for(let z=0;z<D.length;++z)R(N,D[z],L,q,M?M.append(String(z)):new O.FieldPath(String(z)),U+1,!0);else if((0,E.isPlainObject)(D))for(const z of Object.keys(D))R(N,D[z],L,q,M?M.append(new O.FieldPath(z)):new O.FieldPath(z),U+1,V);else if(D===void 0){if(q.allowUndefined&&U===0)throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} "undefined" values are only ignored inside of objects.`);if(!q.allowUndefined)throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} Cannot use "undefined" as a Firestore value${$}. If you want to ignore undefined values, enable \`ignoreUndefinedProperties\`.`)}else if(!(D instanceof c.VectorValue))if(D instanceof c.DeleteTransform){if(V)throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} ${D.methodName}() cannot be used inside of an array${$}.`);if(q.allowDeletes==="none")throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} ${D.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${$}.`);if(q.allowDeletes==="root"&&U!==0){if(!(U===1&&(M==null?void 0:M.size)===1))throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} ${D.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${$}.`)}}else if(D instanceof c.FieldTransform){if(V)throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} ${D.methodName}() cannot be used inside of an array${$}.`);if(!q.allowTransforms)throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} ${D.methodName}() can only be used in set(), create() or update()${$}.`)}else{if(D instanceof O.FieldPath)throw new Error(`${(0,v.invalidArgumentMessage)(N,L)} Cannot use object of type "FieldPath" as a Firestore value${$}.`);if(!(D instanceof y.DocumentReference)){if(!(D instanceof d.GeoPoint)){if(!(D instanceof T.Timestamp||D instanceof Date)){if(!C(D)){if(!(D instanceof Buffer||D instanceof Uint8Array)){if(D!==null){if(typeof D=="object")throw new Error((0,v.customObjectMessage)(N,D,M))}}}}}}}}function C(N){return typeof N=="object"&&N!==null&&N.constructor&&N.constructor.name==="Moment"&&typeof N.toDate=="function"}return serializer}var hasRequiredFieldValue;function requireFieldValue(){if(hasRequiredFieldValue)return fieldValue;hasRequiredFieldValue=1;/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(fieldValue,"__esModule",{value:!0}),fieldValue.DeleteTransform=fieldValue.FieldTransform=fieldValue.FieldValue=fieldValue.VectorValue=void 0;const c=requireFastDeepEqual(),u=requireSerializer(),d=requireUtil(),y=requireValidate();class O{constructor(q){ce(this,"_values");this._values=(q||[]).map(M=>M)}toArray(){return this._values.map(q=>q)}_toProto(q){return q.encodeVector(this._values)}static _fromProto(q){var U,V;const M=(V=(U=q.arrayValue)==null?void 0:U.values)==null?void 0:V.map($=>$.doubleValue);return new O(M)}isEqual(q){return(0,d.isPrimitiveArrayEqual)(this._values,q._values)}}fieldValue.VectorValue=O;class T{constructor(){}static vector(q){return new O(q)}static delete(){return v.DELETE_SENTINEL}static serverTimestamp(){return p.SERVER_TIMESTAMP_SENTINEL}static increment(q){return(0,y.validateMinNumberOfArguments)("FieldValue.increment",arguments,1),new g(q)}static arrayUnion(...q){return(0,y.validateMinNumberOfArguments)("FieldValue.arrayUnion",q,1),new w(q)}static arrayRemove(...q){return(0,y.validateMinNumberOfArguments)("FieldValue.arrayRemove",q,1),new R(q)}isEqual(q){return this===q}}fieldValue.FieldValue=T;class E extends T{}fieldValue.FieldTransform=E;const N=class N extends E{constructor(){super()}get includeInDocumentMask(){return!0}get includeInDocumentTransform(){return!1}get methodName(){return"FieldValue.delete"}validate(){}toProto(){throw new Error("FieldValue.delete() should not be included in a FieldTransform")}};ce(N,"DELETE_SENTINEL",new N);let v=N;fieldValue.DeleteTransform=v;const D=class D extends E{constructor(){super()}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.serverTimestamp"}validate(){}toProto(q,M){return{fieldPath:M.formattedName,setToServerValue:"REQUEST_TIME"}}};ce(D,"SERVER_TIMESTAMP_SENTINEL",new D);let p=D;class g extends E{constructor(M){super();ce(this,"operand");this.operand=M}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.increment"}validate(){(0,y.validateNumber)("FieldValue.increment()",this.operand)}toProto(M,U){const V=M.encodeValue(this.operand);return{fieldPath:U.formattedName,increment:V}}isEqual(M){return this===M||M instanceof g&&this.operand===M.operand}}class w extends E{constructor(M){super();ce(this,"elements");this.elements=M}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayUnion"}validate(M){for(let U=0;U<this.elements.length;++U)C(U,this.elements[U],M)}toProto(M,U){const V=M.encodeValue(this.elements).arrayValue;return{fieldPath:U.formattedName,appendMissingElements:V}}isEqual(M){return this===M||M instanceof w&&c(this.elements,M.elements)}}class R extends E{constructor(M){super();ce(this,"elements");this.elements=M}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayRemove"}validate(M){for(let U=0;U<this.elements.length;++U)C(U,this.elements[U],M)}toProto(M,U){const V=M.encodeValue(this.elements).arrayValue;return{fieldPath:U.formattedName,removeAllFromArray:V}}isEqual(M){return this===M||M instanceof R&&c(this.elements,M.elements)}}function C(L,q,M){if(Array.isArray(q))throw new Error(`${(0,y.invalidArgumentMessage)(L,"array element")} Nested arrays are not supported.`);(0,u.validateUserInput)(L,q,"array element",{allowDeletes:"none",allowTransforms:!1,allowUndefined:M},void 0,0,!0)}return fieldValue}var documentReference={},types$1={},hasRequiredTypes$1;function requireTypes$1(){if(hasRequiredTypes$1)return types$1;hasRequiredTypes$1=1;/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(types$1,"__esModule",{value:!0}),types$1.defaultConverter=u;const c={toFirestore(d){return d},fromFirestore(d){return d.data()}};function u(){return c}return types$1}var collectionReference={},query={},queryUtil={},documentChange={},hasRequiredDocumentChange;function requireDocumentChange(){if(hasRequiredDocumentChange)return documentChange;hasRequiredDocumentChange=1;/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(documentChange,"__esModule",{value:!0}),documentChange.DocumentChange=void 0;class c{constructor(d,y,O,T){ce(this,"_type");ce(this,"_document");ce(this,"_oldIndex");ce(this,"_newIndex");this._type=d,this._document=y,this._oldIndex=O,this._newIndex=T}get type(){return this._type}get doc(){return this._document}get oldIndex(){return this._oldIndex}get newIndex(){return this._newIndex}isEqual(d){return this===d?!0:d instanceof c&&this._type===d._type&&this._oldIndex===d._oldIndex&&this._newIndex===d._newIndex&&this._document.isEqual(d._document)}}return documentChange.DocumentChange=c,documentChange}var queryProfile={},hasRequiredQueryProfile;function requireQueryProfile(){if(hasRequiredQueryProfile)return queryProfile;hasRequiredQueryProfile=1;/*!
 * Copyright 2024 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(queryProfile,"__esModule",{value:!0}),queryProfile.ExplainResults=queryProfile.ExplainMetrics=queryProfile.ExecutionStats=queryProfile.PlanSummary=void 0;class c{constructor(T){ce(this,"indexesUsed");this.indexesUsed=T}static _fromProto(T,E){const v=[];if(T&&T.indexesUsed)for(const p of T.indexesUsed)v.push(E.decodeGoogleProtobufStruct(p));return new c(v)}}queryProfile.PlanSummary=c;class u{constructor(T,E,v,p){ce(this,"resultsReturned");ce(this,"executionDuration");ce(this,"readOperations");ce(this,"debugStats");this.resultsReturned=T,this.executionDuration=E,this.readOperations=v,this.debugStats=p}static _fromProto(T,E){var v,p;return T?new u(Number(T.resultsReturned),{seconds:Number((v=T.executionDuration)==null?void 0:v.seconds),nanoseconds:Number((p=T.executionDuration)==null?void 0:p.nanos)},Number(T.readOperations),E.decodeGoogleProtobufStruct(T.debugStats)):null}}queryProfile.ExecutionStats=u;class d{constructor(T,E){ce(this,"planSummary");ce(this,"executionStats");this.planSummary=T,this.executionStats=E}static _fromProto(T,E){return new d(c._fromProto(T.planSummary,E),u._fromProto(T.executionStats,E))}}queryProfile.ExplainMetrics=d;class y{constructor(T,E){ce(this,"metrics");ce(this,"snapshot");this.metrics=T,this.snapshot=E}}return queryProfile.ExplainResults=y,queryProfile}var vectorQuery={},vectorQuerySnapshot={},hasRequiredVectorQuerySnapshot;function requireVectorQuerySnapshot(){if(hasRequiredVectorQuerySnapshot)return vectorQuerySnapshot;hasRequiredVectorQuerySnapshot=1,Object.defineProperty(vectorQuerySnapshot,"__esModule",{value:!0}),vectorQuerySnapshot.VectorQuerySnapshot=void 0;const c=requireValidate(),u=requireUtil();class d{constructor(O,T,E,v,p){ce(this,"_query");ce(this,"_readTime");ce(this,"_size");ce(this,"_materializedDocs",null);ce(this,"_materializedChanges",null);ce(this,"_docs",null);ce(this,"_changes",null);this._query=O,this._readTime=T,this._size=E,this._docs=v,this._changes=p}get query(){return this._query}get docs(){return this._materializedDocs?this._materializedDocs:(this._materializedDocs=this._docs(),this._docs=null,this._materializedDocs)}get empty(){return this._size===0}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges?this._materializedChanges:(this._materializedChanges=this._changes(),this._changes=null,this._materializedChanges)}forEach(O,T){(0,c.validateFunction)("callback",O);for(const E of this.docs)O.call(T,E)}isEqual(O){return this===O?!0:!(O instanceof d)||this._size!==O._size||!this._query.isEqual(O._query)?!1:this._materializedDocs&&!this._materializedChanges?(0,u.isArrayEqual)(this.docs,O.docs)&&(0,u.isArrayEqual)(this.docChanges(),O.docChanges()):(0,u.isArrayEqual)(this.docChanges(),O.docChanges())&&(0,u.isArrayEqual)(this.docs,O.docs)}}return vectorQuerySnapshot.VectorQuerySnapshot=d,vectorQuerySnapshot}var hasRequiredVectorQuery;function requireVectorQuery(){if(hasRequiredVectorQuery)return vectorQuery;hasRequiredVectorQuery=1,Object.defineProperty(vectorQuery,"__esModule",{value:!0}),vectorQuery.VectorQuery=void 0;const c=requireFieldValue(),u=requirePath(),d=requireUtil(),y=requireQueryUtil(),O=requireVectorQuerySnapshot(),T=requireQueryProfile();class E{constructor(p,g){ce(this,"_query");ce(this,"_options");ce(this,"_queryUtil");this._query=p,this._options=g,this._queryUtil=new y.QueryUtil(p._firestore,p._queryOptions,p._serializer)}get query(){return this._query}get _rawVectorField(){return typeof this._options.vectorField=="string"?this._options.vectorField:this._options.vectorField.toString()}get _rawDistanceResultField(){if(!(typeof this._options.distanceResultField>"u"))return typeof this._options.distanceResultField=="string"?this._options.distanceResultField:this._options.distanceResultField.toString()}get _rawQueryVector(){return Array.isArray(this._options.queryVector)?this._options.queryVector:this._options.queryVector.toArray()}async explain(p){p===void 0&&(p={});const{result:g,explainMetrics:w}=await this._getResponse(p);if(!w)throw new Error("No explain results");return new T.ExplainResults(w,g||null)}async get(){const{result:p}=await this._getResponse();if(!p)throw new Error("No VectorQuerySnapshot result");return p}_getResponse(p){return this._queryUtil._getResponse(this,void 0,!1,p)}_stream(p){return this._queryUtil._stream(this,p,!1)}toProto(p,g){var C,N,D;const w=this._query.toProto(p),R=Array.isArray(this._options.queryVector)?new c.VectorValue(this._options.queryVector):this._options.queryVector;return w.structuredQuery.findNearest={limit:{value:this._options.limit},distanceMeasure:this._options.distanceMeasure,vectorField:{fieldPath:u.FieldPath.fromArgument(this._options.vectorField).formattedName},queryVector:R._toProto(this._query._serializer),distanceResultField:(C=this._options)!=null&&C.distanceResultField?u.FieldPath.fromArgument(this._options.distanceResultField).formattedName:void 0,distanceThreshold:(N=this._options)!=null&&N.distanceThreshold?{value:(D=this._options)==null?void 0:D.distanceThreshold}:void 0},g&&(w.explainOptions=g),w}_createSnapshot(p,g,w,R){return new O.VectorQuerySnapshot(this,p,g,w,R)}startAfter(...p){throw new Error("Unimplemented: Vector query does not support cursors yet.")}isEqual(p){return this===p?!0:!(p instanceof E)||!this.query.isEqual(p.query)?!1:this._rawVectorField===p._rawVectorField&&(0,d.isPrimitiveArrayEqual)(this._rawQueryVector,p._rawQueryVector)&&this._options.limit===p._options.limit&&this._options.distanceMeasure===p._options.distanceMeasure&&this._options.distanceThreshold===p._options.distanceThreshold&&this._rawDistanceResultField===p._rawDistanceResultField}}return vectorQuery.VectorQuery=E,vectorQuery}var types={},hasRequiredTypes;function requireTypes(){if(hasRequiredTypes)return types;hasRequiredTypes=1,Object.defineProperty(types,"__esModule",{value:!0}),types.LimitType=void 0;/*!
 * Denotes whether a provided limit is applied to the beginning or the end of
 * the result set.
 */var c;return(function(u){u[u.First=0]="First",u[u.Last=1]="Last"})(c||(types.LimitType=c={})),types}var constants={},hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.NOOP_MESSAGE=constants.comparisonOperators=constants.directionOperators=void 0,constants.directionOperators={asc:"ASCENDING",desc:"DESCENDING"},constants.comparisonOperators={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},constants.NOOP_MESSAGE=Symbol("a noop message")),constants}var traceUtil={},hasRequiredTraceUtil;function requireTraceUtil(){return hasRequiredTraceUtil||(hasRequiredTraceUtil=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.ATTRIBUTE_KEY_ATTEMPTS_REMAINING=c.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED=c.ATTRIBUTE_KEY_TRANSACTION_TYPE=c.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR=c.ATTRIBUTE_KEY_NUM_RESPONSES=c.ATTRIBUTE_KEY_IS_TRANSACTIONAL=c.ATTRIBUTE_KEY_DOC_COUNT=c.ATTRIBUTE_SETTINGS_PREFIX=c.ATTRIBUTE_SERVICE_PREFIX=c.SPAN_NAME_BULK_WRITER_COMMIT=c.SPAN_NAME_PARTITION_QUERY=c.SPAN_NAME_BATCH_COMMIT=c.SPAN_NAME_TRANSACTION_COMMIT=c.SPAN_NAME_TRANSACTION_ROLLBACK=c.SPAN_NAME_TRANSACTION_GET_DOCUMENTS=c.SPAN_NAME_TRANSACTION_GET_DOCUMENT=c.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY=c.SPAN_NAME_TRANSACTION_GET_QUERY=c.SPAN_NAME_TRANSACTION_RUN=c.SPAN_NAME_AGGREGATION_QUERY_GET=c.SPAN_NAME_QUERY_GET=c.SPAN_NAME_COL_REF_LIST_DOCUMENTS=c.SPAN_NAME_COL_REF_ADD=c.SPAN_NAME_DOC_REF_LIST_COLLECTIONS=c.SPAN_NAME_DOC_REF_GET=c.SPAN_NAME_DOC_REF_DELETE=c.SPAN_NAME_DOC_REF_UPDATE=c.SPAN_NAME_DOC_REF_SET=c.SPAN_NAME_DOC_REF_CREATE=c.SPAN_NAME_RUN_AGGREGATION_QUERY=c.SPAN_NAME_RUN_QUERY=c.SPAN_NAME_BATCH_GET_DOCUMENTS=c.SERVICE=void 0,c.SERVICE="google.firestore.v1.Firestore/",c.SPAN_NAME_BATCH_GET_DOCUMENTS="BatchGetDocuments",c.SPAN_NAME_RUN_QUERY="RunQuery",c.SPAN_NAME_RUN_AGGREGATION_QUERY="RunAggregationQuery",c.SPAN_NAME_DOC_REF_CREATE="DocumentReference.Create",c.SPAN_NAME_DOC_REF_SET="DocumentReference.Set",c.SPAN_NAME_DOC_REF_UPDATE="DocumentReference.Update",c.SPAN_NAME_DOC_REF_DELETE="DocumentReference.Delete",c.SPAN_NAME_DOC_REF_GET="DocumentReference.Get",c.SPAN_NAME_DOC_REF_LIST_COLLECTIONS="DocumentReference.ListCollections",c.SPAN_NAME_COL_REF_ADD="CollectionReference.Add",c.SPAN_NAME_COL_REF_LIST_DOCUMENTS="CollectionReference.ListDocuments",c.SPAN_NAME_QUERY_GET="Query.Get",c.SPAN_NAME_AGGREGATION_QUERY_GET="AggregationQuery.Get",c.SPAN_NAME_TRANSACTION_RUN="Transaction.Run",c.SPAN_NAME_TRANSACTION_GET_QUERY="Transaction.Get.Query",c.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY="Transaction.Get.AggregationQuery",c.SPAN_NAME_TRANSACTION_GET_DOCUMENT="Transaction.Get.Document",c.SPAN_NAME_TRANSACTION_GET_DOCUMENTS="Transaction.Get.Documents",c.SPAN_NAME_TRANSACTION_ROLLBACK="Transaction.Rollback",c.SPAN_NAME_TRANSACTION_COMMIT="Transaction.Commit",c.SPAN_NAME_BATCH_COMMIT="Batch.Commit",c.SPAN_NAME_PARTITION_QUERY="PartitionQuery",c.SPAN_NAME_BULK_WRITER_COMMIT="BulkWriter.Commit",c.ATTRIBUTE_SERVICE_PREFIX="gcp.firestore",c.ATTRIBUTE_SETTINGS_PREFIX=`${c.ATTRIBUTE_SERVICE_PREFIX}.settings`,c.ATTRIBUTE_KEY_DOC_COUNT="doc_count",c.ATTRIBUTE_KEY_IS_TRANSACTIONAL="transactional",c.ATTRIBUTE_KEY_NUM_RESPONSES="response_count",c.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR="retry_query_with_cursor",c.ATTRIBUTE_KEY_TRANSACTION_TYPE="transaction_type",c.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED="attempts_allowed",c.ATTRIBUTE_KEY_ATTEMPTS_REMAINING="attempts_remaining"})(traceUtil)),traceUtil}var hasRequiredQueryUtil;function requireQueryUtil(){if(hasRequiredQueryUtil)return queryUtil;hasRequiredQueryUtil=1,Object.defineProperty(queryUtil,"__esModule",{value:!0}),queryUtil.QueryUtil=void 0;const c=require$$0$6,u=requireTimestamp(),d=requireDocument(),y=requireUtil(),O=requireDocumentChange(),T=requireQueryProfile(),E=requireLogger(),v=requireVectorQuery(),p=requireTypes(),g=requireConstants(),w=requireTraceUtil();class R{constructor(N,D,L){ce(this,"_firestore");ce(this,"_queryOptions");ce(this,"_serializer");this._firestore=N,this._queryOptions=D,this._serializer=L}_getResponse(N,D,L=!0,q){const M=Error().stack;return new Promise((U,V)=>{const $=[],z={};this._stream(N,D,L,q).on("error",W=>{V((0,y.wrapError)(W,M))}).on("data",W=>{W.transaction&&(z.transaction=W.transaction),W.readTime&&(z.readTime=W.readTime),W.explainMetrics&&(z.explainMetrics=W.explainMetrics),W.document&&$.push(W.document)}).on("end",()=>{this._queryOptions.limitType===p.LimitType.Last&&$.reverse();const W=z.readTime?N._createSnapshot(z.readTime,$.length,()=>$,()=>{const J=[];for(let Y=0;Y<$.length;++Y)J.push(new O.DocumentChange("added",$[Y],-1,Y));return J}):void 0;U({transaction:z.transaction,explainMetrics:z.explainMetrics,result:W})})})}_isPermanentRpcError(N,D){return(0,y.isPermanentRpcError)(N,D)}_hasRetryTimedOut(N,D){const L=(0,y.getTotalTimeout)(N);return L===0?!1:Date.now()-D>=L}stream(N){if(this._queryOptions.limitType===p.LimitType.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.get() instead.");const D=this._stream(N),L=new c.Transform({objectMode:!0,transform(q,M,U){U(void 0,q.document)}});return D.pipe(L),D.on("error",q=>L.destroy(q)),L}_stream(N,D,L=!0,q){const M=(0,y.requestTag)(),U=Date.now(),V=q!==void 0,$="runQuery";let z=0,W=null,J;const Y=new c.Transform({objectMode:!0,transform:(Q,H,te)=>{var oe;if(Q===g.NOOP_MESSAGE){te(void 0);return}const ne={};if((oe=Q.transaction)!=null&&oe.length&&(ne.transaction=Q.transaction),Q.readTime&&(ne.readTime=u.Timestamp.fromProto(Q.readTime)),Q.document){const ie=this._firestore.snapshot_(Q.document,Q.readTime),ee=new d.DocumentSnapshotBuilder(ie.ref.withConverter(this._queryOptions.converter));ee.fieldsProto=ie._fieldsProto,ee.readTime=ie.readTime,ee.createTime=ie.createTime,ee.updateTime=ie.updateTime,W=ee.build(),ne.document=W}Q.explainMetrics&&(ne.explainMetrics=T.ExplainMetrics._fromProto(Q.explainMetrics,this._serializer)),++z,te(void 0,ne),Q.done&&((0,E.logger)("QueryUtil._stream",M,"Trigger Logical Termination."),this._firestore._traceUtil.currentSpan().addEvent(`Firestore.${$}: Received RunQueryResponse.Done.`),J.unpipe(Y),J.resume(),J.end(),Y.end())}});return this._firestore.initializeIfNeeded(M).then(async()=>{let Q=N.toProto(D,q),H=!1,te;do te=new y.Deferred,this._firestore._traceUtil.currentSpan().addEvent(w.SPAN_NAME_RUN_QUERY,{[w.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!!Q.transaction,[w.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR]:H}),J=await this._firestore.requestStream($,!1,Q,M),J.on("error",ne=>{J.unpipe(Y),!V&&!D&&!this._isPermanentRpcError(ne,$)?((0,E.logger)("QueryUtil._stream",M,"Query failed with retryable stream error:",ne),this._firestore._traceUtil.currentSpan().addEvent(`${w.SPAN_NAME_RUN_QUERY}: Retryable Error.`,{"error.message":ne.message}),Y.write(g.NOOP_MESSAGE,()=>{if(this._hasRetryTimedOut($,U))(0,E.logger)("QueryUtil._stream",M,"Query failed with retryable stream error but the total retry timeout has exceeded."),Y.destroy(ne),te.resolve(!1);else if(W&&L){if(N instanceof v.VectorQuery)throw new Error("Unimplemented: Vector query does not support cursors yet.");(0,E.logger)("Query._stream",M,"Query failed with retryable stream error and progress was made receiving documents, so the stream is being retried."),H=!0;let oe;if(!this._queryOptions.limit)oe=N;else{const ie=this._queryOptions.limit-z;this._queryOptions.limitType===void 0||this._queryOptions.limitType===p.LimitType.First?oe=N.limit(ie):oe=N.limitToLast(ie)}this._queryOptions.requireConsistency?Q=oe.startAfter(W).toProto(W.readTime):Q=oe.startAfter(W).toProto(),W=null,te.resolve(!0)}else(0,E.logger)("QueryUtil._stream",M,`Query failed with retryable stream error however either retryWithCursor="${L}", or no progress was made receiving documents, so the stream is being closed.`),Y.destroy(ne),te.resolve(!1)})):((0,E.logger)("QueryUtil._stream",M,"Query failed with stream error:",ne),this._firestore._traceUtil.currentSpan().addEvent(`${w.SPAN_NAME_RUN_QUERY}: Error.`,{"error.message":ne.message}),Y.destroy(ne),te.resolve(!1))}),J.on("end",()=>{te.resolve(!1)}),J.resume(),J.pipe(Y);while(await te.promise)}).catch(Q=>Y.destroy(Q)),Y}}return queryUtil.QueryUtil=R,queryUtil}var fieldOrder={},hasRequiredFieldOrder;function requireFieldOrder(){if(hasRequiredFieldOrder)return fieldOrder;hasRequiredFieldOrder=1,Object.defineProperty(fieldOrder,"__esModule",{value:!0}),fieldOrder.FieldOrder=void 0;class c{constructor(d,y="ASCENDING"){ce(this,"field");ce(this,"direction");this.field=d,this.direction=y}toProto(){return{field:{fieldPath:this.field.formattedName},direction:this.direction}}}return fieldOrder.FieldOrder=c,fieldOrder}var fieldFilterInternal={},filterInternal={},hasRequiredFilterInternal;function requireFilterInternal(){if(hasRequiredFilterInternal)return filterInternal;hasRequiredFilterInternal=1,Object.defineProperty(filterInternal,"__esModule",{value:!0}),filterInternal.FilterInternal=void 0;class c{}return filterInternal.FilterInternal=c,filterInternal}var hasRequiredFieldFilterInternal;function requireFieldFilterInternal(){if(hasRequiredFieldFilterInternal)return fieldFilterInternal;hasRequiredFieldFilterInternal=1,Object.defineProperty(fieldFilterInternal,"__esModule",{value:!0}),fieldFilterInternal.FieldFilterInternal=void 0;const c=requireFastDeepEqual(),u=requireFilterInternal();class d extends u.FilterInternal{constructor(T,E,v,p){super();ce(this,"serializer");ce(this,"field");ce(this,"op");ce(this,"value");this.serializer=T,this.field=E,this.op=v,this.value=p}getFlattenedFilters(){return[this]}getFilters(){return[this]}isInequalityFilter(){switch(this.op){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":case"NOT_EQUAL":case"NOT_IN":return!0;default:return!1}}toProto(){return typeof this.value=="number"&&isNaN(this.value)?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:this.op==="EQUAL"?"IS_NAN":"IS_NOT_NAN"}}:this.value===null?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:this.op==="EQUAL"?"IS_NULL":"IS_NOT_NULL"}}:{fieldFilter:{field:{fieldPath:this.field.formattedName},op:this.op,value:this.serializer.encodeValue(this.value)}}}isEqual(T){return T instanceof d&&this.field.isEqual(T.field)&&this.op===T.op&&c(this.value,T.value)}}return fieldFilterInternal.FieldFilterInternal=d,fieldFilterInternal}var compositeFilterInternal={},hasRequiredCompositeFilterInternal;function requireCompositeFilterInternal(){if(hasRequiredCompositeFilterInternal)return compositeFilterInternal;hasRequiredCompositeFilterInternal=1,Object.defineProperty(compositeFilterInternal,"__esModule",{value:!0}),compositeFilterInternal.CompositeFilterInternal=void 0;const c=requireFilterInternal();class u extends c.FilterInternal{constructor(O,T){super();ce(this,"filters");ce(this,"operator");ce(this,"memoizedFlattenedFilters",null);this.filters=O,this.operator=T}getFilters(){return this.filters}isConjunction(){return this.operator==="AND"}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((O,T)=>O.concat(T.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}toProto(){return this.filters.length===1?this.filters[0].toProto():{compositeFilter:{op:this.operator,filters:this.filters.map(T=>T.toProto())}}}isEqual(O){if(O instanceof u){const T=O.getFilters();return this.operator===O.operator&&this.getFilters().length===O.getFilters().length&&this.getFilters().every((E,v)=>E.isEqual(T[v]))}else return!1}}return compositeFilterInternal.CompositeFilterInternal=u,compositeFilterInternal}var querySnapshot={},hasRequiredQuerySnapshot;function requireQuerySnapshot(){if(hasRequiredQuerySnapshot)return querySnapshot;hasRequiredQuerySnapshot=1,Object.defineProperty(querySnapshot,"__esModule",{value:!0}),querySnapshot.QuerySnapshot=void 0;const c=requireValidate(),u=requireUtil();class d{constructor(O,T,E,v,p){ce(this,"_query");ce(this,"_readTime");ce(this,"_size");ce(this,"_materializedDocs",null);ce(this,"_materializedChanges",null);ce(this,"_docs",null);ce(this,"_changes",null);this._query=O,this._readTime=T,this._size=E,this._docs=v,this._changes=p}get query(){return this._query}get docs(){return this._materializedDocs?this._materializedDocs:(this._materializedDocs=this._docs(),this._docs=null,this._materializedDocs)}get empty(){return this._size===0}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges?this._materializedChanges:(this._materializedChanges=this._changes(),this._changes=null,this._materializedChanges)}forEach(O,T){(0,c.validateFunction)("callback",O);for(const E of this.docs)O.call(T,E)}isEqual(O){return this===O?!0:!(O instanceof d)||this._size!==O._size||!this._query.isEqual(O._query)?!1:this._materializedDocs&&!this._materializedChanges?(0,u.isArrayEqual)(this.docs,O.docs)&&(0,u.isArrayEqual)(this.docChanges(),O.docChanges()):(0,u.isArrayEqual)(this.docChanges(),O.docChanges())&&(0,u.isArrayEqual)(this.docs,O.docs)}}return querySnapshot.QuerySnapshot=d,querySnapshot}var filter={},hasRequiredFilter;function requireFilter(){if(hasRequiredFilter)return filter;hasRequiredFilter=1;/*!
 * Copyright 2023 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(filter,"__esModule",{value:!0}),filter.CompositeFilter=filter.UnaryFilter=filter.Filter=void 0;class c{static where(O,T,E){return new u(O,T,E)}static or(...O){return new d(O,"OR")}static and(...O){return new d(O,"AND")}}filter.Filter=c;class u extends c{constructor(T,E,v){super();ce(this,"field");ce(this,"operator");ce(this,"value");this.field=T,this.operator=E,this.value=v}_getField(){return this.field}_getOperator(){return this.operator}_getValue(){return this.value}}filter.UnaryFilter=u;class d extends c{constructor(T,E){super();ce(this,"filters");ce(this,"operator");this.filters=T,this.operator=E}_getFilters(){return this.filters}_getOperator(){return this.operator}}return filter.CompositeFilter=d,filter}var helpers$1={},hasRequiredHelpers$1;function requireHelpers$1(){if(hasRequiredHelpers$1)return helpers$1;hasRequiredHelpers$1=1,Object.defineProperty(helpers$1,"__esModule",{value:!0}),helpers$1.validateQueryOrder=O,helpers$1.validateQueryOperator=T,helpers$1.validateDocumentReference=E,helpers$1.validateQueryValue=v,helpers$1.coalesce=p;const c=requireValidate(),u=requireSerializer(),d=requireDocumentReference(),y=requireConstants();function O(g,w){return w=typeof w=="string"?w.toLowerCase():w,(0,c.validateEnumValue)(g,w,Object.keys(y.directionOperators),{optional:!0}),w}function T(g,w,R){if(w==="="&&(w="=="),(0,c.validateEnumValue)(g,w,Object.keys(y.comparisonOperators)),typeof R=="number"&&isNaN(R)&&w!=="=="&&w!=="!=")throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on NaN.");if(R===null&&w!=="=="&&w!=="!=")throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on Null.");return w}function E(g,w){if(!(w instanceof d.DocumentReference))throw new Error((0,c.invalidArgumentMessage)(g,"DocumentReference"));return w}function v(g,w,R){(0,u.validateUserInput)(g,w,"query constraint",{allowDeletes:"none",allowTransforms:!1,allowUndefined:R})}function p(...g){return g.find(w=>w!==void 0)}return helpers$1}var aggregateQuery={},aggregate={},hasRequiredAggregate;function requireAggregate(){if(hasRequiredAggregate)return aggregate;hasRequiredAggregate=1,Object.defineProperty(aggregate,"__esModule",{value:!0}),aggregate.AggregateField=aggregate.Aggregate=void 0;const c=requirePath(),u=require$$0$d;class d{constructor(T,E,v){ce(this,"alias");ce(this,"aggregateType");ce(this,"fieldPath");this.alias=T,this.aggregateType=E,this.fieldPath=v}toProto(){const T={};if(this.aggregateType==="count")T.count={};else if(this.aggregateType==="sum")u(this.fieldPath!==void 0,"Missing field path for sum aggregation."),T.sum={field:{fieldPath:c.FieldPath.fromArgument(this.fieldPath).formattedName}};else if(this.aggregateType==="avg")u(this.fieldPath!==void 0,"Missing field path for average aggregation."),T.avg={field:{fieldPath:c.FieldPath.fromArgument(this.fieldPath).formattedName}};else throw new Error(`Aggregate type ${this.aggregateType} unimplemented.`);return T.alias=this.alias,T}}aggregate.Aggregate=d;class y{constructor(T,E){ce(this,"aggregateType");ce(this,"type","AggregateField");ce(this,"_field");this.aggregateType=T,this._field=E}isEqual(T){return T instanceof y&&this.aggregateType===T.aggregateType&&(this._field===void 0&&T._field===void 0||this._field!==void 0&&T._field!==void 0&&c.FieldPath.fromArgument(this._field).isEqual(c.FieldPath.fromArgument(T._field)))}static count(){return new y("count")}static average(T){return new y("avg",T)}static sum(T){return new y("sum",T)}}return aggregate.AggregateField=y,aggregate}var aggregateQuerySnapshot={},hasRequiredAggregateQuerySnapshot;function requireAggregateQuerySnapshot(){if(hasRequiredAggregateQuerySnapshot)return aggregateQuerySnapshot;hasRequiredAggregateQuerySnapshot=1,Object.defineProperty(aggregateQuerySnapshot,"__esModule",{value:!0}),aggregateQuerySnapshot.AggregateQuerySnapshot=void 0;const c=requireFastDeepEqual();class u{constructor(y,O,T){ce(this,"_query");ce(this,"_readTime");ce(this,"_data");this._query=y,this._readTime=O,this._data=T}get query(){return this._query}get readTime(){return this._readTime}data(){return this._data}isEqual(y){return this===y?!0:!(y instanceof u)||!this.query.isEqual(y.query)?!1:c(this._data,y._data)}}return aggregateQuerySnapshot.AggregateQuerySnapshot=u,aggregateQuerySnapshot}var hasRequiredAggregateQuery;function requireAggregateQuery(){if(hasRequiredAggregateQuery)return aggregateQuery;hasRequiredAggregateQuery=1,Object.defineProperty(aggregateQuery,"__esModule",{value:!0}),aggregateQuery.AggregateQuery=void 0;const c=require$$0$d,u=requireFastDeepEqual(),d=requireAggregate(),y=requireTimestamp(),O=requireUtil(),T=requireQueryProfile(),E=requireLogger(),v=requireAggregateQuerySnapshot(),p=require$$0$6,g=requireTraceUtil();class w{constructor(C,N){ce(this,"_query");ce(this,"_aggregates");ce(this,"clientAliasToServerAliasMap",{});ce(this,"serverAliasToClientAliasMap",{});this._query=C,this._aggregates=N;let D=0;for(const L in this._aggregates)if(Object.prototype.hasOwnProperty.call(this._aggregates,L)){const q=`aggregate_${D++}`;this.clientAliasToServerAliasMap[L]=q,this.serverAliasToClientAliasMap[q]=L}}get query(){return this._query}async get(){return this._query._firestore._traceUtil.startActiveSpan(g.SPAN_NAME_AGGREGATION_QUERY_GET,async()=>{const{result:C}=await this._get();return C})}async _get(C){const N=await this._getResponse(C);if(!N.result)throw new Error("No AggregateQuery results");return N}_getResponse(C,N){const D=Error().stack;return new Promise((L,q)=>{const M={},U=this._stream(C,N);U.on("error",V=>{q((0,O.wrapError)(V,D))}),U.on("data",V=>{V.transaction&&(M.transaction=V.transaction),V.explainMetrics&&(M.explainMetrics=V.explainMetrics),V.result&&(M.result=V.result)}),U.on("end",()=>{U.destroy(),L(M)})})}_stream(C,N){const D=(0,O.requestTag)(),L=this._query.firestore,q=new p.Transform({objectMode:!0,transform:(M,U,V)=>{var z;const $={};if((z=M.transaction)!=null&&z.length&&($.transaction=M.transaction),M.explainMetrics&&($.explainMetrics=T.ExplainMetrics._fromProto(M.explainMetrics,L._serializer)),M.result){const W=y.Timestamp.fromProto(M.readTime),J=this.decodeResult(M.result);$.result=new v.AggregateQuerySnapshot(this,W,J)}V(void 0,$)}});return L.initializeIfNeeded(D).then(async()=>{const M=this.toProto(C,N),U=await L.requestStream("runAggregationQuery",!1,M,D);q.on("close",()=>{U.resume(),U.end()}),U.on("error",V=>{U.unpipe(q),(0,E.logger)("AggregateQuery._stream",D,"AggregateQuery failed with stream error:",V),this._query._firestore._traceUtil.currentSpan().addEvent(`${g.SPAN_NAME_RUN_AGGREGATION_QUERY}: Error.`,{"error.message":V.message}),q.destroy(V)}),U.resume(),U.pipe(q)}).catch(M=>q.destroy(M)),q}decodeResult(C){const N={},D=C.aggregateFields;if(D){const L=this._query.firestore._serializer;for(const q of Object.keys(D)){const M=this.serverAliasToClientAliasMap[q];if(c(M!=null,`'${q}' not present in server-client alias mapping.`),this._aggregates[M]===void 0)throw new Error(`Unexpected alias [${q}] in result aggregate result`);N[M]=L.decodeValue(D[q])}}return N}toProto(C,N){const D=this._query.toProto(),L={parent:D.parent,structuredAggregationQuery:{structuredQuery:D.structuredQuery,aggregations:(0,O.mapToArray)(this._aggregates,(q,M)=>{const U=this.clientAliasToServerAliasMap[M];return c(U!=null,`'${M}' not present in client-server alias mapping.`),new d.Aggregate(U,q.aggregateType,q._field).toProto()})}};return C instanceof Uint8Array?L.transaction=C:C instanceof y.Timestamp?L.readTime=C.toProto().timestampValue:C&&(L.newTransaction=C),N&&(L.explainOptions=N),L}isEqual(C){return this===C?!0:!(C instanceof w)||!this.query.isEqual(C.query)?!1:u(this._aggregates,C._aggregates)}async explain(C){const{result:N,explainMetrics:D}=await this._getResponse(void 0,C||{});if(!D)throw new Error("No explain results");return new T.ExplainResults(D,N||null)}}return aggregateQuery.AggregateQuery=w,aggregateQuery}var watch={},rbtree,hasRequiredRbtree;function requireRbtree(){if(hasRequiredRbtree)return rbtree;hasRequiredRbtree=1,rbtree=q;var c=0,u=1;function d(M,U,V,$,z,W){this._color=M,this.key=U,this.value=V,this.left=$,this.right=z,this._count=W}function y(M){return new d(M._color,M.key,M.value,M.left,M.right,M._count)}function O(M,U){return new d(M,U.key,U.value,U.left,U.right,U._count)}function T(M){M._count=1+(M.left?M.left._count:0)+(M.right?M.right._count:0)}function E(M,U){this._compare=M,this.root=U}var v=E.prototype;Object.defineProperty(v,"keys",{get:function(){var M=[];return this.forEach(function(U,V){M.push(U)}),M}}),Object.defineProperty(v,"values",{get:function(){var M=[];return this.forEach(function(U,V){M.push(V)}),M}}),Object.defineProperty(v,"length",{get:function(){return this.root?this.root._count:0}}),v.insert=function(M,U){for(var V=this._compare,$=this.root,z=[],W=[];$;){var J=V(M,$.key);z.push($),W.push(J),J<=0?$=$.left:$=$.right}z.push(new d(c,M,U,null,null,1));for(var Y=z.length-2;Y>=0;--Y){var $=z[Y];W[Y]<=0?z[Y]=new d($._color,$.key,$.value,z[Y+1],$.right,$._count+1):z[Y]=new d($._color,$.key,$.value,$.left,z[Y+1],$._count+1)}for(var Y=z.length-1;Y>1;--Y){var Q=z[Y-1],$=z[Y];if(Q._color===u||$._color===u)break;var H=z[Y-2];if(H.left===Q)if(Q.left===$){var te=H.right;if(te&&te._color===c)Q._color=u,H.right=O(u,te),H._color=c,Y-=1;else{if(H._color=c,H.left=Q.right,Q._color=u,Q.right=H,z[Y-2]=Q,z[Y-1]=$,T(H),T(Q),Y>=3){var ne=z[Y-3];ne.left===H?ne.left=Q:ne.right=Q}break}}else{var te=H.right;if(te&&te._color===c)Q._color=u,H.right=O(u,te),H._color=c,Y-=1;else{if(Q.right=$.left,H._color=c,H.left=$.right,$._color=u,$.left=Q,$.right=H,z[Y-2]=$,z[Y-1]=Q,T(H),T(Q),T($),Y>=3){var ne=z[Y-3];ne.left===H?ne.left=$:ne.right=$}break}}else if(Q.right===$){var te=H.left;if(te&&te._color===c)Q._color=u,H.left=O(u,te),H._color=c,Y-=1;else{if(H._color=c,H.right=Q.left,Q._color=u,Q.left=H,z[Y-2]=Q,z[Y-1]=$,T(H),T(Q),Y>=3){var ne=z[Y-3];ne.right===H?ne.right=Q:ne.left=Q}break}}else{var te=H.left;if(te&&te._color===c)Q._color=u,H.left=O(u,te),H._color=c,Y-=1;else{if(Q.left=$.right,H._color=c,H.right=$.left,$._color=u,$.right=Q,$.left=H,z[Y-2]=$,z[Y-1]=Q,T(H),T(Q),T($),Y>=3){var ne=z[Y-3];ne.right===H?ne.right=$:ne.left=$}break}}}return z[0]._color=u,new E(V,z[0])};function p(M,U){if(U.left){var V=p(M,U.left);if(V)return V}var V=M(U.key,U.value);if(V)return V;if(U.right)return p(M,U.right)}function g(M,U,V,$){var z=U(M,$.key);if(z<=0){if($.left){var W=g(M,U,V,$.left);if(W)return W}var W=V($.key,$.value);if(W)return W}if($.right)return g(M,U,V,$.right)}function w(M,U,V,$,z){var W=V(M,z.key),J=V(U,z.key),Y;if(W<=0&&(z.left&&(Y=w(M,U,V,$,z.left),Y)||J>0&&(Y=$(z.key,z.value),Y)))return Y;if(J>0&&z.right)return w(M,U,V,$,z.right)}v.forEach=function(U,V,$){if(this.root)switch(arguments.length){case 1:return p(U,this.root);case 2:return g(V,this._compare,U,this.root);case 3:return this._compare(V,$)>=0?void 0:w(V,$,this._compare,U,this.root)}},Object.defineProperty(v,"begin",{get:function(){for(var M=[],U=this.root;U;)M.push(U),U=U.left;return new R(this,M)}}),Object.defineProperty(v,"end",{get:function(){for(var M=[],U=this.root;U;)M.push(U),U=U.right;return new R(this,M)}}),v.at=function(M){if(M<0)return new R(this,[]);for(var U=this.root,V=[];;){if(V.push(U),U.left){if(M<U.left._count){U=U.left;continue}M-=U.left._count}if(!M)return new R(this,V);if(M-=1,U.right){if(M>=U.right._count)break;U=U.right}else break}return new R(this,[])},v.ge=function(M){for(var U=this._compare,V=this.root,$=[],z=0;V;){var W=U(M,V.key);$.push(V),W<=0&&(z=$.length),W<=0?V=V.left:V=V.right}return $.length=z,new R(this,$)},v.gt=function(M){for(var U=this._compare,V=this.root,$=[],z=0;V;){var W=U(M,V.key);$.push(V),W<0&&(z=$.length),W<0?V=V.left:V=V.right}return $.length=z,new R(this,$)},v.lt=function(M){for(var U=this._compare,V=this.root,$=[],z=0;V;){var W=U(M,V.key);$.push(V),W>0&&(z=$.length),W<=0?V=V.left:V=V.right}return $.length=z,new R(this,$)},v.le=function(M){for(var U=this._compare,V=this.root,$=[],z=0;V;){var W=U(M,V.key);$.push(V),W>=0&&(z=$.length),W<0?V=V.left:V=V.right}return $.length=z,new R(this,$)},v.find=function(M){for(var U=this._compare,V=this.root,$=[];V;){var z=U(M,V.key);if($.push(V),z===0)return new R(this,$);z<=0?V=V.left:V=V.right}return new R(this,[])},v.remove=function(M){var U=this.find(M);return U?U.remove():this},v.get=function(M){for(var U=this._compare,V=this.root;V;){var $=U(M,V.key);if($===0)return V.value;$<=0?V=V.left:V=V.right}};function R(M,U){this.tree=M,this._stack=U}var C=R.prototype;Object.defineProperty(C,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(C,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),C.clone=function(){return new R(this.tree,this._stack.slice())};function N(M,U){M.key=U.key,M.value=U.value,M.left=U.left,M.right=U.right,M._color=U._color,M._count=U._count}function D(M){for(var U,V,$,z,W=M.length-1;W>=0;--W){if(U=M[W],W===0){U._color=u;return}if(V=M[W-1],V.left===U){if($=V.right,$.right&&$.right._color===c){if($=V.right=y($),z=$.right=y($.right),V.right=$.left,$.left=V,$.right=z,$._color=V._color,U._color=u,V._color=u,z._color=u,T(V),T($),W>1){var J=M[W-2];J.left===V?J.left=$:J.right=$}M[W-1]=$;return}else if($.left&&$.left._color===c){if($=V.right=y($),z=$.left=y($.left),V.right=z.left,$.left=z.right,z.left=V,z.right=$,z._color=V._color,V._color=u,$._color=u,U._color=u,T(V),T($),T(z),W>1){var J=M[W-2];J.left===V?J.left=z:J.right=z}M[W-1]=z;return}if($._color===u)if(V._color===c){V._color=u,V.right=O(c,$);return}else{V.right=O(c,$);continue}else{if($=y($),V.right=$.left,$.left=V,$._color=V._color,V._color=c,T(V),T($),W>1){var J=M[W-2];J.left===V?J.left=$:J.right=$}M[W-1]=$,M[W]=V,W+1<M.length?M[W+1]=U:M.push(U),W=W+2}}else{if($=V.left,$.left&&$.left._color===c){if($=V.left=y($),z=$.left=y($.left),V.left=$.right,$.right=V,$.left=z,$._color=V._color,U._color=u,V._color=u,z._color=u,T(V),T($),W>1){var J=M[W-2];J.right===V?J.right=$:J.left=$}M[W-1]=$;return}else if($.right&&$.right._color===c){if($=V.left=y($),z=$.right=y($.right),V.left=z.right,$.right=z.left,z.right=V,z.left=$,z._color=V._color,V._color=u,$._color=u,U._color=u,T(V),T($),T(z),W>1){var J=M[W-2];J.right===V?J.right=z:J.left=z}M[W-1]=z;return}if($._color===u)if(V._color===c){V._color=u,V.left=O(c,$);return}else{V.left=O(c,$);continue}else{if($=y($),V.left=$.right,$.right=V,$._color=V._color,V._color=c,T(V),T($),W>1){var J=M[W-2];J.right===V?J.right=$:J.left=$}M[W-1]=$,M[W]=V,W+1<M.length?M[W+1]=U:M.push(U),W=W+2}}}}C.remove=function(){var M=this._stack;if(M.length===0)return this.tree;var U=new Array(M.length),V=M[M.length-1];U[U.length-1]=new d(V._color,V.key,V.value,V.left,V.right,V._count);for(var $=M.length-2;$>=0;--$){var V=M[$];V.left===M[$+1]?U[$]=new d(V._color,V.key,V.value,U[$+1],V.right,V._count):U[$]=new d(V._color,V.key,V.value,V.left,U[$+1],V._count)}if(V=U[U.length-1],V.left&&V.right){var z=U.length;for(V=V.left;V.right;)U.push(V),V=V.right;var W=U[z-1];U.push(new d(V._color,W.key,W.value,V.left,V.right,V._count)),U[z-1].key=V.key,U[z-1].value=V.value;for(var $=U.length-2;$>=z;--$)V=U[$],U[$]=new d(V._color,V.key,V.value,V.left,U[$+1],V._count);U[z-1].left=U[z]}if(V=U[U.length-1],V._color===c){var J=U[U.length-2];J.left===V?J.left=null:J.right===V&&(J.right=null),U.pop();for(var $=0;$<U.length;++$)U[$]._count--;return new E(this.tree._compare,U[0])}else if(V.left||V.right){V.left?N(V,V.left):V.right&&N(V,V.right),V._color=u;for(var $=0;$<U.length-1;++$)U[$]._count--;return new E(this.tree._compare,U[0])}else{if(U.length===1)return new E(this.tree._compare,null);for(var $=0;$<U.length;++$)U[$]._count--;var Y=U[U.length-2];D(U),Y.left===V?Y.left=null:Y.right=null}return new E(this.tree._compare,U[0])},Object.defineProperty(C,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(C,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(C,"index",{get:function(){var M=0,U=this._stack;if(U.length===0){var V=this.tree.root;return V?V._count:0}else U[U.length-1].left&&(M=U[U.length-1].left._count);for(var $=U.length-2;$>=0;--$)U[$+1]===U[$].right&&(++M,U[$].left&&(M+=U[$].left._count));return M},enumerable:!0}),C.next=function(){var M=this._stack;if(M.length!==0){var U=M[M.length-1];if(U.right)for(U=U.right;U;)M.push(U),U=U.left;else for(M.pop();M.length>0&&M[M.length-1].right===U;)U=M[M.length-1],M.pop()}},Object.defineProperty(C,"hasNext",{get:function(){var M=this._stack;if(M.length===0)return!1;if(M[M.length-1].right)return!0;for(var U=M.length-1;U>0;--U)if(M[U-1].left===M[U])return!0;return!1}}),C.update=function(M){var U=this._stack;if(U.length===0)throw new Error("Can't update empty node!");var V=new Array(U.length),$=U[U.length-1];V[V.length-1]=new d($._color,$.key,M,$.left,$.right,$._count);for(var z=U.length-2;z>=0;--z)$=U[z],$.left===U[z+1]?V[z]=new d($._color,$.key,$.value,V[z+1],$.right,$._count):V[z]=new d($._color,$.key,$.value,$.left,V[z+1],$._count);return new E(this.tree._compare,V[0])},C.prev=function(){var M=this._stack;if(M.length!==0){var U=M[M.length-1];if(U.left)for(U=U.left;U;)M.push(U),U=U.right;else for(M.pop();M.length>0&&M[M.length-1].left===U;)U=M[M.length-1],M.pop()}},Object.defineProperty(C,"hasPrev",{get:function(){var M=this._stack;if(M.length===0)return!1;if(M[M.length-1].left)return!0;for(var U=M.length-1;U>0;--U)if(M[U-1].right===M[U])return!0;return!1}});function L(M,U){return M<U?-1:M>U?1:0}function q(M){return new E(M||L,null)}return rbtree}var hasRequiredWatch;function requireWatch(){return hasRequiredWatch||(hasRequiredWatch=1,(function(c){/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(c,"__esModule",{value:!0}),c.QueryWatch=c.DocumentWatch=c.WATCH_IDLE_TIMEOUT_MS=void 0;const u=require$$0$d,d=requireRbtree(),y=requireSrc$1(),O=requireBackoff(),T=requireDocument(),E=requireDocumentChange(),v=requireLogger(),p=requirePath(),g=requireTimestamp(),w=requireTypes$1(),R=requireUtil();/*!
 * Target ID used by watch. Watch uses a fixed target id since we only support
 * one target per stream.
 * @type {number}
 */const C=1;/*!
 * Idle timeout used to detect Watch streams that stall (see
 * https://github.com/googleapis/nodejs-firestore/issues/1057, b/156308554).
 * Under normal load, the Watch backend will send a TARGET_CHANGE message
 * roughly every 30 seconds. As discussed with the backend team, we reset the
 * Watch stream if we do not receive any message within 120 seconds.
 */c.WATCH_IDLE_TIMEOUT_MS=120*1e3;/*!
 * Sentinel value for a document remove.
 */const N={};/*!
 * The change type for document change events.
 */const D={added:"added",modified:"modified",removed:"removed"};/*!
 * The comparator used for document watches (which should always get called with
 * the same document).
 */const L=($,z)=>(u($===z,"Document watches only support one document."),0),q=()=>{};class M{constructor(z,W=(0,w.defaultConverter)()){ce(this,"_converter");ce(this,"firestore");ce(this,"backoff");ce(this,"requestTag");ce(this,"isActive",!0);ce(this,"currentStream",null);ce(this,"resumeToken");ce(this,"docMap",new Map);ce(this,"changeMap",new Map);ce(this,"current",!1);ce(this,"docTree");ce(this,"hasPushed",!1);ce(this,"idleTimeoutHandle");ce(this,"onNext");ce(this,"onError");this._converter=W,this.firestore=z,this.backoff=new O.ExponentialBackoff,this.requestTag=(0,R.requestTag)(),this.onNext=q,this.onError=q}onSnapshot(z,W){u(this.onNext===q,"onNext should not already be defined."),u(this.onError===q,"onError should not already be defined."),u(this.docTree===void 0,"docTree should not already be defined."),this.onNext=z,this.onError=W,this.docTree=d(this.getComparator()),this.initStream();const J=()=>{(0,v.logger)("Watch.onSnapshot",this.requestTag,"Unsubscribe called"),this.onNext=()=>{},this.onError=()=>{},this.shutdown()};return this.firestore.registerListener(),J}currentSize(){const z=this.extractCurrentChanges(g.Timestamp.now());return this.docMap.size+z.adds.length-z.deletes.length}extractCurrentChanges(z){const W=[],J=[],Y=[];return this.changeMap.forEach((Q,H)=>{Q===N?this.docMap.has(H)&&W.push(H):this.docMap.has(H)?(Q.readTime=z,Y.push(Q.build())):(Q.readTime=z,J.push(Q.build()))}),{deletes:W,adds:J,updates:Y}}resetDocs(){(0,v.logger)("Watch.resetDocs",this.requestTag,"Resetting documents"),this.changeMap.clear(),this.resumeToken=void 0,this.docTree.forEach(z=>{this.changeMap.set(z.ref.path,N)}),this.current=!1}closeStream(z){this.isActive&&((0,v.logger)("Watch.closeStream",this.requestTag,"Invoking onError: ",z),this.onError(z)),this.shutdown()}maybeReopenStream(z){this.isActive&&!this.isPermanentWatchError(z)?((0,v.logger)("Watch.maybeReopenStream",this.requestTag,"Stream ended, re-opening after retryable error:",z),this.changeMap.clear(),this.isResourceExhaustedError(z)&&this.backoff.resetToMax(),this.initStream()):this.closeStream(z)}resetIdleTimeout(){this.idleTimeoutHandle&&clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=(0,O.delayExecution)(()=>{var W;(0,v.logger)("Watch.resetIdleTimeout",this.requestTag,"Resetting stream after idle timeout"),(W=this.currentStream)==null||W.end(),this.currentStream=null;const z=new y.GoogleError("Watch stream idle timeout");z.code=y.Status.UNKNOWN,this.maybeReopenStream(z)},c.WATCH_IDLE_TIMEOUT_MS)}resetStream(){(0,v.logger)("Watch.resetStream",this.requestTag,"Restarting stream"),this.currentStream&&(this.currentStream.end(),this.currentStream=null),this.initStream()}initStream(){this.backoff.backoffAndWait().then(async()=>{if(!this.isActive){(0,v.logger)("Watch.initStream",this.requestTag,"Not initializing inactive stream");return}await this.firestore.initializeIfNeeded(this.requestTag);const z={};return z.database=this.firestore.formattedName,z.addTarget=this.getTarget(this.resumeToken),this.firestore.requestStream("listen",!0,z,this.requestTag).then(W=>{if(!this.isActive){(0,v.logger)("Watch.initStream",this.requestTag,"Closing inactive stream"),W.emit("end"),W.on("error",()=>{});return}(0,v.logger)("Watch.initStream",this.requestTag,"Opened new stream"),this.currentStream=W,this.resetIdleTimeout(),this.currentStream.on("data",J=>{this.resetIdleTimeout(),this.onData(J)}).on("error",J=>{this.currentStream===W&&(this.currentStream=null,this.maybeReopenStream(J))}).on("end",()=>{if(this.currentStream===W){this.currentStream=null;const J=new y.GoogleError("Stream ended unexpectedly");J.code=y.Status.UNKNOWN,this.maybeReopenStream(J)}}),this.currentStream.resume()})}).catch(z=>{this.closeStream(z)})}onData(z){if(z.targetChange){(0,v.logger)("Watch.onData",this.requestTag,"Processing target change");const W=z.targetChange,J=!W.targetIds||W.targetIds.length===0;if(W.targetChangeType==="NO_CHANGE")J&&W.readTime&&this.current&&this.pushSnapshot(g.Timestamp.fromProto(W.readTime),W.resumeToken);else if(W.targetChangeType==="ADD")C!==W.targetIds[0]&&this.closeStream(Error("Unexpected target ID sent by server"));else if(W.targetChangeType==="REMOVE"){let Y=y.Status.INTERNAL,Q="internal error";W.cause&&(Y=W.cause.code,Q=W.cause.message),this.closeStream(new Error("Error "+Y+": "+Q))}else W.targetChangeType==="RESET"?this.resetDocs():W.targetChangeType==="CURRENT"?this.current=!0:this.closeStream(new Error("Unknown target change type: "+JSON.stringify(W)));W.resumeToken&&this.affectsTarget(W.targetIds,C)&&this.backoff.reset()}else if(z.documentChange){(0,v.logger)("Watch.onData",this.requestTag,"Processing change event");const W=z.documentChange.targetIds||[],J=z.documentChange.removedTargetIds||[];let Y=!1,Q=!1;for(let oe=0;oe<W.length;oe++)W[oe]===C&&(Y=!0);for(let oe=0;oe<J.length;oe++)J[oe]===C&&(Q=!0);const H=z.documentChange.document,te=H.name,ne=p.QualifiedResourcePath.fromSlashSeparatedString(te).relativeName;if(Y){(0,v.logger)("Watch.onData",this.requestTag,"Received document change");const oe=this.firestore.doc(ne),ie=new T.DocumentSnapshotBuilder(oe.withConverter(this._converter));ie.fieldsProto=H.fields||{},ie.createTime=g.Timestamp.fromProto(H.createTime),ie.updateTime=g.Timestamp.fromProto(H.updateTime),this.changeMap.set(ne,ie)}else Q&&((0,v.logger)("Watch.onData",this.requestTag,"Received document remove"),this.changeMap.set(ne,N))}else if(z.documentDelete||z.documentRemove){(0,v.logger)("Watch.onData",this.requestTag,"Processing remove event");const W=(z.documentDelete||z.documentRemove).document,J=p.QualifiedResourcePath.fromSlashSeparatedString(W).relativeName;this.changeMap.set(J,N)}else z.filter?((0,v.logger)("Watch.onData",this.requestTag,"Processing filter update"),z.filter.count!==this.currentSize()&&(this.resetDocs(),this.resetStream())):this.closeStream(new Error("Unknown listen response type: "+JSON.stringify(z)))}affectsTarget(z,W){if(z===void 0||z.length===0)return!0;for(const J of z)if(J===W)return!0;return!1}pushSnapshot(z,W){const J=this.computeSnapshot(z);if(!this.hasPushed||J.length>0){(0,v.logger)("Watch.pushSnapshot",this.requestTag,"Sending snapshot with %d changes and %d documents",String(J.length),this.docTree.length);const Y=this.docTree;this.onNext(z,Y.length,()=>Y.keys,()=>J),this.hasPushed=!0}this.changeMap.clear(),this.resumeToken=W}deleteDoc(z){u(this.docMap.has(z),"Document to delete does not exist");const W=this.docMap.get(z),J=this.docTree.find(W),Y=J.index;return this.docTree=J.remove(),this.docMap.delete(z),new E.DocumentChange(D.removed,W,Y,-1)}addDoc(z){const W=z.ref.path;u(!this.docMap.has(W),"Document to add already exists"),this.docTree=this.docTree.insert(z,null);const J=this.docTree.find(z).index;return this.docMap.set(W,z),new E.DocumentChange(D.added,z,-1,J)}modifyDoc(z){const W=z.ref.path;if(u(this.docMap.has(W),"Document to modify does not exist"),!this.docMap.get(W).updateTime.isEqual(z.updateTime)){const Y=this.deleteDoc(W),Q=this.addDoc(z);return new E.DocumentChange(D.modified,z,Y.oldIndex,Q.newIndex)}return null}computeSnapshot(z){const W=this.extractCurrentChanges(z),J=[];return W.deletes.sort((Y,Q)=>this.getComparator()(this.docMap.get(Y),this.docMap.get(Q))),W.deletes.forEach(Y=>{const Q=this.deleteDoc(Y);J.push(Q)}),W.adds.sort(this.getComparator()),W.adds.forEach(Y=>{const Q=this.addDoc(Y);J.push(Q)}),W.updates.sort(this.getComparator()),W.updates.forEach(Y=>{const Q=this.modifyDoc(Y);Q&&J.push(Q)}),u(this.docTree.length===this.docMap.size,"The update document tree and document map should have the same number of entries."),J}isPermanentWatchError(z){if(z.code===void 0)return(0,v.logger)("Watch.isPermanentError",this.requestTag,"Unable to determine error code: ",z),!1;switch(z.code){case y.Status.ABORTED:case y.Status.CANCELLED:case y.Status.UNKNOWN:case y.Status.DEADLINE_EXCEEDED:case y.Status.RESOURCE_EXHAUSTED:case y.Status.INTERNAL:case y.Status.UNAVAILABLE:case y.Status.UNAUTHENTICATED:return!1;default:return!0}}isResourceExhaustedError(z){return z.code===y.Status.RESOURCE_EXHAUSTED}shutdown(){var z;this.isActive&&(this.isActive=!1,this.idleTimeoutHandle&&(clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=void 0),this.firestore.unregisterListener()),(z=this.currentStream)==null||z.end(),this.currentStream=null}}class U extends M{constructor(W,J){super(W,J._converter);ce(this,"ref");this.ref=J}getComparator(){return L}getTarget(W){return{documents:{documents:[this.ref.formattedName]},targetId:C,resumeToken:W}}}c.DocumentWatch=U;class V extends M{constructor(W,J,Y){super(W,Y);ce(this,"query");ce(this,"comparator");this.query=J,this.comparator=J.comparator()}getComparator(){return this.query.comparator()}getTarget(W){return{query:this.query.toProto(),targetId:C,resumeToken:W}}}c.QueryWatch=V})(watch)),watch}var hasRequiredQuery;function requireQuery(){if(hasRequiredQuery)return query;hasRequiredQuery=1,Object.defineProperty(query,"__esModule",{value:!0}),query.Query=void 0;const c=require$$0$6,u=requireQueryUtil(),d=requireSrc(),y=requireFieldOrder(),O=requireFieldFilterInternal(),T=requireCompositeFilterInternal(),E=requireConstants(),v=requireDocumentReference(),p=requireQuerySnapshot(),g=requireSerializer(),w=requireQueryProfile(),R=requireFilter(),C=requirePath(),N=requireHelpers$1(),D=requireValidate(),L=requireTypes(),q=requireAggregateQuery(),M=requireVectorQuery(),U=requireOrder(),V=requireTypes$1(),$=requireTraceUtil();class z{constructor(J,Y){ce(this,"_firestore");ce(this,"_queryOptions");ce(this,"_serializer");ce(this,"_allowUndefined");ce(this,"_queryUtil");this._firestore=J,this._queryOptions=Y,this._serializer=new g.Serializer(J),this._allowUndefined=!!this._firestore._settings.ignoreUndefinedProperties,this._queryUtil=new u.QueryUtil(J,Y,this._serializer)}static _extractFieldValues(J,Y){const Q=[];for(const H of Y)if(d.FieldPath.documentId().isEqual(H.field))Q.push(J.ref);else{const te=J.get(H.field);if(te===void 0)throw new Error(`Field "${H.field}" is missing in the provided DocumentSnapshot. Please provide a document that contains values for all specified orderBy() and where() constraints.`);Q.push(te)}return Q}get firestore(){return this._firestore}where(J,Y,Q){let H;if(J instanceof d.Filter?H=J:H=d.Filter.where(J,Y,Q),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify a where() filter after calling startAt(), startAfter(), endBefore() or endAt().");const te=this._parseFilter(H);if(te.getFilters().length===0)return this;const ne=this._queryOptions.with({filters:this._queryOptions.filters.concat(te)});return new z(this._firestore,ne)}_parseFilter(J){return J instanceof R.UnaryFilter?this._parseFieldFilter(J):this._parseCompositeFilter(J)}_parseFieldFilter(J){let Y=J._getValue(),Q=J._getOperator();const H=J._getField();(0,C.validateFieldPath)("fieldPath",H),Q=(0,N.validateQueryOperator)("opStr",Q,Y),(0,N.validateQueryValue)("value",Y,this._allowUndefined);const te=d.FieldPath.fromArgument(H);if(d.FieldPath.documentId().isEqual(te)){if(Q==="array-contains"||Q==="array-contains-any")throw new Error(`Invalid Query. You can't perform '${Q}' queries on FieldPath.documentId().`);if(Q==="in"||Q==="not-in"){if(!Array.isArray(Y)||Y.length===0)throw new Error(`Invalid Query. A non-empty array is required for '${Q}' filters.`);Y=Y.map(ne=>this.validateReference(ne))}else Y=this.validateReference(Y)}return new O.FieldFilterInternal(this._serializer,te,E.comparisonOperators[Q],Y)}_parseCompositeFilter(J){const Y=J._getFilters().map(Q=>this._parseFilter(Q)).filter(Q=>Q.getFilters().length>0);return Y.length===1?Y[0]:new T.CompositeFilterInternal(Y,J._getOperator()==="AND"?"AND":"OR")}select(...J){const Y=[];if(J.length===0)Y.push({fieldPath:d.FieldPath.documentId().formattedName});else for(let H=0;H<J.length;++H)(0,C.validateFieldPath)(H,J[H]),Y.push({fieldPath:d.FieldPath.fromArgument(J[H]).formattedName});const Q=this._queryOptions.with({projection:{fields:Y}});return new z(this._firestore,Q)}orderBy(J,Y){if((0,C.validateFieldPath)("fieldPath",J),Y=(0,N.validateQueryOrder)("directionStr",Y),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify an orderBy() constraint after calling startAt(), startAfter(), endBefore() or endAt().");const Q=new y.FieldOrder(d.FieldPath.fromArgument(J),E.directionOperators[Y||"asc"]),H=this._queryOptions.with({fieldOrders:this._queryOptions.fieldOrders.concat(Q)});return new z(this._firestore,H)}limit(J){(0,D.validateInteger)("limit",J);const Y=this._queryOptions.with({limit:J,limitType:L.LimitType.First});return new z(this._firestore,Y)}limitToLast(J){(0,D.validateInteger)("limitToLast",J);const Y=this._queryOptions.with({limit:J,limitType:L.LimitType.Last});return new z(this._firestore,Y)}offset(J){(0,D.validateInteger)("offset",J);const Y=this._queryOptions.with({offset:J});return new z(this._firestore,Y)}count(){return this.aggregate({count:d.AggregateField.count()})}aggregate(J){return new q.AggregateQuery(this,J)}findNearest(J,Y,Q){if(typeof J=="string"||J instanceof d.FieldPath){const H={distanceMeasure:Q.distanceMeasure,limit:Q.limit,queryVector:Y,vectorField:J};return this._findNearest(H)}else return this._findNearest(J)}_findNearest(J){if((0,C.validateFieldPath)("vectorField",J.vectorField),J.limit<=0)throw(0,D.invalidArgumentMessage)("limit","positive limit number");if((Array.isArray(J.queryVector)?J.queryVector.length:J.queryVector.toArray().length)===0)throw(0,D.invalidArgumentMessage)("queryVector","vector size must be larger than 0");return new M.VectorQuery(this,J)}isEqual(J){return this===J?!0:J instanceof z&&this._queryOptions.isEqual(J._queryOptions)}getInequalityFilterFields(){const J=[];for(const Y of this._queryOptions.filters)for(const Q of Y.getFlattenedFilters())Q.isInequalityFilter()&&J.push(Q.field);return J.sort((Y,Q)=>Y.compareTo(Q))}createImplicitOrderBy(J){if(J.length!==1||!(J[0]instanceof d.DocumentSnapshot))return this._queryOptions.fieldOrders;const Y=this._queryOptions.fieldOrders.slice(),Q=new Set([...Y.map(ne=>ne.field.toString())]),H=Y.length===0?E.directionOperators.ASC:Y[Y.length-1].direction,te=this.getInequalityFilterFields();for(const ne of te)!Q.has(ne.toString())&&!ne.isEqual(d.FieldPath.documentId())&&(Y.push(new y.FieldOrder(ne,H)),Q.add(ne.toString()));return Q.has(d.FieldPath.documentId().toString())||Y.push(new y.FieldOrder(d.FieldPath.documentId(),H)),Y}createCursor(J,Y,Q){let H;if(Y.length===1&&Y[0]instanceof d.DocumentSnapshot?H=z._extractFieldValues(Y[0],J):H=Y,H.length>J.length)throw new Error("Too many cursor values specified. The specified values must match the orderBy() constraints of the query.");const te={values:[],before:Q};for(let ne=0;ne<H.length;++ne){let oe=H[ne];d.FieldPath.documentId().isEqual(J[ne].field)&&(oe=this.validateReference(oe)),(0,N.validateQueryValue)(ne,oe,this._allowUndefined),te.values.push(this._serializer.encodeValue(oe))}return te}validateReference(J){const Y=this._queryOptions.allDescendants?this._queryOptions.parentPath:this._queryOptions.parentPath.append(this._queryOptions.collectionId);let Q;if(typeof J=="string"){const H=Y.append(J);if(this._queryOptions.allDescendants){if(!H.isDocument)throw new Error(`When querying a collection group and ordering by FieldPath.documentId(), the corresponding value must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`)}else if(J.indexOf("/")!==-1)throw new Error(`When querying a collection and ordering by FieldPath.documentId(), the corresponding value must be a plain document ID, but '${J}' contains a slash.`);Q=new v.DocumentReference(this._firestore,Y.append(J),this._queryOptions.converter)}else if(J instanceof v.DocumentReference){if(Q=J,!Y.isPrefixOf(Q._path))throw new Error(`"${Q.path}" is not part of the query result set and cannot be used as a query boundary.`)}else throw new Error(`The corresponding value for FieldPath.documentId() must be a string or a DocumentReference, but was "${J}".`);if(!this._queryOptions.allDescendants&&Q._path.parent().compareTo(Y)!==0)throw new Error(`Only a direct child can be used as a query boundary. Found: "${Q.path}".`);return Q}startAt(...J){(0,D.validateMinNumberOfArguments)("Query.startAt",J,1);const Y=this.createImplicitOrderBy(J),Q=this.createCursor(Y,J,!0),H=this._queryOptions.with({fieldOrders:Y,startAt:Q});return new z(this._firestore,H)}startAfter(...J){(0,D.validateMinNumberOfArguments)("Query.startAfter",J,1);const Y=this.createImplicitOrderBy(J),Q=this.createCursor(Y,J,!1),H=this._queryOptions.with({fieldOrders:Y,startAt:Q});return new z(this._firestore,H)}endBefore(...J){(0,D.validateMinNumberOfArguments)("Query.endBefore",J,1);const Y=this.createImplicitOrderBy(J),Q=this.createCursor(Y,J,!0),H=this._queryOptions.with({fieldOrders:Y,endAt:Q});return new z(this._firestore,H)}endAt(...J){(0,D.validateMinNumberOfArguments)("Query.endAt",J,1);const Y=this.createImplicitOrderBy(J),Q=this.createCursor(Y,J,!1),H=this._queryOptions.with({fieldOrders:Y,endAt:Q});return new z(this._firestore,H)}async get(){return this._firestore._traceUtil.startActiveSpan($.SPAN_NAME_QUERY_GET,async()=>{const{result:J}=await this._get();return J})}async explain(J){J===void 0&&(J={});const{result:Y,explainMetrics:Q}=await this._getResponse(void 0,J);if(!Q)throw new Error("No explain results");return new w.ExplainResults(Q,Y||null)}async _get(J){const Y=await this._getResponse(J);if(!Y.result)throw new Error("No QuerySnapshot result");return Y}_getResponse(J,Y){return this._queryUtil._getResponse(this,J,!0,Y)}stream(){return this._queryUtil.stream(this)}explainStream(J){if(J===void 0&&(J={}),this._queryOptions.limitType===L.LimitType.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.explain() instead.");const Y=this._stream(void 0,J),Q=new c.Transform({objectMode:!0,transform(H,te,ne){(H.document||H.explainMetrics)&&ne(void 0,{document:H.document,metrics:H.explainMetrics})}});return Y.pipe(Q),Y.on("error",H=>Q.destroy(H)),Q}toCursor(J){if(J)return J.before?{before:!0,values:J.values}:{values:J.values}}toProto(J,Y){const Q=this.firestore.projectId,H=this.firestore.databaseId,te=this._queryOptions.parentPath.toQualifiedResourcePath(Q,H),ne=this.toStructuredQuery();if(this._queryOptions.limitType===L.LimitType.Last){if(!this._queryOptions.hasFieldOrders())throw new Error("limitToLast() queries require specifying at least one orderBy() clause.");ne.orderBy=this._queryOptions.fieldOrders.map(ie=>{const ee=ie.direction==="DESCENDING"?"ASCENDING":"DESCENDING";return new y.FieldOrder(ie.field,ee).toProto()}),ne.startAt=this._queryOptions.endAt?this.toCursor({values:this._queryOptions.endAt.values,before:!this._queryOptions.endAt.before}):void 0,ne.endAt=this._queryOptions.startAt?this.toCursor({values:this._queryOptions.startAt.values,before:!this._queryOptions.startAt.before}):void 0}const oe={parent:te.formattedName,structuredQuery:ne};return J instanceof Uint8Array?oe.transaction=J:J instanceof d.Timestamp?oe.readTime=J.toProto().timestampValue:J&&(oe.newTransaction=J),Y&&(oe.explainOptions=Y),oe}_toBundledQuery(){const J=this.firestore.projectId,Y=this.firestore.databaseId,Q=this._queryOptions.parentPath.toQualifiedResourcePath(J,Y),H=this.toStructuredQuery(),te={parent:Q.formattedName,structuredQuery:H};return this._queryOptions.limitType===L.LimitType.First?te.limitType="FIRST":this._queryOptions.limitType===L.LimitType.Last&&(te.limitType="LAST"),te}toStructuredQuery(){const J={from:[{}]};return this._queryOptions.allDescendants&&(J.from[0].allDescendants=!0),this._queryOptions.kindless||(J.from[0].collectionId=this._queryOptions.collectionId),this._queryOptions.filters.length>=1&&(J.where=new T.CompositeFilterInternal(this._queryOptions.filters,"AND").toProto()),this._queryOptions.hasFieldOrders()&&(J.orderBy=this._queryOptions.fieldOrders.map(Y=>Y.toProto())),J.startAt=this.toCursor(this._queryOptions.startAt),J.endAt=this.toCursor(this._queryOptions.endAt),this._queryOptions.limit&&(J.limit={value:this._queryOptions.limit}),J.offset=this._queryOptions.offset,J.select=this._queryOptions.projection,J}_isPermanentRpcError(J,Y){return this._queryUtil._isPermanentRpcError(J,Y)}_hasRetryTimedOut(J,Y){return this._queryUtil._hasRetryTimedOut(J,Y)}_stream(J,Y){return this._queryUtil._stream(this,J,!0,Y)}onSnapshot(J,Y){return(0,D.validateFunction)("onNext",J),(0,D.validateFunction)("onError",Y,{optional:!0}),new(requireWatch()).QueryWatch(this.firestore,this,this._queryOptions.converter).onSnapshot((H,te,ne,oe)=>{J(new p.QuerySnapshot(this,H,te,ne,oe))},Y||console.error)}comparator(){return(J,Y)=>{const Q=this._queryOptions.hasFieldOrders()?this._queryOptions.fieldOrders[this._queryOptions.fieldOrders.length-1].direction:"ASCENDING",H=this._queryOptions.fieldOrders.concat(new y.FieldOrder(d.FieldPath.documentId(),Q));for(const te of H){let ne;if(d.FieldPath.documentId().isEqual(te.field))ne=J.ref._path.compareTo(Y.ref._path);else{const oe=J.protoField(te.field),ie=Y.protoField(te.field);if(oe===void 0||ie===void 0)throw new Error("Trying to compare documents on fields that don't exist. Please include the fields you are ordering on in your select() call.");ne=(0,U.compare)(oe,ie)}if(ne!==0)return(te.direction==="ASCENDING"?1:-1)*ne}return 0}}withConverter(J){return new z(this.firestore,this._queryOptions.withConverter(J??(0,V.defaultConverter)()))}_createSnapshot(J,Y,Q,H){return new p.QuerySnapshot(this,J,Y,Q,H)}}return query.Query=z,query}var queryOptions={},hasRequiredQueryOptions;function requireQueryOptions(){if(hasRequiredQueryOptions)return queryOptions;hasRequiredQueryOptions=1,Object.defineProperty(queryOptions,"__esModule",{value:!0}),queryOptions.QueryOptions=void 0;const c=requireFastDeepEqual(),u=requirePath(),d=requireTypes$1(),y=requireHelpers$1();class O{constructor(E,v,p,g,w,R,C,N,D,L,q,M,U=!1,V=!0){ce(this,"parentPath");ce(this,"collectionId");ce(this,"converter");ce(this,"allDescendants");ce(this,"filters");ce(this,"fieldOrders");ce(this,"startAt");ce(this,"endAt");ce(this,"limit");ce(this,"limitType");ce(this,"offset");ce(this,"projection");ce(this,"kindless");ce(this,"requireConsistency");this.parentPath=E,this.collectionId=v,this.converter=p,this.allDescendants=g,this.filters=w,this.fieldOrders=R,this.startAt=C,this.endAt=N,this.limit=D,this.limitType=L,this.offset=q,this.projection=M,this.kindless=U,this.requireConsistency=V}static forCollectionGroupQuery(E,v=(0,d.defaultConverter)()){return new O(u.ResourcePath.EMPTY,E,v,!0,[],[])}static forCollectionQuery(E,v=(0,d.defaultConverter)()){return new O(E.parent(),E.id,v,!1,[],[])}static forKindlessAllDescendants(E,v,p=!0){let g=new O(E,v,(0,d.defaultConverter)(),!0,[],[]);return g=g.with({kindless:!0,requireConsistency:p}),g}with(E){return new O((0,y.coalesce)(E.parentPath,this.parentPath),(0,y.coalesce)(E.collectionId,this.collectionId),this.converter,(0,y.coalesce)(E.allDescendants,this.allDescendants),(0,y.coalesce)(E.filters,this.filters),(0,y.coalesce)(E.fieldOrders,this.fieldOrders),(0,y.coalesce)(E.startAt,this.startAt),(0,y.coalesce)(E.endAt,this.endAt),(0,y.coalesce)(E.limit,this.limit),(0,y.coalesce)(E.limitType,this.limitType),(0,y.coalesce)(E.offset,this.offset),(0,y.coalesce)(E.projection,this.projection),(0,y.coalesce)(E.kindless,this.kindless),(0,y.coalesce)(E.requireConsistency,this.requireConsistency))}withConverter(E){return new O(this.parentPath,this.collectionId,E,this.allDescendants,this.filters,this.fieldOrders,this.startAt,this.endAt,this.limit,this.limitType,this.offset,this.projection)}hasFieldOrders(){return this.fieldOrders.length>0}isEqual(E){return this===E?!0:E instanceof O&&this.parentPath.isEqual(E.parentPath)&&this.filtersEqual(E.filters)&&this.collectionId===E.collectionId&&this.converter===E.converter&&this.allDescendants===E.allDescendants&&this.limit===E.limit&&this.offset===E.offset&&c(this.fieldOrders,E.fieldOrders)&&c(this.startAt,E.startAt)&&c(this.endAt,E.endAt)&&c(this.projection,E.projection)&&this.kindless===E.kindless&&this.requireConsistency===E.requireConsistency}filtersEqual(E){if(this.filters.length!==E.length)return!1;for(let v=0;v<E.length;v++)if(!this.filters[v].isEqual(E[v]))return!1;return!0}}return queryOptions.QueryOptions=O,queryOptions}var hasRequiredCollectionReference;function requireCollectionReference(){if(hasRequiredCollectionReference)return collectionReference;hasRequiredCollectionReference=1,Object.defineProperty(collectionReference,"__esModule",{value:!0}),collectionReference.CollectionReference=void 0;const c=requirePath(),u=requireUtil(),d=requireWriteBatch(),y=requireTypes$1(),O=requireQuery(),T=requireDocumentReference(),E=requireQueryOptions(),v=requireTraceUtil();class p extends O.Query{constructor(w,R,C){super(w,E.QueryOptions.forCollectionQuery(R,C))}get _resourcePath(){return this._queryOptions.parentPath.append(this._queryOptions.collectionId)}get id(){return this._queryOptions.collectionId}get parent(){return this._queryOptions.parentPath.isDocument?new T.DocumentReference(this.firestore,this._queryOptions.parentPath):null}get path(){return this._resourcePath.relativeName}listDocuments(){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_COL_REF_LIST_DOCUMENTS,()=>{const w=(0,u.requestTag)();return this.firestore.initializeIfNeeded(w).then(()=>{const C={parent:this._queryOptions.parentPath.toQualifiedResourcePath(this.firestore.projectId,this.firestore.databaseId).formattedName,collectionId:this.id,showMissing:!0,mask:{fieldPaths:[]}};return this.firestore.request("listDocuments",C,w).then(N=>N.map(D=>{const L=c.QualifiedResourcePath.fromSlashSeparatedString(D.name);return this.doc(L.id)}))})})}doc(w){arguments.length===0?w=(0,u.autoId)():(0,c.validateResourcePath)("documentPath",w);const R=this._resourcePath.append(w);if(!R.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${w}". Your path does not contain an even number of components.`);return new T.DocumentReference(this.firestore,R,this._queryOptions.converter)}add(w){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_COL_REF_ADD,()=>{const R=this._queryOptions.converter.toFirestore(w);(0,d.validateDocumentData)("data",R,!1,this._allowUndefined);const C=this.doc();return C.create(w).then(()=>C)})}isEqual(w){return this===w||w instanceof p&&super.isEqual(w)}withConverter(w){return new p(this.firestore,this._resourcePath,w??(0,y.defaultConverter)())}}return collectionReference.CollectionReference=p,collectionReference}var hasRequiredDocumentReference;function requireDocumentReference(){if(hasRequiredDocumentReference)return documentReference;hasRequiredDocumentReference=1,Object.defineProperty(documentReference,"__esModule",{value:!0}),documentReference.DocumentReference=void 0;const c=requireSrc(),u=requirePath(),d=requireTypes$1(),y=requireCollectionReference(),O=requireUtil(),T=requireValidate(),E=requireDocument(),v=requireTraceUtil();class p{constructor(w,R,C=(0,d.defaultConverter)()){ce(this,"_firestore");ce(this,"_path");ce(this,"_converter");this._firestore=w,this._path=R,this._converter=C}get formattedName(){const w=this.firestore.projectId,R=this.firestore.databaseId;return this._path.toQualifiedResourcePath(w,R).formattedName}get firestore(){return this._firestore}get path(){return this._path.relativeName}get id(){return this._path.id}get _resourcePath(){return this._path}get parent(){return new y.CollectionReference(this._firestore,this._path.parent(),this._converter)}get(){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_DOC_REF_GET,()=>this._firestore.getAll(this).then(([w])=>w))}collection(w){(0,u.validateResourcePath)("collectionPath",w);const R=this._path.append(w);if(!R.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${w}". Your path does not contain an odd number of components.`);return new y.CollectionReference(this._firestore,R)}listCollections(){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_DOC_REF_LIST_COLLECTIONS,()=>{const w=(0,O.requestTag)();return this.firestore.initializeIfNeeded(w).then(()=>{const R={parent:this.formattedName};return this._firestore.request("listCollectionIds",R,w).then(C=>{const N=[];C.sort();for(const D of C)N.push(this.collection(D));return N})})})}create(w){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_DOC_REF_CREATE,()=>new c.WriteBatch(this._firestore).create(this,w).commit().then(([C])=>C))}delete(w){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_DOC_REF_DELETE,()=>new c.WriteBatch(this._firestore).delete(this,w).commit().then(([C])=>C))}set(w,R){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_DOC_REF_SET,()=>{let C=new c.WriteBatch(this._firestore);return R?C=C.set(this,w,R):C=C.set(this,w),C.commit().then(([N])=>N)})}update(w,...R){return this._firestore._traceUtil.startActiveSpan(v.SPAN_NAME_DOC_REF_UPDATE,()=>((0,T.validateMinNumberOfArguments)("DocumentReference.update",arguments,1),new c.WriteBatch(this._firestore).update(this,w,...R).commit().then(([N])=>N)))}onSnapshot(w,R){return(0,T.validateFunction)("onNext",w),(0,T.validateFunction)("onError",R,{optional:!0}),new(requireWatch()).DocumentWatch(this.firestore,this).onSnapshot((N,D,L)=>{for(const U of L())if(U.ref.path===this.path){w(U);return}const q=new p(this._firestore,this._path,this._converter),M=new E.DocumentSnapshotBuilder(q);M.readTime=N,w(M.build())},R||console.error)}isEqual(w){return this===w||w instanceof p&&this._firestore===w._firestore&&this._path.isEqual(w._path)&&this._converter===w._converter}toProto(){return{referenceValue:this.formattedName}}withConverter(w){return new p(this.firestore,this._path,w??(0,d.defaultConverter)())}}return documentReference.DocumentReference=p,documentReference}var hasRequiredDocument;function requireDocument(){if(hasRequiredDocument)return document$1;hasRequiredDocument=1;/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(document$1,"__esModule",{value:!0}),document$1.Precondition=document$1.DocumentTransform=document$1.DocumentMask=document$1.QueryDocumentSnapshot=document$1.DocumentSnapshot=document$1.DocumentSnapshotBuilder=void 0;const c=requireFastDeepEqual(),u=require$$0$d,d=requireFieldValue(),y=requirePath(),O=requireDocumentReference(),T=requireTypes$1(),E=requireUtil();class v{constructor(D){ce(this,"ref");ce(this,"fieldsProto");ce(this,"readTime");ce(this,"createTime");ce(this,"updateTime");this.ref=D}build(){return u(this.fieldsProto!==void 0==(this.createTime!==void 0),"Create time should be set iff document exists."),u(this.fieldsProto!==void 0==(this.updateTime!==void 0),"Update time should be set iff document exists."),this.fieldsProto?new g(this.ref,this.fieldsProto,this.readTime,this.createTime,this.updateTime):new p(this.ref,void 0,this.readTime)}}document$1.DocumentSnapshotBuilder=v;class p{constructor(D,L,q,M,U){ce(this,"_fieldsProto");ce(this,"_ref");ce(this,"_serializer");ce(this,"_readTime");ce(this,"_createTime");ce(this,"_updateTime");this._fieldsProto=L,this._ref=D,this._serializer=D.firestore._serializer,this._readTime=q,this._createTime=M,this._updateTime=U}static fromObject(D,L){const q=D.firestore._serializer;return new p(D,q.encodeFields(L))}static fromUpdateMap(D,L){const q=D.firestore._serializer;function M(V,$,z,W){const J=z[W],Y=W===z.length-1;if(V[J]===void 0)if(Y){if($ instanceof d.FieldTransform)return(0,E.isEmpty)(V)?null:V;const Q=q.encodeValue($);return Q&&(V[J]=Q),V}else{const Q={mapValue:{fields:{}}},H=M(Q.mapValue.fields,$,z,W+1);return H?(Q.mapValue.fields=H,V[J]=Q,V):(0,E.isEmpty)(V)?null:V}else return u(!Y,"Can't merge current value into a nested object"),V[J].mapValue.fields=M(V[J].mapValue.fields,$,z,W+1),V}const U={};for(const[V,$]of L){const z=V.toArray();M(U,$,z,0)}return new p(D,U)}get exists(){return this._fieldsProto!==void 0}get ref(){return this._ref}get id(){return this._ref.id}get createTime(){return this._createTime}get updateTime(){return this._updateTime}get readTime(){if(this._readTime===void 0)throw new Error("Called 'readTime' on a local document");return this._readTime}data(){const D=this._fieldsProto;if(D!==void 0)if(this.ref._converter!==(0,T.defaultConverter)()){const L=new O.DocumentReference(this.ref.firestore,this.ref._path);return this.ref._converter.fromFirestore(new g(L,this._fieldsProto,this.readTime,this.createTime,this.updateTime))}else{const L={};for(const q of Object.keys(D))L[q]=this._serializer.decodeValue(D[q]);return L}}get(D){(0,y.validateFieldPath)("field",D);const L=this.protoField(D);if(L!==void 0)return this._serializer.decodeValue(L)}protoField(D){let L=this._fieldsProto;if(L===void 0)return;const q=y.FieldPath.fromArgument(D).toArray();for(;q.length>1;){if(L=L[q.shift()],!L||!L.mapValue)return;L=L.mapValue.fields}return L[q[0]]}toWriteProto(){return{update:{name:this._ref.formattedName,fields:this._fieldsProto}}}toDocumentProto(){var D,L;return{name:this._ref.formattedName,createTime:(D=this.createTime)==null?void 0:D.toProto().timestampValue,updateTime:(L=this.updateTime)==null?void 0:L.toProto().timestampValue,fields:this._fieldsProto}}isEqual(D){return this===D||D instanceof p&&this._ref.isEqual(D._ref)&&c(this._fieldsProto,D._fieldsProto)}}document$1.DocumentSnapshot=p;class g extends p{get createTime(){return super.createTime}get updateTime(){return super.updateTime}data(){const D=super.data();if(!D)throw new Error("The data in a QueryDocumentSnapshot should always exist.");return D}}document$1.QueryDocumentSnapshot=g;class w{constructor(D){ce(this,"_sortedPaths");this._sortedPaths=D,this._sortedPaths.sort((L,q)=>L.compareTo(q))}static fromUpdateMap(D){const L=[];return D.forEach((q,M)=>{(!(q instanceof d.FieldTransform)||q.includeInDocumentMask)&&L.push(y.FieldPath.fromArgument(M))}),new w(L)}static fromFieldMask(D){const L=[];for(const q of D)L.push(y.FieldPath.fromArgument(q));return new w(L)}static fromObject(D){const L=[];function q(M,U){let V=!0;for(const $ of Object.keys(M)){V=!1;const z=new y.FieldPath($),W=U?U.append(z):z,J=M[$];J instanceof d.FieldTransform?J.includeInDocumentMask&&L.push(W):(0,E.isPlainObject)(J)?q(J,W):J!==void 0&&L.push(W)}U&&V&&L.push(U)}return q(D),new w(L)}get isEmpty(){return this._sortedPaths.length===0}static removeFromSortedArray(D,L){for(let q=0;q<D.length;){let M=!1;for(const U of L)if(D[q].isEqual(U)){D.splice(q,1),M=!0;break}M||++q}}removeFields(D){w.removeFromSortedArray(this._sortedPaths,D)}contains(D){for(const L of this._sortedPaths){const q=L.compareTo(D);if(q===0)return!0;if(q>0)return!1}return!1}applyTo(D){/*!
 * Applies this DocumentMask to 'data' and computes the list of field paths
 * that were specified in the mask but are not present in 'data'.
 */const q=(M=>{const U=this._sortedPaths.slice(0),V=(z,W)=>{let J=null;return Object.keys(z).forEach(Y=>{const Q=W?W.append(Y):new y.FieldPath(Y);if(this.contains(Q))w.removeFromSortedArray(U,[Q]),J=J||{},J[Y]=z[Y];else if((0,E.isObject)(z[Y])){const H=V(z[Y],Q);H&&(J=J||{},J[Y]=H)}}),J};return{filteredData:V(M)||{},remainingPaths:U}})(D);if(q.remainingPaths.length!==0)throw new Error(`Input data is missing for field "${q.remainingPaths[0]}".`);return q.filteredData}toProto(){if(this.isEmpty)return{};const D=[];for(const L of this._sortedPaths)D.push(L.formattedName);return{fieldPaths:D}}}document$1.DocumentMask=w;class R{constructor(D,L){ce(this,"ref");ce(this,"transforms");this.ref=D,this.transforms=L}static fromObject(D,L){const q=new Map;for(const M of Object.keys(L))q.set(new y.FieldPath(M),L[M]);return R.fromUpdateMap(D,q)}static fromUpdateMap(D,L){const q=new Map;function M(U,V,$){if(U instanceof d.FieldTransform&&U.includeInDocumentTransform)if($)q.set(V,U);else throw new Error(`${U.methodName}() is not supported inside of array values.`);else if(Array.isArray(U))for(let z=0;z<U.length;++z)M(U[z],V.append(String(z)),!1);else if((0,E.isPlainObject)(U))for(const z of Object.keys(U))M(U[z],V.append(new y.FieldPath(z)),$)}return L.forEach((U,V)=>{M(U,y.FieldPath.fromArgument(V),!0)}),new R(D,q)}get isEmpty(){return this.transforms.size===0}get fields(){return Array.from(this.transforms.keys())}validate(){const D=!!this.ref.firestore._settings.ignoreUndefinedProperties;this.transforms.forEach(L=>L.validate(D))}toProto(D){return Array.from(this.transforms,([L,q])=>q.toProto(D,L))}}document$1.DocumentTransform=R;class C{constructor(D){ce(this,"_exists");ce(this,"_lastUpdateTime");D!==void 0&&(this._exists=D.exists,this._lastUpdateTime=D.lastUpdateTime)}toProto(){if(this.isEmpty)return null;const D={};return this._lastUpdateTime!==void 0?D.updateTime=this._lastUpdateTime.toProto().timestampValue:D.exists=this._exists,D}get isEmpty(){return this._exists===void 0&&!this._lastUpdateTime}}return document$1.Precondition=C,document$1}var hasRequiredWriteBatch;function requireWriteBatch(){if(hasRequiredWriteBatch)return writeBatch;hasRequiredWriteBatch=1;/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(writeBatch,"__esModule",{value:!0}),writeBatch.WriteBatch=writeBatch.WriteResult=void 0,writeBatch.validateSetOptions=D,writeBatch.validateDocumentData=L,writeBatch.validateFieldValue=q;const c=requireDocument(),u=requireLogger(),d=requirePath(),y=requireHelpers$1(),O=requireSerializer(),T=requireTimestamp(),E=requireUtil(),v=requireValidate(),p=requireTraceUtil();class g{constructor($){ce(this,"_writeTime");this._writeTime=$}get writeTime(){return this._writeTime}isEqual($){return this===$||$ instanceof g&&this._writeTime.isEqual($._writeTime)}}writeBatch.WriteResult=g;class w{constructor($){ce(this,"_firestore");ce(this,"_serializer");ce(this,"_allowUndefined");ce(this,"_ops",[]);ce(this,"_committed",!1);this._firestore=$,this._serializer=new O.Serializer($),this._allowUndefined=!!$._settings.ignoreUndefinedProperties}get _opCount(){return this._ops.length}get isEmpty(){return this._ops.length===0}verifyNotCommitted(){if(this._committed)throw new Error("Cannot modify a WriteBatch that has been committed.")}create($,z){const W=(0,y.validateDocumentReference)("documentRef",$),J=W._converter.toFirestore(z);L("data",J,!1,this._allowUndefined),this.verifyNotCommitted();const Y=c.DocumentTransform.fromObject(W,J);Y.validate();const Q=new c.Precondition({exists:!1}),H=()=>{const ne=c.DocumentSnapshot.fromObject(W,J).toWriteProto();return Y.isEmpty||(ne.updateTransforms=Y.toProto(this._serializer)),ne.currentDocument=Q.toProto(),ne};return this._ops.push({docPath:$.path,op:H}),this}delete($,z){const W=(0,y.validateDocumentReference)("documentRef",$);N("precondition",z,{optional:!0}),this.verifyNotCommitted();const J=new c.Precondition(z),Y=()=>{const Q={delete:W.formattedName};return J.isEmpty||(Q.currentDocument=J.toProto()),Q};return this._ops.push({docPath:$.path,op:Y}),this}set($,z,W){D("options",W,{optional:!0});const J=W&&"merge"in W&&W.merge,Y=W&&"mergeFields"in W,Q=(0,y.validateDocumentReference)("documentRef",$);let H;J||Y?H=Q._converter.toFirestore(z,W):H=Q._converter.toFirestore(z),L("data",H,!!(Y||J),this._allowUndefined),this.verifyNotCommitted();let te;Y&&(te=c.DocumentMask.fromFieldMask(W.mergeFields),H=te.applyTo(H));const ne=c.DocumentTransform.fromObject(Q,H);ne.validate();const oe=()=>{const ie=c.DocumentSnapshot.fromObject(Q,H);Y?te.removeFields(ne.fields):J&&(te=c.DocumentMask.fromObject(H));const ee=ie.toWriteProto();return ne.isEmpty||(ee.updateTransforms=ne.toProto(this._serializer)),(Y||J)&&(ee.updateMask=te.toProto()),ee};return this._ops.push({docPath:$.path,op:oe}),this}update($,z,...W){(0,v.validateMinNumberOfArguments)("WriteBatch.update",arguments,2),(0,y.validateDocumentReference)("documentRef",$),this.verifyNotCommitted();const J=new Map;let Y=new c.Precondition({exists:!0});const Q="Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition.";if(typeof z=="string"||z instanceof d.FieldPath){const ee=[z,...W];try{for(let ue=0;ue<ee.length;ue+=2)if(ue===ee.length-1){const fe=ee[ue];C(ue+1,fe),Y=new c.Precondition(fe)}else{const fe=ee[ue];(0,d.validateFieldPath)(ue+1,fe),(0,v.validateMinNumberOfArguments)("update",ee,ue+1);const de=d.FieldPath.fromArgument(fe);q(ue+1,ee[ue+1],this._allowUndefined,de),J.set(de,ee[ue+1])}}catch(ue){throw(0,u.logger)("WriteBatch.update",null,"Varargs validation failed:",ue),new Error(`${Q} ${ue.message}`)}}else try{U("dataOrField",z,this._allowUndefined),(0,v.validateMaxNumberOfArguments)("update",arguments,3),Object.entries(z).forEach(([ie,ee])=>{ee!==void 0&&((0,d.validateFieldPath)(ie,ie),J.set(d.FieldPath.fromArgument(ie),ee))}),W.length>0&&(C("preconditionOrValues",W[0]),Y=new c.Precondition(W[0]))}catch(ie){throw(0,u.logger)("WriteBatch.update",null,"Non-varargs validation failed:",ie),new Error(`${Q} ${ie.message}`)}M("dataOrField",J);const te=c.DocumentTransform.fromUpdateMap($,J);te.validate();const ne=c.DocumentMask.fromUpdateMap(J),oe=()=>{const ee=c.DocumentSnapshot.fromUpdateMap($,J).toWriteProto();return ee.updateMask=ne.toProto(),te.isEmpty||(ee.updateTransforms=te.toProto(this._serializer)),ee.currentDocument=Y.toProto(),ee};return this._ops.push({docPath:$.path,op:oe}),this}commit(){return this._firestore._traceUtil.startActiveSpan(p.SPAN_NAME_BATCH_COMMIT,async()=>{const $=Error().stack,z=[10,...(0,E.getRetryCodes)("commit")];return this._commit({retryCodes:z}).then(W=>(W.writeResults||[]).map(J=>new g(T.Timestamp.fromProto(J.updateTime||W.commitTime)))).catch(W=>{throw(0,E.wrapError)(W,$)})},{[p.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!1,[p.ATTRIBUTE_KEY_DOC_COUNT]:this._opCount})}async _commit($){this._committed=!0;const z=($==null?void 0:$.requestTag)??(0,E.requestTag)();await this._firestore.initializeIfNeeded(z);const W={database:this._firestore.formattedName,writes:this._ops.map(J=>J.op())};return $!=null&&$.transactionId&&(W.transaction=$.transactionId),(0,u.logger)("WriteBatch.commit",z,"Sending %d writes",W.writes.length),this._firestore.request(($==null?void 0:$.methodName)||"commit",W,z,$==null?void 0:$.retryCodes)}_reset(){this._ops.splice(0),this._committed=!1}}writeBatch.WriteBatch=w;function R(V,$,z){if(typeof $!="object"||$===null)throw new Error("Input is not an object.");const W=$;let J=0;if(W.exists!==void 0){if(++J,typeof W.exists!="boolean")throw new Error(`${(0,v.invalidArgumentMessage)(V,"precondition")} "exists" is not a boolean.'`);if(z!=null&&z.allowedExistsValues&&z.allowedExistsValues.indexOf(W.exists)<0)throw new Error(`${(0,v.invalidArgumentMessage)(V,"precondition")} "exists" is not allowed to have the value ${W.exists} (allowed values: ${z.allowedExistsValues.join(", ")})`)}if(W.lastUpdateTime!==void 0&&(++J,!(W.lastUpdateTime instanceof T.Timestamp)))throw new Error(`${(0,v.invalidArgumentMessage)(V,"precondition")} "lastUpdateTime" is not a Firestore Timestamp.`);if(J>1)throw new Error(`${(0,v.invalidArgumentMessage)(V,"precondition")} Input specifies more than one precondition.`)}function C(V,$,z){(0,v.validateOptional)($,z)||R(V,$,{allowedExistsValues:[!0]})}function N(V,$,z){(0,v.validateOptional)($,z)||R(V,$)}function D(V,$,z){if(!(0,v.validateOptional)($,z)){if(!(0,E.isObject)($))throw new Error(`${(0,v.invalidArgumentMessage)(V,"set() options argument")} Input is not an object.`);const W=$;if("mergeFields"in W)for(let J=0;J<W.mergeFields.length;++J)try{(0,d.validateFieldPath)(J,W.mergeFields[J])}catch(Y){throw new Error(`${(0,v.invalidArgumentMessage)(V,"set() options argument")} "mergeFields" is not valid: ${Y.message}`)}if("merge"in W&&"mergeFields"in W)throw new Error(`${(0,v.invalidArgumentMessage)(V,"set() options argument")} You cannot specify both "merge" and "mergeFields".`)}}function L(V,$,z,W){if(!(0,E.isPlainObject)($))throw new Error((0,v.customObjectMessage)(V,$));(0,O.validateUserInput)(V,$,"Firestore document",{allowDeletes:z?"all":"none",allowTransforms:!0,allowUndefined:W})}function q(V,$,z,W){(0,O.validateUserInput)(V,$,"Firestore value",{allowDeletes:"root",allowTransforms:!0,allowUndefined:z},W)}function M(V,$){const z=[];$.forEach((W,J)=>{z.push(J)}),z.sort((W,J)=>W.compareTo(J));for(let W=1;W<z.length;++W)if(z[W-1].isPrefixOf(z[W]))throw new Error(`${(0,v.invalidArgumentMessage)(V,"update map")} Field "${z[W-1]}" was specified multiple times.`)}function U(V,$,z){if(!(0,E.isPlainObject)($))throw new Error((0,v.customObjectMessage)(V,$));if(Object.keys($).length===0)throw new Error("At least one field must be updated.");q(V,$,z)}return writeBatch}var hasRequiredBulkWriter;function requireBulkWriter(){return hasRequiredBulkWriter||(hasRequiredBulkWriter=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.BulkWriter=c.BulkWriterError=c.DEFAULT_JITTER_FACTOR=c.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=c.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=c.RETRY_MAX_BATCH_SIZE=void 0;const u=require$$0$d,d=requireBackoff(),y=requireRateLimiter(),O=requireTimestamp(),T=requireUtil(),E=requireWriteBatch(),v=requireValidate(),p=requireLogger(),g=requireTraceUtil();/*!
 * The maximum number of writes that can be in a single batch.
 */const w=20;/*!
 * The maximum number of writes can be can in a single batch that is being retried.
 */c.RETRY_MAX_BATCH_SIZE=10;/*!
 * The starting maximum number of operations per second as allowed by the
 * 500/50/5 rule.
 *
 * https://firebase.google.com/docs/firestore/best-practices#ramping_up_traffic.
 */c.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=500;/*!
 * The maximum number of operations per second as allowed by the 500/50/5 rule.
 * By default the rate limiter will not exceed this value.
 *
 * https://firebase.google.com/docs/firestore/best-practices#ramping_up_traffic.
 */c.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=1e4;/*!
 * The default jitter to apply to the exponential backoff used in retries. For
 * example, a factor of 0.3 means a 30% jitter is applied.
 */c.DEFAULT_JITTER_FACTOR=.3;/*!
 * The rate by which to increase the capacity as specified by the 500/50/5 rule.
 */const R=1.5;/*!
 * How often the operations per second capacity should increase in milliseconds
 * as specified by the 500/50/5 rule.
 */const C=300*1e3;/*!
 * The default maximum number of pending operations that can be enqueued onto a
 * BulkWriter instance. An operation is considered pending if BulkWriter has
 * sent it via RPC and is awaiting the result. BulkWriter buffers additional
 * writes after this many pending operations in order to avoiding going OOM.
 */const N=500;class D{constructor(z,W,J,Y,Q){ce(this,"ref");ce(this,"type");ce(this,"sendFn");ce(this,"errorFn");ce(this,"successFn");ce(this,"deferred",new T.Deferred);ce(this,"failedAttempts",0);ce(this,"lastStatus");ce(this,"_backoffDuration",0);ce(this,"_flushed",!1);this.ref=z,this.type=W,this.sendFn=J,this.errorFn=Y,this.successFn=Q}get promise(){return this.deferred.promise}get backoffDuration(){return this._backoffDuration}markFlushed(){this._flushed=!0}get flushed(){return this._flushed}onError(z){++this.failedAttempts;try{const W=new M(z.code,z.message,this.ref,this.type,this.failedAttempts),J=this.errorFn(W);(0,p.logger)("BulkWriter.errorFn",null,"Ran error callback on error code:",z.code,", shouldRetry:",J," for document:",this.ref.path),J?(this.lastStatus=z.code,this.updateBackoffDuration(),this.sendFn(this)):this.deferred.reject(W)}catch(W){this.deferred.reject(W)}}updateBackoffDuration(){this.lastStatus===8?this._backoffDuration=d.DEFAULT_BACKOFF_MAX_DELAY_MS:this._backoffDuration===0?this._backoffDuration=d.DEFAULT_BACKOFF_INITIAL_DELAY_MS:this._backoffDuration*=d.DEFAULT_BACKOFF_FACTOR}onSuccess(z){try{this.successFn(this.ref,z),this.deferred.resolve(z)}catch(W){this.deferred.reject(W)}}}class L extends E.WriteBatch{constructor(W,J){super(W);ce(this,"docPaths",new Set);ce(this,"pendingOps",[]);ce(this,"_maxBatchSize");this._maxBatchSize=J}get maxBatchSize(){return this._maxBatchSize}setMaxBatchSize(W){u(this.pendingOps.length<=W,"New batch size cannot be less than the number of enqueued writes"),this._maxBatchSize=W}has(W){return this.docPaths.has(W.path)}async bulkCommit(W={}){return this._firestore._traceUtil.startActiveSpan(g.SPAN_NAME_BULK_WRITER_COMMIT,async()=>{const J=(W==null?void 0:W.requestTag)??(0,T.requestTag)(),Y=Error().stack;let Q;try{(0,p.logger)("BulkCommitBatch.bulkCommit",J,`Sending next batch with ${this._opCount} writes`);const H=(0,T.getRetryCodes)("batchWrite");Q=await this._commit({retryCodes:H,methodName:"batchWrite",requestTag:J})}catch(H){const te=Array.from({length:this.pendingOps.length});Q={writeResults:te.map(()=>({})),status:te.map(()=>H)}}for(let H=0;H<(Q.writeResults||[]).length;++H){const te=O.Timestamp.fromMillis(0),ne=(Q.status||[])[H];if(ne.code===0){const oe=O.Timestamp.fromProto(Q.writeResults[H].updateTime||te);this.pendingOps[H].onSuccess(new E.WriteResult(oe))}else{const oe=new(requireFallback()).GoogleError(ne.message||void 0);oe.code=ne.code,this.pendingOps[H].onError((0,T.wrapError)(oe,Y))}}},{[g.ATTRIBUTE_KEY_DOC_COUNT]:this._opCount})}processLastOperation(W){u(!this.docPaths.has(W.ref.path),"Batch should not contain writes to the same document"),this.docPaths.add(W.ref.path),this.pendingOps.push(W)}}class q{constructor(z,W){ce(this,"operation");ce(this,"sendFn");this.operation=z,this.sendFn=W}}class M extends Error{constructor(W,J,Y,Q,H){super(J);ce(this,"code");ce(this,"message");ce(this,"documentRef");ce(this,"operationType");ce(this,"failedAttempts");this.code=W,this.message=J,this.documentRef=Y,this.operationType=Q,this.failedAttempts=H}}c.BulkWriterError=M;class U{constructor(z,W){ce(this,"firestore");ce(this,"_maxBatchSize",w);ce(this,"_bulkCommitBatch");ce(this,"_lastOp",Promise.resolve());ce(this,"_closePromise");ce(this,"_rateLimiter");ce(this,"_pendingOpsCount",0);ce(this,"_bufferedOperations",[]);ce(this,"_errorHandlerSet",!1);ce(this,"_maxPendingOpCount",N);ce(this,"_successFn",()=>{});ce(this,"_errorFn",z=>{const W=z.operationType==="delete"&&z.code===13;return((0,T.getRetryCodes)("batchWrite").includes(z.code)||W)&&z.failedAttempts<d.MAX_RETRY_ATTEMPTS});var J,Y;if(this.firestore=z,this._bulkCommitBatch=new L(this.firestore,this._maxBatchSize),this.firestore._incrementBulkWritersCount(),V(W),(W==null?void 0:W.throttling)===!1)this._rateLimiter=new y.RateLimiter(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);else{let Q=c.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT,H=c.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT;typeof(W==null?void 0:W.throttling)!="boolean"&&(((J=W==null?void 0:W.throttling)==null?void 0:J.maxOpsPerSecond)!==void 0&&(H=W.throttling.maxOpsPerSecond),((Y=W==null?void 0:W.throttling)==null?void 0:Y.initialOpsPerSecond)!==void 0&&(Q=W.throttling.initialOpsPerSecond),H<Q&&(Q=H),Q<this._maxBatchSize&&(this._maxBatchSize=Q)),this._rateLimiter=new y.RateLimiter(Q,R,C,H)}}_getBufferedOperationsCount(){return this._bufferedOperations.length}_setMaxBatchSize(z){u(this._bulkCommitBatch.pendingOps.length===0,"BulkCommitBatch should be empty"),this._maxBatchSize=z,this._bulkCommitBatch=new L(this.firestore,z)}_setMaxPendingOpCount(z){this._maxPendingOpCount=z}create(z,W){return this._verifyNotClosed(),this._enqueue(z,"create",J=>J.create(z,W))}delete(z,W){return this._verifyNotClosed(),this._enqueue(z,"delete",J=>J.delete(z,W))}set(z,W,J){return this._verifyNotClosed(),this._enqueue(z,"set",Y=>J?Y.set(z,W,J):Y.set(z,W))}update(z,W,...J){return this._verifyNotClosed(),this._enqueue(z,"update",Y=>Y.update(z,W,...J))}onWriteResult(z){this._successFn=z}onWriteError(z){this._errorHandlerSet=!0,this._errorFn=z}flush(){return this._verifyNotClosed(),this._scheduleCurrentBatch(!0),this._bufferedOperations.length>0&&this._bufferedOperations[this._bufferedOperations.length-1].operation.markFlushed(),this._lastOp}close(){return this._closePromise||(this._closePromise=this.flush(),this.firestore._decrementBulkWritersCount()),this._closePromise}_verifyNotClosed(){if(this._closePromise)throw new Error("BulkWriter has already been closed.")}_scheduleCurrentBatch(z=!1){if(this._bulkCommitBatch._opCount===0)return;const W=this._bulkCommitBatch;this._bulkCommitBatch=new L(this.firestore,this._maxBatchSize);const J=W.pendingOps.reduce((H,te)=>H.backoffDuration>te.backoffDuration?H:te).backoffDuration,Y=U._applyJitter(J),Q=new T.Deferred;Y>0?(0,d.delayExecution)(()=>Q.resolve(),Y):Q.resolve(),Q.promise.then(()=>this._sendBatch(W,z))}async _sendBatch(z,W=!1){const J=(0,T.requestTag)();if(this._rateLimiter.tryMakeRequest(z._opCount))await z.bulkCommit({requestTag:J}),W&&this._scheduleCurrentBatch(W);else{const Q=this._rateLimiter.getNextRequestDelayMs(z._opCount);(0,p.logger)("BulkWriter._sendBatch",J,`Backing off for ${Q} seconds`),(0,d.delayExecution)(()=>this._sendBatch(z,W),Q)}}static _applyJitter(z){if(z===0)return 0;const W=c.DEFAULT_JITTER_FACTOR*(Math.random()*2-1);return Math.min(d.DEFAULT_BACKOFF_MAX_DELAY_MS,z+W*z)}_enqueue(z,W,J){const Y=new D(z,W,this._sendFn.bind(this,J),this._errorFn.bind(this),this._successFn.bind(this)),Q=Y.promise.catch(H=>{if(this._errorHandlerSet)return Y.promise;throw H});return this._lastOp=this._lastOp.then(()=>(0,T.silencePromise)(Q)),this._pendingOpsCount<this._maxPendingOpCount?(this._pendingOpsCount++,this._sendFn(J,Y)):this._bufferedOperations.push(new q(Y,()=>{this._pendingOpsCount++,this._sendFn(J,Y)})),Q.then(H=>(this._pendingOpsCount--,this._processBufferedOps(),H)).catch(H=>{throw this._pendingOpsCount--,this._processBufferedOps(),H})}_processBufferedOps(){this._pendingOpsCount<this._maxPendingOpCount&&this._bufferedOperations.length>0&&this._bufferedOperations.shift().sendFn()}_sendFn(z,W){W.backoffDuration>0&&(this._bulkCommitBatch.pendingOps.length>=c.RETRY_MAX_BATCH_SIZE&&this._scheduleCurrentBatch(!1),this._bulkCommitBatch.setMaxBatchSize(c.RETRY_MAX_BATCH_SIZE)),this._bulkCommitBatch.has(W.ref)&&this._scheduleCurrentBatch(),z(this._bulkCommitBatch),this._bulkCommitBatch.processLastOperation(W),this._bulkCommitBatch._opCount===this._bulkCommitBatch.maxBatchSize?this._scheduleCurrentBatch():W.flushed&&this._scheduleCurrentBatch(!0)}}c.BulkWriter=U;function V($){if((0,v.validateOptional)($,{optional:!0}))return;const z="options";if(!(0,T.isObject)($))throw new Error(`${(0,v.invalidArgumentMessage)(z,"bulkWriter() options argument")} Input is not an object.`);const W=$;if(!(W.throttling===void 0||typeof W.throttling=="boolean")&&(W.throttling.initialOpsPerSecond!==void 0&&(0,v.validateInteger)("initialOpsPerSecond",W.throttling.initialOpsPerSecond,{minValue:1}),W.throttling.maxOpsPerSecond!==void 0&&((0,v.validateInteger)("maxOpsPerSecond",W.throttling.maxOpsPerSecond,{minValue:1}),W.throttling.initialOpsPerSecond!==void 0&&W.throttling.initialOpsPerSecond>W.throttling.maxOpsPerSecond)))throw new Error(`${(0,v.invalidArgumentMessage)(z,"bulkWriter() options argument")} "maxOpsPerSecond" cannot be less than "initialOpsPerSecond".`)}})(bulkWriter)),bulkWriter}var bundle={},firestore_v1_proto_api={exports:{}},hasRequiredFirestore_v1_proto_api;function requireFirestore_v1_proto_api(){return hasRequiredFirestore_v1_proto_api||(hasRequiredFirestore_v1_proto_api=1,(function(c){(u=>{typeof commonjsRequire=="function"&&c&&c.exports&&(c.exports=u(requireMinimal()))})(function(u){var d,y,O,T,E,v=u.util,p=u.roots.firestore_v1||(u.roots.firestore_v1={});function g(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function w(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function R(n){if(this.queries=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function C(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function N(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function D(n){if(this.aggregateFields={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function L(n){if(this.fields={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function q(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function M(n){if(this.values=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function U(n){if(this.fields={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function V(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function $(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function z(n){if(this.fieldPaths=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function W(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function J(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Y(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Q(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function H(n,b,_){u.rpc.Service.call(this,n,b,_)}function te(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ne(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function oe(n){if(this.documents=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ie(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ee(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ue(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function fe(n){if(this.documents=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function de(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ge(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function me(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function _e(n){if(this.writes=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function we(n){if(this.writeResults=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Re(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Te(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ae(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Oe(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ve(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ee(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function he(n){if(this.partitions=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function l(n){if(this.writes=[],this.labels={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function P(n){if(this.writeResults=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function k(n){if(this.labels={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function K(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function pe(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Se(n){if(this.documents=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ye(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function a(n){if(this.targetIds=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function j(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function G(n){if(this.collectionIds=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function o(n){if(this.writes=[],this.labels={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function I(n){if(this.writeResults=[],this.status=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function B(n){if(this.from=[],this.orderBy=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ae(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ce(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ue(n){if(this.filters=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function He(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ve(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ke(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function st(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function vt(n){if(this.fields=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ft(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function yt(n){if(this.aggregations=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function tt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ke(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function je(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ne(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Me(n){if(this.values=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Be(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Je(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function et(n){if(this.indexesUsed=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function rt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Le(n){if(this.updateTransforms=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function $e(n){if(this.fieldTransforms=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ye(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function lt(n){if(this.transformResults=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ot(n){if(this.targetIds=[],this.removedTargetIds=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Et(n){if(this.removedTargetIds=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function kt(n){if(this.removedTargetIds=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function jr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function $r(n){if(this.rules=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Tt(n){if(this.additionalBindings=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function br(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function sr(n){if(this.destinations=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Rt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function mt(n){if(this.methodSettings=[],this.codeownerGithubTeams=[],this.librarySettings=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function vr(n){if(this.serviceClassNames={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function dn(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function pn(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function It(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Pt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ht(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ft(n){if(this.renamedServices={},this.renamedResources={},this.ignoredResources=[],this.forcedNamespaceAliases=[],this.handwrittenSignatures=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Wt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function xr(n){if(this.renamedServices={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Zt(n){if(this.autoPopulatedFields=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function lr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ur(n){if(this.methods=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function At(n){if(this.pattern=[],this.style=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function kr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Hr(n){if(this.file=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function _t(n){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ot(n){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function cr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function _r(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function er(n){if(this.uninterpretedOption=[],this.declaration=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function dr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function St(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Wr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function zt(n){if(this.value=[],this.reservedRange=[],this.reservedName=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Jt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Fr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function tr(n){if(this.method=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ct(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function ct(n){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function gt(n){if(this.uninterpretedOption=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function dt(n){if(this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Or(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Mr(n){if(this.uninterpretedOption=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Mt(n){if(this.uninterpretedOption=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Yt(n){if(this.uninterpretedOption=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Qt(n){if(this.uninterpretedOption=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Lt(n){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function qt(n){if(this.name=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Sr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function bt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Er(n){if(this.defaults=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function zr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Jr(n){if(this.location=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function rr(n){if(this.path=[],this.span=[],this.leadingDetachedComments=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Lr(n){if(this.annotation=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function nr(n){if(this.path=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Yr(n){if(this.fields={},n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Nt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ut(n){if(this.values=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Bt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function qr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function fn(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Qr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Tr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function pr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function wr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Rr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function gn(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function hn(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function mn(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function An(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Kr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function yn(n){if(this.paths=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Ur(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Br(n){if(this.details=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Vr(n,b,_){u.rpc.Service.call(this,n,b,_)}function ir(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Vt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function fr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Xr(n){if(this.operations=[],n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Zr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function or(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function Kt(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}function gr(n){if(n)for(var b=Object.keys(n),_=0;_<b.length;++_)n[b[_]]!=null&&(this[b[_]]=n[b[_]])}return p.firestore=((O={}).BundledQuery=(g.prototype.parent="",g.prototype.structuredQuery=null,g.prototype.limitType=0,Object.defineProperty(g.prototype,"queryType",{get:v.oneOfGetter(y=["structuredQuery"]),set:v.oneOfSetter(y)}),g.fromObject=function(n){if(n instanceof p.firestore.BundledQuery)return n;var b=new p.firestore.BundledQuery;if(n.parent!=null&&(b.parent=String(n.parent)),n.structuredQuery!=null){if(typeof n.structuredQuery!="object")throw TypeError(".firestore.BundledQuery.structuredQuery: object expected");b.structuredQuery=p.google.firestore.v1.StructuredQuery.fromObject(n.structuredQuery)}switch(n.limitType){default:typeof n.limitType=="number"&&(b.limitType=n.limitType);break;case"FIRST":case 0:b.limitType=0;break;case"LAST":case 1:b.limitType=1}return b},g.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.parent="",_.limitType=b.enums===String?"FIRST":0),n.parent!=null&&n.hasOwnProperty("parent")&&(_.parent=n.parent),n.structuredQuery!=null&&n.hasOwnProperty("structuredQuery")&&(_.structuredQuery=p.google.firestore.v1.StructuredQuery.toObject(n.structuredQuery,b),b.oneofs)&&(_.queryType="structuredQuery"),n.limitType!=null&&n.hasOwnProperty("limitType")&&(_.limitType=b.enums!==String||p.firestore.BundledQuery.LimitType[n.limitType]===void 0?n.limitType:p.firestore.BundledQuery.LimitType[n.limitType]),_},g.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},g.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/firestore.BundledQuery"},g.LimitType=(y={},(E=Object.create(y))[y[0]="FIRST"]="FIRST",E[y[1]="LAST"]="LAST",E),g),O.NamedQuery=(w.prototype.name="",w.prototype.bundledQuery=null,w.prototype.readTime=null,w.fromObject=function(n){if(n instanceof p.firestore.NamedQuery)return n;var b=new p.firestore.NamedQuery;if(n.name!=null&&(b.name=String(n.name)),n.bundledQuery!=null){if(typeof n.bundledQuery!="object")throw TypeError(".firestore.NamedQuery.bundledQuery: object expected");b.bundledQuery=p.firestore.BundledQuery.fromObject(n.bundledQuery)}if(n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".firestore.NamedQuery.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},w.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.bundledQuery=null,_.readTime=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.bundledQuery!=null&&n.hasOwnProperty("bundledQuery")&&(_.bundledQuery=p.firestore.BundledQuery.toObject(n.bundledQuery,b)),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b)),_},w.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},w.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/firestore.NamedQuery"},w),O.BundledDocumentMetadata=(R.prototype.name="",R.prototype.readTime=null,R.prototype.exists=!1,R.prototype.queries=v.emptyArray,R.fromObject=function(n){if(n instanceof p.firestore.BundledDocumentMetadata)return n;var b=new p.firestore.BundledDocumentMetadata;if(n.name!=null&&(b.name=String(n.name)),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".firestore.BundledDocumentMetadata.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}if(n.exists!=null&&(b.exists=!!n.exists),n.queries){if(!Array.isArray(n.queries))throw TypeError(".firestore.BundledDocumentMetadata.queries: array expected");b.queries=[];for(var _=0;_<n.queries.length;++_)b.queries[_]=String(n.queries[_])}return b},R.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.queries=[]),b.defaults&&(_.name="",_.readTime=null,_.exists=!1),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b)),n.exists!=null&&n.hasOwnProperty("exists")&&(_.exists=n.exists),n.queries&&n.queries.length){_.queries=[];for(var le=0;le<n.queries.length;++le)_.queries[le]=n.queries[le]}return _},R.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},R.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/firestore.BundledDocumentMetadata"},R),O.BundleMetadata=(C.prototype.id="",C.prototype.createTime=null,C.prototype.version=0,C.prototype.totalDocuments=0,C.prototype.totalBytes=v.Long?v.Long.fromBits(0,0,!0):0,C.fromObject=function(n){if(n instanceof p.firestore.BundleMetadata)return n;var b=new p.firestore.BundleMetadata;if(n.id!=null&&(b.id=String(n.id)),n.createTime!=null){if(typeof n.createTime!="object")throw TypeError(".firestore.BundleMetadata.createTime: object expected");b.createTime=p.google.protobuf.Timestamp.fromObject(n.createTime)}return n.version!=null&&(b.version=n.version>>>0),n.totalDocuments!=null&&(b.totalDocuments=n.totalDocuments>>>0),n.totalBytes!=null&&(v.Long?(b.totalBytes=v.Long.fromValue(n.totalBytes)).unsigned=!0:typeof n.totalBytes=="string"?b.totalBytes=parseInt(n.totalBytes,10):typeof n.totalBytes=="number"?b.totalBytes=n.totalBytes:typeof n.totalBytes=="object"&&(b.totalBytes=new v.LongBits(n.totalBytes.low>>>0,n.totalBytes.high>>>0).toNumber(!0))),b},C.toObject=function(n,b){var _,le={};return(b=b||{}).defaults&&(le.id="",le.createTime=null,le.version=0,le.totalDocuments=0,v.Long?(_=new v.Long(0,0,!0),le.totalBytes=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.totalBytes=b.longs===String?"0":0),n.id!=null&&n.hasOwnProperty("id")&&(le.id=n.id),n.createTime!=null&&n.hasOwnProperty("createTime")&&(le.createTime=p.google.protobuf.Timestamp.toObject(n.createTime,b)),n.version!=null&&n.hasOwnProperty("version")&&(le.version=n.version),n.totalDocuments!=null&&n.hasOwnProperty("totalDocuments")&&(le.totalDocuments=n.totalDocuments),n.totalBytes!=null&&n.hasOwnProperty("totalBytes")&&(typeof n.totalBytes=="number"?le.totalBytes=b.longs===String?String(n.totalBytes):n.totalBytes:le.totalBytes=b.longs===String?v.Long.prototype.toString.call(n.totalBytes):b.longs===Number?new v.LongBits(n.totalBytes.low>>>0,n.totalBytes.high>>>0).toNumber(!0):n.totalBytes),le},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/firestore.BundleMetadata"},C),O.BundleElement=(N.prototype.metadata=null,N.prototype.namedQuery=null,N.prototype.documentMetadata=null,N.prototype.document=null,Object.defineProperty(N.prototype,"elementType",{get:v.oneOfGetter(y=["metadata","namedQuery","documentMetadata","document"]),set:v.oneOfSetter(y)}),N.fromObject=function(n){if(n instanceof p.firestore.BundleElement)return n;var b=new p.firestore.BundleElement;if(n.metadata!=null){if(typeof n.metadata!="object")throw TypeError(".firestore.BundleElement.metadata: object expected");b.metadata=p.firestore.BundleMetadata.fromObject(n.metadata)}if(n.namedQuery!=null){if(typeof n.namedQuery!="object")throw TypeError(".firestore.BundleElement.namedQuery: object expected");b.namedQuery=p.firestore.NamedQuery.fromObject(n.namedQuery)}if(n.documentMetadata!=null){if(typeof n.documentMetadata!="object")throw TypeError(".firestore.BundleElement.documentMetadata: object expected");b.documentMetadata=p.firestore.BundledDocumentMetadata.fromObject(n.documentMetadata)}if(n.document!=null){if(typeof n.document!="object")throw TypeError(".firestore.BundleElement.document: object expected");b.document=p.google.firestore.v1.Document.fromObject(n.document)}return b},N.toObject=function(n,b){b=b||{};var _={};return n.metadata!=null&&n.hasOwnProperty("metadata")&&(_.metadata=p.firestore.BundleMetadata.toObject(n.metadata,b),b.oneofs)&&(_.elementType="metadata"),n.namedQuery!=null&&n.hasOwnProperty("namedQuery")&&(_.namedQuery=p.firestore.NamedQuery.toObject(n.namedQuery,b),b.oneofs)&&(_.elementType="namedQuery"),n.documentMetadata!=null&&n.hasOwnProperty("documentMetadata")&&(_.documentMetadata=p.firestore.BundledDocumentMetadata.toObject(n.documentMetadata,b),b.oneofs)&&(_.elementType="documentMetadata"),n.document!=null&&n.hasOwnProperty("document")&&(_.document=p.google.firestore.v1.Document.toObject(n.document,b),b.oneofs)&&(_.elementType="document"),_},N.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},N.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/firestore.BundleElement"},N),O),p.google=((E={}).firestore=((y={}).v1=((O={}).AggregationResult=(D.prototype.aggregateFields=v.emptyObject,D.fromObject=function(n){if(n instanceof p.google.firestore.v1.AggregationResult)return n;var b=new p.google.firestore.v1.AggregationResult;if(n.aggregateFields){if(typeof n.aggregateFields!="object")throw TypeError(".google.firestore.v1.AggregationResult.aggregateFields: object expected");b.aggregateFields={};for(var _=Object.keys(n.aggregateFields),le=0;le<_.length;++le){if(typeof n.aggregateFields[_[le]]!="object")throw TypeError(".google.firestore.v1.AggregationResult.aggregateFields: object expected");b.aggregateFields[_[le]]=p.google.firestore.v1.Value.fromObject(n.aggregateFields[_[le]])}}return b},D.toObject=function(n,b){var _,le={};if(((b=b||{}).objects||b.defaults)&&(le.aggregateFields={}),n.aggregateFields&&(_=Object.keys(n.aggregateFields)).length){le.aggregateFields={};for(var qe=0;qe<_.length;++qe)le.aggregateFields[_[qe]]=p.google.firestore.v1.Value.toObject(n.aggregateFields[_[qe]],b)}return le},D.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},D.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.AggregationResult"},D),O.Document=(L.prototype.name="",L.prototype.fields=v.emptyObject,L.prototype.createTime=null,L.prototype.updateTime=null,L.fromObject=function(n){if(n instanceof p.google.firestore.v1.Document)return n;var b=new p.google.firestore.v1.Document;if(n.name!=null&&(b.name=String(n.name)),n.fields){if(typeof n.fields!="object")throw TypeError(".google.firestore.v1.Document.fields: object expected");b.fields={};for(var _=Object.keys(n.fields),le=0;le<_.length;++le){if(typeof n.fields[_[le]]!="object")throw TypeError(".google.firestore.v1.Document.fields: object expected");b.fields[_[le]]=p.google.firestore.v1.Value.fromObject(n.fields[_[le]])}}if(n.createTime!=null){if(typeof n.createTime!="object")throw TypeError(".google.firestore.v1.Document.createTime: object expected");b.createTime=p.google.protobuf.Timestamp.fromObject(n.createTime)}if(n.updateTime!=null){if(typeof n.updateTime!="object")throw TypeError(".google.firestore.v1.Document.updateTime: object expected");b.updateTime=p.google.protobuf.Timestamp.fromObject(n.updateTime)}return b},L.toObject=function(n,b){var _,le={};if(((b=b||{}).objects||b.defaults)&&(le.fields={}),b.defaults&&(le.name="",le.createTime=null,le.updateTime=null),n.name!=null&&n.hasOwnProperty("name")&&(le.name=n.name),n.fields&&(_=Object.keys(n.fields)).length){le.fields={};for(var qe=0;qe<_.length;++qe)le.fields[_[qe]]=p.google.firestore.v1.Value.toObject(n.fields[_[qe]],b)}return n.createTime!=null&&n.hasOwnProperty("createTime")&&(le.createTime=p.google.protobuf.Timestamp.toObject(n.createTime,b)),n.updateTime!=null&&n.hasOwnProperty("updateTime")&&(le.updateTime=p.google.protobuf.Timestamp.toObject(n.updateTime,b)),le},L.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},L.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.Document"},L),O.Value=(q.prototype.nullValue=null,q.prototype.booleanValue=null,q.prototype.integerValue=null,q.prototype.doubleValue=null,q.prototype.timestampValue=null,q.prototype.stringValue=null,q.prototype.bytesValue=null,q.prototype.referenceValue=null,q.prototype.geoPointValue=null,q.prototype.arrayValue=null,q.prototype.mapValue=null,Object.defineProperty(q.prototype,"valueType",{get:v.oneOfGetter(T=["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]),set:v.oneOfSetter(T)}),q.fromObject=function(n){if(n instanceof p.google.firestore.v1.Value)return n;var b=new p.google.firestore.v1.Value;switch(n.nullValue){default:typeof n.nullValue=="number"&&(b.nullValue=n.nullValue);break;case"NULL_VALUE":case 0:b.nullValue=0}if(n.booleanValue!=null&&(b.booleanValue=!!n.booleanValue),n.integerValue!=null&&(v.Long?(b.integerValue=v.Long.fromValue(n.integerValue)).unsigned=!1:typeof n.integerValue=="string"?b.integerValue=parseInt(n.integerValue,10):typeof n.integerValue=="number"?b.integerValue=n.integerValue:typeof n.integerValue=="object"&&(b.integerValue=new v.LongBits(n.integerValue.low>>>0,n.integerValue.high>>>0).toNumber())),n.doubleValue!=null&&(b.doubleValue=Number(n.doubleValue)),n.timestampValue!=null){if(typeof n.timestampValue!="object")throw TypeError(".google.firestore.v1.Value.timestampValue: object expected");b.timestampValue=p.google.protobuf.Timestamp.fromObject(n.timestampValue)}if(n.stringValue!=null&&(b.stringValue=String(n.stringValue)),n.bytesValue!=null&&(typeof n.bytesValue=="string"?v.base64.decode(n.bytesValue,b.bytesValue=v.newBuffer(v.base64.length(n.bytesValue)),0):0<=n.bytesValue.length&&(b.bytesValue=n.bytesValue)),n.referenceValue!=null&&(b.referenceValue=String(n.referenceValue)),n.geoPointValue!=null){if(typeof n.geoPointValue!="object")throw TypeError(".google.firestore.v1.Value.geoPointValue: object expected");b.geoPointValue=p.google.type.LatLng.fromObject(n.geoPointValue)}if(n.arrayValue!=null){if(typeof n.arrayValue!="object")throw TypeError(".google.firestore.v1.Value.arrayValue: object expected");b.arrayValue=p.google.firestore.v1.ArrayValue.fromObject(n.arrayValue)}if(n.mapValue!=null){if(typeof n.mapValue!="object")throw TypeError(".google.firestore.v1.Value.mapValue: object expected");b.mapValue=p.google.firestore.v1.MapValue.fromObject(n.mapValue)}return b},q.toObject=function(n,b){b=b||{};var _={};return n.booleanValue!=null&&n.hasOwnProperty("booleanValue")&&(_.booleanValue=n.booleanValue,b.oneofs)&&(_.valueType="booleanValue"),n.integerValue!=null&&n.hasOwnProperty("integerValue")&&(typeof n.integerValue=="number"?_.integerValue=b.longs===String?String(n.integerValue):n.integerValue:_.integerValue=b.longs===String?v.Long.prototype.toString.call(n.integerValue):b.longs===Number?new v.LongBits(n.integerValue.low>>>0,n.integerValue.high>>>0).toNumber():n.integerValue,b.oneofs)&&(_.valueType="integerValue"),n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&(_.doubleValue=b.json&&!isFinite(n.doubleValue)?String(n.doubleValue):n.doubleValue,b.oneofs)&&(_.valueType="doubleValue"),n.referenceValue!=null&&n.hasOwnProperty("referenceValue")&&(_.referenceValue=n.referenceValue,b.oneofs)&&(_.valueType="referenceValue"),n.mapValue!=null&&n.hasOwnProperty("mapValue")&&(_.mapValue=p.google.firestore.v1.MapValue.toObject(n.mapValue,b),b.oneofs)&&(_.valueType="mapValue"),n.geoPointValue!=null&&n.hasOwnProperty("geoPointValue")&&(_.geoPointValue=p.google.type.LatLng.toObject(n.geoPointValue,b),b.oneofs)&&(_.valueType="geoPointValue"),n.arrayValue!=null&&n.hasOwnProperty("arrayValue")&&(_.arrayValue=p.google.firestore.v1.ArrayValue.toObject(n.arrayValue,b),b.oneofs)&&(_.valueType="arrayValue"),n.timestampValue!=null&&n.hasOwnProperty("timestampValue")&&(_.timestampValue=p.google.protobuf.Timestamp.toObject(n.timestampValue,b),b.oneofs)&&(_.valueType="timestampValue"),n.nullValue!=null&&n.hasOwnProperty("nullValue")&&(_.nullValue=b.enums!==String||p.google.protobuf.NullValue[n.nullValue]===void 0?n.nullValue:p.google.protobuf.NullValue[n.nullValue],b.oneofs)&&(_.valueType="nullValue"),n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(_.stringValue=n.stringValue,b.oneofs)&&(_.valueType="stringValue"),n.bytesValue!=null&&n.hasOwnProperty("bytesValue")&&(_.bytesValue=b.bytes===String?v.base64.encode(n.bytesValue,0,n.bytesValue.length):b.bytes===Array?Array.prototype.slice.call(n.bytesValue):n.bytesValue,b.oneofs)&&(_.valueType="bytesValue"),_},q.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},q.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.Value"},q),O.ArrayValue=(M.prototype.values=v.emptyArray,M.fromObject=function(n){if(n instanceof p.google.firestore.v1.ArrayValue)return n;var b=new p.google.firestore.v1.ArrayValue;if(n.values){if(!Array.isArray(n.values))throw TypeError(".google.firestore.v1.ArrayValue.values: array expected");b.values=[];for(var _=0;_<n.values.length;++_){if(typeof n.values[_]!="object")throw TypeError(".google.firestore.v1.ArrayValue.values: object expected");b.values[_]=p.google.firestore.v1.Value.fromObject(n.values[_])}}return b},M.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.values=[]),n.values&&n.values.length){_.values=[];for(var le=0;le<n.values.length;++le)_.values[le]=p.google.firestore.v1.Value.toObject(n.values[le],b)}return _},M.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},M.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ArrayValue"},M),O.MapValue=(U.prototype.fields=v.emptyObject,U.fromObject=function(n){if(n instanceof p.google.firestore.v1.MapValue)return n;var b=new p.google.firestore.v1.MapValue;if(n.fields){if(typeof n.fields!="object")throw TypeError(".google.firestore.v1.MapValue.fields: object expected");b.fields={};for(var _=Object.keys(n.fields),le=0;le<_.length;++le){if(typeof n.fields[_[le]]!="object")throw TypeError(".google.firestore.v1.MapValue.fields: object expected");b.fields[_[le]]=p.google.firestore.v1.Value.fromObject(n.fields[_[le]])}}return b},U.toObject=function(n,b){var _,le={};if(((b=b||{}).objects||b.defaults)&&(le.fields={}),n.fields&&(_=Object.keys(n.fields)).length){le.fields={};for(var qe=0;qe<_.length;++qe)le.fields[_[qe]]=p.google.firestore.v1.Value.toObject(n.fields[_[qe]],b)}return le},U.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},U.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.MapValue"},U),O.BitSequence=(V.prototype.bitmap=v.newBuffer([]),V.prototype.padding=0,V.fromObject=function(n){var b;return n instanceof p.google.firestore.v1.BitSequence?n:(b=new p.google.firestore.v1.BitSequence,n.bitmap!=null&&(typeof n.bitmap=="string"?v.base64.decode(n.bitmap,b.bitmap=v.newBuffer(v.base64.length(n.bitmap)),0):0<=n.bitmap.length&&(b.bitmap=n.bitmap)),n.padding!=null&&(b.padding=0|n.padding),b)},V.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(b.bytes===String?_.bitmap="":(_.bitmap=[],b.bytes!==Array&&(_.bitmap=v.newBuffer(_.bitmap))),_.padding=0),n.bitmap!=null&&n.hasOwnProperty("bitmap")&&(_.bitmap=b.bytes===String?v.base64.encode(n.bitmap,0,n.bitmap.length):b.bytes===Array?Array.prototype.slice.call(n.bitmap):n.bitmap),n.padding!=null&&n.hasOwnProperty("padding")&&(_.padding=n.padding),_},V.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},V.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.BitSequence"},V),O.BloomFilter=($.prototype.bits=null,$.prototype.hashCount=0,$.fromObject=function(n){if(n instanceof p.google.firestore.v1.BloomFilter)return n;var b=new p.google.firestore.v1.BloomFilter;if(n.bits!=null){if(typeof n.bits!="object")throw TypeError(".google.firestore.v1.BloomFilter.bits: object expected");b.bits=p.google.firestore.v1.BitSequence.fromObject(n.bits)}return n.hashCount!=null&&(b.hashCount=0|n.hashCount),b},$.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.bits=null,_.hashCount=0),n.bits!=null&&n.hasOwnProperty("bits")&&(_.bits=p.google.firestore.v1.BitSequence.toObject(n.bits,b)),n.hashCount!=null&&n.hasOwnProperty("hashCount")&&(_.hashCount=n.hashCount),_},$.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},$.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.BloomFilter"},$),O.DocumentMask=(z.prototype.fieldPaths=v.emptyArray,z.fromObject=function(n){if(n instanceof p.google.firestore.v1.DocumentMask)return n;var b=new p.google.firestore.v1.DocumentMask;if(n.fieldPaths){if(!Array.isArray(n.fieldPaths))throw TypeError(".google.firestore.v1.DocumentMask.fieldPaths: array expected");b.fieldPaths=[];for(var _=0;_<n.fieldPaths.length;++_)b.fieldPaths[_]=String(n.fieldPaths[_])}return b},z.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.fieldPaths=[]),n.fieldPaths&&n.fieldPaths.length){_.fieldPaths=[];for(var le=0;le<n.fieldPaths.length;++le)_.fieldPaths[le]=n.fieldPaths[le]}return _},z.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},z.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.DocumentMask"},z),O.Precondition=(W.prototype.exists=null,W.prototype.updateTime=null,Object.defineProperty(W.prototype,"conditionType",{get:v.oneOfGetter(T=["exists","updateTime"]),set:v.oneOfSetter(T)}),W.fromObject=function(n){if(n instanceof p.google.firestore.v1.Precondition)return n;var b=new p.google.firestore.v1.Precondition;if(n.exists!=null&&(b.exists=!!n.exists),n.updateTime!=null){if(typeof n.updateTime!="object")throw TypeError(".google.firestore.v1.Precondition.updateTime: object expected");b.updateTime=p.google.protobuf.Timestamp.fromObject(n.updateTime)}return b},W.toObject=function(n,b){b=b||{};var _={};return n.exists!=null&&n.hasOwnProperty("exists")&&(_.exists=n.exists,b.oneofs)&&(_.conditionType="exists"),n.updateTime!=null&&n.hasOwnProperty("updateTime")&&(_.updateTime=p.google.protobuf.Timestamp.toObject(n.updateTime,b),b.oneofs)&&(_.conditionType="updateTime"),_},W.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},W.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.Precondition"},W),O.TransactionOptions=(J.prototype.readOnly=null,J.prototype.readWrite=null,Object.defineProperty(J.prototype,"mode",{get:v.oneOfGetter(T=["readOnly","readWrite"]),set:v.oneOfSetter(T)}),J.fromObject=function(n){if(n instanceof p.google.firestore.v1.TransactionOptions)return n;var b=new p.google.firestore.v1.TransactionOptions;if(n.readOnly!=null){if(typeof n.readOnly!="object")throw TypeError(".google.firestore.v1.TransactionOptions.readOnly: object expected");b.readOnly=p.google.firestore.v1.TransactionOptions.ReadOnly.fromObject(n.readOnly)}if(n.readWrite!=null){if(typeof n.readWrite!="object")throw TypeError(".google.firestore.v1.TransactionOptions.readWrite: object expected");b.readWrite=p.google.firestore.v1.TransactionOptions.ReadWrite.fromObject(n.readWrite)}return b},J.toObject=function(n,b){b=b||{};var _={};return n.readOnly!=null&&n.hasOwnProperty("readOnly")&&(_.readOnly=p.google.firestore.v1.TransactionOptions.ReadOnly.toObject(n.readOnly,b),b.oneofs)&&(_.mode="readOnly"),n.readWrite!=null&&n.hasOwnProperty("readWrite")&&(_.readWrite=p.google.firestore.v1.TransactionOptions.ReadWrite.toObject(n.readWrite,b),b.oneofs)&&(_.mode="readWrite"),_},J.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},J.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.TransactionOptions"},J.ReadWrite=(Y.prototype.retryTransaction=v.newBuffer([]),Y.fromObject=function(n){var b;return n instanceof p.google.firestore.v1.TransactionOptions.ReadWrite?n:(b=new p.google.firestore.v1.TransactionOptions.ReadWrite,n.retryTransaction!=null&&(typeof n.retryTransaction=="string"?v.base64.decode(n.retryTransaction,b.retryTransaction=v.newBuffer(v.base64.length(n.retryTransaction)),0):0<=n.retryTransaction.length&&(b.retryTransaction=n.retryTransaction)),b)},Y.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(b.bytes===String?_.retryTransaction="":(_.retryTransaction=[],b.bytes!==Array&&(_.retryTransaction=v.newBuffer(_.retryTransaction)))),n.retryTransaction!=null&&n.hasOwnProperty("retryTransaction")&&(_.retryTransaction=b.bytes===String?v.base64.encode(n.retryTransaction,0,n.retryTransaction.length):b.bytes===Array?Array.prototype.slice.call(n.retryTransaction):n.retryTransaction),_},Y.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Y.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.TransactionOptions.ReadWrite"},Y),J.ReadOnly=(Q.prototype.readTime=null,Object.defineProperty(Q.prototype,"consistencySelector",{get:v.oneOfGetter(T=["readTime"]),set:v.oneOfSetter(T)}),Q.fromObject=function(n){if(n instanceof p.google.firestore.v1.TransactionOptions.ReadOnly)return n;var b=new p.google.firestore.v1.TransactionOptions.ReadOnly;if(n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.TransactionOptions.ReadOnly.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},Q.toObject=function(n,b){b=b||{};var _={};return n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(_.consistencySelector="readTime"),_},Q.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Q.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.TransactionOptions.ReadOnly"},Q),J),O.Firestore=((H.prototype=Object.create(u.rpc.Service.prototype)).constructor=H,Object.defineProperty(H.prototype.getDocument=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.GetDocumentRequest,p.google.firestore.v1.Document,b,_)},"name",{value:"GetDocument"}),Object.defineProperty(H.prototype.listDocuments=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.ListDocumentsRequest,p.google.firestore.v1.ListDocumentsResponse,b,_)},"name",{value:"ListDocuments"}),Object.defineProperty(H.prototype.updateDocument=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.UpdateDocumentRequest,p.google.firestore.v1.Document,b,_)},"name",{value:"UpdateDocument"}),Object.defineProperty(H.prototype.deleteDocument=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.DeleteDocumentRequest,p.google.protobuf.Empty,b,_)},"name",{value:"DeleteDocument"}),Object.defineProperty(H.prototype.batchGetDocuments=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.BatchGetDocumentsRequest,p.google.firestore.v1.BatchGetDocumentsResponse,b,_)},"name",{value:"BatchGetDocuments"}),Object.defineProperty(H.prototype.beginTransaction=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.BeginTransactionRequest,p.google.firestore.v1.BeginTransactionResponse,b,_)},"name",{value:"BeginTransaction"}),Object.defineProperty(H.prototype.commit=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.CommitRequest,p.google.firestore.v1.CommitResponse,b,_)},"name",{value:"Commit"}),Object.defineProperty(H.prototype.rollback=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.RollbackRequest,p.google.protobuf.Empty,b,_)},"name",{value:"Rollback"}),Object.defineProperty(H.prototype.runQuery=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.RunQueryRequest,p.google.firestore.v1.RunQueryResponse,b,_)},"name",{value:"RunQuery"}),Object.defineProperty(H.prototype.runAggregationQuery=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.RunAggregationQueryRequest,p.google.firestore.v1.RunAggregationQueryResponse,b,_)},"name",{value:"RunAggregationQuery"}),Object.defineProperty(H.prototype.partitionQuery=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.PartitionQueryRequest,p.google.firestore.v1.PartitionQueryResponse,b,_)},"name",{value:"PartitionQuery"}),Object.defineProperty(H.prototype.write=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.WriteRequest,p.google.firestore.v1.WriteResponse,b,_)},"name",{value:"Write"}),Object.defineProperty(H.prototype.listen=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.ListenRequest,p.google.firestore.v1.ListenResponse,b,_)},"name",{value:"Listen"}),Object.defineProperty(H.prototype.listCollectionIds=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.ListCollectionIdsRequest,p.google.firestore.v1.ListCollectionIdsResponse,b,_)},"name",{value:"ListCollectionIds"}),Object.defineProperty(H.prototype.batchWrite=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.BatchWriteRequest,p.google.firestore.v1.BatchWriteResponse,b,_)},"name",{value:"BatchWrite"}),Object.defineProperty(H.prototype.createDocument=function n(b,_){return this.rpcCall(n,p.google.firestore.v1.CreateDocumentRequest,p.google.firestore.v1.Document,b,_)},"name",{value:"CreateDocument"}),H),O.GetDocumentRequest=(te.prototype.name="",te.prototype.mask=null,te.prototype.transaction=null,te.prototype.readTime=null,Object.defineProperty(te.prototype,"consistencySelector",{get:v.oneOfGetter(T=["transaction","readTime"]),set:v.oneOfSetter(T)}),te.fromObject=function(n){if(n instanceof p.google.firestore.v1.GetDocumentRequest)return n;var b=new p.google.firestore.v1.GetDocumentRequest;if(n.name!=null&&(b.name=String(n.name)),n.mask!=null){if(typeof n.mask!="object")throw TypeError(".google.firestore.v1.GetDocumentRequest.mask: object expected");b.mask=p.google.firestore.v1.DocumentMask.fromObject(n.mask)}if(n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.GetDocumentRequest.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},te.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.mask=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.mask!=null&&n.hasOwnProperty("mask")&&(_.mask=p.google.firestore.v1.DocumentMask.toObject(n.mask,b)),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction,b.oneofs)&&(_.consistencySelector="transaction"),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(_.consistencySelector="readTime"),_},te.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},te.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.GetDocumentRequest"},te),O.ListDocumentsRequest=(ne.prototype.parent="",ne.prototype.collectionId="",ne.prototype.pageSize=0,ne.prototype.pageToken="",ne.prototype.orderBy="",ne.prototype.mask=null,ne.prototype.transaction=null,ne.prototype.readTime=null,ne.prototype.showMissing=!1,Object.defineProperty(ne.prototype,"consistencySelector",{get:v.oneOfGetter(T=["transaction","readTime"]),set:v.oneOfSetter(T)}),ne.fromObject=function(n){if(n instanceof p.google.firestore.v1.ListDocumentsRequest)return n;var b=new p.google.firestore.v1.ListDocumentsRequest;if(n.parent!=null&&(b.parent=String(n.parent)),n.collectionId!=null&&(b.collectionId=String(n.collectionId)),n.pageSize!=null&&(b.pageSize=0|n.pageSize),n.pageToken!=null&&(b.pageToken=String(n.pageToken)),n.orderBy!=null&&(b.orderBy=String(n.orderBy)),n.mask!=null){if(typeof n.mask!="object")throw TypeError(".google.firestore.v1.ListDocumentsRequest.mask: object expected");b.mask=p.google.firestore.v1.DocumentMask.fromObject(n.mask)}if(n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.ListDocumentsRequest.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return n.showMissing!=null&&(b.showMissing=!!n.showMissing),b},ne.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.parent="",_.collectionId="",_.pageSize=0,_.pageToken="",_.orderBy="",_.mask=null,_.showMissing=!1),n.parent!=null&&n.hasOwnProperty("parent")&&(_.parent=n.parent),n.collectionId!=null&&n.hasOwnProperty("collectionId")&&(_.collectionId=n.collectionId),n.pageSize!=null&&n.hasOwnProperty("pageSize")&&(_.pageSize=n.pageSize),n.pageToken!=null&&n.hasOwnProperty("pageToken")&&(_.pageToken=n.pageToken),n.orderBy!=null&&n.hasOwnProperty("orderBy")&&(_.orderBy=n.orderBy),n.mask!=null&&n.hasOwnProperty("mask")&&(_.mask=p.google.firestore.v1.DocumentMask.toObject(n.mask,b)),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction,b.oneofs)&&(_.consistencySelector="transaction"),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(_.consistencySelector="readTime"),n.showMissing!=null&&n.hasOwnProperty("showMissing")&&(_.showMissing=n.showMissing),_},ne.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ne.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ListDocumentsRequest"},ne),O.ListDocumentsResponse=(oe.prototype.documents=v.emptyArray,oe.prototype.nextPageToken="",oe.fromObject=function(n){if(n instanceof p.google.firestore.v1.ListDocumentsResponse)return n;var b=new p.google.firestore.v1.ListDocumentsResponse;if(n.documents){if(!Array.isArray(n.documents))throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: array expected");b.documents=[];for(var _=0;_<n.documents.length;++_){if(typeof n.documents[_]!="object")throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: object expected");b.documents[_]=p.google.firestore.v1.Document.fromObject(n.documents[_])}}return n.nextPageToken!=null&&(b.nextPageToken=String(n.nextPageToken)),b},oe.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.documents=[]),b.defaults&&(_.nextPageToken=""),n.documents&&n.documents.length){_.documents=[];for(var le=0;le<n.documents.length;++le)_.documents[le]=p.google.firestore.v1.Document.toObject(n.documents[le],b)}return n.nextPageToken!=null&&n.hasOwnProperty("nextPageToken")&&(_.nextPageToken=n.nextPageToken),_},oe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},oe.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ListDocumentsResponse"},oe),O.CreateDocumentRequest=(ie.prototype.parent="",ie.prototype.collectionId="",ie.prototype.documentId="",ie.prototype.document=null,ie.prototype.mask=null,ie.fromObject=function(n){if(n instanceof p.google.firestore.v1.CreateDocumentRequest)return n;var b=new p.google.firestore.v1.CreateDocumentRequest;if(n.parent!=null&&(b.parent=String(n.parent)),n.collectionId!=null&&(b.collectionId=String(n.collectionId)),n.documentId!=null&&(b.documentId=String(n.documentId)),n.document!=null){if(typeof n.document!="object")throw TypeError(".google.firestore.v1.CreateDocumentRequest.document: object expected");b.document=p.google.firestore.v1.Document.fromObject(n.document)}if(n.mask!=null){if(typeof n.mask!="object")throw TypeError(".google.firestore.v1.CreateDocumentRequest.mask: object expected");b.mask=p.google.firestore.v1.DocumentMask.fromObject(n.mask)}return b},ie.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.parent="",_.collectionId="",_.documentId="",_.document=null,_.mask=null),n.parent!=null&&n.hasOwnProperty("parent")&&(_.parent=n.parent),n.collectionId!=null&&n.hasOwnProperty("collectionId")&&(_.collectionId=n.collectionId),n.documentId!=null&&n.hasOwnProperty("documentId")&&(_.documentId=n.documentId),n.document!=null&&n.hasOwnProperty("document")&&(_.document=p.google.firestore.v1.Document.toObject(n.document,b)),n.mask!=null&&n.hasOwnProperty("mask")&&(_.mask=p.google.firestore.v1.DocumentMask.toObject(n.mask,b)),_},ie.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ie.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.CreateDocumentRequest"},ie),O.UpdateDocumentRequest=(ee.prototype.document=null,ee.prototype.updateMask=null,ee.prototype.mask=null,ee.prototype.currentDocument=null,ee.fromObject=function(n){if(n instanceof p.google.firestore.v1.UpdateDocumentRequest)return n;var b=new p.google.firestore.v1.UpdateDocumentRequest;if(n.document!=null){if(typeof n.document!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.document: object expected");b.document=p.google.firestore.v1.Document.fromObject(n.document)}if(n.updateMask!=null){if(typeof n.updateMask!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.updateMask: object expected");b.updateMask=p.google.firestore.v1.DocumentMask.fromObject(n.updateMask)}if(n.mask!=null){if(typeof n.mask!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.mask: object expected");b.mask=p.google.firestore.v1.DocumentMask.fromObject(n.mask)}if(n.currentDocument!=null){if(typeof n.currentDocument!="object")throw TypeError(".google.firestore.v1.UpdateDocumentRequest.currentDocument: object expected");b.currentDocument=p.google.firestore.v1.Precondition.fromObject(n.currentDocument)}return b},ee.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.document=null,_.updateMask=null,_.mask=null,_.currentDocument=null),n.document!=null&&n.hasOwnProperty("document")&&(_.document=p.google.firestore.v1.Document.toObject(n.document,b)),n.updateMask!=null&&n.hasOwnProperty("updateMask")&&(_.updateMask=p.google.firestore.v1.DocumentMask.toObject(n.updateMask,b)),n.mask!=null&&n.hasOwnProperty("mask")&&(_.mask=p.google.firestore.v1.DocumentMask.toObject(n.mask,b)),n.currentDocument!=null&&n.hasOwnProperty("currentDocument")&&(_.currentDocument=p.google.firestore.v1.Precondition.toObject(n.currentDocument,b)),_},ee.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ee.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.UpdateDocumentRequest"},ee),O.DeleteDocumentRequest=(ue.prototype.name="",ue.prototype.currentDocument=null,ue.fromObject=function(n){if(n instanceof p.google.firestore.v1.DeleteDocumentRequest)return n;var b=new p.google.firestore.v1.DeleteDocumentRequest;if(n.name!=null&&(b.name=String(n.name)),n.currentDocument!=null){if(typeof n.currentDocument!="object")throw TypeError(".google.firestore.v1.DeleteDocumentRequest.currentDocument: object expected");b.currentDocument=p.google.firestore.v1.Precondition.fromObject(n.currentDocument)}return b},ue.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.currentDocument=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.currentDocument!=null&&n.hasOwnProperty("currentDocument")&&(_.currentDocument=p.google.firestore.v1.Precondition.toObject(n.currentDocument,b)),_},ue.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ue.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.DeleteDocumentRequest"},ue),O.BatchGetDocumentsRequest=(fe.prototype.database="",fe.prototype.documents=v.emptyArray,fe.prototype.mask=null,fe.prototype.transaction=null,fe.prototype.newTransaction=null,fe.prototype.readTime=null,Object.defineProperty(fe.prototype,"consistencySelector",{get:v.oneOfGetter(T=["transaction","newTransaction","readTime"]),set:v.oneOfSetter(T)}),fe.fromObject=function(n){if(n instanceof p.google.firestore.v1.BatchGetDocumentsRequest)return n;var b=new p.google.firestore.v1.BatchGetDocumentsRequest;if(n.database!=null&&(b.database=String(n.database)),n.documents){if(!Array.isArray(n.documents))throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.documents: array expected");b.documents=[];for(var _=0;_<n.documents.length;++_)b.documents[_]=String(n.documents[_])}if(n.mask!=null){if(typeof n.mask!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.mask: object expected");b.mask=p.google.firestore.v1.DocumentMask.fromObject(n.mask)}if(n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),n.newTransaction!=null){if(typeof n.newTransaction!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.newTransaction: object expected");b.newTransaction=p.google.firestore.v1.TransactionOptions.fromObject(n.newTransaction)}if(n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},fe.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.documents=[]),b.defaults&&(_.database="",_.mask=null),n.database!=null&&n.hasOwnProperty("database")&&(_.database=n.database),n.documents&&n.documents.length){_.documents=[];for(var le=0;le<n.documents.length;++le)_.documents[le]=n.documents[le]}return n.mask!=null&&n.hasOwnProperty("mask")&&(_.mask=p.google.firestore.v1.DocumentMask.toObject(n.mask,b)),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction,b.oneofs)&&(_.consistencySelector="transaction"),n.newTransaction!=null&&n.hasOwnProperty("newTransaction")&&(_.newTransaction=p.google.firestore.v1.TransactionOptions.toObject(n.newTransaction,b),b.oneofs)&&(_.consistencySelector="newTransaction"),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(_.consistencySelector="readTime"),_},fe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},fe.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.BatchGetDocumentsRequest"},fe),O.BatchGetDocumentsResponse=(de.prototype.found=null,de.prototype.missing=null,de.prototype.transaction=v.newBuffer([]),de.prototype.readTime=null,Object.defineProperty(de.prototype,"result",{get:v.oneOfGetter(T=["found","missing"]),set:v.oneOfSetter(T)}),de.fromObject=function(n){if(n instanceof p.google.firestore.v1.BatchGetDocumentsResponse)return n;var b=new p.google.firestore.v1.BatchGetDocumentsResponse;if(n.found!=null){if(typeof n.found!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.found: object expected");b.found=p.google.firestore.v1.Document.fromObject(n.found)}if(n.missing!=null&&(b.missing=String(n.missing)),n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},de.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(b.bytes===String?_.transaction="":(_.transaction=[],b.bytes!==Array&&(_.transaction=v.newBuffer(_.transaction))),_.readTime=null),n.found!=null&&n.hasOwnProperty("found")&&(_.found=p.google.firestore.v1.Document.toObject(n.found,b),b.oneofs)&&(_.result="found"),n.missing!=null&&n.hasOwnProperty("missing")&&(_.missing=n.missing,b.oneofs)&&(_.result="missing"),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b)),_},de.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},de.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.BatchGetDocumentsResponse"},de),O.BeginTransactionRequest=(ge.prototype.database="",ge.prototype.options=null,ge.fromObject=function(n){if(n instanceof p.google.firestore.v1.BeginTransactionRequest)return n;var b=new p.google.firestore.v1.BeginTransactionRequest;if(n.database!=null&&(b.database=String(n.database)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.firestore.v1.BeginTransactionRequest.options: object expected");b.options=p.google.firestore.v1.TransactionOptions.fromObject(n.options)}return b},ge.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.database="",_.options=null),n.database!=null&&n.hasOwnProperty("database")&&(_.database=n.database),n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.firestore.v1.TransactionOptions.toObject(n.options,b)),_},ge.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ge.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.BeginTransactionRequest"},ge),O.BeginTransactionResponse=(me.prototype.transaction=v.newBuffer([]),me.fromObject=function(n){var b;return n instanceof p.google.firestore.v1.BeginTransactionResponse?n:(b=new p.google.firestore.v1.BeginTransactionResponse,n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),b)},me.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(b.bytes===String?_.transaction="":(_.transaction=[],b.bytes!==Array&&(_.transaction=v.newBuffer(_.transaction)))),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction),_},me.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},me.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.BeginTransactionResponse"},me),O.CommitRequest=(_e.prototype.database="",_e.prototype.writes=v.emptyArray,_e.prototype.transaction=v.newBuffer([]),_e.fromObject=function(n){if(n instanceof p.google.firestore.v1.CommitRequest)return n;var b=new p.google.firestore.v1.CommitRequest;if(n.database!=null&&(b.database=String(n.database)),n.writes){if(!Array.isArray(n.writes))throw TypeError(".google.firestore.v1.CommitRequest.writes: array expected");b.writes=[];for(var _=0;_<n.writes.length;++_){if(typeof n.writes[_]!="object")throw TypeError(".google.firestore.v1.CommitRequest.writes: object expected");b.writes[_]=p.google.firestore.v1.Write.fromObject(n.writes[_])}}return n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),b},_e.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.writes=[]),b.defaults&&(_.database="",b.bytes===String?_.transaction="":(_.transaction=[],b.bytes!==Array&&(_.transaction=v.newBuffer(_.transaction)))),n.database!=null&&n.hasOwnProperty("database")&&(_.database=n.database),n.writes&&n.writes.length){_.writes=[];for(var le=0;le<n.writes.length;++le)_.writes[le]=p.google.firestore.v1.Write.toObject(n.writes[le],b)}return n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction),_},_e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},_e.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.CommitRequest"},_e),O.CommitResponse=(we.prototype.writeResults=v.emptyArray,we.prototype.commitTime=null,we.fromObject=function(n){if(n instanceof p.google.firestore.v1.CommitResponse)return n;var b=new p.google.firestore.v1.CommitResponse;if(n.writeResults){if(!Array.isArray(n.writeResults))throw TypeError(".google.firestore.v1.CommitResponse.writeResults: array expected");b.writeResults=[];for(var _=0;_<n.writeResults.length;++_){if(typeof n.writeResults[_]!="object")throw TypeError(".google.firestore.v1.CommitResponse.writeResults: object expected");b.writeResults[_]=p.google.firestore.v1.WriteResult.fromObject(n.writeResults[_])}}if(n.commitTime!=null){if(typeof n.commitTime!="object")throw TypeError(".google.firestore.v1.CommitResponse.commitTime: object expected");b.commitTime=p.google.protobuf.Timestamp.fromObject(n.commitTime)}return b},we.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.writeResults=[]),b.defaults&&(_.commitTime=null),n.writeResults&&n.writeResults.length){_.writeResults=[];for(var le=0;le<n.writeResults.length;++le)_.writeResults[le]=p.google.firestore.v1.WriteResult.toObject(n.writeResults[le],b)}return n.commitTime!=null&&n.hasOwnProperty("commitTime")&&(_.commitTime=p.google.protobuf.Timestamp.toObject(n.commitTime,b)),_},we.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},we.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.CommitResponse"},we),O.RollbackRequest=(Re.prototype.database="",Re.prototype.transaction=v.newBuffer([]),Re.fromObject=function(n){var b;return n instanceof p.google.firestore.v1.RollbackRequest?n:(b=new p.google.firestore.v1.RollbackRequest,n.database!=null&&(b.database=String(n.database)),n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),b)},Re.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.database="",b.bytes===String?_.transaction="":(_.transaction=[],b.bytes!==Array&&(_.transaction=v.newBuffer(_.transaction)))),n.database!=null&&n.hasOwnProperty("database")&&(_.database=n.database),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction),_},Re.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Re.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.RollbackRequest"},Re),O.RunQueryRequest=(Te.prototype.parent="",Te.prototype.structuredQuery=null,Te.prototype.transaction=null,Te.prototype.newTransaction=null,Te.prototype.readTime=null,Te.prototype.explainOptions=null,Object.defineProperty(Te.prototype,"queryType",{get:v.oneOfGetter(T=["structuredQuery"]),set:v.oneOfSetter(T)}),Object.defineProperty(Te.prototype,"consistencySelector",{get:v.oneOfGetter(T=["transaction","newTransaction","readTime"]),set:v.oneOfSetter(T)}),Te.fromObject=function(n){if(n instanceof p.google.firestore.v1.RunQueryRequest)return n;var b=new p.google.firestore.v1.RunQueryRequest;if(n.parent!=null&&(b.parent=String(n.parent)),n.structuredQuery!=null){if(typeof n.structuredQuery!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.structuredQuery: object expected");b.structuredQuery=p.google.firestore.v1.StructuredQuery.fromObject(n.structuredQuery)}if(n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),n.newTransaction!=null){if(typeof n.newTransaction!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.newTransaction: object expected");b.newTransaction=p.google.firestore.v1.TransactionOptions.fromObject(n.newTransaction)}if(n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}if(n.explainOptions!=null){if(typeof n.explainOptions!="object")throw TypeError(".google.firestore.v1.RunQueryRequest.explainOptions: object expected");b.explainOptions=p.google.firestore.v1.ExplainOptions.fromObject(n.explainOptions)}return b},Te.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.parent="",_.explainOptions=null),n.parent!=null&&n.hasOwnProperty("parent")&&(_.parent=n.parent),n.structuredQuery!=null&&n.hasOwnProperty("structuredQuery")&&(_.structuredQuery=p.google.firestore.v1.StructuredQuery.toObject(n.structuredQuery,b),b.oneofs)&&(_.queryType="structuredQuery"),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction,b.oneofs)&&(_.consistencySelector="transaction"),n.newTransaction!=null&&n.hasOwnProperty("newTransaction")&&(_.newTransaction=p.google.firestore.v1.TransactionOptions.toObject(n.newTransaction,b),b.oneofs)&&(_.consistencySelector="newTransaction"),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(_.consistencySelector="readTime"),n.explainOptions!=null&&n.hasOwnProperty("explainOptions")&&(_.explainOptions=p.google.firestore.v1.ExplainOptions.toObject(n.explainOptions,b)),_},Te.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Te.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.RunQueryRequest"},Te),O.RunQueryResponse=(Ae.prototype.transaction=v.newBuffer([]),Ae.prototype.document=null,Ae.prototype.readTime=null,Ae.prototype.skippedResults=0,Ae.prototype.done=null,Ae.prototype.explainMetrics=null,Object.defineProperty(Ae.prototype,"continuationSelector",{get:v.oneOfGetter(T=["done"]),set:v.oneOfSetter(T)}),Ae.fromObject=function(n){if(n instanceof p.google.firestore.v1.RunQueryResponse)return n;var b=new p.google.firestore.v1.RunQueryResponse;if(n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),n.document!=null){if(typeof n.document!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.document: object expected");b.document=p.google.firestore.v1.Document.fromObject(n.document)}if(n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}if(n.skippedResults!=null&&(b.skippedResults=0|n.skippedResults),n.done!=null&&(b.done=!!n.done),n.explainMetrics!=null){if(typeof n.explainMetrics!="object")throw TypeError(".google.firestore.v1.RunQueryResponse.explainMetrics: object expected");b.explainMetrics=p.google.firestore.v1.ExplainMetrics.fromObject(n.explainMetrics)}return b},Ae.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.document=null,b.bytes===String?_.transaction="":(_.transaction=[],b.bytes!==Array&&(_.transaction=v.newBuffer(_.transaction))),_.readTime=null,_.skippedResults=0,_.explainMetrics=null),n.document!=null&&n.hasOwnProperty("document")&&(_.document=p.google.firestore.v1.Document.toObject(n.document,b)),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b)),n.skippedResults!=null&&n.hasOwnProperty("skippedResults")&&(_.skippedResults=n.skippedResults),n.done!=null&&n.hasOwnProperty("done")&&(_.done=n.done,b.oneofs)&&(_.continuationSelector="done"),n.explainMetrics!=null&&n.hasOwnProperty("explainMetrics")&&(_.explainMetrics=p.google.firestore.v1.ExplainMetrics.toObject(n.explainMetrics,b)),_},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ae.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.RunQueryResponse"},Ae),O.RunAggregationQueryRequest=(Oe.prototype.parent="",Oe.prototype.structuredAggregationQuery=null,Oe.prototype.transaction=null,Oe.prototype.newTransaction=null,Oe.prototype.readTime=null,Oe.prototype.explainOptions=null,Object.defineProperty(Oe.prototype,"queryType",{get:v.oneOfGetter(T=["structuredAggregationQuery"]),set:v.oneOfSetter(T)}),Object.defineProperty(Oe.prototype,"consistencySelector",{get:v.oneOfGetter(T=["transaction","newTransaction","readTime"]),set:v.oneOfSetter(T)}),Oe.fromObject=function(n){if(n instanceof p.google.firestore.v1.RunAggregationQueryRequest)return n;var b=new p.google.firestore.v1.RunAggregationQueryRequest;if(n.parent!=null&&(b.parent=String(n.parent)),n.structuredAggregationQuery!=null){if(typeof n.structuredAggregationQuery!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.structuredAggregationQuery: object expected");b.structuredAggregationQuery=p.google.firestore.v1.StructuredAggregationQuery.fromObject(n.structuredAggregationQuery)}if(n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),n.newTransaction!=null){if(typeof n.newTransaction!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.newTransaction: object expected");b.newTransaction=p.google.firestore.v1.TransactionOptions.fromObject(n.newTransaction)}if(n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}if(n.explainOptions!=null){if(typeof n.explainOptions!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.explainOptions: object expected");b.explainOptions=p.google.firestore.v1.ExplainOptions.fromObject(n.explainOptions)}return b},Oe.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.parent="",_.explainOptions=null),n.parent!=null&&n.hasOwnProperty("parent")&&(_.parent=n.parent),n.structuredAggregationQuery!=null&&n.hasOwnProperty("structuredAggregationQuery")&&(_.structuredAggregationQuery=p.google.firestore.v1.StructuredAggregationQuery.toObject(n.structuredAggregationQuery,b),b.oneofs)&&(_.queryType="structuredAggregationQuery"),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction,b.oneofs)&&(_.consistencySelector="transaction"),n.newTransaction!=null&&n.hasOwnProperty("newTransaction")&&(_.newTransaction=p.google.firestore.v1.TransactionOptions.toObject(n.newTransaction,b),b.oneofs)&&(_.consistencySelector="newTransaction"),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(_.consistencySelector="readTime"),n.explainOptions!=null&&n.hasOwnProperty("explainOptions")&&(_.explainOptions=p.google.firestore.v1.ExplainOptions.toObject(n.explainOptions,b)),_},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Oe.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.RunAggregationQueryRequest"},Oe),O.RunAggregationQueryResponse=(ve.prototype.result=null,ve.prototype.transaction=v.newBuffer([]),ve.prototype.readTime=null,ve.prototype.explainMetrics=null,ve.fromObject=function(n){if(n instanceof p.google.firestore.v1.RunAggregationQueryResponse)return n;var b=new p.google.firestore.v1.RunAggregationQueryResponse;if(n.result!=null){if(typeof n.result!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.result: object expected");b.result=p.google.firestore.v1.AggregationResult.fromObject(n.result)}if(n.transaction!=null&&(typeof n.transaction=="string"?v.base64.decode(n.transaction,b.transaction=v.newBuffer(v.base64.length(n.transaction)),0):0<=n.transaction.length&&(b.transaction=n.transaction)),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}if(n.explainMetrics!=null){if(typeof n.explainMetrics!="object")throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.explainMetrics: object expected");b.explainMetrics=p.google.firestore.v1.ExplainMetrics.fromObject(n.explainMetrics)}return b},ve.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.result=null,b.bytes===String?_.transaction="":(_.transaction=[],b.bytes!==Array&&(_.transaction=v.newBuffer(_.transaction))),_.readTime=null,_.explainMetrics=null),n.result!=null&&n.hasOwnProperty("result")&&(_.result=p.google.firestore.v1.AggregationResult.toObject(n.result,b)),n.transaction!=null&&n.hasOwnProperty("transaction")&&(_.transaction=b.bytes===String?v.base64.encode(n.transaction,0,n.transaction.length):b.bytes===Array?Array.prototype.slice.call(n.transaction):n.transaction),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b)),n.explainMetrics!=null&&n.hasOwnProperty("explainMetrics")&&(_.explainMetrics=p.google.firestore.v1.ExplainMetrics.toObject(n.explainMetrics,b)),_},ve.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ve.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.RunAggregationQueryResponse"},ve),O.PartitionQueryRequest=(Ee.prototype.parent="",Ee.prototype.structuredQuery=null,Ee.prototype.partitionCount=v.Long?v.Long.fromBits(0,0,!1):0,Ee.prototype.pageToken="",Ee.prototype.pageSize=0,Ee.prototype.readTime=null,Object.defineProperty(Ee.prototype,"queryType",{get:v.oneOfGetter(T=["structuredQuery"]),set:v.oneOfSetter(T)}),Object.defineProperty(Ee.prototype,"consistencySelector",{get:v.oneOfGetter(T=["readTime"]),set:v.oneOfSetter(T)}),Ee.fromObject=function(n){if(n instanceof p.google.firestore.v1.PartitionQueryRequest)return n;var b=new p.google.firestore.v1.PartitionQueryRequest;if(n.parent!=null&&(b.parent=String(n.parent)),n.structuredQuery!=null){if(typeof n.structuredQuery!="object")throw TypeError(".google.firestore.v1.PartitionQueryRequest.structuredQuery: object expected");b.structuredQuery=p.google.firestore.v1.StructuredQuery.fromObject(n.structuredQuery)}if(n.partitionCount!=null&&(v.Long?(b.partitionCount=v.Long.fromValue(n.partitionCount)).unsigned=!1:typeof n.partitionCount=="string"?b.partitionCount=parseInt(n.partitionCount,10):typeof n.partitionCount=="number"?b.partitionCount=n.partitionCount:typeof n.partitionCount=="object"&&(b.partitionCount=new v.LongBits(n.partitionCount.low>>>0,n.partitionCount.high>>>0).toNumber())),n.pageToken!=null&&(b.pageToken=String(n.pageToken)),n.pageSize!=null&&(b.pageSize=0|n.pageSize),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.PartitionQueryRequest.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},Ee.toObject=function(n,b){var _,le={};return(b=b||{}).defaults&&(le.parent="",v.Long?(_=new v.Long(0,0,!1),le.partitionCount=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.partitionCount=b.longs===String?"0":0,le.pageToken="",le.pageSize=0),n.parent!=null&&n.hasOwnProperty("parent")&&(le.parent=n.parent),n.structuredQuery!=null&&n.hasOwnProperty("structuredQuery")&&(le.structuredQuery=p.google.firestore.v1.StructuredQuery.toObject(n.structuredQuery,b),b.oneofs)&&(le.queryType="structuredQuery"),n.partitionCount!=null&&n.hasOwnProperty("partitionCount")&&(typeof n.partitionCount=="number"?le.partitionCount=b.longs===String?String(n.partitionCount):n.partitionCount:le.partitionCount=b.longs===String?v.Long.prototype.toString.call(n.partitionCount):b.longs===Number?new v.LongBits(n.partitionCount.low>>>0,n.partitionCount.high>>>0).toNumber():n.partitionCount),n.pageToken!=null&&n.hasOwnProperty("pageToken")&&(le.pageToken=n.pageToken),n.pageSize!=null&&n.hasOwnProperty("pageSize")&&(le.pageSize=n.pageSize),n.readTime!=null&&n.hasOwnProperty("readTime")&&(le.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(le.consistencySelector="readTime"),le},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ee.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.PartitionQueryRequest"},Ee),O.PartitionQueryResponse=(he.prototype.partitions=v.emptyArray,he.prototype.nextPageToken="",he.fromObject=function(n){if(n instanceof p.google.firestore.v1.PartitionQueryResponse)return n;var b=new p.google.firestore.v1.PartitionQueryResponse;if(n.partitions){if(!Array.isArray(n.partitions))throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: array expected");b.partitions=[];for(var _=0;_<n.partitions.length;++_){if(typeof n.partitions[_]!="object")throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: object expected");b.partitions[_]=p.google.firestore.v1.Cursor.fromObject(n.partitions[_])}}return n.nextPageToken!=null&&(b.nextPageToken=String(n.nextPageToken)),b},he.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.partitions=[]),b.defaults&&(_.nextPageToken=""),n.partitions&&n.partitions.length){_.partitions=[];for(var le=0;le<n.partitions.length;++le)_.partitions[le]=p.google.firestore.v1.Cursor.toObject(n.partitions[le],b)}return n.nextPageToken!=null&&n.hasOwnProperty("nextPageToken")&&(_.nextPageToken=n.nextPageToken),_},he.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},he.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.PartitionQueryResponse"},he),O.WriteRequest=(l.prototype.database="",l.prototype.streamId="",l.prototype.writes=v.emptyArray,l.prototype.streamToken=v.newBuffer([]),l.prototype.labels=v.emptyObject,l.fromObject=function(n){if(n instanceof p.google.firestore.v1.WriteRequest)return n;var b=new p.google.firestore.v1.WriteRequest;if(n.database!=null&&(b.database=String(n.database)),n.streamId!=null&&(b.streamId=String(n.streamId)),n.writes){if(!Array.isArray(n.writes))throw TypeError(".google.firestore.v1.WriteRequest.writes: array expected");b.writes=[];for(var _=0;_<n.writes.length;++_){if(typeof n.writes[_]!="object")throw TypeError(".google.firestore.v1.WriteRequest.writes: object expected");b.writes[_]=p.google.firestore.v1.Write.fromObject(n.writes[_])}}if(n.streamToken!=null&&(typeof n.streamToken=="string"?v.base64.decode(n.streamToken,b.streamToken=v.newBuffer(v.base64.length(n.streamToken)),0):0<=n.streamToken.length&&(b.streamToken=n.streamToken)),n.labels){if(typeof n.labels!="object")throw TypeError(".google.firestore.v1.WriteRequest.labels: object expected");b.labels={};for(var le=Object.keys(n.labels),_=0;_<le.length;++_)b.labels[le[_]]=String(n.labels[le[_]])}return b},l.toObject=function(n,b){var _,le={};if(((b=b||{}).arrays||b.defaults)&&(le.writes=[]),(b.objects||b.defaults)&&(le.labels={}),b.defaults&&(le.database="",le.streamId="",b.bytes===String?le.streamToken="":(le.streamToken=[],b.bytes!==Array&&(le.streamToken=v.newBuffer(le.streamToken)))),n.database!=null&&n.hasOwnProperty("database")&&(le.database=n.database),n.streamId!=null&&n.hasOwnProperty("streamId")&&(le.streamId=n.streamId),n.writes&&n.writes.length){le.writes=[];for(var qe=0;qe<n.writes.length;++qe)le.writes[qe]=p.google.firestore.v1.Write.toObject(n.writes[qe],b)}if(n.streamToken!=null&&n.hasOwnProperty("streamToken")&&(le.streamToken=b.bytes===String?v.base64.encode(n.streamToken,0,n.streamToken.length):b.bytes===Array?Array.prototype.slice.call(n.streamToken):n.streamToken),n.labels&&(_=Object.keys(n.labels)).length)for(le.labels={},qe=0;qe<_.length;++qe)le.labels[_[qe]]=n.labels[_[qe]];return le},l.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},l.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.WriteRequest"},l),O.WriteResponse=(P.prototype.streamId="",P.prototype.streamToken=v.newBuffer([]),P.prototype.writeResults=v.emptyArray,P.prototype.commitTime=null,P.fromObject=function(n){if(n instanceof p.google.firestore.v1.WriteResponse)return n;var b=new p.google.firestore.v1.WriteResponse;if(n.streamId!=null&&(b.streamId=String(n.streamId)),n.streamToken!=null&&(typeof n.streamToken=="string"?v.base64.decode(n.streamToken,b.streamToken=v.newBuffer(v.base64.length(n.streamToken)),0):0<=n.streamToken.length&&(b.streamToken=n.streamToken)),n.writeResults){if(!Array.isArray(n.writeResults))throw TypeError(".google.firestore.v1.WriteResponse.writeResults: array expected");b.writeResults=[];for(var _=0;_<n.writeResults.length;++_){if(typeof n.writeResults[_]!="object")throw TypeError(".google.firestore.v1.WriteResponse.writeResults: object expected");b.writeResults[_]=p.google.firestore.v1.WriteResult.fromObject(n.writeResults[_])}}if(n.commitTime!=null){if(typeof n.commitTime!="object")throw TypeError(".google.firestore.v1.WriteResponse.commitTime: object expected");b.commitTime=p.google.protobuf.Timestamp.fromObject(n.commitTime)}return b},P.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.writeResults=[]),b.defaults&&(_.streamId="",b.bytes===String?_.streamToken="":(_.streamToken=[],b.bytes!==Array&&(_.streamToken=v.newBuffer(_.streamToken))),_.commitTime=null),n.streamId!=null&&n.hasOwnProperty("streamId")&&(_.streamId=n.streamId),n.streamToken!=null&&n.hasOwnProperty("streamToken")&&(_.streamToken=b.bytes===String?v.base64.encode(n.streamToken,0,n.streamToken.length):b.bytes===Array?Array.prototype.slice.call(n.streamToken):n.streamToken),n.writeResults&&n.writeResults.length){_.writeResults=[];for(var le=0;le<n.writeResults.length;++le)_.writeResults[le]=p.google.firestore.v1.WriteResult.toObject(n.writeResults[le],b)}return n.commitTime!=null&&n.hasOwnProperty("commitTime")&&(_.commitTime=p.google.protobuf.Timestamp.toObject(n.commitTime,b)),_},P.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},P.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.WriteResponse"},P),O.ListenRequest=(k.prototype.database="",k.prototype.addTarget=null,k.prototype.removeTarget=null,k.prototype.labels=v.emptyObject,Object.defineProperty(k.prototype,"targetChange",{get:v.oneOfGetter(T=["addTarget","removeTarget"]),set:v.oneOfSetter(T)}),k.fromObject=function(n){if(n instanceof p.google.firestore.v1.ListenRequest)return n;var b=new p.google.firestore.v1.ListenRequest;if(n.database!=null&&(b.database=String(n.database)),n.addTarget!=null){if(typeof n.addTarget!="object")throw TypeError(".google.firestore.v1.ListenRequest.addTarget: object expected");b.addTarget=p.google.firestore.v1.Target.fromObject(n.addTarget)}if(n.removeTarget!=null&&(b.removeTarget=0|n.removeTarget),n.labels){if(typeof n.labels!="object")throw TypeError(".google.firestore.v1.ListenRequest.labels: object expected");b.labels={};for(var _=Object.keys(n.labels),le=0;le<_.length;++le)b.labels[_[le]]=String(n.labels[_[le]])}return b},k.toObject=function(n,b){var _,le={};if(((b=b||{}).objects||b.defaults)&&(le.labels={}),b.defaults&&(le.database=""),n.database!=null&&n.hasOwnProperty("database")&&(le.database=n.database),n.addTarget!=null&&n.hasOwnProperty("addTarget")&&(le.addTarget=p.google.firestore.v1.Target.toObject(n.addTarget,b),b.oneofs)&&(le.targetChange="addTarget"),n.removeTarget!=null&&n.hasOwnProperty("removeTarget")&&(le.removeTarget=n.removeTarget,b.oneofs)&&(le.targetChange="removeTarget"),n.labels&&(_=Object.keys(n.labels)).length){le.labels={};for(var qe=0;qe<_.length;++qe)le.labels[_[qe]]=n.labels[_[qe]]}return le},k.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},k.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ListenRequest"},k),O.ListenResponse=(K.prototype.targetChange=null,K.prototype.documentChange=null,K.prototype.documentDelete=null,K.prototype.documentRemove=null,K.prototype.filter=null,Object.defineProperty(K.prototype,"responseType",{get:v.oneOfGetter(T=["targetChange","documentChange","documentDelete","documentRemove","filter"]),set:v.oneOfSetter(T)}),K.fromObject=function(n){if(n instanceof p.google.firestore.v1.ListenResponse)return n;var b=new p.google.firestore.v1.ListenResponse;if(n.targetChange!=null){if(typeof n.targetChange!="object")throw TypeError(".google.firestore.v1.ListenResponse.targetChange: object expected");b.targetChange=p.google.firestore.v1.TargetChange.fromObject(n.targetChange)}if(n.documentChange!=null){if(typeof n.documentChange!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentChange: object expected");b.documentChange=p.google.firestore.v1.DocumentChange.fromObject(n.documentChange)}if(n.documentDelete!=null){if(typeof n.documentDelete!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentDelete: object expected");b.documentDelete=p.google.firestore.v1.DocumentDelete.fromObject(n.documentDelete)}if(n.documentRemove!=null){if(typeof n.documentRemove!="object")throw TypeError(".google.firestore.v1.ListenResponse.documentRemove: object expected");b.documentRemove=p.google.firestore.v1.DocumentRemove.fromObject(n.documentRemove)}if(n.filter!=null){if(typeof n.filter!="object")throw TypeError(".google.firestore.v1.ListenResponse.filter: object expected");b.filter=p.google.firestore.v1.ExistenceFilter.fromObject(n.filter)}return b},K.toObject=function(n,b){b=b||{};var _={};return n.targetChange!=null&&n.hasOwnProperty("targetChange")&&(_.targetChange=p.google.firestore.v1.TargetChange.toObject(n.targetChange,b),b.oneofs)&&(_.responseType="targetChange"),n.documentChange!=null&&n.hasOwnProperty("documentChange")&&(_.documentChange=p.google.firestore.v1.DocumentChange.toObject(n.documentChange,b),b.oneofs)&&(_.responseType="documentChange"),n.documentDelete!=null&&n.hasOwnProperty("documentDelete")&&(_.documentDelete=p.google.firestore.v1.DocumentDelete.toObject(n.documentDelete,b),b.oneofs)&&(_.responseType="documentDelete"),n.filter!=null&&n.hasOwnProperty("filter")&&(_.filter=p.google.firestore.v1.ExistenceFilter.toObject(n.filter,b),b.oneofs)&&(_.responseType="filter"),n.documentRemove!=null&&n.hasOwnProperty("documentRemove")&&(_.documentRemove=p.google.firestore.v1.DocumentRemove.toObject(n.documentRemove,b),b.oneofs)&&(_.responseType="documentRemove"),_},K.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},K.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ListenResponse"},K),O.Target=(pe.prototype.query=null,pe.prototype.documents=null,pe.prototype.resumeToken=null,pe.prototype.readTime=null,pe.prototype.targetId=0,pe.prototype.once=!1,pe.prototype.expectedCount=null,Object.defineProperty(pe.prototype,"targetType",{get:v.oneOfGetter(T=["query","documents"]),set:v.oneOfSetter(T)}),Object.defineProperty(pe.prototype,"resumeType",{get:v.oneOfGetter(T=["resumeToken","readTime"]),set:v.oneOfSetter(T)}),pe.fromObject=function(n){if(n instanceof p.google.firestore.v1.Target)return n;var b=new p.google.firestore.v1.Target;if(n.query!=null){if(typeof n.query!="object")throw TypeError(".google.firestore.v1.Target.query: object expected");b.query=p.google.firestore.v1.Target.QueryTarget.fromObject(n.query)}if(n.documents!=null){if(typeof n.documents!="object")throw TypeError(".google.firestore.v1.Target.documents: object expected");b.documents=p.google.firestore.v1.Target.DocumentsTarget.fromObject(n.documents)}if(n.resumeToken!=null&&(typeof n.resumeToken=="string"?v.base64.decode(n.resumeToken,b.resumeToken=v.newBuffer(v.base64.length(n.resumeToken)),0):0<=n.resumeToken.length&&(b.resumeToken=n.resumeToken)),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.Target.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}if(n.targetId!=null&&(b.targetId=0|n.targetId),n.once!=null&&(b.once=!!n.once),n.expectedCount!=null){if(typeof n.expectedCount!="object")throw TypeError(".google.firestore.v1.Target.expectedCount: object expected");b.expectedCount=p.google.protobuf.Int32Value.fromObject(n.expectedCount)}return b},pe.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.targetId=0,_.once=!1,_.expectedCount=null),n.query!=null&&n.hasOwnProperty("query")&&(_.query=p.google.firestore.v1.Target.QueryTarget.toObject(n.query,b),b.oneofs)&&(_.targetType="query"),n.documents!=null&&n.hasOwnProperty("documents")&&(_.documents=p.google.firestore.v1.Target.DocumentsTarget.toObject(n.documents,b),b.oneofs)&&(_.targetType="documents"),n.resumeToken!=null&&n.hasOwnProperty("resumeToken")&&(_.resumeToken=b.bytes===String?v.base64.encode(n.resumeToken,0,n.resumeToken.length):b.bytes===Array?Array.prototype.slice.call(n.resumeToken):n.resumeToken,b.oneofs)&&(_.resumeType="resumeToken"),n.targetId!=null&&n.hasOwnProperty("targetId")&&(_.targetId=n.targetId),n.once!=null&&n.hasOwnProperty("once")&&(_.once=n.once),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(_.resumeType="readTime"),n.expectedCount!=null&&n.hasOwnProperty("expectedCount")&&(_.expectedCount=p.google.protobuf.Int32Value.toObject(n.expectedCount,b)),_},pe.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},pe.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.Target"},pe.DocumentsTarget=(Se.prototype.documents=v.emptyArray,Se.fromObject=function(n){if(n instanceof p.google.firestore.v1.Target.DocumentsTarget)return n;var b=new p.google.firestore.v1.Target.DocumentsTarget;if(n.documents){if(!Array.isArray(n.documents))throw TypeError(".google.firestore.v1.Target.DocumentsTarget.documents: array expected");b.documents=[];for(var _=0;_<n.documents.length;++_)b.documents[_]=String(n.documents[_])}return b},Se.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.documents=[]),n.documents&&n.documents.length){_.documents=[];for(var le=0;le<n.documents.length;++le)_.documents[le]=n.documents[le]}return _},Se.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Se.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.Target.DocumentsTarget"},Se),pe.QueryTarget=(ye.prototype.parent="",ye.prototype.structuredQuery=null,Object.defineProperty(ye.prototype,"queryType",{get:v.oneOfGetter(T=["structuredQuery"]),set:v.oneOfSetter(T)}),ye.fromObject=function(n){if(n instanceof p.google.firestore.v1.Target.QueryTarget)return n;var b=new p.google.firestore.v1.Target.QueryTarget;if(n.parent!=null&&(b.parent=String(n.parent)),n.structuredQuery!=null){if(typeof n.structuredQuery!="object")throw TypeError(".google.firestore.v1.Target.QueryTarget.structuredQuery: object expected");b.structuredQuery=p.google.firestore.v1.StructuredQuery.fromObject(n.structuredQuery)}return b},ye.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.parent=""),n.parent!=null&&n.hasOwnProperty("parent")&&(_.parent=n.parent),n.structuredQuery!=null&&n.hasOwnProperty("structuredQuery")&&(_.structuredQuery=p.google.firestore.v1.StructuredQuery.toObject(n.structuredQuery,b),b.oneofs)&&(_.queryType="structuredQuery"),_},ye.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ye.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.Target.QueryTarget"},ye),pe),O.TargetChange=(a.prototype.targetChangeType=0,a.prototype.targetIds=v.emptyArray,a.prototype.cause=null,a.prototype.resumeToken=v.newBuffer([]),a.prototype.readTime=null,a.fromObject=function(n){if(n instanceof p.google.firestore.v1.TargetChange)return n;var b=new p.google.firestore.v1.TargetChange;switch(n.targetChangeType){default:typeof n.targetChangeType=="number"&&(b.targetChangeType=n.targetChangeType);break;case"NO_CHANGE":case 0:b.targetChangeType=0;break;case"ADD":case 1:b.targetChangeType=1;break;case"REMOVE":case 2:b.targetChangeType=2;break;case"CURRENT":case 3:b.targetChangeType=3;break;case"RESET":case 4:b.targetChangeType=4}if(n.targetIds){if(!Array.isArray(n.targetIds))throw TypeError(".google.firestore.v1.TargetChange.targetIds: array expected");b.targetIds=[];for(var _=0;_<n.targetIds.length;++_)b.targetIds[_]=0|n.targetIds[_]}if(n.cause!=null){if(typeof n.cause!="object")throw TypeError(".google.firestore.v1.TargetChange.cause: object expected");b.cause=p.google.rpc.Status.fromObject(n.cause)}if(n.resumeToken!=null&&(typeof n.resumeToken=="string"?v.base64.decode(n.resumeToken,b.resumeToken=v.newBuffer(v.base64.length(n.resumeToken)),0):0<=n.resumeToken.length&&(b.resumeToken=n.resumeToken)),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.TargetChange.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},a.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.targetIds=[]),b.defaults&&(_.targetChangeType=b.enums===String?"NO_CHANGE":0,_.cause=null,b.bytes===String?_.resumeToken="":(_.resumeToken=[],b.bytes!==Array&&(_.resumeToken=v.newBuffer(_.resumeToken))),_.readTime=null),n.targetChangeType!=null&&n.hasOwnProperty("targetChangeType")&&(_.targetChangeType=b.enums!==String||p.google.firestore.v1.TargetChange.TargetChangeType[n.targetChangeType]===void 0?n.targetChangeType:p.google.firestore.v1.TargetChange.TargetChangeType[n.targetChangeType]),n.targetIds&&n.targetIds.length){_.targetIds=[];for(var le=0;le<n.targetIds.length;++le)_.targetIds[le]=n.targetIds[le]}return n.cause!=null&&n.hasOwnProperty("cause")&&(_.cause=p.google.rpc.Status.toObject(n.cause,b)),n.resumeToken!=null&&n.hasOwnProperty("resumeToken")&&(_.resumeToken=b.bytes===String?v.base64.encode(n.resumeToken,0,n.resumeToken.length):b.bytes===Array?Array.prototype.slice.call(n.resumeToken):n.resumeToken),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b)),_},a.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},a.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.TargetChange"},a.TargetChangeType=(T={},(d=Object.create(T))[T[0]="NO_CHANGE"]="NO_CHANGE",d[T[1]="ADD"]="ADD",d[T[2]="REMOVE"]="REMOVE",d[T[3]="CURRENT"]="CURRENT",d[T[4]="RESET"]="RESET",d),a),O.ListCollectionIdsRequest=(j.prototype.parent="",j.prototype.pageSize=0,j.prototype.pageToken="",j.prototype.readTime=null,Object.defineProperty(j.prototype,"consistencySelector",{get:v.oneOfGetter(T=["readTime"]),set:v.oneOfSetter(T)}),j.fromObject=function(n){if(n instanceof p.google.firestore.v1.ListCollectionIdsRequest)return n;var b=new p.google.firestore.v1.ListCollectionIdsRequest;if(n.parent!=null&&(b.parent=String(n.parent)),n.pageSize!=null&&(b.pageSize=0|n.pageSize),n.pageToken!=null&&(b.pageToken=String(n.pageToken)),n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.ListCollectionIdsRequest.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},j.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.parent="",_.pageSize=0,_.pageToken=""),n.parent!=null&&n.hasOwnProperty("parent")&&(_.parent=n.parent),n.pageSize!=null&&n.hasOwnProperty("pageSize")&&(_.pageSize=n.pageSize),n.pageToken!=null&&n.hasOwnProperty("pageToken")&&(_.pageToken=n.pageToken),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b),b.oneofs)&&(_.consistencySelector="readTime"),_},j.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},j.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ListCollectionIdsRequest"},j),O.ListCollectionIdsResponse=(G.prototype.collectionIds=v.emptyArray,G.prototype.nextPageToken="",G.fromObject=function(n){if(n instanceof p.google.firestore.v1.ListCollectionIdsResponse)return n;var b=new p.google.firestore.v1.ListCollectionIdsResponse;if(n.collectionIds){if(!Array.isArray(n.collectionIds))throw TypeError(".google.firestore.v1.ListCollectionIdsResponse.collectionIds: array expected");b.collectionIds=[];for(var _=0;_<n.collectionIds.length;++_)b.collectionIds[_]=String(n.collectionIds[_])}return n.nextPageToken!=null&&(b.nextPageToken=String(n.nextPageToken)),b},G.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.collectionIds=[]),b.defaults&&(_.nextPageToken=""),n.collectionIds&&n.collectionIds.length){_.collectionIds=[];for(var le=0;le<n.collectionIds.length;++le)_.collectionIds[le]=n.collectionIds[le]}return n.nextPageToken!=null&&n.hasOwnProperty("nextPageToken")&&(_.nextPageToken=n.nextPageToken),_},G.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},G.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ListCollectionIdsResponse"},G),O.BatchWriteRequest=(o.prototype.database="",o.prototype.writes=v.emptyArray,o.prototype.labels=v.emptyObject,o.fromObject=function(n){if(n instanceof p.google.firestore.v1.BatchWriteRequest)return n;var b=new p.google.firestore.v1.BatchWriteRequest;if(n.database!=null&&(b.database=String(n.database)),n.writes){if(!Array.isArray(n.writes))throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: array expected");b.writes=[];for(var _=0;_<n.writes.length;++_){if(typeof n.writes[_]!="object")throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: object expected");b.writes[_]=p.google.firestore.v1.Write.fromObject(n.writes[_])}}if(n.labels){if(typeof n.labels!="object")throw TypeError(".google.firestore.v1.BatchWriteRequest.labels: object expected");b.labels={};for(var le=Object.keys(n.labels),_=0;_<le.length;++_)b.labels[le[_]]=String(n.labels[le[_]])}return b},o.toObject=function(n,b){var _,le={};if(((b=b||{}).arrays||b.defaults)&&(le.writes=[]),(b.objects||b.defaults)&&(le.labels={}),b.defaults&&(le.database=""),n.database!=null&&n.hasOwnProperty("database")&&(le.database=n.database),n.writes&&n.writes.length){le.writes=[];for(var qe=0;qe<n.writes.length;++qe)le.writes[qe]=p.google.firestore.v1.Write.toObject(n.writes[qe],b)}if(n.labels&&(_=Object.keys(n.labels)).length)for(le.labels={},qe=0;qe<_.length;++qe)le.labels[_[qe]]=n.labels[_[qe]];return le},o.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},o.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.BatchWriteRequest"},o),O.BatchWriteResponse=(I.prototype.writeResults=v.emptyArray,I.prototype.status=v.emptyArray,I.fromObject=function(n){if(n instanceof p.google.firestore.v1.BatchWriteResponse)return n;var b=new p.google.firestore.v1.BatchWriteResponse;if(n.writeResults){if(!Array.isArray(n.writeResults))throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: array expected");b.writeResults=[];for(var _=0;_<n.writeResults.length;++_){if(typeof n.writeResults[_]!="object")throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: object expected");b.writeResults[_]=p.google.firestore.v1.WriteResult.fromObject(n.writeResults[_])}}if(n.status){if(!Array.isArray(n.status))throw TypeError(".google.firestore.v1.BatchWriteResponse.status: array expected");for(b.status=[],_=0;_<n.status.length;++_){if(typeof n.status[_]!="object")throw TypeError(".google.firestore.v1.BatchWriteResponse.status: object expected");b.status[_]=p.google.rpc.Status.fromObject(n.status[_])}}return b},I.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.writeResults=[],_.status=[]),n.writeResults&&n.writeResults.length){_.writeResults=[];for(var le=0;le<n.writeResults.length;++le)_.writeResults[le]=p.google.firestore.v1.WriteResult.toObject(n.writeResults[le],b)}if(n.status&&n.status.length)for(_.status=[],le=0;le<n.status.length;++le)_.status[le]=p.google.rpc.Status.toObject(n.status[le],b);return _},I.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},I.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.BatchWriteResponse"},I),O.StructuredQuery=(B.prototype.select=null,B.prototype.from=v.emptyArray,B.prototype.where=null,B.prototype.orderBy=v.emptyArray,B.prototype.startAt=null,B.prototype.endAt=null,B.prototype.offset=0,B.prototype.limit=null,B.prototype.findNearest=null,B.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredQuery)return n;var b=new p.google.firestore.v1.StructuredQuery;if(n.select!=null){if(typeof n.select!="object")throw TypeError(".google.firestore.v1.StructuredQuery.select: object expected");b.select=p.google.firestore.v1.StructuredQuery.Projection.fromObject(n.select)}if(n.from){if(!Array.isArray(n.from))throw TypeError(".google.firestore.v1.StructuredQuery.from: array expected");b.from=[];for(var _=0;_<n.from.length;++_){if(typeof n.from[_]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.from: object expected");b.from[_]=p.google.firestore.v1.StructuredQuery.CollectionSelector.fromObject(n.from[_])}}if(n.where!=null){if(typeof n.where!="object")throw TypeError(".google.firestore.v1.StructuredQuery.where: object expected");b.where=p.google.firestore.v1.StructuredQuery.Filter.fromObject(n.where)}if(n.orderBy){if(!Array.isArray(n.orderBy))throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: array expected");for(b.orderBy=[],_=0;_<n.orderBy.length;++_){if(typeof n.orderBy[_]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: object expected");b.orderBy[_]=p.google.firestore.v1.StructuredQuery.Order.fromObject(n.orderBy[_])}}if(n.startAt!=null){if(typeof n.startAt!="object")throw TypeError(".google.firestore.v1.StructuredQuery.startAt: object expected");b.startAt=p.google.firestore.v1.Cursor.fromObject(n.startAt)}if(n.endAt!=null){if(typeof n.endAt!="object")throw TypeError(".google.firestore.v1.StructuredQuery.endAt: object expected");b.endAt=p.google.firestore.v1.Cursor.fromObject(n.endAt)}if(n.offset!=null&&(b.offset=0|n.offset),n.limit!=null){if(typeof n.limit!="object")throw TypeError(".google.firestore.v1.StructuredQuery.limit: object expected");b.limit=p.google.protobuf.Int32Value.fromObject(n.limit)}if(n.findNearest!=null){if(typeof n.findNearest!="object")throw TypeError(".google.firestore.v1.StructuredQuery.findNearest: object expected");b.findNearest=p.google.firestore.v1.StructuredQuery.FindNearest.fromObject(n.findNearest)}return b},B.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.from=[],_.orderBy=[]),b.defaults&&(_.select=null,_.where=null,_.limit=null,_.offset=0,_.startAt=null,_.endAt=null,_.findNearest=null),n.select!=null&&n.hasOwnProperty("select")&&(_.select=p.google.firestore.v1.StructuredQuery.Projection.toObject(n.select,b)),n.from&&n.from.length){_.from=[];for(var le=0;le<n.from.length;++le)_.from[le]=p.google.firestore.v1.StructuredQuery.CollectionSelector.toObject(n.from[le],b)}if(n.where!=null&&n.hasOwnProperty("where")&&(_.where=p.google.firestore.v1.StructuredQuery.Filter.toObject(n.where,b)),n.orderBy&&n.orderBy.length)for(_.orderBy=[],le=0;le<n.orderBy.length;++le)_.orderBy[le]=p.google.firestore.v1.StructuredQuery.Order.toObject(n.orderBy[le],b);return n.limit!=null&&n.hasOwnProperty("limit")&&(_.limit=p.google.protobuf.Int32Value.toObject(n.limit,b)),n.offset!=null&&n.hasOwnProperty("offset")&&(_.offset=n.offset),n.startAt!=null&&n.hasOwnProperty("startAt")&&(_.startAt=p.google.firestore.v1.Cursor.toObject(n.startAt,b)),n.endAt!=null&&n.hasOwnProperty("endAt")&&(_.endAt=p.google.firestore.v1.Cursor.toObject(n.endAt,b)),n.findNearest!=null&&n.hasOwnProperty("findNearest")&&(_.findNearest=p.google.firestore.v1.StructuredQuery.FindNearest.toObject(n.findNearest,b)),_},B.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},B.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery"},B.CollectionSelector=(ae.prototype.collectionId="",ae.prototype.allDescendants=!1,ae.fromObject=function(n){var b;return n instanceof p.google.firestore.v1.StructuredQuery.CollectionSelector?n:(b=new p.google.firestore.v1.StructuredQuery.CollectionSelector,n.collectionId!=null&&(b.collectionId=String(n.collectionId)),n.allDescendants!=null&&(b.allDescendants=!!n.allDescendants),b)},ae.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.collectionId="",_.allDescendants=!1),n.collectionId!=null&&n.hasOwnProperty("collectionId")&&(_.collectionId=n.collectionId),n.allDescendants!=null&&n.hasOwnProperty("allDescendants")&&(_.allDescendants=n.allDescendants),_},ae.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ae.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.CollectionSelector"},ae),B.Filter=(Ce.prototype.compositeFilter=null,Ce.prototype.fieldFilter=null,Ce.prototype.unaryFilter=null,Object.defineProperty(Ce.prototype,"filterType",{get:v.oneOfGetter(d=["compositeFilter","fieldFilter","unaryFilter"]),set:v.oneOfSetter(d)}),Ce.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredQuery.Filter)return n;var b=new p.google.firestore.v1.StructuredQuery.Filter;if(n.compositeFilter!=null){if(typeof n.compositeFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.compositeFilter: object expected");b.compositeFilter=p.google.firestore.v1.StructuredQuery.CompositeFilter.fromObject(n.compositeFilter)}if(n.fieldFilter!=null){if(typeof n.fieldFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.fieldFilter: object expected");b.fieldFilter=p.google.firestore.v1.StructuredQuery.FieldFilter.fromObject(n.fieldFilter)}if(n.unaryFilter!=null){if(typeof n.unaryFilter!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Filter.unaryFilter: object expected");b.unaryFilter=p.google.firestore.v1.StructuredQuery.UnaryFilter.fromObject(n.unaryFilter)}return b},Ce.toObject=function(n,b){b=b||{};var _={};return n.compositeFilter!=null&&n.hasOwnProperty("compositeFilter")&&(_.compositeFilter=p.google.firestore.v1.StructuredQuery.CompositeFilter.toObject(n.compositeFilter,b),b.oneofs)&&(_.filterType="compositeFilter"),n.fieldFilter!=null&&n.hasOwnProperty("fieldFilter")&&(_.fieldFilter=p.google.firestore.v1.StructuredQuery.FieldFilter.toObject(n.fieldFilter,b),b.oneofs)&&(_.filterType="fieldFilter"),n.unaryFilter!=null&&n.hasOwnProperty("unaryFilter")&&(_.unaryFilter=p.google.firestore.v1.StructuredQuery.UnaryFilter.toObject(n.unaryFilter,b),b.oneofs)&&(_.filterType="unaryFilter"),_},Ce.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ce.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.Filter"},Ce),B.CompositeFilter=(Ue.prototype.op=0,Ue.prototype.filters=v.emptyArray,Ue.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredQuery.CompositeFilter)return n;var b=new p.google.firestore.v1.StructuredQuery.CompositeFilter;switch(n.op){default:typeof n.op=="number"&&(b.op=n.op);break;case"OPERATOR_UNSPECIFIED":case 0:b.op=0;break;case"AND":case 1:b.op=1;break;case"OR":case 2:b.op=2}if(n.filters){if(!Array.isArray(n.filters))throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: array expected");b.filters=[];for(var _=0;_<n.filters.length;++_){if(typeof n.filters[_]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: object expected");b.filters[_]=p.google.firestore.v1.StructuredQuery.Filter.fromObject(n.filters[_])}}return b},Ue.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.filters=[]),b.defaults&&(_.op=b.enums===String?"OPERATOR_UNSPECIFIED":0),n.op!=null&&n.hasOwnProperty("op")&&(_.op=b.enums!==String||p.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[n.op]===void 0?n.op:p.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[n.op]),n.filters&&n.filters.length){_.filters=[];for(var le=0;le<n.filters.length;++le)_.filters[le]=p.google.firestore.v1.StructuredQuery.Filter.toObject(n.filters[le],b)}return _},Ue.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ue.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.CompositeFilter"},Ue.Operator=(d={},(T=Object.create(d))[d[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",T[d[1]="AND"]="AND",T[d[2]="OR"]="OR",T),Ue),B.FieldFilter=(He.prototype.field=null,He.prototype.op=0,He.prototype.value=null,He.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredQuery.FieldFilter)return n;var b=new p.google.firestore.v1.StructuredQuery.FieldFilter;if(n.field!=null){if(typeof n.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.field: object expected");b.field=p.google.firestore.v1.StructuredQuery.FieldReference.fromObject(n.field)}switch(n.op){default:typeof n.op=="number"&&(b.op=n.op);break;case"OPERATOR_UNSPECIFIED":case 0:b.op=0;break;case"LESS_THAN":case 1:b.op=1;break;case"LESS_THAN_OR_EQUAL":case 2:b.op=2;break;case"GREATER_THAN":case 3:b.op=3;break;case"GREATER_THAN_OR_EQUAL":case 4:b.op=4;break;case"EQUAL":case 5:b.op=5;break;case"NOT_EQUAL":case 6:b.op=6;break;case"ARRAY_CONTAINS":case 7:b.op=7;break;case"IN":case 8:b.op=8;break;case"ARRAY_CONTAINS_ANY":case 9:b.op=9;break;case"NOT_IN":case 10:b.op=10}if(n.value!=null){if(typeof n.value!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.value: object expected");b.value=p.google.firestore.v1.Value.fromObject(n.value)}return b},He.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.field=null,_.op=b.enums===String?"OPERATOR_UNSPECIFIED":0,_.value=null),n.field!=null&&n.hasOwnProperty("field")&&(_.field=p.google.firestore.v1.StructuredQuery.FieldReference.toObject(n.field,b)),n.op!=null&&n.hasOwnProperty("op")&&(_.op=b.enums!==String||p.google.firestore.v1.StructuredQuery.FieldFilter.Operator[n.op]===void 0?n.op:p.google.firestore.v1.StructuredQuery.FieldFilter.Operator[n.op]),n.value!=null&&n.hasOwnProperty("value")&&(_.value=p.google.firestore.v1.Value.toObject(n.value,b)),_},He.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},He.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.FieldFilter"},He.Operator=(d={},(T=Object.create(d))[d[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",T[d[1]="LESS_THAN"]="LESS_THAN",T[d[2]="LESS_THAN_OR_EQUAL"]="LESS_THAN_OR_EQUAL",T[d[3]="GREATER_THAN"]="GREATER_THAN",T[d[4]="GREATER_THAN_OR_EQUAL"]="GREATER_THAN_OR_EQUAL",T[d[5]="EQUAL"]="EQUAL",T[d[6]="NOT_EQUAL"]="NOT_EQUAL",T[d[7]="ARRAY_CONTAINS"]="ARRAY_CONTAINS",T[d[8]="IN"]="IN",T[d[9]="ARRAY_CONTAINS_ANY"]="ARRAY_CONTAINS_ANY",T[d[10]="NOT_IN"]="NOT_IN",T),He),B.UnaryFilter=(Ve.prototype.op=0,Ve.prototype.field=null,Object.defineProperty(Ve.prototype,"operandType",{get:v.oneOfGetter(d=["field"]),set:v.oneOfSetter(d)}),Ve.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredQuery.UnaryFilter)return n;var b=new p.google.firestore.v1.StructuredQuery.UnaryFilter;switch(n.op){default:typeof n.op=="number"&&(b.op=n.op);break;case"OPERATOR_UNSPECIFIED":case 0:b.op=0;break;case"IS_NAN":case 2:b.op=2;break;case"IS_NULL":case 3:b.op=3;break;case"IS_NOT_NAN":case 4:b.op=4;break;case"IS_NOT_NULL":case 5:b.op=5}if(n.field!=null){if(typeof n.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.UnaryFilter.field: object expected");b.field=p.google.firestore.v1.StructuredQuery.FieldReference.fromObject(n.field)}return b},Ve.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.op=b.enums===String?"OPERATOR_UNSPECIFIED":0),n.op!=null&&n.hasOwnProperty("op")&&(_.op=b.enums!==String||p.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[n.op]===void 0?n.op:p.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[n.op]),n.field!=null&&n.hasOwnProperty("field")&&(_.field=p.google.firestore.v1.StructuredQuery.FieldReference.toObject(n.field,b),b.oneofs)&&(_.operandType="field"),_},Ve.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ve.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.UnaryFilter"},Ve.Operator=(d={},(T=Object.create(d))[d[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",T[d[2]="IS_NAN"]="IS_NAN",T[d[3]="IS_NULL"]="IS_NULL",T[d[4]="IS_NOT_NAN"]="IS_NOT_NAN",T[d[5]="IS_NOT_NULL"]="IS_NOT_NULL",T),Ve),B.Order=(Ke.prototype.field=null,Ke.prototype.direction=0,Ke.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredQuery.Order)return n;var b=new p.google.firestore.v1.StructuredQuery.Order;if(n.field!=null){if(typeof n.field!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Order.field: object expected");b.field=p.google.firestore.v1.StructuredQuery.FieldReference.fromObject(n.field)}switch(n.direction){default:typeof n.direction=="number"&&(b.direction=n.direction);break;case"DIRECTION_UNSPECIFIED":case 0:b.direction=0;break;case"ASCENDING":case 1:b.direction=1;break;case"DESCENDING":case 2:b.direction=2}return b},Ke.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.field=null,_.direction=b.enums===String?"DIRECTION_UNSPECIFIED":0),n.field!=null&&n.hasOwnProperty("field")&&(_.field=p.google.firestore.v1.StructuredQuery.FieldReference.toObject(n.field,b)),n.direction!=null&&n.hasOwnProperty("direction")&&(_.direction=b.enums!==String||p.google.firestore.v1.StructuredQuery.Direction[n.direction]===void 0?n.direction:p.google.firestore.v1.StructuredQuery.Direction[n.direction]),_},Ke.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ke.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.Order"},Ke),B.Direction=(d={},(T=Object.create(d))[d[0]="DIRECTION_UNSPECIFIED"]="DIRECTION_UNSPECIFIED",T[d[1]="ASCENDING"]="ASCENDING",T[d[2]="DESCENDING"]="DESCENDING",T),B.FieldReference=(st.prototype.fieldPath="",st.fromObject=function(n){var b;return n instanceof p.google.firestore.v1.StructuredQuery.FieldReference?n:(b=new p.google.firestore.v1.StructuredQuery.FieldReference,n.fieldPath!=null&&(b.fieldPath=String(n.fieldPath)),b)},st.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.fieldPath=""),n.fieldPath!=null&&n.hasOwnProperty("fieldPath")&&(_.fieldPath=n.fieldPath),_},st.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},st.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.FieldReference"},st),B.Projection=(vt.prototype.fields=v.emptyArray,vt.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredQuery.Projection)return n;var b=new p.google.firestore.v1.StructuredQuery.Projection;if(n.fields){if(!Array.isArray(n.fields))throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: array expected");b.fields=[];for(var _=0;_<n.fields.length;++_){if(typeof n.fields[_]!="object")throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: object expected");b.fields[_]=p.google.firestore.v1.StructuredQuery.FieldReference.fromObject(n.fields[_])}}return b},vt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.fields=[]),n.fields&&n.fields.length){_.fields=[];for(var le=0;le<n.fields.length;++le)_.fields[le]=p.google.firestore.v1.StructuredQuery.FieldReference.toObject(n.fields[le],b)}return _},vt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},vt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.Projection"},vt),B.FindNearest=(ft.prototype.vectorField=null,ft.prototype.queryVector=null,ft.prototype.distanceMeasure=0,ft.prototype.limit=null,ft.prototype.distanceResultField="",ft.prototype.distanceThreshold=null,ft.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredQuery.FindNearest)return n;var b=new p.google.firestore.v1.StructuredQuery.FindNearest;if(n.vectorField!=null){if(typeof n.vectorField!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.vectorField: object expected");b.vectorField=p.google.firestore.v1.StructuredQuery.FieldReference.fromObject(n.vectorField)}if(n.queryVector!=null){if(typeof n.queryVector!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.queryVector: object expected");b.queryVector=p.google.firestore.v1.Value.fromObject(n.queryVector)}switch(n.distanceMeasure){default:typeof n.distanceMeasure=="number"&&(b.distanceMeasure=n.distanceMeasure);break;case"DISTANCE_MEASURE_UNSPECIFIED":case 0:b.distanceMeasure=0;break;case"EUCLIDEAN":case 1:b.distanceMeasure=1;break;case"COSINE":case 2:b.distanceMeasure=2;break;case"DOT_PRODUCT":case 3:b.distanceMeasure=3}if(n.limit!=null){if(typeof n.limit!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.limit: object expected");b.limit=p.google.protobuf.Int32Value.fromObject(n.limit)}if(n.distanceResultField!=null&&(b.distanceResultField=String(n.distanceResultField)),n.distanceThreshold!=null){if(typeof n.distanceThreshold!="object")throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.distanceThreshold: object expected");b.distanceThreshold=p.google.protobuf.DoubleValue.fromObject(n.distanceThreshold)}return b},ft.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.vectorField=null,_.queryVector=null,_.distanceMeasure=b.enums===String?"DISTANCE_MEASURE_UNSPECIFIED":0,_.limit=null,_.distanceResultField="",_.distanceThreshold=null),n.vectorField!=null&&n.hasOwnProperty("vectorField")&&(_.vectorField=p.google.firestore.v1.StructuredQuery.FieldReference.toObject(n.vectorField,b)),n.queryVector!=null&&n.hasOwnProperty("queryVector")&&(_.queryVector=p.google.firestore.v1.Value.toObject(n.queryVector,b)),n.distanceMeasure!=null&&n.hasOwnProperty("distanceMeasure")&&(_.distanceMeasure=b.enums!==String||p.google.firestore.v1.StructuredQuery.FindNearest.DistanceMeasure[n.distanceMeasure]===void 0?n.distanceMeasure:p.google.firestore.v1.StructuredQuery.FindNearest.DistanceMeasure[n.distanceMeasure]),n.limit!=null&&n.hasOwnProperty("limit")&&(_.limit=p.google.protobuf.Int32Value.toObject(n.limit,b)),n.distanceResultField!=null&&n.hasOwnProperty("distanceResultField")&&(_.distanceResultField=n.distanceResultField),n.distanceThreshold!=null&&n.hasOwnProperty("distanceThreshold")&&(_.distanceThreshold=p.google.protobuf.DoubleValue.toObject(n.distanceThreshold,b)),_},ft.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ft.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredQuery.FindNearest"},ft.DistanceMeasure=(d={},(T=Object.create(d))[d[0]="DISTANCE_MEASURE_UNSPECIFIED"]="DISTANCE_MEASURE_UNSPECIFIED",T[d[1]="EUCLIDEAN"]="EUCLIDEAN",T[d[2]="COSINE"]="COSINE",T[d[3]="DOT_PRODUCT"]="DOT_PRODUCT",T),ft),B),O.StructuredAggregationQuery=(yt.prototype.structuredQuery=null,yt.prototype.aggregations=v.emptyArray,Object.defineProperty(yt.prototype,"queryType",{get:v.oneOfGetter(d=["structuredQuery"]),set:v.oneOfSetter(d)}),yt.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredAggregationQuery)return n;var b=new p.google.firestore.v1.StructuredAggregationQuery;if(n.structuredQuery!=null){if(typeof n.structuredQuery!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.structuredQuery: object expected");b.structuredQuery=p.google.firestore.v1.StructuredQuery.fromObject(n.structuredQuery)}if(n.aggregations){if(!Array.isArray(n.aggregations))throw TypeError(".google.firestore.v1.StructuredAggregationQuery.aggregations: array expected");b.aggregations=[];for(var _=0;_<n.aggregations.length;++_){if(typeof n.aggregations[_]!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.aggregations: object expected");b.aggregations[_]=p.google.firestore.v1.StructuredAggregationQuery.Aggregation.fromObject(n.aggregations[_])}}return b},yt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.aggregations=[]),n.structuredQuery!=null&&n.hasOwnProperty("structuredQuery")&&(_.structuredQuery=p.google.firestore.v1.StructuredQuery.toObject(n.structuredQuery,b),b.oneofs)&&(_.queryType="structuredQuery"),n.aggregations&&n.aggregations.length){_.aggregations=[];for(var le=0;le<n.aggregations.length;++le)_.aggregations[le]=p.google.firestore.v1.StructuredAggregationQuery.Aggregation.toObject(n.aggregations[le],b)}return _},yt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},yt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredAggregationQuery"},yt.Aggregation=(tt.prototype.count=null,tt.prototype.sum=null,tt.prototype.avg=null,tt.prototype.alias="",Object.defineProperty(tt.prototype,"operator",{get:v.oneOfGetter(d=["count","sum","avg"]),set:v.oneOfSetter(d)}),tt.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredAggregationQuery.Aggregation)return n;var b=new p.google.firestore.v1.StructuredAggregationQuery.Aggregation;if(n.count!=null){if(typeof n.count!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.count: object expected");b.count=p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.fromObject(n.count)}if(n.sum!=null){if(typeof n.sum!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.sum: object expected");b.sum=p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.fromObject(n.sum)}if(n.avg!=null){if(typeof n.avg!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.avg: object expected");b.avg=p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.fromObject(n.avg)}return n.alias!=null&&(b.alias=String(n.alias)),b},tt.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.alias=""),n.count!=null&&n.hasOwnProperty("count")&&(_.count=p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.toObject(n.count,b),b.oneofs)&&(_.operator="count"),n.sum!=null&&n.hasOwnProperty("sum")&&(_.sum=p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.toObject(n.sum,b),b.oneofs)&&(_.operator="sum"),n.avg!=null&&n.hasOwnProperty("avg")&&(_.avg=p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.toObject(n.avg,b),b.oneofs)&&(_.operator="avg"),n.alias!=null&&n.hasOwnProperty("alias")&&(_.alias=n.alias),_},tt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},tt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation"},tt.Count=(ke.prototype.upTo=null,ke.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count)return n;var b=new p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count;if(n.upTo!=null){if(typeof n.upTo!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.upTo: object expected");b.upTo=p.google.protobuf.Int64Value.fromObject(n.upTo)}return b},ke.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.upTo=null),n.upTo!=null&&n.hasOwnProperty("upTo")&&(_.upTo=p.google.protobuf.Int64Value.toObject(n.upTo,b)),_},ke.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ke.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Count"},ke),tt.Sum=(je.prototype.field=null,je.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum)return n;var b=new p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum;if(n.field!=null){if(typeof n.field!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.field: object expected");b.field=p.google.firestore.v1.StructuredQuery.FieldReference.fromObject(n.field)}return b},je.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.field=null),n.field!=null&&n.hasOwnProperty("field")&&(_.field=p.google.firestore.v1.StructuredQuery.FieldReference.toObject(n.field,b)),_},je.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},je.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum"},je),tt.Avg=(Ne.prototype.field=null,Ne.fromObject=function(n){if(n instanceof p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg)return n;var b=new p.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg;if(n.field!=null){if(typeof n.field!="object")throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.field: object expected");b.field=p.google.firestore.v1.StructuredQuery.FieldReference.fromObject(n.field)}return b},Ne.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.field=null),n.field!=null&&n.hasOwnProperty("field")&&(_.field=p.google.firestore.v1.StructuredQuery.FieldReference.toObject(n.field,b)),_},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ne.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg"},Ne),tt),yt),O.Cursor=(Me.prototype.values=v.emptyArray,Me.prototype.before=!1,Me.fromObject=function(n){if(n instanceof p.google.firestore.v1.Cursor)return n;var b=new p.google.firestore.v1.Cursor;if(n.values){if(!Array.isArray(n.values))throw TypeError(".google.firestore.v1.Cursor.values: array expected");b.values=[];for(var _=0;_<n.values.length;++_){if(typeof n.values[_]!="object")throw TypeError(".google.firestore.v1.Cursor.values: object expected");b.values[_]=p.google.firestore.v1.Value.fromObject(n.values[_])}}return n.before!=null&&(b.before=!!n.before),b},Me.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.values=[]),b.defaults&&(_.before=!1),n.values&&n.values.length){_.values=[];for(var le=0;le<n.values.length;++le)_.values[le]=p.google.firestore.v1.Value.toObject(n.values[le],b)}return n.before!=null&&n.hasOwnProperty("before")&&(_.before=n.before),_},Me.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Me.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.Cursor"},Me),O.ExplainOptions=(Be.prototype.analyze=!1,Be.fromObject=function(n){var b;return n instanceof p.google.firestore.v1.ExplainOptions?n:(b=new p.google.firestore.v1.ExplainOptions,n.analyze!=null&&(b.analyze=!!n.analyze),b)},Be.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.analyze=!1),n.analyze!=null&&n.hasOwnProperty("analyze")&&(_.analyze=n.analyze),_},Be.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Be.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ExplainOptions"},Be),O.ExplainMetrics=(Je.prototype.planSummary=null,Je.prototype.executionStats=null,Je.fromObject=function(n){if(n instanceof p.google.firestore.v1.ExplainMetrics)return n;var b=new p.google.firestore.v1.ExplainMetrics;if(n.planSummary!=null){if(typeof n.planSummary!="object")throw TypeError(".google.firestore.v1.ExplainMetrics.planSummary: object expected");b.planSummary=p.google.firestore.v1.PlanSummary.fromObject(n.planSummary)}if(n.executionStats!=null){if(typeof n.executionStats!="object")throw TypeError(".google.firestore.v1.ExplainMetrics.executionStats: object expected");b.executionStats=p.google.firestore.v1.ExecutionStats.fromObject(n.executionStats)}return b},Je.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.planSummary=null,_.executionStats=null),n.planSummary!=null&&n.hasOwnProperty("planSummary")&&(_.planSummary=p.google.firestore.v1.PlanSummary.toObject(n.planSummary,b)),n.executionStats!=null&&n.hasOwnProperty("executionStats")&&(_.executionStats=p.google.firestore.v1.ExecutionStats.toObject(n.executionStats,b)),_},Je.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Je.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ExplainMetrics"},Je),O.PlanSummary=(et.prototype.indexesUsed=v.emptyArray,et.fromObject=function(n){if(n instanceof p.google.firestore.v1.PlanSummary)return n;var b=new p.google.firestore.v1.PlanSummary;if(n.indexesUsed){if(!Array.isArray(n.indexesUsed))throw TypeError(".google.firestore.v1.PlanSummary.indexesUsed: array expected");b.indexesUsed=[];for(var _=0;_<n.indexesUsed.length;++_){if(typeof n.indexesUsed[_]!="object")throw TypeError(".google.firestore.v1.PlanSummary.indexesUsed: object expected");b.indexesUsed[_]=p.google.protobuf.Struct.fromObject(n.indexesUsed[_])}}return b},et.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.indexesUsed=[]),n.indexesUsed&&n.indexesUsed.length){_.indexesUsed=[];for(var le=0;le<n.indexesUsed.length;++le)_.indexesUsed[le]=p.google.protobuf.Struct.toObject(n.indexesUsed[le],b)}return _},et.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},et.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.PlanSummary"},et),O.ExecutionStats=(rt.prototype.resultsReturned=v.Long?v.Long.fromBits(0,0,!1):0,rt.prototype.executionDuration=null,rt.prototype.readOperations=v.Long?v.Long.fromBits(0,0,!1):0,rt.prototype.debugStats=null,rt.fromObject=function(n){if(n instanceof p.google.firestore.v1.ExecutionStats)return n;var b=new p.google.firestore.v1.ExecutionStats;if(n.resultsReturned!=null&&(v.Long?(b.resultsReturned=v.Long.fromValue(n.resultsReturned)).unsigned=!1:typeof n.resultsReturned=="string"?b.resultsReturned=parseInt(n.resultsReturned,10):typeof n.resultsReturned=="number"?b.resultsReturned=n.resultsReturned:typeof n.resultsReturned=="object"&&(b.resultsReturned=new v.LongBits(n.resultsReturned.low>>>0,n.resultsReturned.high>>>0).toNumber())),n.executionDuration!=null){if(typeof n.executionDuration!="object")throw TypeError(".google.firestore.v1.ExecutionStats.executionDuration: object expected");b.executionDuration=p.google.protobuf.Duration.fromObject(n.executionDuration)}if(n.readOperations!=null&&(v.Long?(b.readOperations=v.Long.fromValue(n.readOperations)).unsigned=!1:typeof n.readOperations=="string"?b.readOperations=parseInt(n.readOperations,10):typeof n.readOperations=="number"?b.readOperations=n.readOperations:typeof n.readOperations=="object"&&(b.readOperations=new v.LongBits(n.readOperations.low>>>0,n.readOperations.high>>>0).toNumber())),n.debugStats!=null){if(typeof n.debugStats!="object")throw TypeError(".google.firestore.v1.ExecutionStats.debugStats: object expected");b.debugStats=p.google.protobuf.Struct.fromObject(n.debugStats)}return b},rt.toObject=function(n,b){var _,le={};return(b=b||{}).defaults&&(v.Long?(_=new v.Long(0,0,!1),le.resultsReturned=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.resultsReturned=b.longs===String?"0":0,le.executionDuration=null,v.Long?(_=new v.Long(0,0,!1),le.readOperations=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.readOperations=b.longs===String?"0":0,le.debugStats=null),n.resultsReturned!=null&&n.hasOwnProperty("resultsReturned")&&(typeof n.resultsReturned=="number"?le.resultsReturned=b.longs===String?String(n.resultsReturned):n.resultsReturned:le.resultsReturned=b.longs===String?v.Long.prototype.toString.call(n.resultsReturned):b.longs===Number?new v.LongBits(n.resultsReturned.low>>>0,n.resultsReturned.high>>>0).toNumber():n.resultsReturned),n.executionDuration!=null&&n.hasOwnProperty("executionDuration")&&(le.executionDuration=p.google.protobuf.Duration.toObject(n.executionDuration,b)),n.readOperations!=null&&n.hasOwnProperty("readOperations")&&(typeof n.readOperations=="number"?le.readOperations=b.longs===String?String(n.readOperations):n.readOperations:le.readOperations=b.longs===String?v.Long.prototype.toString.call(n.readOperations):b.longs===Number?new v.LongBits(n.readOperations.low>>>0,n.readOperations.high>>>0).toNumber():n.readOperations),n.debugStats!=null&&n.hasOwnProperty("debugStats")&&(le.debugStats=p.google.protobuf.Struct.toObject(n.debugStats,b)),le},rt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},rt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ExecutionStats"},rt),O.Write=(Le.prototype.update=null,Le.prototype.delete=null,Le.prototype.transform=null,Le.prototype.updateMask=null,Le.prototype.updateTransforms=v.emptyArray,Le.prototype.currentDocument=null,Object.defineProperty(Le.prototype,"operation",{get:v.oneOfGetter(T=["update","delete","transform"]),set:v.oneOfSetter(T)}),Le.fromObject=function(n){if(n instanceof p.google.firestore.v1.Write)return n;var b=new p.google.firestore.v1.Write;if(n.update!=null){if(typeof n.update!="object")throw TypeError(".google.firestore.v1.Write.update: object expected");b.update=p.google.firestore.v1.Document.fromObject(n.update)}if(n.delete!=null&&(b.delete=String(n.delete)),n.transform!=null){if(typeof n.transform!="object")throw TypeError(".google.firestore.v1.Write.transform: object expected");b.transform=p.google.firestore.v1.DocumentTransform.fromObject(n.transform)}if(n.updateMask!=null){if(typeof n.updateMask!="object")throw TypeError(".google.firestore.v1.Write.updateMask: object expected");b.updateMask=p.google.firestore.v1.DocumentMask.fromObject(n.updateMask)}if(n.updateTransforms){if(!Array.isArray(n.updateTransforms))throw TypeError(".google.firestore.v1.Write.updateTransforms: array expected");b.updateTransforms=[];for(var _=0;_<n.updateTransforms.length;++_){if(typeof n.updateTransforms[_]!="object")throw TypeError(".google.firestore.v1.Write.updateTransforms: object expected");b.updateTransforms[_]=p.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(n.updateTransforms[_])}}if(n.currentDocument!=null){if(typeof n.currentDocument!="object")throw TypeError(".google.firestore.v1.Write.currentDocument: object expected");b.currentDocument=p.google.firestore.v1.Precondition.fromObject(n.currentDocument)}return b},Le.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.updateTransforms=[]),b.defaults&&(_.updateMask=null,_.currentDocument=null),n.update!=null&&n.hasOwnProperty("update")&&(_.update=p.google.firestore.v1.Document.toObject(n.update,b),b.oneofs)&&(_.operation="update"),n.delete!=null&&n.hasOwnProperty("delete")&&(_.delete=n.delete,b.oneofs)&&(_.operation="delete"),n.updateMask!=null&&n.hasOwnProperty("updateMask")&&(_.updateMask=p.google.firestore.v1.DocumentMask.toObject(n.updateMask,b)),n.currentDocument!=null&&n.hasOwnProperty("currentDocument")&&(_.currentDocument=p.google.firestore.v1.Precondition.toObject(n.currentDocument,b)),n.transform!=null&&n.hasOwnProperty("transform")&&(_.transform=p.google.firestore.v1.DocumentTransform.toObject(n.transform,b),b.oneofs)&&(_.operation="transform"),n.updateTransforms&&n.updateTransforms.length){_.updateTransforms=[];for(var le=0;le<n.updateTransforms.length;++le)_.updateTransforms[le]=p.google.firestore.v1.DocumentTransform.FieldTransform.toObject(n.updateTransforms[le],b)}return _},Le.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Le.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.Write"},Le),O.DocumentTransform=($e.prototype.document="",$e.prototype.fieldTransforms=v.emptyArray,$e.fromObject=function(n){if(n instanceof p.google.firestore.v1.DocumentTransform)return n;var b=new p.google.firestore.v1.DocumentTransform;if(n.document!=null&&(b.document=String(n.document)),n.fieldTransforms){if(!Array.isArray(n.fieldTransforms))throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: array expected");b.fieldTransforms=[];for(var _=0;_<n.fieldTransforms.length;++_){if(typeof n.fieldTransforms[_]!="object")throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: object expected");b.fieldTransforms[_]=p.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(n.fieldTransforms[_])}}return b},$e.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.fieldTransforms=[]),b.defaults&&(_.document=""),n.document!=null&&n.hasOwnProperty("document")&&(_.document=n.document),n.fieldTransforms&&n.fieldTransforms.length){_.fieldTransforms=[];for(var le=0;le<n.fieldTransforms.length;++le)_.fieldTransforms[le]=p.google.firestore.v1.DocumentTransform.FieldTransform.toObject(n.fieldTransforms[le],b)}return _},$e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},$e.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.DocumentTransform"},$e.FieldTransform=(Ye.prototype.fieldPath="",Ye.prototype.setToServerValue=null,Ye.prototype.increment=null,Ye.prototype.maximum=null,Ye.prototype.minimum=null,Ye.prototype.appendMissingElements=null,Ye.prototype.removeAllFromArray=null,Object.defineProperty(Ye.prototype,"transformType",{get:v.oneOfGetter(d=["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]),set:v.oneOfSetter(d)}),Ye.fromObject=function(n){if(n instanceof p.google.firestore.v1.DocumentTransform.FieldTransform)return n;var b=new p.google.firestore.v1.DocumentTransform.FieldTransform;switch(n.fieldPath!=null&&(b.fieldPath=String(n.fieldPath)),n.setToServerValue){default:typeof n.setToServerValue=="number"&&(b.setToServerValue=n.setToServerValue);break;case"SERVER_VALUE_UNSPECIFIED":case 0:b.setToServerValue=0;break;case"REQUEST_TIME":case 1:b.setToServerValue=1}if(n.increment!=null){if(typeof n.increment!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.increment: object expected");b.increment=p.google.firestore.v1.Value.fromObject(n.increment)}if(n.maximum!=null){if(typeof n.maximum!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.maximum: object expected");b.maximum=p.google.firestore.v1.Value.fromObject(n.maximum)}if(n.minimum!=null){if(typeof n.minimum!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.minimum: object expected");b.minimum=p.google.firestore.v1.Value.fromObject(n.minimum)}if(n.appendMissingElements!=null){if(typeof n.appendMissingElements!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.appendMissingElements: object expected");b.appendMissingElements=p.google.firestore.v1.ArrayValue.fromObject(n.appendMissingElements)}if(n.removeAllFromArray!=null){if(typeof n.removeAllFromArray!="object")throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.removeAllFromArray: object expected");b.removeAllFromArray=p.google.firestore.v1.ArrayValue.fromObject(n.removeAllFromArray)}return b},Ye.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.fieldPath=""),n.fieldPath!=null&&n.hasOwnProperty("fieldPath")&&(_.fieldPath=n.fieldPath),n.setToServerValue!=null&&n.hasOwnProperty("setToServerValue")&&(_.setToServerValue=b.enums!==String||p.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[n.setToServerValue]===void 0?n.setToServerValue:p.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[n.setToServerValue],b.oneofs)&&(_.transformType="setToServerValue"),n.increment!=null&&n.hasOwnProperty("increment")&&(_.increment=p.google.firestore.v1.Value.toObject(n.increment,b),b.oneofs)&&(_.transformType="increment"),n.maximum!=null&&n.hasOwnProperty("maximum")&&(_.maximum=p.google.firestore.v1.Value.toObject(n.maximum,b),b.oneofs)&&(_.transformType="maximum"),n.minimum!=null&&n.hasOwnProperty("minimum")&&(_.minimum=p.google.firestore.v1.Value.toObject(n.minimum,b),b.oneofs)&&(_.transformType="minimum"),n.appendMissingElements!=null&&n.hasOwnProperty("appendMissingElements")&&(_.appendMissingElements=p.google.firestore.v1.ArrayValue.toObject(n.appendMissingElements,b),b.oneofs)&&(_.transformType="appendMissingElements"),n.removeAllFromArray!=null&&n.hasOwnProperty("removeAllFromArray")&&(_.removeAllFromArray=p.google.firestore.v1.ArrayValue.toObject(n.removeAllFromArray,b),b.oneofs)&&(_.transformType="removeAllFromArray"),_},Ye.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ye.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.DocumentTransform.FieldTransform"},Ye.ServerValue=(d={},(T=Object.create(d))[d[0]="SERVER_VALUE_UNSPECIFIED"]="SERVER_VALUE_UNSPECIFIED",T[d[1]="REQUEST_TIME"]="REQUEST_TIME",T),Ye),$e),O.WriteResult=(lt.prototype.updateTime=null,lt.prototype.transformResults=v.emptyArray,lt.fromObject=function(n){if(n instanceof p.google.firestore.v1.WriteResult)return n;var b=new p.google.firestore.v1.WriteResult;if(n.updateTime!=null){if(typeof n.updateTime!="object")throw TypeError(".google.firestore.v1.WriteResult.updateTime: object expected");b.updateTime=p.google.protobuf.Timestamp.fromObject(n.updateTime)}if(n.transformResults){if(!Array.isArray(n.transformResults))throw TypeError(".google.firestore.v1.WriteResult.transformResults: array expected");b.transformResults=[];for(var _=0;_<n.transformResults.length;++_){if(typeof n.transformResults[_]!="object")throw TypeError(".google.firestore.v1.WriteResult.transformResults: object expected");b.transformResults[_]=p.google.firestore.v1.Value.fromObject(n.transformResults[_])}}return b},lt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.transformResults=[]),b.defaults&&(_.updateTime=null),n.updateTime!=null&&n.hasOwnProperty("updateTime")&&(_.updateTime=p.google.protobuf.Timestamp.toObject(n.updateTime,b)),n.transformResults&&n.transformResults.length){_.transformResults=[];for(var le=0;le<n.transformResults.length;++le)_.transformResults[le]=p.google.firestore.v1.Value.toObject(n.transformResults[le],b)}return _},lt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},lt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.WriteResult"},lt),O.DocumentChange=(ot.prototype.document=null,ot.prototype.targetIds=v.emptyArray,ot.prototype.removedTargetIds=v.emptyArray,ot.fromObject=function(n){if(n instanceof p.google.firestore.v1.DocumentChange)return n;var b=new p.google.firestore.v1.DocumentChange;if(n.document!=null){if(typeof n.document!="object")throw TypeError(".google.firestore.v1.DocumentChange.document: object expected");b.document=p.google.firestore.v1.Document.fromObject(n.document)}if(n.targetIds){if(!Array.isArray(n.targetIds))throw TypeError(".google.firestore.v1.DocumentChange.targetIds: array expected");b.targetIds=[];for(var _=0;_<n.targetIds.length;++_)b.targetIds[_]=0|n.targetIds[_]}if(n.removedTargetIds){if(!Array.isArray(n.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentChange.removedTargetIds: array expected");for(b.removedTargetIds=[],_=0;_<n.removedTargetIds.length;++_)b.removedTargetIds[_]=0|n.removedTargetIds[_]}return b},ot.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.targetIds=[],_.removedTargetIds=[]),b.defaults&&(_.document=null),n.document!=null&&n.hasOwnProperty("document")&&(_.document=p.google.firestore.v1.Document.toObject(n.document,b)),n.targetIds&&n.targetIds.length){_.targetIds=[];for(var le=0;le<n.targetIds.length;++le)_.targetIds[le]=n.targetIds[le]}if(n.removedTargetIds&&n.removedTargetIds.length)for(_.removedTargetIds=[],le=0;le<n.removedTargetIds.length;++le)_.removedTargetIds[le]=n.removedTargetIds[le];return _},ot.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ot.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.DocumentChange"},ot),O.DocumentDelete=(Et.prototype.document="",Et.prototype.removedTargetIds=v.emptyArray,Et.prototype.readTime=null,Et.fromObject=function(n){if(n instanceof p.google.firestore.v1.DocumentDelete)return n;var b=new p.google.firestore.v1.DocumentDelete;if(n.document!=null&&(b.document=String(n.document)),n.removedTargetIds){if(!Array.isArray(n.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentDelete.removedTargetIds: array expected");b.removedTargetIds=[];for(var _=0;_<n.removedTargetIds.length;++_)b.removedTargetIds[_]=0|n.removedTargetIds[_]}if(n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.DocumentDelete.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},Et.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.removedTargetIds=[]),b.defaults&&(_.document="",_.readTime=null),n.document!=null&&n.hasOwnProperty("document")&&(_.document=n.document),n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b)),n.removedTargetIds&&n.removedTargetIds.length){_.removedTargetIds=[];for(var le=0;le<n.removedTargetIds.length;++le)_.removedTargetIds[le]=n.removedTargetIds[le]}return _},Et.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Et.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.DocumentDelete"},Et),O.DocumentRemove=(kt.prototype.document="",kt.prototype.removedTargetIds=v.emptyArray,kt.prototype.readTime=null,kt.fromObject=function(n){if(n instanceof p.google.firestore.v1.DocumentRemove)return n;var b=new p.google.firestore.v1.DocumentRemove;if(n.document!=null&&(b.document=String(n.document)),n.removedTargetIds){if(!Array.isArray(n.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentRemove.removedTargetIds: array expected");b.removedTargetIds=[];for(var _=0;_<n.removedTargetIds.length;++_)b.removedTargetIds[_]=0|n.removedTargetIds[_]}if(n.readTime!=null){if(typeof n.readTime!="object")throw TypeError(".google.firestore.v1.DocumentRemove.readTime: object expected");b.readTime=p.google.protobuf.Timestamp.fromObject(n.readTime)}return b},kt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.removedTargetIds=[]),b.defaults&&(_.document="",_.readTime=null),n.document!=null&&n.hasOwnProperty("document")&&(_.document=n.document),n.removedTargetIds&&n.removedTargetIds.length){_.removedTargetIds=[];for(var le=0;le<n.removedTargetIds.length;++le)_.removedTargetIds[le]=n.removedTargetIds[le]}return n.readTime!=null&&n.hasOwnProperty("readTime")&&(_.readTime=p.google.protobuf.Timestamp.toObject(n.readTime,b)),_},kt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},kt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.DocumentRemove"},kt),O.ExistenceFilter=(jr.prototype.targetId=0,jr.prototype.count=0,jr.prototype.unchangedNames=null,jr.fromObject=function(n){if(n instanceof p.google.firestore.v1.ExistenceFilter)return n;var b=new p.google.firestore.v1.ExistenceFilter;if(n.targetId!=null&&(b.targetId=0|n.targetId),n.count!=null&&(b.count=0|n.count),n.unchangedNames!=null){if(typeof n.unchangedNames!="object")throw TypeError(".google.firestore.v1.ExistenceFilter.unchangedNames: object expected");b.unchangedNames=p.google.firestore.v1.BloomFilter.fromObject(n.unchangedNames)}return b},jr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.targetId=0,_.count=0,_.unchangedNames=null),n.targetId!=null&&n.hasOwnProperty("targetId")&&(_.targetId=n.targetId),n.count!=null&&n.hasOwnProperty("count")&&(_.count=n.count),n.unchangedNames!=null&&n.hasOwnProperty("unchangedNames")&&(_.unchangedNames=p.google.firestore.v1.BloomFilter.toObject(n.unchangedNames,b)),_},jr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},jr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.firestore.v1.ExistenceFilter"},jr),O),y),E.api=((d={}).FieldBehavior=(T={},(O=Object.create(T))[T[0]="FIELD_BEHAVIOR_UNSPECIFIED"]="FIELD_BEHAVIOR_UNSPECIFIED",O[T[1]="OPTIONAL"]="OPTIONAL",O[T[2]="REQUIRED"]="REQUIRED",O[T[3]="OUTPUT_ONLY"]="OUTPUT_ONLY",O[T[4]="INPUT_ONLY"]="INPUT_ONLY",O[T[5]="IMMUTABLE"]="IMMUTABLE",O[T[6]="UNORDERED_LIST"]="UNORDERED_LIST",O[T[7]="NON_EMPTY_DEFAULT"]="NON_EMPTY_DEFAULT",O[T[8]="IDENTIFIER"]="IDENTIFIER",O),d.Http=($r.prototype.rules=v.emptyArray,$r.prototype.fullyDecodeReservedExpansion=!1,$r.fromObject=function(n){if(n instanceof p.google.api.Http)return n;var b=new p.google.api.Http;if(n.rules){if(!Array.isArray(n.rules))throw TypeError(".google.api.Http.rules: array expected");b.rules=[];for(var _=0;_<n.rules.length;++_){if(typeof n.rules[_]!="object")throw TypeError(".google.api.Http.rules: object expected");b.rules[_]=p.google.api.HttpRule.fromObject(n.rules[_])}}return n.fullyDecodeReservedExpansion!=null&&(b.fullyDecodeReservedExpansion=!!n.fullyDecodeReservedExpansion),b},$r.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.rules=[]),b.defaults&&(_.fullyDecodeReservedExpansion=!1),n.rules&&n.rules.length){_.rules=[];for(var le=0;le<n.rules.length;++le)_.rules[le]=p.google.api.HttpRule.toObject(n.rules[le],b)}return n.fullyDecodeReservedExpansion!=null&&n.hasOwnProperty("fullyDecodeReservedExpansion")&&(_.fullyDecodeReservedExpansion=n.fullyDecodeReservedExpansion),_},$r.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},$r.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.Http"},$r),d.HttpRule=(Tt.prototype.selector="",Tt.prototype.get=null,Tt.prototype.put=null,Tt.prototype.post=null,Tt.prototype.delete=null,Tt.prototype.patch=null,Tt.prototype.custom=null,Tt.prototype.body="",Tt.prototype.responseBody="",Tt.prototype.additionalBindings=v.emptyArray,Object.defineProperty(Tt.prototype,"pattern",{get:v.oneOfGetter(T=["get","put","post","delete","patch","custom"]),set:v.oneOfSetter(T)}),Tt.fromObject=function(n){if(n instanceof p.google.api.HttpRule)return n;var b=new p.google.api.HttpRule;if(n.selector!=null&&(b.selector=String(n.selector)),n.get!=null&&(b.get=String(n.get)),n.put!=null&&(b.put=String(n.put)),n.post!=null&&(b.post=String(n.post)),n.delete!=null&&(b.delete=String(n.delete)),n.patch!=null&&(b.patch=String(n.patch)),n.custom!=null){if(typeof n.custom!="object")throw TypeError(".google.api.HttpRule.custom: object expected");b.custom=p.google.api.CustomHttpPattern.fromObject(n.custom)}if(n.body!=null&&(b.body=String(n.body)),n.responseBody!=null&&(b.responseBody=String(n.responseBody)),n.additionalBindings){if(!Array.isArray(n.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");b.additionalBindings=[];for(var _=0;_<n.additionalBindings.length;++_){if(typeof n.additionalBindings[_]!="object")throw TypeError(".google.api.HttpRule.additionalBindings: object expected");b.additionalBindings[_]=p.google.api.HttpRule.fromObject(n.additionalBindings[_])}}return b},Tt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.additionalBindings=[]),b.defaults&&(_.selector="",_.body="",_.responseBody=""),n.selector!=null&&n.hasOwnProperty("selector")&&(_.selector=n.selector),n.get!=null&&n.hasOwnProperty("get")&&(_.get=n.get,b.oneofs)&&(_.pattern="get"),n.put!=null&&n.hasOwnProperty("put")&&(_.put=n.put,b.oneofs)&&(_.pattern="put"),n.post!=null&&n.hasOwnProperty("post")&&(_.post=n.post,b.oneofs)&&(_.pattern="post"),n.delete!=null&&n.hasOwnProperty("delete")&&(_.delete=n.delete,b.oneofs)&&(_.pattern="delete"),n.patch!=null&&n.hasOwnProperty("patch")&&(_.patch=n.patch,b.oneofs)&&(_.pattern="patch"),n.body!=null&&n.hasOwnProperty("body")&&(_.body=n.body),n.custom!=null&&n.hasOwnProperty("custom")&&(_.custom=p.google.api.CustomHttpPattern.toObject(n.custom,b),b.oneofs)&&(_.pattern="custom"),n.additionalBindings&&n.additionalBindings.length){_.additionalBindings=[];for(var le=0;le<n.additionalBindings.length;++le)_.additionalBindings[le]=p.google.api.HttpRule.toObject(n.additionalBindings[le],b)}return n.responseBody!=null&&n.hasOwnProperty("responseBody")&&(_.responseBody=n.responseBody),_},Tt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Tt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.HttpRule"},Tt),d.CustomHttpPattern=(br.prototype.kind="",br.prototype.path="",br.fromObject=function(n){var b;return n instanceof p.google.api.CustomHttpPattern?n:(b=new p.google.api.CustomHttpPattern,n.kind!=null&&(b.kind=String(n.kind)),n.path!=null&&(b.path=String(n.path)),b)},br.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.kind="",_.path=""),n.kind!=null&&n.hasOwnProperty("kind")&&(_.kind=n.kind),n.path!=null&&n.hasOwnProperty("path")&&(_.path=n.path),_},br.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},br.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.CustomHttpPattern"},br),d.CommonLanguageSettings=(sr.prototype.referenceDocsUri="",sr.prototype.destinations=v.emptyArray,sr.prototype.selectiveGapicGeneration=null,sr.fromObject=function(n){if(n instanceof p.google.api.CommonLanguageSettings)return n;var b=new p.google.api.CommonLanguageSettings;if(n.referenceDocsUri!=null&&(b.referenceDocsUri=String(n.referenceDocsUri)),n.destinations){if(!Array.isArray(n.destinations))throw TypeError(".google.api.CommonLanguageSettings.destinations: array expected");b.destinations=[];for(var _=0;_<n.destinations.length;++_)switch(n.destinations[_]){default:if(typeof n.destinations[_]=="number"){b.destinations[_]=n.destinations[_];break}case"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":case 0:b.destinations[_]=0;break;case"GITHUB":case 10:b.destinations[_]=10;break;case"PACKAGE_MANAGER":case 20:b.destinations[_]=20}}if(n.selectiveGapicGeneration!=null){if(typeof n.selectiveGapicGeneration!="object")throw TypeError(".google.api.CommonLanguageSettings.selectiveGapicGeneration: object expected");b.selectiveGapicGeneration=p.google.api.SelectiveGapicGeneration.fromObject(n.selectiveGapicGeneration)}return b},sr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.destinations=[]),b.defaults&&(_.referenceDocsUri="",_.selectiveGapicGeneration=null),n.referenceDocsUri!=null&&n.hasOwnProperty("referenceDocsUri")&&(_.referenceDocsUri=n.referenceDocsUri),n.destinations&&n.destinations.length){_.destinations=[];for(var le=0;le<n.destinations.length;++le)_.destinations[le]=b.enums!==String||p.google.api.ClientLibraryDestination[n.destinations[le]]===void 0?n.destinations[le]:p.google.api.ClientLibraryDestination[n.destinations[le]]}return n.selectiveGapicGeneration!=null&&n.hasOwnProperty("selectiveGapicGeneration")&&(_.selectiveGapicGeneration=p.google.api.SelectiveGapicGeneration.toObject(n.selectiveGapicGeneration,b)),_},sr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},sr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.CommonLanguageSettings"},sr),d.ClientLibrarySettings=(Rt.prototype.version="",Rt.prototype.launchStage=0,Rt.prototype.restNumericEnums=!1,Rt.prototype.javaSettings=null,Rt.prototype.cppSettings=null,Rt.prototype.phpSettings=null,Rt.prototype.pythonSettings=null,Rt.prototype.nodeSettings=null,Rt.prototype.dotnetSettings=null,Rt.prototype.rubySettings=null,Rt.prototype.goSettings=null,Rt.fromObject=function(n){if(n instanceof p.google.api.ClientLibrarySettings)return n;var b=new p.google.api.ClientLibrarySettings;switch(n.version!=null&&(b.version=String(n.version)),n.launchStage){default:typeof n.launchStage=="number"&&(b.launchStage=n.launchStage);break;case"LAUNCH_STAGE_UNSPECIFIED":case 0:b.launchStage=0;break;case"UNIMPLEMENTED":case 6:b.launchStage=6;break;case"PRELAUNCH":case 7:b.launchStage=7;break;case"EARLY_ACCESS":case 1:b.launchStage=1;break;case"ALPHA":case 2:b.launchStage=2;break;case"BETA":case 3:b.launchStage=3;break;case"GA":case 4:b.launchStage=4;break;case"DEPRECATED":case 5:b.launchStage=5}if(n.restNumericEnums!=null&&(b.restNumericEnums=!!n.restNumericEnums),n.javaSettings!=null){if(typeof n.javaSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.javaSettings: object expected");b.javaSettings=p.google.api.JavaSettings.fromObject(n.javaSettings)}if(n.cppSettings!=null){if(typeof n.cppSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.cppSettings: object expected");b.cppSettings=p.google.api.CppSettings.fromObject(n.cppSettings)}if(n.phpSettings!=null){if(typeof n.phpSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.phpSettings: object expected");b.phpSettings=p.google.api.PhpSettings.fromObject(n.phpSettings)}if(n.pythonSettings!=null){if(typeof n.pythonSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.pythonSettings: object expected");b.pythonSettings=p.google.api.PythonSettings.fromObject(n.pythonSettings)}if(n.nodeSettings!=null){if(typeof n.nodeSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.nodeSettings: object expected");b.nodeSettings=p.google.api.NodeSettings.fromObject(n.nodeSettings)}if(n.dotnetSettings!=null){if(typeof n.dotnetSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.dotnetSettings: object expected");b.dotnetSettings=p.google.api.DotnetSettings.fromObject(n.dotnetSettings)}if(n.rubySettings!=null){if(typeof n.rubySettings!="object")throw TypeError(".google.api.ClientLibrarySettings.rubySettings: object expected");b.rubySettings=p.google.api.RubySettings.fromObject(n.rubySettings)}if(n.goSettings!=null){if(typeof n.goSettings!="object")throw TypeError(".google.api.ClientLibrarySettings.goSettings: object expected");b.goSettings=p.google.api.GoSettings.fromObject(n.goSettings)}return b},Rt.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.version="",_.launchStage=b.enums===String?"LAUNCH_STAGE_UNSPECIFIED":0,_.restNumericEnums=!1,_.javaSettings=null,_.cppSettings=null,_.phpSettings=null,_.pythonSettings=null,_.nodeSettings=null,_.dotnetSettings=null,_.rubySettings=null,_.goSettings=null),n.version!=null&&n.hasOwnProperty("version")&&(_.version=n.version),n.launchStage!=null&&n.hasOwnProperty("launchStage")&&(_.launchStage=b.enums!==String||p.google.api.LaunchStage[n.launchStage]===void 0?n.launchStage:p.google.api.LaunchStage[n.launchStage]),n.restNumericEnums!=null&&n.hasOwnProperty("restNumericEnums")&&(_.restNumericEnums=n.restNumericEnums),n.javaSettings!=null&&n.hasOwnProperty("javaSettings")&&(_.javaSettings=p.google.api.JavaSettings.toObject(n.javaSettings,b)),n.cppSettings!=null&&n.hasOwnProperty("cppSettings")&&(_.cppSettings=p.google.api.CppSettings.toObject(n.cppSettings,b)),n.phpSettings!=null&&n.hasOwnProperty("phpSettings")&&(_.phpSettings=p.google.api.PhpSettings.toObject(n.phpSettings,b)),n.pythonSettings!=null&&n.hasOwnProperty("pythonSettings")&&(_.pythonSettings=p.google.api.PythonSettings.toObject(n.pythonSettings,b)),n.nodeSettings!=null&&n.hasOwnProperty("nodeSettings")&&(_.nodeSettings=p.google.api.NodeSettings.toObject(n.nodeSettings,b)),n.dotnetSettings!=null&&n.hasOwnProperty("dotnetSettings")&&(_.dotnetSettings=p.google.api.DotnetSettings.toObject(n.dotnetSettings,b)),n.rubySettings!=null&&n.hasOwnProperty("rubySettings")&&(_.rubySettings=p.google.api.RubySettings.toObject(n.rubySettings,b)),n.goSettings!=null&&n.hasOwnProperty("goSettings")&&(_.goSettings=p.google.api.GoSettings.toObject(n.goSettings,b)),_},Rt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Rt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.ClientLibrarySettings"},Rt),d.Publishing=(mt.prototype.methodSettings=v.emptyArray,mt.prototype.newIssueUri="",mt.prototype.documentationUri="",mt.prototype.apiShortName="",mt.prototype.githubLabel="",mt.prototype.codeownerGithubTeams=v.emptyArray,mt.prototype.docTagPrefix="",mt.prototype.organization=0,mt.prototype.librarySettings=v.emptyArray,mt.prototype.protoReferenceDocumentationUri="",mt.prototype.restReferenceDocumentationUri="",mt.fromObject=function(n){if(n instanceof p.google.api.Publishing)return n;var b=new p.google.api.Publishing;if(n.methodSettings){if(!Array.isArray(n.methodSettings))throw TypeError(".google.api.Publishing.methodSettings: array expected");b.methodSettings=[];for(var _=0;_<n.methodSettings.length;++_){if(typeof n.methodSettings[_]!="object")throw TypeError(".google.api.Publishing.methodSettings: object expected");b.methodSettings[_]=p.google.api.MethodSettings.fromObject(n.methodSettings[_])}}if(n.newIssueUri!=null&&(b.newIssueUri=String(n.newIssueUri)),n.documentationUri!=null&&(b.documentationUri=String(n.documentationUri)),n.apiShortName!=null&&(b.apiShortName=String(n.apiShortName)),n.githubLabel!=null&&(b.githubLabel=String(n.githubLabel)),n.codeownerGithubTeams){if(!Array.isArray(n.codeownerGithubTeams))throw TypeError(".google.api.Publishing.codeownerGithubTeams: array expected");for(b.codeownerGithubTeams=[],_=0;_<n.codeownerGithubTeams.length;++_)b.codeownerGithubTeams[_]=String(n.codeownerGithubTeams[_])}switch(n.docTagPrefix!=null&&(b.docTagPrefix=String(n.docTagPrefix)),n.organization){default:typeof n.organization=="number"&&(b.organization=n.organization);break;case"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":case 0:b.organization=0;break;case"CLOUD":case 1:b.organization=1;break;case"ADS":case 2:b.organization=2;break;case"PHOTOS":case 3:b.organization=3;break;case"STREET_VIEW":case 4:b.organization=4;break;case"SHOPPING":case 5:b.organization=5;break;case"GEO":case 6:b.organization=6;break;case"GENERATIVE_AI":case 7:b.organization=7}if(n.librarySettings){if(!Array.isArray(n.librarySettings))throw TypeError(".google.api.Publishing.librarySettings: array expected");for(b.librarySettings=[],_=0;_<n.librarySettings.length;++_){if(typeof n.librarySettings[_]!="object")throw TypeError(".google.api.Publishing.librarySettings: object expected");b.librarySettings[_]=p.google.api.ClientLibrarySettings.fromObject(n.librarySettings[_])}}return n.protoReferenceDocumentationUri!=null&&(b.protoReferenceDocumentationUri=String(n.protoReferenceDocumentationUri)),n.restReferenceDocumentationUri!=null&&(b.restReferenceDocumentationUri=String(n.restReferenceDocumentationUri)),b},mt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.methodSettings=[],_.codeownerGithubTeams=[],_.librarySettings=[]),b.defaults&&(_.newIssueUri="",_.documentationUri="",_.apiShortName="",_.githubLabel="",_.docTagPrefix="",_.organization=b.enums===String?"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,_.protoReferenceDocumentationUri="",_.restReferenceDocumentationUri=""),n.methodSettings&&n.methodSettings.length){_.methodSettings=[];for(var le=0;le<n.methodSettings.length;++le)_.methodSettings[le]=p.google.api.MethodSettings.toObject(n.methodSettings[le],b)}if(n.newIssueUri!=null&&n.hasOwnProperty("newIssueUri")&&(_.newIssueUri=n.newIssueUri),n.documentationUri!=null&&n.hasOwnProperty("documentationUri")&&(_.documentationUri=n.documentationUri),n.apiShortName!=null&&n.hasOwnProperty("apiShortName")&&(_.apiShortName=n.apiShortName),n.githubLabel!=null&&n.hasOwnProperty("githubLabel")&&(_.githubLabel=n.githubLabel),n.codeownerGithubTeams&&n.codeownerGithubTeams.length)for(_.codeownerGithubTeams=[],le=0;le<n.codeownerGithubTeams.length;++le)_.codeownerGithubTeams[le]=n.codeownerGithubTeams[le];if(n.docTagPrefix!=null&&n.hasOwnProperty("docTagPrefix")&&(_.docTagPrefix=n.docTagPrefix),n.organization!=null&&n.hasOwnProperty("organization")&&(_.organization=b.enums!==String||p.google.api.ClientLibraryOrganization[n.organization]===void 0?n.organization:p.google.api.ClientLibraryOrganization[n.organization]),n.librarySettings&&n.librarySettings.length)for(_.librarySettings=[],le=0;le<n.librarySettings.length;++le)_.librarySettings[le]=p.google.api.ClientLibrarySettings.toObject(n.librarySettings[le],b);return n.protoReferenceDocumentationUri!=null&&n.hasOwnProperty("protoReferenceDocumentationUri")&&(_.protoReferenceDocumentationUri=n.protoReferenceDocumentationUri),n.restReferenceDocumentationUri!=null&&n.hasOwnProperty("restReferenceDocumentationUri")&&(_.restReferenceDocumentationUri=n.restReferenceDocumentationUri),_},mt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},mt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.Publishing"},mt),d.JavaSettings=(vr.prototype.libraryPackage="",vr.prototype.serviceClassNames=v.emptyObject,vr.prototype.common=null,vr.fromObject=function(n){if(n instanceof p.google.api.JavaSettings)return n;var b=new p.google.api.JavaSettings;if(n.libraryPackage!=null&&(b.libraryPackage=String(n.libraryPackage)),n.serviceClassNames){if(typeof n.serviceClassNames!="object")throw TypeError(".google.api.JavaSettings.serviceClassNames: object expected");b.serviceClassNames={};for(var _=Object.keys(n.serviceClassNames),le=0;le<_.length;++le)b.serviceClassNames[_[le]]=String(n.serviceClassNames[_[le]])}if(n.common!=null){if(typeof n.common!="object")throw TypeError(".google.api.JavaSettings.common: object expected");b.common=p.google.api.CommonLanguageSettings.fromObject(n.common)}return b},vr.toObject=function(n,b){var _,le={};if(((b=b||{}).objects||b.defaults)&&(le.serviceClassNames={}),b.defaults&&(le.libraryPackage="",le.common=null),n.libraryPackage!=null&&n.hasOwnProperty("libraryPackage")&&(le.libraryPackage=n.libraryPackage),n.serviceClassNames&&(_=Object.keys(n.serviceClassNames)).length){le.serviceClassNames={};for(var qe=0;qe<_.length;++qe)le.serviceClassNames[_[qe]]=n.serviceClassNames[_[qe]]}return n.common!=null&&n.hasOwnProperty("common")&&(le.common=p.google.api.CommonLanguageSettings.toObject(n.common,b)),le},vr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},vr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.JavaSettings"},vr),d.CppSettings=(dn.prototype.common=null,dn.fromObject=function(n){if(n instanceof p.google.api.CppSettings)return n;var b=new p.google.api.CppSettings;if(n.common!=null){if(typeof n.common!="object")throw TypeError(".google.api.CppSettings.common: object expected");b.common=p.google.api.CommonLanguageSettings.fromObject(n.common)}return b},dn.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.common=null),n.common!=null&&n.hasOwnProperty("common")&&(_.common=p.google.api.CommonLanguageSettings.toObject(n.common,b)),_},dn.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},dn.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.CppSettings"},dn),d.PhpSettings=(pn.prototype.common=null,pn.fromObject=function(n){if(n instanceof p.google.api.PhpSettings)return n;var b=new p.google.api.PhpSettings;if(n.common!=null){if(typeof n.common!="object")throw TypeError(".google.api.PhpSettings.common: object expected");b.common=p.google.api.CommonLanguageSettings.fromObject(n.common)}return b},pn.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.common=null),n.common!=null&&n.hasOwnProperty("common")&&(_.common=p.google.api.CommonLanguageSettings.toObject(n.common,b)),_},pn.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},pn.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.PhpSettings"},pn),d.PythonSettings=(It.prototype.common=null,It.prototype.experimentalFeatures=null,It.fromObject=function(n){if(n instanceof p.google.api.PythonSettings)return n;var b=new p.google.api.PythonSettings;if(n.common!=null){if(typeof n.common!="object")throw TypeError(".google.api.PythonSettings.common: object expected");b.common=p.google.api.CommonLanguageSettings.fromObject(n.common)}if(n.experimentalFeatures!=null){if(typeof n.experimentalFeatures!="object")throw TypeError(".google.api.PythonSettings.experimentalFeatures: object expected");b.experimentalFeatures=p.google.api.PythonSettings.ExperimentalFeatures.fromObject(n.experimentalFeatures)}return b},It.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.common=null,_.experimentalFeatures=null),n.common!=null&&n.hasOwnProperty("common")&&(_.common=p.google.api.CommonLanguageSettings.toObject(n.common,b)),n.experimentalFeatures!=null&&n.hasOwnProperty("experimentalFeatures")&&(_.experimentalFeatures=p.google.api.PythonSettings.ExperimentalFeatures.toObject(n.experimentalFeatures,b)),_},It.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},It.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.PythonSettings"},It.ExperimentalFeatures=(Pt.prototype.restAsyncIoEnabled=!1,Pt.prototype.protobufPythonicTypesEnabled=!1,Pt.fromObject=function(n){var b;return n instanceof p.google.api.PythonSettings.ExperimentalFeatures?n:(b=new p.google.api.PythonSettings.ExperimentalFeatures,n.restAsyncIoEnabled!=null&&(b.restAsyncIoEnabled=!!n.restAsyncIoEnabled),n.protobufPythonicTypesEnabled!=null&&(b.protobufPythonicTypesEnabled=!!n.protobufPythonicTypesEnabled),b)},Pt.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.restAsyncIoEnabled=!1,_.protobufPythonicTypesEnabled=!1),n.restAsyncIoEnabled!=null&&n.hasOwnProperty("restAsyncIoEnabled")&&(_.restAsyncIoEnabled=n.restAsyncIoEnabled),n.protobufPythonicTypesEnabled!=null&&n.hasOwnProperty("protobufPythonicTypesEnabled")&&(_.protobufPythonicTypesEnabled=n.protobufPythonicTypesEnabled),_},Pt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Pt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.PythonSettings.ExperimentalFeatures"},Pt),It),d.NodeSettings=(Ht.prototype.common=null,Ht.fromObject=function(n){if(n instanceof p.google.api.NodeSettings)return n;var b=new p.google.api.NodeSettings;if(n.common!=null){if(typeof n.common!="object")throw TypeError(".google.api.NodeSettings.common: object expected");b.common=p.google.api.CommonLanguageSettings.fromObject(n.common)}return b},Ht.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.common=null),n.common!=null&&n.hasOwnProperty("common")&&(_.common=p.google.api.CommonLanguageSettings.toObject(n.common,b)),_},Ht.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ht.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.NodeSettings"},Ht),d.DotnetSettings=(Ft.prototype.common=null,Ft.prototype.renamedServices=v.emptyObject,Ft.prototype.renamedResources=v.emptyObject,Ft.prototype.ignoredResources=v.emptyArray,Ft.prototype.forcedNamespaceAliases=v.emptyArray,Ft.prototype.handwrittenSignatures=v.emptyArray,Ft.fromObject=function(n){if(n instanceof p.google.api.DotnetSettings)return n;var b=new p.google.api.DotnetSettings;if(n.common!=null){if(typeof n.common!="object")throw TypeError(".google.api.DotnetSettings.common: object expected");b.common=p.google.api.CommonLanguageSettings.fromObject(n.common)}if(n.renamedServices){if(typeof n.renamedServices!="object")throw TypeError(".google.api.DotnetSettings.renamedServices: object expected");b.renamedServices={};for(var _=Object.keys(n.renamedServices),le=0;le<_.length;++le)b.renamedServices[_[le]]=String(n.renamedServices[_[le]])}if(n.renamedResources){if(typeof n.renamedResources!="object")throw TypeError(".google.api.DotnetSettings.renamedResources: object expected");for(b.renamedResources={},_=Object.keys(n.renamedResources),le=0;le<_.length;++le)b.renamedResources[_[le]]=String(n.renamedResources[_[le]])}if(n.ignoredResources){if(!Array.isArray(n.ignoredResources))throw TypeError(".google.api.DotnetSettings.ignoredResources: array expected");for(b.ignoredResources=[],le=0;le<n.ignoredResources.length;++le)b.ignoredResources[le]=String(n.ignoredResources[le])}if(n.forcedNamespaceAliases){if(!Array.isArray(n.forcedNamespaceAliases))throw TypeError(".google.api.DotnetSettings.forcedNamespaceAliases: array expected");for(b.forcedNamespaceAliases=[],le=0;le<n.forcedNamespaceAliases.length;++le)b.forcedNamespaceAliases[le]=String(n.forcedNamespaceAliases[le])}if(n.handwrittenSignatures){if(!Array.isArray(n.handwrittenSignatures))throw TypeError(".google.api.DotnetSettings.handwrittenSignatures: array expected");for(b.handwrittenSignatures=[],le=0;le<n.handwrittenSignatures.length;++le)b.handwrittenSignatures[le]=String(n.handwrittenSignatures[le])}return b},Ft.toObject=function(n,b){var _,le={};if(((b=b||{}).arrays||b.defaults)&&(le.ignoredResources=[],le.forcedNamespaceAliases=[],le.handwrittenSignatures=[]),(b.objects||b.defaults)&&(le.renamedServices={},le.renamedResources={}),b.defaults&&(le.common=null),n.common!=null&&n.hasOwnProperty("common")&&(le.common=p.google.api.CommonLanguageSettings.toObject(n.common,b)),n.renamedServices&&(_=Object.keys(n.renamedServices)).length){le.renamedServices={};for(var qe=0;qe<_.length;++qe)le.renamedServices[_[qe]]=n.renamedServices[_[qe]]}if(n.renamedResources&&(_=Object.keys(n.renamedResources)).length)for(le.renamedResources={},qe=0;qe<_.length;++qe)le.renamedResources[_[qe]]=n.renamedResources[_[qe]];if(n.ignoredResources&&n.ignoredResources.length)for(le.ignoredResources=[],qe=0;qe<n.ignoredResources.length;++qe)le.ignoredResources[qe]=n.ignoredResources[qe];if(n.forcedNamespaceAliases&&n.forcedNamespaceAliases.length)for(le.forcedNamespaceAliases=[],qe=0;qe<n.forcedNamespaceAliases.length;++qe)le.forcedNamespaceAliases[qe]=n.forcedNamespaceAliases[qe];if(n.handwrittenSignatures&&n.handwrittenSignatures.length)for(le.handwrittenSignatures=[],qe=0;qe<n.handwrittenSignatures.length;++qe)le.handwrittenSignatures[qe]=n.handwrittenSignatures[qe];return le},Ft.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ft.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.DotnetSettings"},Ft),d.RubySettings=(Wt.prototype.common=null,Wt.fromObject=function(n){if(n instanceof p.google.api.RubySettings)return n;var b=new p.google.api.RubySettings;if(n.common!=null){if(typeof n.common!="object")throw TypeError(".google.api.RubySettings.common: object expected");b.common=p.google.api.CommonLanguageSettings.fromObject(n.common)}return b},Wt.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.common=null),n.common!=null&&n.hasOwnProperty("common")&&(_.common=p.google.api.CommonLanguageSettings.toObject(n.common,b)),_},Wt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Wt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.RubySettings"},Wt),d.GoSettings=(xr.prototype.common=null,xr.prototype.renamedServices=v.emptyObject,xr.fromObject=function(n){if(n instanceof p.google.api.GoSettings)return n;var b=new p.google.api.GoSettings;if(n.common!=null){if(typeof n.common!="object")throw TypeError(".google.api.GoSettings.common: object expected");b.common=p.google.api.CommonLanguageSettings.fromObject(n.common)}if(n.renamedServices){if(typeof n.renamedServices!="object")throw TypeError(".google.api.GoSettings.renamedServices: object expected");b.renamedServices={};for(var _=Object.keys(n.renamedServices),le=0;le<_.length;++le)b.renamedServices[_[le]]=String(n.renamedServices[_[le]])}return b},xr.toObject=function(n,b){var _,le={};if(((b=b||{}).objects||b.defaults)&&(le.renamedServices={}),b.defaults&&(le.common=null),n.common!=null&&n.hasOwnProperty("common")&&(le.common=p.google.api.CommonLanguageSettings.toObject(n.common,b)),n.renamedServices&&(_=Object.keys(n.renamedServices)).length){le.renamedServices={};for(var qe=0;qe<_.length;++qe)le.renamedServices[_[qe]]=n.renamedServices[_[qe]]}return le},xr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},xr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.GoSettings"},xr),d.MethodSettings=(Zt.prototype.selector="",Zt.prototype.longRunning=null,Zt.prototype.autoPopulatedFields=v.emptyArray,Zt.fromObject=function(n){if(n instanceof p.google.api.MethodSettings)return n;var b=new p.google.api.MethodSettings;if(n.selector!=null&&(b.selector=String(n.selector)),n.longRunning!=null){if(typeof n.longRunning!="object")throw TypeError(".google.api.MethodSettings.longRunning: object expected");b.longRunning=p.google.api.MethodSettings.LongRunning.fromObject(n.longRunning)}if(n.autoPopulatedFields){if(!Array.isArray(n.autoPopulatedFields))throw TypeError(".google.api.MethodSettings.autoPopulatedFields: array expected");b.autoPopulatedFields=[];for(var _=0;_<n.autoPopulatedFields.length;++_)b.autoPopulatedFields[_]=String(n.autoPopulatedFields[_])}return b},Zt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.autoPopulatedFields=[]),b.defaults&&(_.selector="",_.longRunning=null),n.selector!=null&&n.hasOwnProperty("selector")&&(_.selector=n.selector),n.longRunning!=null&&n.hasOwnProperty("longRunning")&&(_.longRunning=p.google.api.MethodSettings.LongRunning.toObject(n.longRunning,b)),n.autoPopulatedFields&&n.autoPopulatedFields.length){_.autoPopulatedFields=[];for(var le=0;le<n.autoPopulatedFields.length;++le)_.autoPopulatedFields[le]=n.autoPopulatedFields[le]}return _},Zt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Zt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.MethodSettings"},Zt.LongRunning=(lr.prototype.initialPollDelay=null,lr.prototype.pollDelayMultiplier=0,lr.prototype.maxPollDelay=null,lr.prototype.totalPollTimeout=null,lr.fromObject=function(n){if(n instanceof p.google.api.MethodSettings.LongRunning)return n;var b=new p.google.api.MethodSettings.LongRunning;if(n.initialPollDelay!=null){if(typeof n.initialPollDelay!="object")throw TypeError(".google.api.MethodSettings.LongRunning.initialPollDelay: object expected");b.initialPollDelay=p.google.protobuf.Duration.fromObject(n.initialPollDelay)}if(n.pollDelayMultiplier!=null&&(b.pollDelayMultiplier=Number(n.pollDelayMultiplier)),n.maxPollDelay!=null){if(typeof n.maxPollDelay!="object")throw TypeError(".google.api.MethodSettings.LongRunning.maxPollDelay: object expected");b.maxPollDelay=p.google.protobuf.Duration.fromObject(n.maxPollDelay)}if(n.totalPollTimeout!=null){if(typeof n.totalPollTimeout!="object")throw TypeError(".google.api.MethodSettings.LongRunning.totalPollTimeout: object expected");b.totalPollTimeout=p.google.protobuf.Duration.fromObject(n.totalPollTimeout)}return b},lr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.initialPollDelay=null,_.pollDelayMultiplier=0,_.maxPollDelay=null,_.totalPollTimeout=null),n.initialPollDelay!=null&&n.hasOwnProperty("initialPollDelay")&&(_.initialPollDelay=p.google.protobuf.Duration.toObject(n.initialPollDelay,b)),n.pollDelayMultiplier!=null&&n.hasOwnProperty("pollDelayMultiplier")&&(_.pollDelayMultiplier=b.json&&!isFinite(n.pollDelayMultiplier)?String(n.pollDelayMultiplier):n.pollDelayMultiplier),n.maxPollDelay!=null&&n.hasOwnProperty("maxPollDelay")&&(_.maxPollDelay=p.google.protobuf.Duration.toObject(n.maxPollDelay,b)),n.totalPollTimeout!=null&&n.hasOwnProperty("totalPollTimeout")&&(_.totalPollTimeout=p.google.protobuf.Duration.toObject(n.totalPollTimeout,b)),_},lr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},lr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.MethodSettings.LongRunning"},lr),Zt),d.ClientLibraryOrganization=(O={},(T=Object.create(O))[O[0]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED"]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED",T[O[1]="CLOUD"]="CLOUD",T[O[2]="ADS"]="ADS",T[O[3]="PHOTOS"]="PHOTOS",T[O[4]="STREET_VIEW"]="STREET_VIEW",T[O[5]="SHOPPING"]="SHOPPING",T[O[6]="GEO"]="GEO",T[O[7]="GENERATIVE_AI"]="GENERATIVE_AI",T),d.ClientLibraryDestination=(O={},(T=Object.create(O))[O[0]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED"]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED",T[O[10]="GITHUB"]="GITHUB",T[O[20]="PACKAGE_MANAGER"]="PACKAGE_MANAGER",T),d.SelectiveGapicGeneration=(ur.prototype.methods=v.emptyArray,ur.prototype.generateOmittedAsInternal=!1,ur.fromObject=function(n){if(n instanceof p.google.api.SelectiveGapicGeneration)return n;var b=new p.google.api.SelectiveGapicGeneration;if(n.methods){if(!Array.isArray(n.methods))throw TypeError(".google.api.SelectiveGapicGeneration.methods: array expected");b.methods=[];for(var _=0;_<n.methods.length;++_)b.methods[_]=String(n.methods[_])}return n.generateOmittedAsInternal!=null&&(b.generateOmittedAsInternal=!!n.generateOmittedAsInternal),b},ur.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.methods=[]),b.defaults&&(_.generateOmittedAsInternal=!1),n.methods&&n.methods.length){_.methods=[];for(var le=0;le<n.methods.length;++le)_.methods[le]=n.methods[le]}return n.generateOmittedAsInternal!=null&&n.hasOwnProperty("generateOmittedAsInternal")&&(_.generateOmittedAsInternal=n.generateOmittedAsInternal),_},ur.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ur.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.SelectiveGapicGeneration"},ur),d.LaunchStage=(O={},(T=Object.create(O))[O[0]="LAUNCH_STAGE_UNSPECIFIED"]="LAUNCH_STAGE_UNSPECIFIED",T[O[6]="UNIMPLEMENTED"]="UNIMPLEMENTED",T[O[7]="PRELAUNCH"]="PRELAUNCH",T[O[1]="EARLY_ACCESS"]="EARLY_ACCESS",T[O[2]="ALPHA"]="ALPHA",T[O[3]="BETA"]="BETA",T[O[4]="GA"]="GA",T[O[5]="DEPRECATED"]="DEPRECATED",T),d.ResourceDescriptor=(At.prototype.type="",At.prototype.pattern=v.emptyArray,At.prototype.nameField="",At.prototype.history=0,At.prototype.plural="",At.prototype.singular="",At.prototype.style=v.emptyArray,At.fromObject=function(n){if(n instanceof p.google.api.ResourceDescriptor)return n;var b=new p.google.api.ResourceDescriptor;if(n.type!=null&&(b.type=String(n.type)),n.pattern){if(!Array.isArray(n.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");b.pattern=[];for(var _=0;_<n.pattern.length;++_)b.pattern[_]=String(n.pattern[_])}switch(n.nameField!=null&&(b.nameField=String(n.nameField)),n.history){default:typeof n.history=="number"&&(b.history=n.history);break;case"HISTORY_UNSPECIFIED":case 0:b.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:b.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:b.history=2}if(n.plural!=null&&(b.plural=String(n.plural)),n.singular!=null&&(b.singular=String(n.singular)),n.style){if(!Array.isArray(n.style))throw TypeError(".google.api.ResourceDescriptor.style: array expected");for(b.style=[],_=0;_<n.style.length;++_)switch(n.style[_]){default:if(typeof n.style[_]=="number"){b.style[_]=n.style[_];break}case"STYLE_UNSPECIFIED":case 0:b.style[_]=0;break;case"DECLARATIVE_FRIENDLY":case 1:b.style[_]=1}}return b},At.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.pattern=[],_.style=[]),b.defaults&&(_.type="",_.nameField="",_.history=b.enums===String?"HISTORY_UNSPECIFIED":0,_.plural="",_.singular=""),n.type!=null&&n.hasOwnProperty("type")&&(_.type=n.type),n.pattern&&n.pattern.length){_.pattern=[];for(var le=0;le<n.pattern.length;++le)_.pattern[le]=n.pattern[le]}if(n.nameField!=null&&n.hasOwnProperty("nameField")&&(_.nameField=n.nameField),n.history!=null&&n.hasOwnProperty("history")&&(_.history=b.enums!==String||p.google.api.ResourceDescriptor.History[n.history]===void 0?n.history:p.google.api.ResourceDescriptor.History[n.history]),n.plural!=null&&n.hasOwnProperty("plural")&&(_.plural=n.plural),n.singular!=null&&n.hasOwnProperty("singular")&&(_.singular=n.singular),n.style&&n.style.length)for(_.style=[],le=0;le<n.style.length;++le)_.style[le]=b.enums!==String||p.google.api.ResourceDescriptor.Style[n.style[le]]===void 0?n.style[le]:p.google.api.ResourceDescriptor.Style[n.style[le]];return _},At.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},At.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.ResourceDescriptor"},At.History=(O={},(T=Object.create(O))[O[0]="HISTORY_UNSPECIFIED"]="HISTORY_UNSPECIFIED",T[O[1]="ORIGINALLY_SINGLE_PATTERN"]="ORIGINALLY_SINGLE_PATTERN",T[O[2]="FUTURE_MULTI_PATTERN"]="FUTURE_MULTI_PATTERN",T),At.Style=(O={},(T=Object.create(O))[O[0]="STYLE_UNSPECIFIED"]="STYLE_UNSPECIFIED",T[O[1]="DECLARATIVE_FRIENDLY"]="DECLARATIVE_FRIENDLY",T),At),d.ResourceReference=(kr.prototype.type="",kr.prototype.childType="",kr.fromObject=function(n){var b;return n instanceof p.google.api.ResourceReference?n:(b=new p.google.api.ResourceReference,n.type!=null&&(b.type=String(n.type)),n.childType!=null&&(b.childType=String(n.childType)),b)},kr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.type="",_.childType=""),n.type!=null&&n.hasOwnProperty("type")&&(_.type=n.type),n.childType!=null&&n.hasOwnProperty("childType")&&(_.childType=n.childType),_},kr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},kr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.api.ResourceReference"},kr),d),E.protobuf=((y={}).FileDescriptorSet=(Hr.prototype.file=v.emptyArray,Hr.fromObject=function(n){if(n instanceof p.google.protobuf.FileDescriptorSet)return n;var b=new p.google.protobuf.FileDescriptorSet;if(n.file){if(!Array.isArray(n.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");b.file=[];for(var _=0;_<n.file.length;++_){if(typeof n.file[_]!="object")throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");b.file[_]=p.google.protobuf.FileDescriptorProto.fromObject(n.file[_])}}return b},Hr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.file=[]),n.file&&n.file.length){_.file=[];for(var le=0;le<n.file.length;++le)_.file[le]=p.google.protobuf.FileDescriptorProto.toObject(n.file[le],b)}return _},Hr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Hr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FileDescriptorSet"},Hr),y.Edition=(O={},(T=Object.create(O))[O[0]="EDITION_UNKNOWN"]="EDITION_UNKNOWN",T[O[998]="EDITION_PROTO2"]="EDITION_PROTO2",T[O[999]="EDITION_PROTO3"]="EDITION_PROTO3",T[O[1e3]="EDITION_2023"]="EDITION_2023",T[O[1001]="EDITION_2024"]="EDITION_2024",T[O[1]="EDITION_1_TEST_ONLY"]="EDITION_1_TEST_ONLY",T[O[2]="EDITION_2_TEST_ONLY"]="EDITION_2_TEST_ONLY",T[O[99997]="EDITION_99997_TEST_ONLY"]="EDITION_99997_TEST_ONLY",T[O[99998]="EDITION_99998_TEST_ONLY"]="EDITION_99998_TEST_ONLY",T[O[99999]="EDITION_99999_TEST_ONLY"]="EDITION_99999_TEST_ONLY",T[O[2147483647]="EDITION_MAX"]="EDITION_MAX",T),y.FileDescriptorProto=(_t.prototype.name="",_t.prototype.package="",_t.prototype.dependency=v.emptyArray,_t.prototype.publicDependency=v.emptyArray,_t.prototype.weakDependency=v.emptyArray,_t.prototype.messageType=v.emptyArray,_t.prototype.enumType=v.emptyArray,_t.prototype.service=v.emptyArray,_t.prototype.extension=v.emptyArray,_t.prototype.options=null,_t.prototype.sourceCodeInfo=null,_t.prototype.syntax="",_t.prototype.edition=0,_t.fromObject=function(n){if(n instanceof p.google.protobuf.FileDescriptorProto)return n;var b=new p.google.protobuf.FileDescriptorProto;if(n.name!=null&&(b.name=String(n.name)),n.package!=null&&(b.package=String(n.package)),n.dependency){if(!Array.isArray(n.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");b.dependency=[];for(var _=0;_<n.dependency.length;++_)b.dependency[_]=String(n.dependency[_])}if(n.publicDependency){if(!Array.isArray(n.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(b.publicDependency=[],_=0;_<n.publicDependency.length;++_)b.publicDependency[_]=0|n.publicDependency[_]}if(n.weakDependency){if(!Array.isArray(n.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(b.weakDependency=[],_=0;_<n.weakDependency.length;++_)b.weakDependency[_]=0|n.weakDependency[_]}if(n.messageType){if(!Array.isArray(n.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(b.messageType=[],_=0;_<n.messageType.length;++_){if(typeof n.messageType[_]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");b.messageType[_]=p.google.protobuf.DescriptorProto.fromObject(n.messageType[_])}}if(n.enumType){if(!Array.isArray(n.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(b.enumType=[],_=0;_<n.enumType.length;++_){if(typeof n.enumType[_]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");b.enumType[_]=p.google.protobuf.EnumDescriptorProto.fromObject(n.enumType[_])}}if(n.service){if(!Array.isArray(n.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(b.service=[],_=0;_<n.service.length;++_){if(typeof n.service[_]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");b.service[_]=p.google.protobuf.ServiceDescriptorProto.fromObject(n.service[_])}}if(n.extension){if(!Array.isArray(n.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(b.extension=[],_=0;_<n.extension.length;++_){if(typeof n.extension[_]!="object")throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");b.extension[_]=p.google.protobuf.FieldDescriptorProto.fromObject(n.extension[_])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");b.options=p.google.protobuf.FileOptions.fromObject(n.options)}if(n.sourceCodeInfo!=null){if(typeof n.sourceCodeInfo!="object")throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");b.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.fromObject(n.sourceCodeInfo)}switch(n.syntax!=null&&(b.syntax=String(n.syntax)),n.edition){default:typeof n.edition=="number"&&(b.edition=n.edition);break;case"EDITION_UNKNOWN":case 0:b.edition=0;break;case"EDITION_PROTO2":case 998:b.edition=998;break;case"EDITION_PROTO3":case 999:b.edition=999;break;case"EDITION_2023":case 1e3:b.edition=1e3;break;case"EDITION_2024":case 1001:b.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:b.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:b.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:b.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:b.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:b.edition=99999;break;case"EDITION_MAX":case 2147483647:b.edition=2147483647}return b},_t.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.dependency=[],_.messageType=[],_.enumType=[],_.service=[],_.extension=[],_.publicDependency=[],_.weakDependency=[]),b.defaults&&(_.name="",_.package="",_.options=null,_.sourceCodeInfo=null,_.syntax="",_.edition=b.enums===String?"EDITION_UNKNOWN":0),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.package!=null&&n.hasOwnProperty("package")&&(_.package=n.package),n.dependency&&n.dependency.length){_.dependency=[];for(var le=0;le<n.dependency.length;++le)_.dependency[le]=n.dependency[le]}if(n.messageType&&n.messageType.length)for(_.messageType=[],le=0;le<n.messageType.length;++le)_.messageType[le]=p.google.protobuf.DescriptorProto.toObject(n.messageType[le],b);if(n.enumType&&n.enumType.length)for(_.enumType=[],le=0;le<n.enumType.length;++le)_.enumType[le]=p.google.protobuf.EnumDescriptorProto.toObject(n.enumType[le],b);if(n.service&&n.service.length)for(_.service=[],le=0;le<n.service.length;++le)_.service[le]=p.google.protobuf.ServiceDescriptorProto.toObject(n.service[le],b);if(n.extension&&n.extension.length)for(_.extension=[],le=0;le<n.extension.length;++le)_.extension[le]=p.google.protobuf.FieldDescriptorProto.toObject(n.extension[le],b);if(n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.FileOptions.toObject(n.options,b)),n.sourceCodeInfo!=null&&n.hasOwnProperty("sourceCodeInfo")&&(_.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.toObject(n.sourceCodeInfo,b)),n.publicDependency&&n.publicDependency.length)for(_.publicDependency=[],le=0;le<n.publicDependency.length;++le)_.publicDependency[le]=n.publicDependency[le];if(n.weakDependency&&n.weakDependency.length)for(_.weakDependency=[],le=0;le<n.weakDependency.length;++le)_.weakDependency[le]=n.weakDependency[le];return n.syntax!=null&&n.hasOwnProperty("syntax")&&(_.syntax=n.syntax),n.edition!=null&&n.hasOwnProperty("edition")&&(_.edition=b.enums!==String||p.google.protobuf.Edition[n.edition]===void 0?n.edition:p.google.protobuf.Edition[n.edition]),_},_t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},_t.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FileDescriptorProto"},_t),y.DescriptorProto=(Ot.prototype.name="",Ot.prototype.field=v.emptyArray,Ot.prototype.extension=v.emptyArray,Ot.prototype.nestedType=v.emptyArray,Ot.prototype.enumType=v.emptyArray,Ot.prototype.extensionRange=v.emptyArray,Ot.prototype.oneofDecl=v.emptyArray,Ot.prototype.options=null,Ot.prototype.reservedRange=v.emptyArray,Ot.prototype.reservedName=v.emptyArray,Ot.fromObject=function(n){if(n instanceof p.google.protobuf.DescriptorProto)return n;var b=new p.google.protobuf.DescriptorProto;if(n.name!=null&&(b.name=String(n.name)),n.field){if(!Array.isArray(n.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");b.field=[];for(var _=0;_<n.field.length;++_){if(typeof n.field[_]!="object")throw TypeError(".google.protobuf.DescriptorProto.field: object expected");b.field[_]=p.google.protobuf.FieldDescriptorProto.fromObject(n.field[_])}}if(n.extension){if(!Array.isArray(n.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(b.extension=[],_=0;_<n.extension.length;++_){if(typeof n.extension[_]!="object")throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");b.extension[_]=p.google.protobuf.FieldDescriptorProto.fromObject(n.extension[_])}}if(n.nestedType){if(!Array.isArray(n.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(b.nestedType=[],_=0;_<n.nestedType.length;++_){if(typeof n.nestedType[_]!="object")throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");b.nestedType[_]=p.google.protobuf.DescriptorProto.fromObject(n.nestedType[_])}}if(n.enumType){if(!Array.isArray(n.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(b.enumType=[],_=0;_<n.enumType.length;++_){if(typeof n.enumType[_]!="object")throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");b.enumType[_]=p.google.protobuf.EnumDescriptorProto.fromObject(n.enumType[_])}}if(n.extensionRange){if(!Array.isArray(n.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(b.extensionRange=[],_=0;_<n.extensionRange.length;++_){if(typeof n.extensionRange[_]!="object")throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");b.extensionRange[_]=p.google.protobuf.DescriptorProto.ExtensionRange.fromObject(n.extensionRange[_])}}if(n.oneofDecl){if(!Array.isArray(n.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(b.oneofDecl=[],_=0;_<n.oneofDecl.length;++_){if(typeof n.oneofDecl[_]!="object")throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");b.oneofDecl[_]=p.google.protobuf.OneofDescriptorProto.fromObject(n.oneofDecl[_])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.DescriptorProto.options: object expected");b.options=p.google.protobuf.MessageOptions.fromObject(n.options)}if(n.reservedRange){if(!Array.isArray(n.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(b.reservedRange=[],_=0;_<n.reservedRange.length;++_){if(typeof n.reservedRange[_]!="object")throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");b.reservedRange[_]=p.google.protobuf.DescriptorProto.ReservedRange.fromObject(n.reservedRange[_])}}if(n.reservedName){if(!Array.isArray(n.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(b.reservedName=[],_=0;_<n.reservedName.length;++_)b.reservedName[_]=String(n.reservedName[_])}return b},Ot.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.field=[],_.nestedType=[],_.enumType=[],_.extensionRange=[],_.extension=[],_.oneofDecl=[],_.reservedRange=[],_.reservedName=[]),b.defaults&&(_.name="",_.options=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.field&&n.field.length){_.field=[];for(var le=0;le<n.field.length;++le)_.field[le]=p.google.protobuf.FieldDescriptorProto.toObject(n.field[le],b)}if(n.nestedType&&n.nestedType.length)for(_.nestedType=[],le=0;le<n.nestedType.length;++le)_.nestedType[le]=p.google.protobuf.DescriptorProto.toObject(n.nestedType[le],b);if(n.enumType&&n.enumType.length)for(_.enumType=[],le=0;le<n.enumType.length;++le)_.enumType[le]=p.google.protobuf.EnumDescriptorProto.toObject(n.enumType[le],b);if(n.extensionRange&&n.extensionRange.length)for(_.extensionRange=[],le=0;le<n.extensionRange.length;++le)_.extensionRange[le]=p.google.protobuf.DescriptorProto.ExtensionRange.toObject(n.extensionRange[le],b);if(n.extension&&n.extension.length)for(_.extension=[],le=0;le<n.extension.length;++le)_.extension[le]=p.google.protobuf.FieldDescriptorProto.toObject(n.extension[le],b);if(n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.MessageOptions.toObject(n.options,b)),n.oneofDecl&&n.oneofDecl.length)for(_.oneofDecl=[],le=0;le<n.oneofDecl.length;++le)_.oneofDecl[le]=p.google.protobuf.OneofDescriptorProto.toObject(n.oneofDecl[le],b);if(n.reservedRange&&n.reservedRange.length)for(_.reservedRange=[],le=0;le<n.reservedRange.length;++le)_.reservedRange[le]=p.google.protobuf.DescriptorProto.ReservedRange.toObject(n.reservedRange[le],b);if(n.reservedName&&n.reservedName.length)for(_.reservedName=[],le=0;le<n.reservedName.length;++le)_.reservedName[le]=n.reservedName[le];return _},Ot.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ot.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.DescriptorProto"},Ot.ExtensionRange=(cr.prototype.start=0,cr.prototype.end=0,cr.prototype.options=null,cr.fromObject=function(n){if(n instanceof p.google.protobuf.DescriptorProto.ExtensionRange)return n;var b=new p.google.protobuf.DescriptorProto.ExtensionRange;if(n.start!=null&&(b.start=0|n.start),n.end!=null&&(b.end=0|n.end),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");b.options=p.google.protobuf.ExtensionRangeOptions.fromObject(n.options)}return b},cr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.start=0,_.end=0,_.options=null),n.start!=null&&n.hasOwnProperty("start")&&(_.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(_.end=n.end),n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.ExtensionRangeOptions.toObject(n.options,b)),_},cr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},cr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.DescriptorProto.ExtensionRange"},cr),Ot.ReservedRange=(_r.prototype.start=0,_r.prototype.end=0,_r.fromObject=function(n){var b;return n instanceof p.google.protobuf.DescriptorProto.ReservedRange?n:(b=new p.google.protobuf.DescriptorProto.ReservedRange,n.start!=null&&(b.start=0|n.start),n.end!=null&&(b.end=0|n.end),b)},_r.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.start=0,_.end=0),n.start!=null&&n.hasOwnProperty("start")&&(_.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(_.end=n.end),_},_r.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},_r.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.DescriptorProto.ReservedRange"},_r),Ot),y.ExtensionRangeOptions=(er.prototype.uninterpretedOption=v.emptyArray,er.prototype.declaration=v.emptyArray,er.prototype.features=null,er.prototype.verification=1,er.fromObject=function(n){if(n instanceof p.google.protobuf.ExtensionRangeOptions)return n;var b=new p.google.protobuf.ExtensionRangeOptions;if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");b.uninterpretedOption=[];for(var _=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}if(n.declaration){if(!Array.isArray(n.declaration))throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: array expected");for(b.declaration=[],_=0;_<n.declaration.length;++_){if(typeof n.declaration[_]!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: object expected");b.declaration[_]=p.google.protobuf.ExtensionRangeOptions.Declaration.fromObject(n.declaration[_])}}if(n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.ExtensionRangeOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}switch(n.verification){case"DECLARATION":case 0:b.verification=0;break;default:typeof n.verification=="number"&&(b.verification=n.verification);break;case"UNVERIFIED":case 1:b.verification=1}return b},er.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.declaration=[],_.uninterpretedOption=[]),b.defaults&&(_.verification=b.enums===String?"UNVERIFIED":1,_.features=null),n.declaration&&n.declaration.length){_.declaration=[];for(var le=0;le<n.declaration.length;++le)_.declaration[le]=p.google.protobuf.ExtensionRangeOptions.Declaration.toObject(n.declaration[le],b)}if(n.verification!=null&&n.hasOwnProperty("verification")&&(_.verification=b.enums!==String||p.google.protobuf.ExtensionRangeOptions.VerificationState[n.verification]===void 0?n.verification:p.google.protobuf.ExtensionRangeOptions.VerificationState[n.verification]),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.uninterpretedOption&&n.uninterpretedOption.length)for(_.uninterpretedOption=[],le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b);return _},er.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},er.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.ExtensionRangeOptions"},er.Declaration=(dr.prototype.number=0,dr.prototype.fullName="",dr.prototype.type="",dr.prototype.reserved=!1,dr.prototype.repeated=!1,dr.fromObject=function(n){var b;return n instanceof p.google.protobuf.ExtensionRangeOptions.Declaration?n:(b=new p.google.protobuf.ExtensionRangeOptions.Declaration,n.number!=null&&(b.number=0|n.number),n.fullName!=null&&(b.fullName=String(n.fullName)),n.type!=null&&(b.type=String(n.type)),n.reserved!=null&&(b.reserved=!!n.reserved),n.repeated!=null&&(b.repeated=!!n.repeated),b)},dr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.number=0,_.fullName="",_.type="",_.reserved=!1,_.repeated=!1),n.number!=null&&n.hasOwnProperty("number")&&(_.number=n.number),n.fullName!=null&&n.hasOwnProperty("fullName")&&(_.fullName=n.fullName),n.type!=null&&n.hasOwnProperty("type")&&(_.type=n.type),n.reserved!=null&&n.hasOwnProperty("reserved")&&(_.reserved=n.reserved),n.repeated!=null&&n.hasOwnProperty("repeated")&&(_.repeated=n.repeated),_},dr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},dr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.ExtensionRangeOptions.Declaration"},dr),er.VerificationState=(O={},(T=Object.create(O))[O[0]="DECLARATION"]="DECLARATION",T[O[1]="UNVERIFIED"]="UNVERIFIED",T),er),y.FieldDescriptorProto=(St.prototype.name="",St.prototype.number=0,St.prototype.label=1,St.prototype.type=1,St.prototype.typeName="",St.prototype.extendee="",St.prototype.defaultValue="",St.prototype.oneofIndex=0,St.prototype.jsonName="",St.prototype.options=null,St.prototype.proto3Optional=!1,St.fromObject=function(n){if(n instanceof p.google.protobuf.FieldDescriptorProto)return n;var b=new p.google.protobuf.FieldDescriptorProto;switch(n.name!=null&&(b.name=String(n.name)),n.number!=null&&(b.number=0|n.number),n.label){default:typeof n.label=="number"&&(b.label=n.label);break;case"LABEL_OPTIONAL":case 1:b.label=1;break;case"LABEL_REPEATED":case 3:b.label=3;break;case"LABEL_REQUIRED":case 2:b.label=2}switch(n.type){default:typeof n.type=="number"&&(b.type=n.type);break;case"TYPE_DOUBLE":case 1:b.type=1;break;case"TYPE_FLOAT":case 2:b.type=2;break;case"TYPE_INT64":case 3:b.type=3;break;case"TYPE_UINT64":case 4:b.type=4;break;case"TYPE_INT32":case 5:b.type=5;break;case"TYPE_FIXED64":case 6:b.type=6;break;case"TYPE_FIXED32":case 7:b.type=7;break;case"TYPE_BOOL":case 8:b.type=8;break;case"TYPE_STRING":case 9:b.type=9;break;case"TYPE_GROUP":case 10:b.type=10;break;case"TYPE_MESSAGE":case 11:b.type=11;break;case"TYPE_BYTES":case 12:b.type=12;break;case"TYPE_UINT32":case 13:b.type=13;break;case"TYPE_ENUM":case 14:b.type=14;break;case"TYPE_SFIXED32":case 15:b.type=15;break;case"TYPE_SFIXED64":case 16:b.type=16;break;case"TYPE_SINT32":case 17:b.type=17;break;case"TYPE_SINT64":case 18:b.type=18}if(n.typeName!=null&&(b.typeName=String(n.typeName)),n.extendee!=null&&(b.extendee=String(n.extendee)),n.defaultValue!=null&&(b.defaultValue=String(n.defaultValue)),n.oneofIndex!=null&&(b.oneofIndex=0|n.oneofIndex),n.jsonName!=null&&(b.jsonName=String(n.jsonName)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");b.options=p.google.protobuf.FieldOptions.fromObject(n.options)}return n.proto3Optional!=null&&(b.proto3Optional=!!n.proto3Optional),b},St.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.extendee="",_.number=0,_.label=b.enums===String?"LABEL_OPTIONAL":1,_.type=b.enums===String?"TYPE_DOUBLE":1,_.typeName="",_.defaultValue="",_.options=null,_.oneofIndex=0,_.jsonName="",_.proto3Optional=!1),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.extendee!=null&&n.hasOwnProperty("extendee")&&(_.extendee=n.extendee),n.number!=null&&n.hasOwnProperty("number")&&(_.number=n.number),n.label!=null&&n.hasOwnProperty("label")&&(_.label=b.enums!==String||p.google.protobuf.FieldDescriptorProto.Label[n.label]===void 0?n.label:p.google.protobuf.FieldDescriptorProto.Label[n.label]),n.type!=null&&n.hasOwnProperty("type")&&(_.type=b.enums!==String||p.google.protobuf.FieldDescriptorProto.Type[n.type]===void 0?n.type:p.google.protobuf.FieldDescriptorProto.Type[n.type]),n.typeName!=null&&n.hasOwnProperty("typeName")&&(_.typeName=n.typeName),n.defaultValue!=null&&n.hasOwnProperty("defaultValue")&&(_.defaultValue=n.defaultValue),n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.FieldOptions.toObject(n.options,b)),n.oneofIndex!=null&&n.hasOwnProperty("oneofIndex")&&(_.oneofIndex=n.oneofIndex),n.jsonName!=null&&n.hasOwnProperty("jsonName")&&(_.jsonName=n.jsonName),n.proto3Optional!=null&&n.hasOwnProperty("proto3Optional")&&(_.proto3Optional=n.proto3Optional),_},St.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},St.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FieldDescriptorProto"},St.Type=(O={},(T=Object.create(O))[O[1]="TYPE_DOUBLE"]="TYPE_DOUBLE",T[O[2]="TYPE_FLOAT"]="TYPE_FLOAT",T[O[3]="TYPE_INT64"]="TYPE_INT64",T[O[4]="TYPE_UINT64"]="TYPE_UINT64",T[O[5]="TYPE_INT32"]="TYPE_INT32",T[O[6]="TYPE_FIXED64"]="TYPE_FIXED64",T[O[7]="TYPE_FIXED32"]="TYPE_FIXED32",T[O[8]="TYPE_BOOL"]="TYPE_BOOL",T[O[9]="TYPE_STRING"]="TYPE_STRING",T[O[10]="TYPE_GROUP"]="TYPE_GROUP",T[O[11]="TYPE_MESSAGE"]="TYPE_MESSAGE",T[O[12]="TYPE_BYTES"]="TYPE_BYTES",T[O[13]="TYPE_UINT32"]="TYPE_UINT32",T[O[14]="TYPE_ENUM"]="TYPE_ENUM",T[O[15]="TYPE_SFIXED32"]="TYPE_SFIXED32",T[O[16]="TYPE_SFIXED64"]="TYPE_SFIXED64",T[O[17]="TYPE_SINT32"]="TYPE_SINT32",T[O[18]="TYPE_SINT64"]="TYPE_SINT64",T),St.Label=(O={},(T=Object.create(O))[O[1]="LABEL_OPTIONAL"]="LABEL_OPTIONAL",T[O[3]="LABEL_REPEATED"]="LABEL_REPEATED",T[O[2]="LABEL_REQUIRED"]="LABEL_REQUIRED",T),St),y.OneofDescriptorProto=(Wr.prototype.name="",Wr.prototype.options=null,Wr.fromObject=function(n){if(n instanceof p.google.protobuf.OneofDescriptorProto)return n;var b=new p.google.protobuf.OneofDescriptorProto;if(n.name!=null&&(b.name=String(n.name)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");b.options=p.google.protobuf.OneofOptions.fromObject(n.options)}return b},Wr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.options=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.OneofOptions.toObject(n.options,b)),_},Wr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Wr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.OneofDescriptorProto"},Wr),y.EnumDescriptorProto=(zt.prototype.name="",zt.prototype.value=v.emptyArray,zt.prototype.options=null,zt.prototype.reservedRange=v.emptyArray,zt.prototype.reservedName=v.emptyArray,zt.fromObject=function(n){if(n instanceof p.google.protobuf.EnumDescriptorProto)return n;var b=new p.google.protobuf.EnumDescriptorProto;if(n.name!=null&&(b.name=String(n.name)),n.value){if(!Array.isArray(n.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");b.value=[];for(var _=0;_<n.value.length;++_){if(typeof n.value[_]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");b.value[_]=p.google.protobuf.EnumValueDescriptorProto.fromObject(n.value[_])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");b.options=p.google.protobuf.EnumOptions.fromObject(n.options)}if(n.reservedRange){if(!Array.isArray(n.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(b.reservedRange=[],_=0;_<n.reservedRange.length;++_){if(typeof n.reservedRange[_]!="object")throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");b.reservedRange[_]=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(n.reservedRange[_])}}if(n.reservedName){if(!Array.isArray(n.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(b.reservedName=[],_=0;_<n.reservedName.length;++_)b.reservedName[_]=String(n.reservedName[_])}return b},zt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.value=[],_.reservedRange=[],_.reservedName=[]),b.defaults&&(_.name="",_.options=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.value&&n.value.length){_.value=[];for(var le=0;le<n.value.length;++le)_.value[le]=p.google.protobuf.EnumValueDescriptorProto.toObject(n.value[le],b)}if(n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.EnumOptions.toObject(n.options,b)),n.reservedRange&&n.reservedRange.length)for(_.reservedRange=[],le=0;le<n.reservedRange.length;++le)_.reservedRange[le]=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(n.reservedRange[le],b);if(n.reservedName&&n.reservedName.length)for(_.reservedName=[],le=0;le<n.reservedName.length;++le)_.reservedName[le]=n.reservedName[le];return _},zt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},zt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.EnumDescriptorProto"},zt.EnumReservedRange=(Jt.prototype.start=0,Jt.prototype.end=0,Jt.fromObject=function(n){var b;return n instanceof p.google.protobuf.EnumDescriptorProto.EnumReservedRange?n:(b=new p.google.protobuf.EnumDescriptorProto.EnumReservedRange,n.start!=null&&(b.start=0|n.start),n.end!=null&&(b.end=0|n.end),b)},Jt.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.start=0,_.end=0),n.start!=null&&n.hasOwnProperty("start")&&(_.start=n.start),n.end!=null&&n.hasOwnProperty("end")&&(_.end=n.end),_},Jt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Jt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.EnumDescriptorProto.EnumReservedRange"},Jt),zt),y.EnumValueDescriptorProto=(Fr.prototype.name="",Fr.prototype.number=0,Fr.prototype.options=null,Fr.fromObject=function(n){if(n instanceof p.google.protobuf.EnumValueDescriptorProto)return n;var b=new p.google.protobuf.EnumValueDescriptorProto;if(n.name!=null&&(b.name=String(n.name)),n.number!=null&&(b.number=0|n.number),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");b.options=p.google.protobuf.EnumValueOptions.fromObject(n.options)}return b},Fr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.number=0,_.options=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.number!=null&&n.hasOwnProperty("number")&&(_.number=n.number),n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.EnumValueOptions.toObject(n.options,b)),_},Fr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Fr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.EnumValueDescriptorProto"},Fr),y.ServiceDescriptorProto=(tr.prototype.name="",tr.prototype.method=v.emptyArray,tr.prototype.options=null,tr.fromObject=function(n){if(n instanceof p.google.protobuf.ServiceDescriptorProto)return n;var b=new p.google.protobuf.ServiceDescriptorProto;if(n.name!=null&&(b.name=String(n.name)),n.method){if(!Array.isArray(n.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");b.method=[];for(var _=0;_<n.method.length;++_){if(typeof n.method[_]!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");b.method[_]=p.google.protobuf.MethodDescriptorProto.fromObject(n.method[_])}}if(n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");b.options=p.google.protobuf.ServiceOptions.fromObject(n.options)}return b},tr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.method=[]),b.defaults&&(_.name="",_.options=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.method&&n.method.length){_.method=[];for(var le=0;le<n.method.length;++le)_.method[le]=p.google.protobuf.MethodDescriptorProto.toObject(n.method[le],b)}return n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.ServiceOptions.toObject(n.options,b)),_},tr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},tr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.ServiceDescriptorProto"},tr),y.MethodDescriptorProto=(Ct.prototype.name="",Ct.prototype.inputType="",Ct.prototype.outputType="",Ct.prototype.options=null,Ct.prototype.clientStreaming=!1,Ct.prototype.serverStreaming=!1,Ct.fromObject=function(n){if(n instanceof p.google.protobuf.MethodDescriptorProto)return n;var b=new p.google.protobuf.MethodDescriptorProto;if(n.name!=null&&(b.name=String(n.name)),n.inputType!=null&&(b.inputType=String(n.inputType)),n.outputType!=null&&(b.outputType=String(n.outputType)),n.options!=null){if(typeof n.options!="object")throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");b.options=p.google.protobuf.MethodOptions.fromObject(n.options)}return n.clientStreaming!=null&&(b.clientStreaming=!!n.clientStreaming),n.serverStreaming!=null&&(b.serverStreaming=!!n.serverStreaming),b},Ct.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.inputType="",_.outputType="",_.options=null,_.clientStreaming=!1,_.serverStreaming=!1),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.inputType!=null&&n.hasOwnProperty("inputType")&&(_.inputType=n.inputType),n.outputType!=null&&n.hasOwnProperty("outputType")&&(_.outputType=n.outputType),n.options!=null&&n.hasOwnProperty("options")&&(_.options=p.google.protobuf.MethodOptions.toObject(n.options,b)),n.clientStreaming!=null&&n.hasOwnProperty("clientStreaming")&&(_.clientStreaming=n.clientStreaming),n.serverStreaming!=null&&n.hasOwnProperty("serverStreaming")&&(_.serverStreaming=n.serverStreaming),_},Ct.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ct.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.MethodDescriptorProto"},Ct),y.FileOptions=(ct.prototype.javaPackage="",ct.prototype.javaOuterClassname="",ct.prototype.javaMultipleFiles=!1,ct.prototype.javaGenerateEqualsAndHash=!1,ct.prototype.javaStringCheckUtf8=!1,ct.prototype.optimizeFor=1,ct.prototype.goPackage="",ct.prototype.ccGenericServices=!1,ct.prototype.javaGenericServices=!1,ct.prototype.pyGenericServices=!1,ct.prototype.deprecated=!1,ct.prototype.ccEnableArenas=!0,ct.prototype.objcClassPrefix="",ct.prototype.csharpNamespace="",ct.prototype.swiftPrefix="",ct.prototype.phpClassPrefix="",ct.prototype.phpNamespace="",ct.prototype.phpMetadataNamespace="",ct.prototype.rubyPackage="",ct.prototype.features=null,ct.prototype.uninterpretedOption=v.emptyArray,ct.prototype[".google.api.resourceDefinition"]=v.emptyArray,ct.fromObject=function(n){if(n instanceof p.google.protobuf.FileOptions)return n;var b=new p.google.protobuf.FileOptions;switch(n.javaPackage!=null&&(b.javaPackage=String(n.javaPackage)),n.javaOuterClassname!=null&&(b.javaOuterClassname=String(n.javaOuterClassname)),n.javaMultipleFiles!=null&&(b.javaMultipleFiles=!!n.javaMultipleFiles),n.javaGenerateEqualsAndHash!=null&&(b.javaGenerateEqualsAndHash=!!n.javaGenerateEqualsAndHash),n.javaStringCheckUtf8!=null&&(b.javaStringCheckUtf8=!!n.javaStringCheckUtf8),n.optimizeFor){default:typeof n.optimizeFor=="number"&&(b.optimizeFor=n.optimizeFor);break;case"SPEED":case 1:b.optimizeFor=1;break;case"CODE_SIZE":case 2:b.optimizeFor=2;break;case"LITE_RUNTIME":case 3:b.optimizeFor=3}if(n.goPackage!=null&&(b.goPackage=String(n.goPackage)),n.ccGenericServices!=null&&(b.ccGenericServices=!!n.ccGenericServices),n.javaGenericServices!=null&&(b.javaGenericServices=!!n.javaGenericServices),n.pyGenericServices!=null&&(b.pyGenericServices=!!n.pyGenericServices),n.deprecated!=null&&(b.deprecated=!!n.deprecated),n.ccEnableArenas!=null&&(b.ccEnableArenas=!!n.ccEnableArenas),n.objcClassPrefix!=null&&(b.objcClassPrefix=String(n.objcClassPrefix)),n.csharpNamespace!=null&&(b.csharpNamespace=String(n.csharpNamespace)),n.swiftPrefix!=null&&(b.swiftPrefix=String(n.swiftPrefix)),n.phpClassPrefix!=null&&(b.phpClassPrefix=String(n.phpClassPrefix)),n.phpNamespace!=null&&(b.phpNamespace=String(n.phpNamespace)),n.phpMetadataNamespace!=null&&(b.phpMetadataNamespace=String(n.phpMetadataNamespace)),n.rubyPackage!=null&&(b.rubyPackage=String(n.rubyPackage)),n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.FileOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");b.uninterpretedOption=[];for(var _=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}if(n[".google.api.resourceDefinition"]){if(!Array.isArray(n[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(b[".google.api.resourceDefinition"]=[],_=0;_<n[".google.api.resourceDefinition"].length;++_){if(typeof n[".google.api.resourceDefinition"][_]!="object")throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");b[".google.api.resourceDefinition"][_]=p.google.api.ResourceDescriptor.fromObject(n[".google.api.resourceDefinition"][_])}}return b},ct.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.uninterpretedOption=[],_[".google.api.resourceDefinition"]=[]),b.defaults&&(_.javaPackage="",_.javaOuterClassname="",_.optimizeFor=b.enums===String?"SPEED":1,_.javaMultipleFiles=!1,_.goPackage="",_.ccGenericServices=!1,_.javaGenericServices=!1,_.pyGenericServices=!1,_.javaGenerateEqualsAndHash=!1,_.deprecated=!1,_.javaStringCheckUtf8=!1,_.ccEnableArenas=!0,_.objcClassPrefix="",_.csharpNamespace="",_.swiftPrefix="",_.phpClassPrefix="",_.phpNamespace="",_.phpMetadataNamespace="",_.rubyPackage="",_.features=null),n.javaPackage!=null&&n.hasOwnProperty("javaPackage")&&(_.javaPackage=n.javaPackage),n.javaOuterClassname!=null&&n.hasOwnProperty("javaOuterClassname")&&(_.javaOuterClassname=n.javaOuterClassname),n.optimizeFor!=null&&n.hasOwnProperty("optimizeFor")&&(_.optimizeFor=b.enums!==String||p.google.protobuf.FileOptions.OptimizeMode[n.optimizeFor]===void 0?n.optimizeFor:p.google.protobuf.FileOptions.OptimizeMode[n.optimizeFor]),n.javaMultipleFiles!=null&&n.hasOwnProperty("javaMultipleFiles")&&(_.javaMultipleFiles=n.javaMultipleFiles),n.goPackage!=null&&n.hasOwnProperty("goPackage")&&(_.goPackage=n.goPackage),n.ccGenericServices!=null&&n.hasOwnProperty("ccGenericServices")&&(_.ccGenericServices=n.ccGenericServices),n.javaGenericServices!=null&&n.hasOwnProperty("javaGenericServices")&&(_.javaGenericServices=n.javaGenericServices),n.pyGenericServices!=null&&n.hasOwnProperty("pyGenericServices")&&(_.pyGenericServices=n.pyGenericServices),n.javaGenerateEqualsAndHash!=null&&n.hasOwnProperty("javaGenerateEqualsAndHash")&&(_.javaGenerateEqualsAndHash=n.javaGenerateEqualsAndHash),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(_.deprecated=n.deprecated),n.javaStringCheckUtf8!=null&&n.hasOwnProperty("javaStringCheckUtf8")&&(_.javaStringCheckUtf8=n.javaStringCheckUtf8),n.ccEnableArenas!=null&&n.hasOwnProperty("ccEnableArenas")&&(_.ccEnableArenas=n.ccEnableArenas),n.objcClassPrefix!=null&&n.hasOwnProperty("objcClassPrefix")&&(_.objcClassPrefix=n.objcClassPrefix),n.csharpNamespace!=null&&n.hasOwnProperty("csharpNamespace")&&(_.csharpNamespace=n.csharpNamespace),n.swiftPrefix!=null&&n.hasOwnProperty("swiftPrefix")&&(_.swiftPrefix=n.swiftPrefix),n.phpClassPrefix!=null&&n.hasOwnProperty("phpClassPrefix")&&(_.phpClassPrefix=n.phpClassPrefix),n.phpNamespace!=null&&n.hasOwnProperty("phpNamespace")&&(_.phpNamespace=n.phpNamespace),n.phpMetadataNamespace!=null&&n.hasOwnProperty("phpMetadataNamespace")&&(_.phpMetadataNamespace=n.phpMetadataNamespace),n.rubyPackage!=null&&n.hasOwnProperty("rubyPackage")&&(_.rubyPackage=n.rubyPackage),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.uninterpretedOption&&n.uninterpretedOption.length){_.uninterpretedOption=[];for(var le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b)}if(n[".google.api.resourceDefinition"]&&n[".google.api.resourceDefinition"].length)for(_[".google.api.resourceDefinition"]=[],le=0;le<n[".google.api.resourceDefinition"].length;++le)_[".google.api.resourceDefinition"][le]=p.google.api.ResourceDescriptor.toObject(n[".google.api.resourceDefinition"][le],b);return _},ct.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ct.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FileOptions"},ct.OptimizeMode=(O={},(T=Object.create(O))[O[1]="SPEED"]="SPEED",T[O[2]="CODE_SIZE"]="CODE_SIZE",T[O[3]="LITE_RUNTIME"]="LITE_RUNTIME",T),ct),y.MessageOptions=(gt.prototype.messageSetWireFormat=!1,gt.prototype.noStandardDescriptorAccessor=!1,gt.prototype.deprecated=!1,gt.prototype.mapEntry=!1,gt.prototype.deprecatedLegacyJsonFieldConflicts=!1,gt.prototype.features=null,gt.prototype.uninterpretedOption=v.emptyArray,gt.prototype[".google.api.resource"]=null,gt.fromObject=function(n){if(n instanceof p.google.protobuf.MessageOptions)return n;var b=new p.google.protobuf.MessageOptions;if(n.messageSetWireFormat!=null&&(b.messageSetWireFormat=!!n.messageSetWireFormat),n.noStandardDescriptorAccessor!=null&&(b.noStandardDescriptorAccessor=!!n.noStandardDescriptorAccessor),n.deprecated!=null&&(b.deprecated=!!n.deprecated),n.mapEntry!=null&&(b.mapEntry=!!n.mapEntry),n.deprecatedLegacyJsonFieldConflicts!=null&&(b.deprecatedLegacyJsonFieldConflicts=!!n.deprecatedLegacyJsonFieldConflicts),n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.MessageOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");b.uninterpretedOption=[];for(var _=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}if(n[".google.api.resource"]!=null){if(typeof n[".google.api.resource"]!="object")throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");b[".google.api.resource"]=p.google.api.ResourceDescriptor.fromObject(n[".google.api.resource"])}return b},gt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.uninterpretedOption=[]),b.defaults&&(_.messageSetWireFormat=!1,_.noStandardDescriptorAccessor=!1,_.deprecated=!1,_.mapEntry=!1,_.deprecatedLegacyJsonFieldConflicts=!1,_.features=null,_[".google.api.resource"]=null),n.messageSetWireFormat!=null&&n.hasOwnProperty("messageSetWireFormat")&&(_.messageSetWireFormat=n.messageSetWireFormat),n.noStandardDescriptorAccessor!=null&&n.hasOwnProperty("noStandardDescriptorAccessor")&&(_.noStandardDescriptorAccessor=n.noStandardDescriptorAccessor),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(_.deprecated=n.deprecated),n.mapEntry!=null&&n.hasOwnProperty("mapEntry")&&(_.mapEntry=n.mapEntry),n.deprecatedLegacyJsonFieldConflicts!=null&&n.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(_.deprecatedLegacyJsonFieldConflicts=n.deprecatedLegacyJsonFieldConflicts),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.uninterpretedOption&&n.uninterpretedOption.length){_.uninterpretedOption=[];for(var le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b)}return n[".google.api.resource"]!=null&&n.hasOwnProperty(".google.api.resource")&&(_[".google.api.resource"]=p.google.api.ResourceDescriptor.toObject(n[".google.api.resource"],b)),_},gt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},gt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.MessageOptions"},gt),y.FieldOptions=(dt.prototype.ctype=0,dt.prototype.packed=!1,dt.prototype.jstype=0,dt.prototype.lazy=!1,dt.prototype.unverifiedLazy=!1,dt.prototype.deprecated=!1,dt.prototype.weak=!1,dt.prototype.debugRedact=!1,dt.prototype.retention=0,dt.prototype.targets=v.emptyArray,dt.prototype.editionDefaults=v.emptyArray,dt.prototype.features=null,dt.prototype.uninterpretedOption=v.emptyArray,dt.prototype[".google.api.fieldBehavior"]=v.emptyArray,dt.prototype[".google.api.resourceReference"]=null,dt.fromObject=function(n){if(n instanceof p.google.protobuf.FieldOptions)return n;var b=new p.google.protobuf.FieldOptions;switch(n.ctype){default:typeof n.ctype=="number"&&(b.ctype=n.ctype);break;case"STRING":case 0:b.ctype=0;break;case"CORD":case 1:b.ctype=1;break;case"STRING_PIECE":case 2:b.ctype=2}switch(n.packed!=null&&(b.packed=!!n.packed),n.jstype){default:typeof n.jstype=="number"&&(b.jstype=n.jstype);break;case"JS_NORMAL":case 0:b.jstype=0;break;case"JS_STRING":case 1:b.jstype=1;break;case"JS_NUMBER":case 2:b.jstype=2}switch(n.lazy!=null&&(b.lazy=!!n.lazy),n.unverifiedLazy!=null&&(b.unverifiedLazy=!!n.unverifiedLazy),n.deprecated!=null&&(b.deprecated=!!n.deprecated),n.weak!=null&&(b.weak=!!n.weak),n.debugRedact!=null&&(b.debugRedact=!!n.debugRedact),n.retention){default:typeof n.retention=="number"&&(b.retention=n.retention);break;case"RETENTION_UNKNOWN":case 0:b.retention=0;break;case"RETENTION_RUNTIME":case 1:b.retention=1;break;case"RETENTION_SOURCE":case 2:b.retention=2}if(n.targets){if(!Array.isArray(n.targets))throw TypeError(".google.protobuf.FieldOptions.targets: array expected");b.targets=[];for(var _=0;_<n.targets.length;++_)switch(n.targets[_]){default:if(typeof n.targets[_]=="number"){b.targets[_]=n.targets[_];break}case"TARGET_TYPE_UNKNOWN":case 0:b.targets[_]=0;break;case"TARGET_TYPE_FILE":case 1:b.targets[_]=1;break;case"TARGET_TYPE_EXTENSION_RANGE":case 2:b.targets[_]=2;break;case"TARGET_TYPE_MESSAGE":case 3:b.targets[_]=3;break;case"TARGET_TYPE_FIELD":case 4:b.targets[_]=4;break;case"TARGET_TYPE_ONEOF":case 5:b.targets[_]=5;break;case"TARGET_TYPE_ENUM":case 6:b.targets[_]=6;break;case"TARGET_TYPE_ENUM_ENTRY":case 7:b.targets[_]=7;break;case"TARGET_TYPE_SERVICE":case 8:b.targets[_]=8;break;case"TARGET_TYPE_METHOD":case 9:b.targets[_]=9}}if(n.editionDefaults){if(!Array.isArray(n.editionDefaults))throw TypeError(".google.protobuf.FieldOptions.editionDefaults: array expected");for(b.editionDefaults=[],_=0;_<n.editionDefaults.length;++_){if(typeof n.editionDefaults[_]!="object")throw TypeError(".google.protobuf.FieldOptions.editionDefaults: object expected");b.editionDefaults[_]=p.google.protobuf.FieldOptions.EditionDefault.fromObject(n.editionDefaults[_])}}if(n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.FieldOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");for(b.uninterpretedOption=[],_=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}if(n[".google.api.fieldBehavior"]){if(!Array.isArray(n[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(b[".google.api.fieldBehavior"]=[],_=0;_<n[".google.api.fieldBehavior"].length;++_)switch(n[".google.api.fieldBehavior"][_]){default:if(typeof n[".google.api.fieldBehavior"][_]=="number"){b[".google.api.fieldBehavior"][_]=n[".google.api.fieldBehavior"][_];break}case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:b[".google.api.fieldBehavior"][_]=0;break;case"OPTIONAL":case 1:b[".google.api.fieldBehavior"][_]=1;break;case"REQUIRED":case 2:b[".google.api.fieldBehavior"][_]=2;break;case"OUTPUT_ONLY":case 3:b[".google.api.fieldBehavior"][_]=3;break;case"INPUT_ONLY":case 4:b[".google.api.fieldBehavior"][_]=4;break;case"IMMUTABLE":case 5:b[".google.api.fieldBehavior"][_]=5;break;case"UNORDERED_LIST":case 6:b[".google.api.fieldBehavior"][_]=6;break;case"NON_EMPTY_DEFAULT":case 7:b[".google.api.fieldBehavior"][_]=7;break;case"IDENTIFIER":case 8:b[".google.api.fieldBehavior"][_]=8}}if(n[".google.api.resourceReference"]!=null){if(typeof n[".google.api.resourceReference"]!="object")throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");b[".google.api.resourceReference"]=p.google.api.ResourceReference.fromObject(n[".google.api.resourceReference"])}return b},dt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.targets=[],_.editionDefaults=[],_.uninterpretedOption=[],_[".google.api.fieldBehavior"]=[]),b.defaults&&(_.ctype=b.enums===String?"STRING":0,_.packed=!1,_.deprecated=!1,_.lazy=!1,_.jstype=b.enums===String?"JS_NORMAL":0,_.weak=!1,_.unverifiedLazy=!1,_.debugRedact=!1,_.retention=b.enums===String?"RETENTION_UNKNOWN":0,_.features=null,_[".google.api.resourceReference"]=null),n.ctype!=null&&n.hasOwnProperty("ctype")&&(_.ctype=b.enums!==String||p.google.protobuf.FieldOptions.CType[n.ctype]===void 0?n.ctype:p.google.protobuf.FieldOptions.CType[n.ctype]),n.packed!=null&&n.hasOwnProperty("packed")&&(_.packed=n.packed),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(_.deprecated=n.deprecated),n.lazy!=null&&n.hasOwnProperty("lazy")&&(_.lazy=n.lazy),n.jstype!=null&&n.hasOwnProperty("jstype")&&(_.jstype=b.enums!==String||p.google.protobuf.FieldOptions.JSType[n.jstype]===void 0?n.jstype:p.google.protobuf.FieldOptions.JSType[n.jstype]),n.weak!=null&&n.hasOwnProperty("weak")&&(_.weak=n.weak),n.unverifiedLazy!=null&&n.hasOwnProperty("unverifiedLazy")&&(_.unverifiedLazy=n.unverifiedLazy),n.debugRedact!=null&&n.hasOwnProperty("debugRedact")&&(_.debugRedact=n.debugRedact),n.retention!=null&&n.hasOwnProperty("retention")&&(_.retention=b.enums!==String||p.google.protobuf.FieldOptions.OptionRetention[n.retention]===void 0?n.retention:p.google.protobuf.FieldOptions.OptionRetention[n.retention]),n.targets&&n.targets.length){_.targets=[];for(var le=0;le<n.targets.length;++le)_.targets[le]=b.enums!==String||p.google.protobuf.FieldOptions.OptionTargetType[n.targets[le]]===void 0?n.targets[le]:p.google.protobuf.FieldOptions.OptionTargetType[n.targets[le]]}if(n.editionDefaults&&n.editionDefaults.length)for(_.editionDefaults=[],le=0;le<n.editionDefaults.length;++le)_.editionDefaults[le]=p.google.protobuf.FieldOptions.EditionDefault.toObject(n.editionDefaults[le],b);if(n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.uninterpretedOption&&n.uninterpretedOption.length)for(_.uninterpretedOption=[],le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b);if(n[".google.api.fieldBehavior"]&&n[".google.api.fieldBehavior"].length)for(_[".google.api.fieldBehavior"]=[],le=0;le<n[".google.api.fieldBehavior"].length;++le)_[".google.api.fieldBehavior"][le]=b.enums!==String||p.google.api.FieldBehavior[n[".google.api.fieldBehavior"][le]]===void 0?n[".google.api.fieldBehavior"][le]:p.google.api.FieldBehavior[n[".google.api.fieldBehavior"][le]];return n[".google.api.resourceReference"]!=null&&n.hasOwnProperty(".google.api.resourceReference")&&(_[".google.api.resourceReference"]=p.google.api.ResourceReference.toObject(n[".google.api.resourceReference"],b)),_},dt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},dt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FieldOptions"},dt.CType=(O={},(T=Object.create(O))[O[0]="STRING"]="STRING",T[O[1]="CORD"]="CORD",T[O[2]="STRING_PIECE"]="STRING_PIECE",T),dt.JSType=(O={},(T=Object.create(O))[O[0]="JS_NORMAL"]="JS_NORMAL",T[O[1]="JS_STRING"]="JS_STRING",T[O[2]="JS_NUMBER"]="JS_NUMBER",T),dt.OptionRetention=(O={},(T=Object.create(O))[O[0]="RETENTION_UNKNOWN"]="RETENTION_UNKNOWN",T[O[1]="RETENTION_RUNTIME"]="RETENTION_RUNTIME",T[O[2]="RETENTION_SOURCE"]="RETENTION_SOURCE",T),dt.OptionTargetType=(O={},(T=Object.create(O))[O[0]="TARGET_TYPE_UNKNOWN"]="TARGET_TYPE_UNKNOWN",T[O[1]="TARGET_TYPE_FILE"]="TARGET_TYPE_FILE",T[O[2]="TARGET_TYPE_EXTENSION_RANGE"]="TARGET_TYPE_EXTENSION_RANGE",T[O[3]="TARGET_TYPE_MESSAGE"]="TARGET_TYPE_MESSAGE",T[O[4]="TARGET_TYPE_FIELD"]="TARGET_TYPE_FIELD",T[O[5]="TARGET_TYPE_ONEOF"]="TARGET_TYPE_ONEOF",T[O[6]="TARGET_TYPE_ENUM"]="TARGET_TYPE_ENUM",T[O[7]="TARGET_TYPE_ENUM_ENTRY"]="TARGET_TYPE_ENUM_ENTRY",T[O[8]="TARGET_TYPE_SERVICE"]="TARGET_TYPE_SERVICE",T[O[9]="TARGET_TYPE_METHOD"]="TARGET_TYPE_METHOD",T),dt.EditionDefault=(Or.prototype.edition=0,Or.prototype.value="",Or.fromObject=function(n){if(n instanceof p.google.protobuf.FieldOptions.EditionDefault)return n;var b=new p.google.protobuf.FieldOptions.EditionDefault;switch(n.edition){default:typeof n.edition=="number"&&(b.edition=n.edition);break;case"EDITION_UNKNOWN":case 0:b.edition=0;break;case"EDITION_PROTO2":case 998:b.edition=998;break;case"EDITION_PROTO3":case 999:b.edition=999;break;case"EDITION_2023":case 1e3:b.edition=1e3;break;case"EDITION_2024":case 1001:b.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:b.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:b.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:b.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:b.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:b.edition=99999;break;case"EDITION_MAX":case 2147483647:b.edition=2147483647}return n.value!=null&&(b.value=String(n.value)),b},Or.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.value="",_.edition=b.enums===String?"EDITION_UNKNOWN":0),n.value!=null&&n.hasOwnProperty("value")&&(_.value=n.value),n.edition!=null&&n.hasOwnProperty("edition")&&(_.edition=b.enums!==String||p.google.protobuf.Edition[n.edition]===void 0?n.edition:p.google.protobuf.Edition[n.edition]),_},Or.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Or.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FieldOptions.EditionDefault"},Or),dt),y.OneofOptions=(Mr.prototype.features=null,Mr.prototype.uninterpretedOption=v.emptyArray,Mr.fromObject=function(n){if(n instanceof p.google.protobuf.OneofOptions)return n;var b=new p.google.protobuf.OneofOptions;if(n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.OneofOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");b.uninterpretedOption=[];for(var _=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}return b},Mr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.uninterpretedOption=[]),b.defaults&&(_.features=null),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.uninterpretedOption&&n.uninterpretedOption.length){_.uninterpretedOption=[];for(var le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b)}return _},Mr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Mr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.OneofOptions"},Mr),y.EnumOptions=(Mt.prototype.allowAlias=!1,Mt.prototype.deprecated=!1,Mt.prototype.deprecatedLegacyJsonFieldConflicts=!1,Mt.prototype.features=null,Mt.prototype.uninterpretedOption=v.emptyArray,Mt.fromObject=function(n){if(n instanceof p.google.protobuf.EnumOptions)return n;var b=new p.google.protobuf.EnumOptions;if(n.allowAlias!=null&&(b.allowAlias=!!n.allowAlias),n.deprecated!=null&&(b.deprecated=!!n.deprecated),n.deprecatedLegacyJsonFieldConflicts!=null&&(b.deprecatedLegacyJsonFieldConflicts=!!n.deprecatedLegacyJsonFieldConflicts),n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.EnumOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");b.uninterpretedOption=[];for(var _=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}return b},Mt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.uninterpretedOption=[]),b.defaults&&(_.allowAlias=!1,_.deprecated=!1,_.deprecatedLegacyJsonFieldConflicts=!1,_.features=null),n.allowAlias!=null&&n.hasOwnProperty("allowAlias")&&(_.allowAlias=n.allowAlias),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(_.deprecated=n.deprecated),n.deprecatedLegacyJsonFieldConflicts!=null&&n.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(_.deprecatedLegacyJsonFieldConflicts=n.deprecatedLegacyJsonFieldConflicts),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.uninterpretedOption&&n.uninterpretedOption.length){_.uninterpretedOption=[];for(var le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b)}return _},Mt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Mt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.EnumOptions"},Mt),y.EnumValueOptions=(Yt.prototype.deprecated=!1,Yt.prototype.features=null,Yt.prototype.debugRedact=!1,Yt.prototype.uninterpretedOption=v.emptyArray,Yt.fromObject=function(n){if(n instanceof p.google.protobuf.EnumValueOptions)return n;var b=new p.google.protobuf.EnumValueOptions;if(n.deprecated!=null&&(b.deprecated=!!n.deprecated),n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.EnumValueOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}if(n.debugRedact!=null&&(b.debugRedact=!!n.debugRedact),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");b.uninterpretedOption=[];for(var _=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}return b},Yt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.uninterpretedOption=[]),b.defaults&&(_.deprecated=!1,_.features=null,_.debugRedact=!1),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(_.deprecated=n.deprecated),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.debugRedact!=null&&n.hasOwnProperty("debugRedact")&&(_.debugRedact=n.debugRedact),n.uninterpretedOption&&n.uninterpretedOption.length){_.uninterpretedOption=[];for(var le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b)}return _},Yt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Yt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.EnumValueOptions"},Yt),y.ServiceOptions=(Qt.prototype.features=null,Qt.prototype.deprecated=!1,Qt.prototype.uninterpretedOption=v.emptyArray,Qt.prototype[".google.api.defaultHost"]="",Qt.prototype[".google.api.oauthScopes"]="",Qt.prototype[".google.api.apiVersion"]="",Qt.fromObject=function(n){if(n instanceof p.google.protobuf.ServiceOptions)return n;var b=new p.google.protobuf.ServiceOptions;if(n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.ServiceOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}if(n.deprecated!=null&&(b.deprecated=!!n.deprecated),n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");b.uninterpretedOption=[];for(var _=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}return n[".google.api.defaultHost"]!=null&&(b[".google.api.defaultHost"]=String(n[".google.api.defaultHost"])),n[".google.api.oauthScopes"]!=null&&(b[".google.api.oauthScopes"]=String(n[".google.api.oauthScopes"])),n[".google.api.apiVersion"]!=null&&(b[".google.api.apiVersion"]=String(n[".google.api.apiVersion"])),b},Qt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.uninterpretedOption=[]),b.defaults&&(_.deprecated=!1,_.features=null,_[".google.api.defaultHost"]="",_[".google.api.oauthScopes"]="",_[".google.api.apiVersion"]=""),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(_.deprecated=n.deprecated),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.uninterpretedOption&&n.uninterpretedOption.length){_.uninterpretedOption=[];for(var le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b)}return n[".google.api.defaultHost"]!=null&&n.hasOwnProperty(".google.api.defaultHost")&&(_[".google.api.defaultHost"]=n[".google.api.defaultHost"]),n[".google.api.oauthScopes"]!=null&&n.hasOwnProperty(".google.api.oauthScopes")&&(_[".google.api.oauthScopes"]=n[".google.api.oauthScopes"]),n[".google.api.apiVersion"]!=null&&n.hasOwnProperty(".google.api.apiVersion")&&(_[".google.api.apiVersion"]=n[".google.api.apiVersion"]),_},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Qt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.ServiceOptions"},Qt),y.MethodOptions=(Lt.prototype.deprecated=!1,Lt.prototype.idempotencyLevel=0,Lt.prototype.features=null,Lt.prototype.uninterpretedOption=v.emptyArray,Lt.prototype[".google.api.http"]=null,Lt.prototype[".google.api.methodSignature"]=v.emptyArray,Lt.prototype[".google.longrunning.operationInfo"]=null,Lt.fromObject=function(n){if(n instanceof p.google.protobuf.MethodOptions)return n;var b=new p.google.protobuf.MethodOptions;switch(n.deprecated!=null&&(b.deprecated=!!n.deprecated),n.idempotencyLevel){default:typeof n.idempotencyLevel=="number"&&(b.idempotencyLevel=n.idempotencyLevel);break;case"IDEMPOTENCY_UNKNOWN":case 0:b.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:b.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:b.idempotencyLevel=2}if(n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.MethodOptions.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}if(n.uninterpretedOption){if(!Array.isArray(n.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");b.uninterpretedOption=[];for(var _=0;_<n.uninterpretedOption.length;++_){if(typeof n.uninterpretedOption[_]!="object")throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");b.uninterpretedOption[_]=p.google.protobuf.UninterpretedOption.fromObject(n.uninterpretedOption[_])}}if(n[".google.api.http"]!=null){if(typeof n[".google.api.http"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");b[".google.api.http"]=p.google.api.HttpRule.fromObject(n[".google.api.http"])}if(n[".google.api.methodSignature"]){if(!Array.isArray(n[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(b[".google.api.methodSignature"]=[],_=0;_<n[".google.api.methodSignature"].length;++_)b[".google.api.methodSignature"][_]=String(n[".google.api.methodSignature"][_])}if(n[".google.longrunning.operationInfo"]!=null){if(typeof n[".google.longrunning.operationInfo"]!="object")throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");b[".google.longrunning.operationInfo"]=p.google.longrunning.OperationInfo.fromObject(n[".google.longrunning.operationInfo"])}return b},Lt.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.uninterpretedOption=[],_[".google.api.methodSignature"]=[]),b.defaults&&(_.deprecated=!1,_.idempotencyLevel=b.enums===String?"IDEMPOTENCY_UNKNOWN":0,_.features=null,_[".google.longrunning.operationInfo"]=null,_[".google.api.http"]=null),n.deprecated!=null&&n.hasOwnProperty("deprecated")&&(_.deprecated=n.deprecated),n.idempotencyLevel!=null&&n.hasOwnProperty("idempotencyLevel")&&(_.idempotencyLevel=b.enums!==String||p.google.protobuf.MethodOptions.IdempotencyLevel[n.idempotencyLevel]===void 0?n.idempotencyLevel:p.google.protobuf.MethodOptions.IdempotencyLevel[n.idempotencyLevel]),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.uninterpretedOption&&n.uninterpretedOption.length){_.uninterpretedOption=[];for(var le=0;le<n.uninterpretedOption.length;++le)_.uninterpretedOption[le]=p.google.protobuf.UninterpretedOption.toObject(n.uninterpretedOption[le],b)}if(n[".google.longrunning.operationInfo"]!=null&&n.hasOwnProperty(".google.longrunning.operationInfo")&&(_[".google.longrunning.operationInfo"]=p.google.longrunning.OperationInfo.toObject(n[".google.longrunning.operationInfo"],b)),n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length)for(_[".google.api.methodSignature"]=[],le=0;le<n[".google.api.methodSignature"].length;++le)_[".google.api.methodSignature"][le]=n[".google.api.methodSignature"][le];return n[".google.api.http"]!=null&&n.hasOwnProperty(".google.api.http")&&(_[".google.api.http"]=p.google.api.HttpRule.toObject(n[".google.api.http"],b)),_},Lt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Lt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.MethodOptions"},Lt.IdempotencyLevel=(O={},(T=Object.create(O))[O[0]="IDEMPOTENCY_UNKNOWN"]="IDEMPOTENCY_UNKNOWN",T[O[1]="NO_SIDE_EFFECTS"]="NO_SIDE_EFFECTS",T[O[2]="IDEMPOTENT"]="IDEMPOTENT",T),Lt),y.UninterpretedOption=(qt.prototype.name=v.emptyArray,qt.prototype.identifierValue="",qt.prototype.positiveIntValue=v.Long?v.Long.fromBits(0,0,!0):0,qt.prototype.negativeIntValue=v.Long?v.Long.fromBits(0,0,!1):0,qt.prototype.doubleValue=0,qt.prototype.stringValue=v.newBuffer([]),qt.prototype.aggregateValue="",qt.fromObject=function(n){if(n instanceof p.google.protobuf.UninterpretedOption)return n;var b=new p.google.protobuf.UninterpretedOption;if(n.name){if(!Array.isArray(n.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");b.name=[];for(var _=0;_<n.name.length;++_){if(typeof n.name[_]!="object")throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");b.name[_]=p.google.protobuf.UninterpretedOption.NamePart.fromObject(n.name[_])}}return n.identifierValue!=null&&(b.identifierValue=String(n.identifierValue)),n.positiveIntValue!=null&&(v.Long?(b.positiveIntValue=v.Long.fromValue(n.positiveIntValue)).unsigned=!0:typeof n.positiveIntValue=="string"?b.positiveIntValue=parseInt(n.positiveIntValue,10):typeof n.positiveIntValue=="number"?b.positiveIntValue=n.positiveIntValue:typeof n.positiveIntValue=="object"&&(b.positiveIntValue=new v.LongBits(n.positiveIntValue.low>>>0,n.positiveIntValue.high>>>0).toNumber(!0))),n.negativeIntValue!=null&&(v.Long?(b.negativeIntValue=v.Long.fromValue(n.negativeIntValue)).unsigned=!1:typeof n.negativeIntValue=="string"?b.negativeIntValue=parseInt(n.negativeIntValue,10):typeof n.negativeIntValue=="number"?b.negativeIntValue=n.negativeIntValue:typeof n.negativeIntValue=="object"&&(b.negativeIntValue=new v.LongBits(n.negativeIntValue.low>>>0,n.negativeIntValue.high>>>0).toNumber())),n.doubleValue!=null&&(b.doubleValue=Number(n.doubleValue)),n.stringValue!=null&&(typeof n.stringValue=="string"?v.base64.decode(n.stringValue,b.stringValue=v.newBuffer(v.base64.length(n.stringValue)),0):0<=n.stringValue.length&&(b.stringValue=n.stringValue)),n.aggregateValue!=null&&(b.aggregateValue=String(n.aggregateValue)),b},qt.toObject=function(n,b){var _,le={};if(((b=b||{}).arrays||b.defaults)&&(le.name=[]),b.defaults&&(le.identifierValue="",v.Long?(_=new v.Long(0,0,!0),le.positiveIntValue=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.positiveIntValue=b.longs===String?"0":0,v.Long?(_=new v.Long(0,0,!1),le.negativeIntValue=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.negativeIntValue=b.longs===String?"0":0,le.doubleValue=0,b.bytes===String?le.stringValue="":(le.stringValue=[],b.bytes!==Array&&(le.stringValue=v.newBuffer(le.stringValue))),le.aggregateValue=""),n.name&&n.name.length){le.name=[];for(var qe=0;qe<n.name.length;++qe)le.name[qe]=p.google.protobuf.UninterpretedOption.NamePart.toObject(n.name[qe],b)}return n.identifierValue!=null&&n.hasOwnProperty("identifierValue")&&(le.identifierValue=n.identifierValue),n.positiveIntValue!=null&&n.hasOwnProperty("positiveIntValue")&&(typeof n.positiveIntValue=="number"?le.positiveIntValue=b.longs===String?String(n.positiveIntValue):n.positiveIntValue:le.positiveIntValue=b.longs===String?v.Long.prototype.toString.call(n.positiveIntValue):b.longs===Number?new v.LongBits(n.positiveIntValue.low>>>0,n.positiveIntValue.high>>>0).toNumber(!0):n.positiveIntValue),n.negativeIntValue!=null&&n.hasOwnProperty("negativeIntValue")&&(typeof n.negativeIntValue=="number"?le.negativeIntValue=b.longs===String?String(n.negativeIntValue):n.negativeIntValue:le.negativeIntValue=b.longs===String?v.Long.prototype.toString.call(n.negativeIntValue):b.longs===Number?new v.LongBits(n.negativeIntValue.low>>>0,n.negativeIntValue.high>>>0).toNumber():n.negativeIntValue),n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&(le.doubleValue=b.json&&!isFinite(n.doubleValue)?String(n.doubleValue):n.doubleValue),n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(le.stringValue=b.bytes===String?v.base64.encode(n.stringValue,0,n.stringValue.length):b.bytes===Array?Array.prototype.slice.call(n.stringValue):n.stringValue),n.aggregateValue!=null&&n.hasOwnProperty("aggregateValue")&&(le.aggregateValue=n.aggregateValue),le},qt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},qt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.UninterpretedOption"},qt.NamePart=(Sr.prototype.namePart="",Sr.prototype.isExtension=!1,Sr.fromObject=function(n){var b;return n instanceof p.google.protobuf.UninterpretedOption.NamePart?n:(b=new p.google.protobuf.UninterpretedOption.NamePart,n.namePart!=null&&(b.namePart=String(n.namePart)),n.isExtension!=null&&(b.isExtension=!!n.isExtension),b)},Sr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.namePart="",_.isExtension=!1),n.namePart!=null&&n.hasOwnProperty("namePart")&&(_.namePart=n.namePart),n.isExtension!=null&&n.hasOwnProperty("isExtension")&&(_.isExtension=n.isExtension),_},Sr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Sr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.UninterpretedOption.NamePart"},Sr),qt),y.FeatureSet=(bt.prototype.fieldPresence=0,bt.prototype.enumType=0,bt.prototype.repeatedFieldEncoding=0,bt.prototype.utf8Validation=0,bt.prototype.messageEncoding=0,bt.prototype.jsonFormat=0,bt.fromObject=function(n){if(n instanceof p.google.protobuf.FeatureSet)return n;var b=new p.google.protobuf.FeatureSet;switch(n.fieldPresence){default:typeof n.fieldPresence=="number"&&(b.fieldPresence=n.fieldPresence);break;case"FIELD_PRESENCE_UNKNOWN":case 0:b.fieldPresence=0;break;case"EXPLICIT":case 1:b.fieldPresence=1;break;case"IMPLICIT":case 2:b.fieldPresence=2;break;case"LEGACY_REQUIRED":case 3:b.fieldPresence=3}switch(n.enumType){default:typeof n.enumType=="number"&&(b.enumType=n.enumType);break;case"ENUM_TYPE_UNKNOWN":case 0:b.enumType=0;break;case"OPEN":case 1:b.enumType=1;break;case"CLOSED":case 2:b.enumType=2}switch(n.repeatedFieldEncoding){default:typeof n.repeatedFieldEncoding=="number"&&(b.repeatedFieldEncoding=n.repeatedFieldEncoding);break;case"REPEATED_FIELD_ENCODING_UNKNOWN":case 0:b.repeatedFieldEncoding=0;break;case"PACKED":case 1:b.repeatedFieldEncoding=1;break;case"EXPANDED":case 2:b.repeatedFieldEncoding=2}switch(n.utf8Validation){default:typeof n.utf8Validation=="number"&&(b.utf8Validation=n.utf8Validation);break;case"UTF8_VALIDATION_UNKNOWN":case 0:b.utf8Validation=0;break;case"VERIFY":case 2:b.utf8Validation=2;break;case"NONE":case 3:b.utf8Validation=3}switch(n.messageEncoding){default:typeof n.messageEncoding=="number"&&(b.messageEncoding=n.messageEncoding);break;case"MESSAGE_ENCODING_UNKNOWN":case 0:b.messageEncoding=0;break;case"LENGTH_PREFIXED":case 1:b.messageEncoding=1;break;case"DELIMITED":case 2:b.messageEncoding=2}switch(n.jsonFormat){default:typeof n.jsonFormat=="number"&&(b.jsonFormat=n.jsonFormat);break;case"JSON_FORMAT_UNKNOWN":case 0:b.jsonFormat=0;break;case"ALLOW":case 1:b.jsonFormat=1;break;case"LEGACY_BEST_EFFORT":case 2:b.jsonFormat=2}return b},bt.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.fieldPresence=b.enums===String?"FIELD_PRESENCE_UNKNOWN":0,_.enumType=b.enums===String?"ENUM_TYPE_UNKNOWN":0,_.repeatedFieldEncoding=b.enums===String?"REPEATED_FIELD_ENCODING_UNKNOWN":0,_.utf8Validation=b.enums===String?"UTF8_VALIDATION_UNKNOWN":0,_.messageEncoding=b.enums===String?"MESSAGE_ENCODING_UNKNOWN":0,_.jsonFormat=b.enums===String?"JSON_FORMAT_UNKNOWN":0),n.fieldPresence!=null&&n.hasOwnProperty("fieldPresence")&&(_.fieldPresence=b.enums!==String||p.google.protobuf.FeatureSet.FieldPresence[n.fieldPresence]===void 0?n.fieldPresence:p.google.protobuf.FeatureSet.FieldPresence[n.fieldPresence]),n.enumType!=null&&n.hasOwnProperty("enumType")&&(_.enumType=b.enums!==String||p.google.protobuf.FeatureSet.EnumType[n.enumType]===void 0?n.enumType:p.google.protobuf.FeatureSet.EnumType[n.enumType]),n.repeatedFieldEncoding!=null&&n.hasOwnProperty("repeatedFieldEncoding")&&(_.repeatedFieldEncoding=b.enums!==String||p.google.protobuf.FeatureSet.RepeatedFieldEncoding[n.repeatedFieldEncoding]===void 0?n.repeatedFieldEncoding:p.google.protobuf.FeatureSet.RepeatedFieldEncoding[n.repeatedFieldEncoding]),n.utf8Validation!=null&&n.hasOwnProperty("utf8Validation")&&(_.utf8Validation=b.enums!==String||p.google.protobuf.FeatureSet.Utf8Validation[n.utf8Validation]===void 0?n.utf8Validation:p.google.protobuf.FeatureSet.Utf8Validation[n.utf8Validation]),n.messageEncoding!=null&&n.hasOwnProperty("messageEncoding")&&(_.messageEncoding=b.enums!==String||p.google.protobuf.FeatureSet.MessageEncoding[n.messageEncoding]===void 0?n.messageEncoding:p.google.protobuf.FeatureSet.MessageEncoding[n.messageEncoding]),n.jsonFormat!=null&&n.hasOwnProperty("jsonFormat")&&(_.jsonFormat=b.enums!==String||p.google.protobuf.FeatureSet.JsonFormat[n.jsonFormat]===void 0?n.jsonFormat:p.google.protobuf.FeatureSet.JsonFormat[n.jsonFormat]),_},bt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},bt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FeatureSet"},bt.FieldPresence=(O={},(T=Object.create(O))[O[0]="FIELD_PRESENCE_UNKNOWN"]="FIELD_PRESENCE_UNKNOWN",T[O[1]="EXPLICIT"]="EXPLICIT",T[O[2]="IMPLICIT"]="IMPLICIT",T[O[3]="LEGACY_REQUIRED"]="LEGACY_REQUIRED",T),bt.EnumType=(O={},(T=Object.create(O))[O[0]="ENUM_TYPE_UNKNOWN"]="ENUM_TYPE_UNKNOWN",T[O[1]="OPEN"]="OPEN",T[O[2]="CLOSED"]="CLOSED",T),bt.RepeatedFieldEncoding=(O={},(T=Object.create(O))[O[0]="REPEATED_FIELD_ENCODING_UNKNOWN"]="REPEATED_FIELD_ENCODING_UNKNOWN",T[O[1]="PACKED"]="PACKED",T[O[2]="EXPANDED"]="EXPANDED",T),bt.Utf8Validation=(O={},(T=Object.create(O))[O[0]="UTF8_VALIDATION_UNKNOWN"]="UTF8_VALIDATION_UNKNOWN",T[O[2]="VERIFY"]="VERIFY",T[O[3]="NONE"]="NONE",T),bt.MessageEncoding=(O={},(T=Object.create(O))[O[0]="MESSAGE_ENCODING_UNKNOWN"]="MESSAGE_ENCODING_UNKNOWN",T[O[1]="LENGTH_PREFIXED"]="LENGTH_PREFIXED",T[O[2]="DELIMITED"]="DELIMITED",T),bt.JsonFormat=(O={},(T=Object.create(O))[O[0]="JSON_FORMAT_UNKNOWN"]="JSON_FORMAT_UNKNOWN",T[O[1]="ALLOW"]="ALLOW",T[O[2]="LEGACY_BEST_EFFORT"]="LEGACY_BEST_EFFORT",T),bt),y.FeatureSetDefaults=(Er.prototype.defaults=v.emptyArray,Er.prototype.minimumEdition=0,Er.prototype.maximumEdition=0,Er.fromObject=function(n){if(n instanceof p.google.protobuf.FeatureSetDefaults)return n;var b=new p.google.protobuf.FeatureSetDefaults;if(n.defaults){if(!Array.isArray(n.defaults))throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: array expected");b.defaults=[];for(var _=0;_<n.defaults.length;++_){if(typeof n.defaults[_]!="object")throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: object expected");b.defaults[_]=p.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.fromObject(n.defaults[_])}}switch(n.minimumEdition){default:typeof n.minimumEdition=="number"&&(b.minimumEdition=n.minimumEdition);break;case"EDITION_UNKNOWN":case 0:b.minimumEdition=0;break;case"EDITION_PROTO2":case 998:b.minimumEdition=998;break;case"EDITION_PROTO3":case 999:b.minimumEdition=999;break;case"EDITION_2023":case 1e3:b.minimumEdition=1e3;break;case"EDITION_2024":case 1001:b.minimumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:b.minimumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:b.minimumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:b.minimumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:b.minimumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:b.minimumEdition=99999;break;case"EDITION_MAX":case 2147483647:b.minimumEdition=2147483647}switch(n.maximumEdition){default:typeof n.maximumEdition=="number"&&(b.maximumEdition=n.maximumEdition);break;case"EDITION_UNKNOWN":case 0:b.maximumEdition=0;break;case"EDITION_PROTO2":case 998:b.maximumEdition=998;break;case"EDITION_PROTO3":case 999:b.maximumEdition=999;break;case"EDITION_2023":case 1e3:b.maximumEdition=1e3;break;case"EDITION_2024":case 1001:b.maximumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:b.maximumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:b.maximumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:b.maximumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:b.maximumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:b.maximumEdition=99999;break;case"EDITION_MAX":case 2147483647:b.maximumEdition=2147483647}return b},Er.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.defaults=[]),b.defaults&&(_.minimumEdition=b.enums===String?"EDITION_UNKNOWN":0,_.maximumEdition=b.enums===String?"EDITION_UNKNOWN":0),n.defaults&&n.defaults.length){_.defaults=[];for(var le=0;le<n.defaults.length;++le)_.defaults[le]=p.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.toObject(n.defaults[le],b)}return n.minimumEdition!=null&&n.hasOwnProperty("minimumEdition")&&(_.minimumEdition=b.enums!==String||p.google.protobuf.Edition[n.minimumEdition]===void 0?n.minimumEdition:p.google.protobuf.Edition[n.minimumEdition]),n.maximumEdition!=null&&n.hasOwnProperty("maximumEdition")&&(_.maximumEdition=b.enums!==String||p.google.protobuf.Edition[n.maximumEdition]===void 0?n.maximumEdition:p.google.protobuf.Edition[n.maximumEdition]),_},Er.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Er.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FeatureSetDefaults"},Er.FeatureSetEditionDefault=(zr.prototype.edition=0,zr.prototype.features=null,zr.fromObject=function(n){if(n instanceof p.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault)return n;var b=new p.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault;switch(n.edition){default:typeof n.edition=="number"&&(b.edition=n.edition);break;case"EDITION_UNKNOWN":case 0:b.edition=0;break;case"EDITION_PROTO2":case 998:b.edition=998;break;case"EDITION_PROTO3":case 999:b.edition=999;break;case"EDITION_2023":case 1e3:b.edition=1e3;break;case"EDITION_2024":case 1001:b.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:b.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:b.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:b.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:b.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:b.edition=99999;break;case"EDITION_MAX":case 2147483647:b.edition=2147483647}if(n.features!=null){if(typeof n.features!="object")throw TypeError(".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.features: object expected");b.features=p.google.protobuf.FeatureSet.fromObject(n.features)}return b},zr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.features=null,_.edition=b.enums===String?"EDITION_UNKNOWN":0),n.features!=null&&n.hasOwnProperty("features")&&(_.features=p.google.protobuf.FeatureSet.toObject(n.features,b)),n.edition!=null&&n.hasOwnProperty("edition")&&(_.edition=b.enums!==String||p.google.protobuf.Edition[n.edition]===void 0?n.edition:p.google.protobuf.Edition[n.edition]),_},zr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},zr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},zr),Er),y.SourceCodeInfo=(Jr.prototype.location=v.emptyArray,Jr.fromObject=function(n){if(n instanceof p.google.protobuf.SourceCodeInfo)return n;var b=new p.google.protobuf.SourceCodeInfo;if(n.location){if(!Array.isArray(n.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");b.location=[];for(var _=0;_<n.location.length;++_){if(typeof n.location[_]!="object")throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");b.location[_]=p.google.protobuf.SourceCodeInfo.Location.fromObject(n.location[_])}}return b},Jr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.location=[]),n.location&&n.location.length){_.location=[];for(var le=0;le<n.location.length;++le)_.location[le]=p.google.protobuf.SourceCodeInfo.Location.toObject(n.location[le],b)}return _},Jr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Jr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.SourceCodeInfo"},Jr.Location=(rr.prototype.path=v.emptyArray,rr.prototype.span=v.emptyArray,rr.prototype.leadingComments="",rr.prototype.trailingComments="",rr.prototype.leadingDetachedComments=v.emptyArray,rr.fromObject=function(n){if(n instanceof p.google.protobuf.SourceCodeInfo.Location)return n;var b=new p.google.protobuf.SourceCodeInfo.Location;if(n.path){if(!Array.isArray(n.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");b.path=[];for(var _=0;_<n.path.length;++_)b.path[_]=0|n.path[_]}if(n.span){if(!Array.isArray(n.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(b.span=[],_=0;_<n.span.length;++_)b.span[_]=0|n.span[_]}if(n.leadingComments!=null&&(b.leadingComments=String(n.leadingComments)),n.trailingComments!=null&&(b.trailingComments=String(n.trailingComments)),n.leadingDetachedComments){if(!Array.isArray(n.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(b.leadingDetachedComments=[],_=0;_<n.leadingDetachedComments.length;++_)b.leadingDetachedComments[_]=String(n.leadingDetachedComments[_])}return b},rr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.path=[],_.span=[],_.leadingDetachedComments=[]),b.defaults&&(_.leadingComments="",_.trailingComments=""),n.path&&n.path.length){_.path=[];for(var le=0;le<n.path.length;++le)_.path[le]=n.path[le]}if(n.span&&n.span.length)for(_.span=[],le=0;le<n.span.length;++le)_.span[le]=n.span[le];if(n.leadingComments!=null&&n.hasOwnProperty("leadingComments")&&(_.leadingComments=n.leadingComments),n.trailingComments!=null&&n.hasOwnProperty("trailingComments")&&(_.trailingComments=n.trailingComments),n.leadingDetachedComments&&n.leadingDetachedComments.length)for(_.leadingDetachedComments=[],le=0;le<n.leadingDetachedComments.length;++le)_.leadingDetachedComments[le]=n.leadingDetachedComments[le];return _},rr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},rr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.SourceCodeInfo.Location"},rr),Jr),y.GeneratedCodeInfo=(Lr.prototype.annotation=v.emptyArray,Lr.fromObject=function(n){if(n instanceof p.google.protobuf.GeneratedCodeInfo)return n;var b=new p.google.protobuf.GeneratedCodeInfo;if(n.annotation){if(!Array.isArray(n.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");b.annotation=[];for(var _=0;_<n.annotation.length;++_){if(typeof n.annotation[_]!="object")throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");b.annotation[_]=p.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(n.annotation[_])}}return b},Lr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.annotation=[]),n.annotation&&n.annotation.length){_.annotation=[];for(var le=0;le<n.annotation.length;++le)_.annotation[le]=p.google.protobuf.GeneratedCodeInfo.Annotation.toObject(n.annotation[le],b)}return _},Lr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Lr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.GeneratedCodeInfo"},Lr.Annotation=(nr.prototype.path=v.emptyArray,nr.prototype.sourceFile="",nr.prototype.begin=0,nr.prototype.end=0,nr.prototype.semantic=0,nr.fromObject=function(n){if(n instanceof p.google.protobuf.GeneratedCodeInfo.Annotation)return n;var b=new p.google.protobuf.GeneratedCodeInfo.Annotation;if(n.path){if(!Array.isArray(n.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");b.path=[];for(var _=0;_<n.path.length;++_)b.path[_]=0|n.path[_]}switch(n.sourceFile!=null&&(b.sourceFile=String(n.sourceFile)),n.begin!=null&&(b.begin=0|n.begin),n.end!=null&&(b.end=0|n.end),n.semantic){default:typeof n.semantic=="number"&&(b.semantic=n.semantic);break;case"NONE":case 0:b.semantic=0;break;case"SET":case 1:b.semantic=1;break;case"ALIAS":case 2:b.semantic=2}return b},nr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.path=[]),b.defaults&&(_.sourceFile="",_.begin=0,_.end=0,_.semantic=b.enums===String?"NONE":0),n.path&&n.path.length){_.path=[];for(var le=0;le<n.path.length;++le)_.path[le]=n.path[le]}return n.sourceFile!=null&&n.hasOwnProperty("sourceFile")&&(_.sourceFile=n.sourceFile),n.begin!=null&&n.hasOwnProperty("begin")&&(_.begin=n.begin),n.end!=null&&n.hasOwnProperty("end")&&(_.end=n.end),n.semantic!=null&&n.hasOwnProperty("semantic")&&(_.semantic=b.enums!==String||p.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[n.semantic]===void 0?n.semantic:p.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[n.semantic]),_},nr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},nr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.GeneratedCodeInfo.Annotation"},nr.Semantic=(O={},(T=Object.create(O))[O[0]="NONE"]="NONE",T[O[1]="SET"]="SET",T[O[2]="ALIAS"]="ALIAS",T),nr),Lr),y.Struct=(Yr.prototype.fields=v.emptyObject,Yr.fromObject=function(n){if(n instanceof p.google.protobuf.Struct)return n;var b=new p.google.protobuf.Struct;if(n.fields){if(typeof n.fields!="object")throw TypeError(".google.protobuf.Struct.fields: object expected");b.fields={};for(var _=Object.keys(n.fields),le=0;le<_.length;++le){if(typeof n.fields[_[le]]!="object")throw TypeError(".google.protobuf.Struct.fields: object expected");b.fields[_[le]]=p.google.protobuf.Value.fromObject(n.fields[_[le]])}}return b},Yr.toObject=function(n,b){var _,le={};if(((b=b||{}).objects||b.defaults)&&(le.fields={}),n.fields&&(_=Object.keys(n.fields)).length){le.fields={};for(var qe=0;qe<_.length;++qe)le.fields[_[qe]]=p.google.protobuf.Value.toObject(n.fields[_[qe]],b)}return le},Yr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Yr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.Struct"},Yr),y.Value=(Nt.prototype.nullValue=null,Nt.prototype.numberValue=null,Nt.prototype.stringValue=null,Nt.prototype.boolValue=null,Nt.prototype.structValue=null,Nt.prototype.listValue=null,Object.defineProperty(Nt.prototype,"kind",{get:v.oneOfGetter(O=["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]),set:v.oneOfSetter(O)}),Nt.fromObject=function(n){if(n instanceof p.google.protobuf.Value)return n;var b=new p.google.protobuf.Value;switch(n.nullValue){default:typeof n.nullValue=="number"&&(b.nullValue=n.nullValue);break;case"NULL_VALUE":case 0:b.nullValue=0}if(n.numberValue!=null&&(b.numberValue=Number(n.numberValue)),n.stringValue!=null&&(b.stringValue=String(n.stringValue)),n.boolValue!=null&&(b.boolValue=!!n.boolValue),n.structValue!=null){if(typeof n.structValue!="object")throw TypeError(".google.protobuf.Value.structValue: object expected");b.structValue=p.google.protobuf.Struct.fromObject(n.structValue)}if(n.listValue!=null){if(typeof n.listValue!="object")throw TypeError(".google.protobuf.Value.listValue: object expected");b.listValue=p.google.protobuf.ListValue.fromObject(n.listValue)}return b},Nt.toObject=function(n,b){b=b||{};var _={};return n.nullValue!=null&&n.hasOwnProperty("nullValue")&&(_.nullValue=b.enums!==String||p.google.protobuf.NullValue[n.nullValue]===void 0?n.nullValue:p.google.protobuf.NullValue[n.nullValue],b.oneofs)&&(_.kind="nullValue"),n.numberValue!=null&&n.hasOwnProperty("numberValue")&&(_.numberValue=b.json&&!isFinite(n.numberValue)?String(n.numberValue):n.numberValue,b.oneofs)&&(_.kind="numberValue"),n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(_.stringValue=n.stringValue,b.oneofs)&&(_.kind="stringValue"),n.boolValue!=null&&n.hasOwnProperty("boolValue")&&(_.boolValue=n.boolValue,b.oneofs)&&(_.kind="boolValue"),n.structValue!=null&&n.hasOwnProperty("structValue")&&(_.structValue=p.google.protobuf.Struct.toObject(n.structValue,b),b.oneofs)&&(_.kind="structValue"),n.listValue!=null&&n.hasOwnProperty("listValue")&&(_.listValue=p.google.protobuf.ListValue.toObject(n.listValue,b),b.oneofs)&&(_.kind="listValue"),_},Nt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Nt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.Value"},Nt),y.NullValue=(T={},(O=Object.create(T))[T[0]="NULL_VALUE"]="NULL_VALUE",O),y.ListValue=(Ut.prototype.values=v.emptyArray,Ut.fromObject=function(n){if(n instanceof p.google.protobuf.ListValue)return n;var b=new p.google.protobuf.ListValue;if(n.values){if(!Array.isArray(n.values))throw TypeError(".google.protobuf.ListValue.values: array expected");b.values=[];for(var _=0;_<n.values.length;++_){if(typeof n.values[_]!="object")throw TypeError(".google.protobuf.ListValue.values: object expected");b.values[_]=p.google.protobuf.Value.fromObject(n.values[_])}}return b},Ut.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.values=[]),n.values&&n.values.length){_.values=[];for(var le=0;le<n.values.length;++le)_.values[le]=p.google.protobuf.Value.toObject(n.values[le],b)}return _},Ut.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ut.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.ListValue"},Ut),y.Timestamp=(Bt.prototype.seconds=v.Long?v.Long.fromBits(0,0,!1):0,Bt.prototype.nanos=0,Bt.fromObject=function(n){var b;return n instanceof p.google.protobuf.Timestamp?n:(b=new p.google.protobuf.Timestamp,n.seconds!=null&&(v.Long?(b.seconds=v.Long.fromValue(n.seconds)).unsigned=!1:typeof n.seconds=="string"?b.seconds=parseInt(n.seconds,10):typeof n.seconds=="number"?b.seconds=n.seconds:typeof n.seconds=="object"&&(b.seconds=new v.LongBits(n.seconds.low>>>0,n.seconds.high>>>0).toNumber())),n.nanos!=null&&(b.nanos=0|n.nanos),b)},Bt.toObject=function(n,b){var _,le={};return(b=b||{}).defaults&&(v.Long?(_=new v.Long(0,0,!1),le.seconds=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.seconds=b.longs===String?"0":0,le.nanos=0),n.seconds!=null&&n.hasOwnProperty("seconds")&&(typeof n.seconds=="number"?le.seconds=b.longs===String?String(n.seconds):n.seconds:le.seconds=b.longs===String?v.Long.prototype.toString.call(n.seconds):b.longs===Number?new v.LongBits(n.seconds.low>>>0,n.seconds.high>>>0).toNumber():n.seconds),n.nanos!=null&&n.hasOwnProperty("nanos")&&(le.nanos=n.nanos),le},Bt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Bt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.Timestamp"},Bt),y.Duration=(qr.prototype.seconds=v.Long?v.Long.fromBits(0,0,!1):0,qr.prototype.nanos=0,qr.fromObject=function(n){var b;return n instanceof p.google.protobuf.Duration?n:(b=new p.google.protobuf.Duration,n.seconds!=null&&(v.Long?(b.seconds=v.Long.fromValue(n.seconds)).unsigned=!1:typeof n.seconds=="string"?b.seconds=parseInt(n.seconds,10):typeof n.seconds=="number"?b.seconds=n.seconds:typeof n.seconds=="object"&&(b.seconds=new v.LongBits(n.seconds.low>>>0,n.seconds.high>>>0).toNumber())),n.nanos!=null&&(b.nanos=0|n.nanos),b)},qr.toObject=function(n,b){var _,le={};return(b=b||{}).defaults&&(v.Long?(_=new v.Long(0,0,!1),le.seconds=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.seconds=b.longs===String?"0":0,le.nanos=0),n.seconds!=null&&n.hasOwnProperty("seconds")&&(typeof n.seconds=="number"?le.seconds=b.longs===String?String(n.seconds):n.seconds:le.seconds=b.longs===String?v.Long.prototype.toString.call(n.seconds):b.longs===Number?new v.LongBits(n.seconds.low>>>0,n.seconds.high>>>0).toNumber():n.seconds),n.nanos!=null&&n.hasOwnProperty("nanos")&&(le.nanos=n.nanos),le},qr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},qr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.Duration"},qr),y.DoubleValue=(fn.prototype.value=0,fn.fromObject=function(n){var b;return n instanceof p.google.protobuf.DoubleValue?n:(b=new p.google.protobuf.DoubleValue,n.value!=null&&(b.value=Number(n.value)),b)},fn.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.value=0),n.value!=null&&n.hasOwnProperty("value")&&(_.value=b.json&&!isFinite(n.value)?String(n.value):n.value),_},fn.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},fn.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.DoubleValue"},fn),y.FloatValue=(Qr.prototype.value=0,Qr.fromObject=function(n){var b;return n instanceof p.google.protobuf.FloatValue?n:(b=new p.google.protobuf.FloatValue,n.value!=null&&(b.value=Number(n.value)),b)},Qr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.value=0),n.value!=null&&n.hasOwnProperty("value")&&(_.value=b.json&&!isFinite(n.value)?String(n.value):n.value),_},Qr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Qr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FloatValue"},Qr),y.Int64Value=(Tr.prototype.value=v.Long?v.Long.fromBits(0,0,!1):0,Tr.fromObject=function(n){var b;return n instanceof p.google.protobuf.Int64Value?n:(b=new p.google.protobuf.Int64Value,n.value!=null&&(v.Long?(b.value=v.Long.fromValue(n.value)).unsigned=!1:typeof n.value=="string"?b.value=parseInt(n.value,10):typeof n.value=="number"?b.value=n.value:typeof n.value=="object"&&(b.value=new v.LongBits(n.value.low>>>0,n.value.high>>>0).toNumber())),b)},Tr.toObject=function(n,b){var _,le={};return(b=b||{}).defaults&&(v.Long?(_=new v.Long(0,0,!1),le.value=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.value=b.longs===String?"0":0),n.value!=null&&n.hasOwnProperty("value")&&(typeof n.value=="number"?le.value=b.longs===String?String(n.value):n.value:le.value=b.longs===String?v.Long.prototype.toString.call(n.value):b.longs===Number?new v.LongBits(n.value.low>>>0,n.value.high>>>0).toNumber():n.value),le},Tr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Tr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.Int64Value"},Tr),y.UInt64Value=(pr.prototype.value=v.Long?v.Long.fromBits(0,0,!0):0,pr.fromObject=function(n){var b;return n instanceof p.google.protobuf.UInt64Value?n:(b=new p.google.protobuf.UInt64Value,n.value!=null&&(v.Long?(b.value=v.Long.fromValue(n.value)).unsigned=!0:typeof n.value=="string"?b.value=parseInt(n.value,10):typeof n.value=="number"?b.value=n.value:typeof n.value=="object"&&(b.value=new v.LongBits(n.value.low>>>0,n.value.high>>>0).toNumber(!0))),b)},pr.toObject=function(n,b){var _,le={};return(b=b||{}).defaults&&(v.Long?(_=new v.Long(0,0,!0),le.value=b.longs===String?_.toString():b.longs===Number?_.toNumber():_):le.value=b.longs===String?"0":0),n.value!=null&&n.hasOwnProperty("value")&&(typeof n.value=="number"?le.value=b.longs===String?String(n.value):n.value:le.value=b.longs===String?v.Long.prototype.toString.call(n.value):b.longs===Number?new v.LongBits(n.value.low>>>0,n.value.high>>>0).toNumber(!0):n.value),le},pr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},pr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.UInt64Value"},pr),y.Int32Value=(wr.prototype.value=0,wr.fromObject=function(n){var b;return n instanceof p.google.protobuf.Int32Value?n:(b=new p.google.protobuf.Int32Value,n.value!=null&&(b.value=0|n.value),b)},wr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.value=0),n.value!=null&&n.hasOwnProperty("value")&&(_.value=n.value),_},wr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},wr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.Int32Value"},wr),y.UInt32Value=(Rr.prototype.value=0,Rr.fromObject=function(n){var b;return n instanceof p.google.protobuf.UInt32Value?n:(b=new p.google.protobuf.UInt32Value,n.value!=null&&(b.value=n.value>>>0),b)},Rr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.value=0),n.value!=null&&n.hasOwnProperty("value")&&(_.value=n.value),_},Rr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Rr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.UInt32Value"},Rr),y.BoolValue=(gn.prototype.value=!1,gn.fromObject=function(n){var b;return n instanceof p.google.protobuf.BoolValue?n:(b=new p.google.protobuf.BoolValue,n.value!=null&&(b.value=!!n.value),b)},gn.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.value=!1),n.value!=null&&n.hasOwnProperty("value")&&(_.value=n.value),_},gn.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},gn.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.BoolValue"},gn),y.StringValue=(hn.prototype.value="",hn.fromObject=function(n){var b;return n instanceof p.google.protobuf.StringValue?n:(b=new p.google.protobuf.StringValue,n.value!=null&&(b.value=String(n.value)),b)},hn.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.value=""),n.value!=null&&n.hasOwnProperty("value")&&(_.value=n.value),_},hn.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},hn.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.StringValue"},hn),y.BytesValue=(mn.prototype.value=v.newBuffer([]),mn.fromObject=function(n){var b;return n instanceof p.google.protobuf.BytesValue?n:(b=new p.google.protobuf.BytesValue,n.value!=null&&(typeof n.value=="string"?v.base64.decode(n.value,b.value=v.newBuffer(v.base64.length(n.value)),0):0<=n.value.length&&(b.value=n.value)),b)},mn.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(b.bytes===String?_.value="":(_.value=[],b.bytes!==Array&&(_.value=v.newBuffer(_.value)))),n.value!=null&&n.hasOwnProperty("value")&&(_.value=b.bytes===String?v.base64.encode(n.value,0,n.value.length):b.bytes===Array?Array.prototype.slice.call(n.value):n.value),_},mn.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},mn.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.BytesValue"},mn),y.Empty=(An.fromObject=function(n){return n instanceof p.google.protobuf.Empty?n:new p.google.protobuf.Empty},An.toObject=function(){return{}},An.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},An.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.Empty"},An),y.Any=(Kr.prototype.type_url="",Kr.prototype.value=v.newBuffer([]),Kr.fromObject=function(n){var b;return n instanceof p.google.protobuf.Any?n:(b=new p.google.protobuf.Any,n.type_url!=null&&(b.type_url=String(n.type_url)),n.value!=null&&(typeof n.value=="string"?v.base64.decode(n.value,b.value=v.newBuffer(v.base64.length(n.value)),0):0<=n.value.length&&(b.value=n.value)),b)},Kr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.type_url="",b.bytes===String?_.value="":(_.value=[],b.bytes!==Array&&(_.value=v.newBuffer(_.value)))),n.type_url!=null&&n.hasOwnProperty("type_url")&&(_.type_url=n.type_url),n.value!=null&&n.hasOwnProperty("value")&&(_.value=b.bytes===String?v.base64.encode(n.value,0,n.value.length):b.bytes===Array?Array.prototype.slice.call(n.value):n.value),_},Kr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Kr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.Any"},Kr),y.FieldMask=(yn.prototype.paths=v.emptyArray,yn.fromObject=function(n){if(n instanceof p.google.protobuf.FieldMask)return n;var b=new p.google.protobuf.FieldMask;if(n.paths){if(!Array.isArray(n.paths))throw TypeError(".google.protobuf.FieldMask.paths: array expected");b.paths=[];for(var _=0;_<n.paths.length;++_)b.paths[_]=String(n.paths[_])}return b},yn.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.paths=[]),n.paths&&n.paths.length){_.paths=[];for(var le=0;le<n.paths.length;++le)_.paths[le]=n.paths[le]}return _},yn.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},yn.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.protobuf.FieldMask"},yn),y),E.type=((d={}).LatLng=(Ur.prototype.latitude=0,Ur.prototype.longitude=0,Ur.fromObject=function(n){var b;return n instanceof p.google.type.LatLng?n:(b=new p.google.type.LatLng,n.latitude!=null&&(b.latitude=Number(n.latitude)),n.longitude!=null&&(b.longitude=Number(n.longitude)),b)},Ur.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.latitude=0,_.longitude=0),n.latitude!=null&&n.hasOwnProperty("latitude")&&(_.latitude=b.json&&!isFinite(n.latitude)?String(n.latitude):n.latitude),n.longitude!=null&&n.hasOwnProperty("longitude")&&(_.longitude=b.json&&!isFinite(n.longitude)?String(n.longitude):n.longitude),_},Ur.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Ur.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.type.LatLng"},Ur),d.DayOfWeek=(T={},(O=Object.create(T))[T[0]="DAY_OF_WEEK_UNSPECIFIED"]="DAY_OF_WEEK_UNSPECIFIED",O[T[1]="MONDAY"]="MONDAY",O[T[2]="TUESDAY"]="TUESDAY",O[T[3]="WEDNESDAY"]="WEDNESDAY",O[T[4]="THURSDAY"]="THURSDAY",O[T[5]="FRIDAY"]="FRIDAY",O[T[6]="SATURDAY"]="SATURDAY",O[T[7]="SUNDAY"]="SUNDAY",O),d),E.rpc=((y={}).Status=(Br.prototype.code=0,Br.prototype.message="",Br.prototype.details=v.emptyArray,Br.fromObject=function(n){if(n instanceof p.google.rpc.Status)return n;var b=new p.google.rpc.Status;if(n.code!=null&&(b.code=0|n.code),n.message!=null&&(b.message=String(n.message)),n.details){if(!Array.isArray(n.details))throw TypeError(".google.rpc.Status.details: array expected");b.details=[];for(var _=0;_<n.details.length;++_){if(typeof n.details[_]!="object")throw TypeError(".google.rpc.Status.details: object expected");b.details[_]=p.google.protobuf.Any.fromObject(n.details[_])}}return b},Br.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.details=[]),b.defaults&&(_.code=0,_.message=""),n.code!=null&&n.hasOwnProperty("code")&&(_.code=n.code),n.message!=null&&n.hasOwnProperty("message")&&(_.message=n.message),n.details&&n.details.length){_.details=[];for(var le=0;le<n.details.length;++le)_.details[le]=p.google.protobuf.Any.toObject(n.details[le],b)}return _},Br.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Br.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.rpc.Status"},Br),y),E.longrunning=((T={}).Operations=((Vr.prototype=Object.create(u.rpc.Service.prototype)).constructor=Vr,Object.defineProperty(Vr.prototype.listOperations=function n(b,_){return this.rpcCall(n,p.google.longrunning.ListOperationsRequest,p.google.longrunning.ListOperationsResponse,b,_)},"name",{value:"ListOperations"}),Object.defineProperty(Vr.prototype.getOperation=function n(b,_){return this.rpcCall(n,p.google.longrunning.GetOperationRequest,p.google.longrunning.Operation,b,_)},"name",{value:"GetOperation"}),Object.defineProperty(Vr.prototype.deleteOperation=function n(b,_){return this.rpcCall(n,p.google.longrunning.DeleteOperationRequest,p.google.protobuf.Empty,b,_)},"name",{value:"DeleteOperation"}),Object.defineProperty(Vr.prototype.cancelOperation=function n(b,_){return this.rpcCall(n,p.google.longrunning.CancelOperationRequest,p.google.protobuf.Empty,b,_)},"name",{value:"CancelOperation"}),Object.defineProperty(Vr.prototype.waitOperation=function n(b,_){return this.rpcCall(n,p.google.longrunning.WaitOperationRequest,p.google.longrunning.Operation,b,_)},"name",{value:"WaitOperation"}),Vr),T.Operation=(ir.prototype.name="",ir.prototype.metadata=null,ir.prototype.done=!1,ir.prototype.error=null,ir.prototype.response=null,Object.defineProperty(ir.prototype,"result",{get:v.oneOfGetter(O=["error","response"]),set:v.oneOfSetter(O)}),ir.fromObject=function(n){if(n instanceof p.google.longrunning.Operation)return n;var b=new p.google.longrunning.Operation;if(n.name!=null&&(b.name=String(n.name)),n.metadata!=null){if(typeof n.metadata!="object")throw TypeError(".google.longrunning.Operation.metadata: object expected");b.metadata=p.google.protobuf.Any.fromObject(n.metadata)}if(n.done!=null&&(b.done=!!n.done),n.error!=null){if(typeof n.error!="object")throw TypeError(".google.longrunning.Operation.error: object expected");b.error=p.google.rpc.Status.fromObject(n.error)}if(n.response!=null){if(typeof n.response!="object")throw TypeError(".google.longrunning.Operation.response: object expected");b.response=p.google.protobuf.Any.fromObject(n.response)}return b},ir.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.metadata=null,_.done=!1),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.metadata!=null&&n.hasOwnProperty("metadata")&&(_.metadata=p.google.protobuf.Any.toObject(n.metadata,b)),n.done!=null&&n.hasOwnProperty("done")&&(_.done=n.done),n.error!=null&&n.hasOwnProperty("error")&&(_.error=p.google.rpc.Status.toObject(n.error,b),b.oneofs)&&(_.result="error"),n.response!=null&&n.hasOwnProperty("response")&&(_.response=p.google.protobuf.Any.toObject(n.response,b),b.oneofs)&&(_.result="response"),_},ir.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},ir.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.longrunning.Operation"},ir),T.GetOperationRequest=(Vt.prototype.name="",Vt.fromObject=function(n){var b;return n instanceof p.google.longrunning.GetOperationRequest?n:(b=new p.google.longrunning.GetOperationRequest,n.name!=null&&(b.name=String(n.name)),b)},Vt.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name=""),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),_},Vt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Vt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.longrunning.GetOperationRequest"},Vt),T.ListOperationsRequest=(fr.prototype.name="",fr.prototype.filter="",fr.prototype.pageSize=0,fr.prototype.pageToken="",fr.fromObject=function(n){var b;return n instanceof p.google.longrunning.ListOperationsRequest?n:(b=new p.google.longrunning.ListOperationsRequest,n.name!=null&&(b.name=String(n.name)),n.filter!=null&&(b.filter=String(n.filter)),n.pageSize!=null&&(b.pageSize=0|n.pageSize),n.pageToken!=null&&(b.pageToken=String(n.pageToken)),b)},fr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.filter="",_.pageSize=0,_.pageToken="",_.name=""),n.filter!=null&&n.hasOwnProperty("filter")&&(_.filter=n.filter),n.pageSize!=null&&n.hasOwnProperty("pageSize")&&(_.pageSize=n.pageSize),n.pageToken!=null&&n.hasOwnProperty("pageToken")&&(_.pageToken=n.pageToken),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),_},fr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},fr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.longrunning.ListOperationsRequest"},fr),T.ListOperationsResponse=(Xr.prototype.operations=v.emptyArray,Xr.prototype.nextPageToken="",Xr.fromObject=function(n){if(n instanceof p.google.longrunning.ListOperationsResponse)return n;var b=new p.google.longrunning.ListOperationsResponse;if(n.operations){if(!Array.isArray(n.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");b.operations=[];for(var _=0;_<n.operations.length;++_){if(typeof n.operations[_]!="object")throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");b.operations[_]=p.google.longrunning.Operation.fromObject(n.operations[_])}}return n.nextPageToken!=null&&(b.nextPageToken=String(n.nextPageToken)),b},Xr.toObject=function(n,b){var _={};if(((b=b||{}).arrays||b.defaults)&&(_.operations=[]),b.defaults&&(_.nextPageToken=""),n.operations&&n.operations.length){_.operations=[];for(var le=0;le<n.operations.length;++le)_.operations[le]=p.google.longrunning.Operation.toObject(n.operations[le],b)}return n.nextPageToken!=null&&n.hasOwnProperty("nextPageToken")&&(_.nextPageToken=n.nextPageToken),_},Xr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Xr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.longrunning.ListOperationsResponse"},Xr),T.CancelOperationRequest=(Zr.prototype.name="",Zr.fromObject=function(n){var b;return n instanceof p.google.longrunning.CancelOperationRequest?n:(b=new p.google.longrunning.CancelOperationRequest,n.name!=null&&(b.name=String(n.name)),b)},Zr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name=""),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),_},Zr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Zr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.longrunning.CancelOperationRequest"},Zr),T.DeleteOperationRequest=(or.prototype.name="",or.fromObject=function(n){var b;return n instanceof p.google.longrunning.DeleteOperationRequest?n:(b=new p.google.longrunning.DeleteOperationRequest,n.name!=null&&(b.name=String(n.name)),b)},or.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name=""),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),_},or.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},or.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.longrunning.DeleteOperationRequest"},or),T.WaitOperationRequest=(Kt.prototype.name="",Kt.prototype.timeout=null,Kt.fromObject=function(n){if(n instanceof p.google.longrunning.WaitOperationRequest)return n;var b=new p.google.longrunning.WaitOperationRequest;if(n.name!=null&&(b.name=String(n.name)),n.timeout!=null){if(typeof n.timeout!="object")throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");b.timeout=p.google.protobuf.Duration.fromObject(n.timeout)}return b},Kt.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.name="",_.timeout=null),n.name!=null&&n.hasOwnProperty("name")&&(_.name=n.name),n.timeout!=null&&n.hasOwnProperty("timeout")&&(_.timeout=p.google.protobuf.Duration.toObject(n.timeout,b)),_},Kt.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},Kt.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.longrunning.WaitOperationRequest"},Kt),T.OperationInfo=(gr.prototype.responseType="",gr.prototype.metadataType="",gr.fromObject=function(n){var b;return n instanceof p.google.longrunning.OperationInfo?n:(b=new p.google.longrunning.OperationInfo,n.responseType!=null&&(b.responseType=String(n.responseType)),n.metadataType!=null&&(b.metadataType=String(n.metadataType)),b)},gr.toObject=function(n,b){var _={};return(b=b||{}).defaults&&(_.responseType="",_.metadataType=""),n.responseType!=null&&n.hasOwnProperty("responseType")&&(_.responseType=n.responseType),n.metadataType!=null&&n.hasOwnProperty("metadataType")&&(_.metadataType=n.metadataType),_},gr.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},gr.getTypeUrl=function(n){return(n=n===void 0?"type.googleapis.com":n)+"/google.longrunning.OperationInfo"},gr),T),E),p})})(firestore_v1_proto_api)),firestore_v1_proto_api.exports}var hasRequiredBundle;function requireBundle(){if(hasRequiredBundle)return bundle;hasRequiredBundle=1,Object.defineProperty(bundle,"__esModule",{value:!0}),bundle.BundleBuilder=void 0;const c=requireDocument(),u=requireQuerySnapshot(),d=requireTimestamp(),y=requireValidate(),O=1;class T{constructor(g){ce(this,"bundleId");ce(this,"documents",new Map);ce(this,"namedQueries",new Map);ce(this,"latestReadTime",new d.Timestamp(0,0));this.bundleId=g}add(g,w){return(0,y.validateMinNumberOfArguments)("BundleBuilder.add",arguments,1),(0,y.validateMaxNumberOfArguments)("BundleBuilder.add",arguments,2),arguments.length===1?(E("documentOrName",g),this.addBundledDocument(g)):((0,y.validateString)("documentOrName",g),v("querySnapshot",w),this.addNamedQuery(g,w)),this}addBundledDocument(g,w){const R=this.documents.get(g.ref.path),C=R==null?void 0:R.metadata.queries;if(!R||d.Timestamp.fromProto(R.metadata.readTime)<g.readTime){const D=g.toDocumentProto();this.documents.set(g.ref.path,{document:g.exists?D:void 0,metadata:{name:D.name,readTime:g.readTime.toProto().timestampValue,exists:g.exists}})}const N=this.documents.get(g.ref.path);N.metadata.queries=C||[],w&&N.metadata.queries.push(w),g.readTime>this.latestReadTime&&(this.latestReadTime=g.readTime)}addNamedQuery(g,w){if(this.namedQueries.has(g))throw new Error(`Query name conflict: ${g} has already been added.`);this.namedQueries.set(g,{name:g,bundledQuery:w.query._toBundledQuery(),readTime:w.readTime.toProto().timestampValue});for(const R of w.docs)this.addBundledDocument(R,g);w.readTime>this.latestReadTime&&(this.latestReadTime=w.readTime)}elementToLengthPrefixedBuffer(g){const w=requireFirestore_v1_proto_api().firestore.BundleElement.fromObject(g).toJSON(),R=Buffer.from(JSON.stringify(w),"utf-8"),C=Buffer.from(R.length.toString());return Buffer.concat([C,R])}build(){let g=Buffer.alloc(0);for(const R of this.namedQueries.values())g=Buffer.concat([g,this.elementToLengthPrefixedBuffer({namedQuery:R})]);for(const R of this.documents.values()){const C=R.metadata;g=Buffer.concat([g,this.elementToLengthPrefixedBuffer({documentMetadata:C})]);const N=R.document;N&&(g=Buffer.concat([g,this.elementToLengthPrefixedBuffer({document:N})]))}const w={id:this.bundleId,createTime:this.latestReadTime.toProto().timestampValue,version:O,totalDocuments:this.documents.size,totalBytes:g.length};return g=Buffer.concat([this.elementToLengthPrefixedBuffer({metadata:w}),g]),g}}bundle.BundleBuilder=T;function E(p,g){if(!(g instanceof c.DocumentSnapshot))throw new Error((0,y.invalidArgumentMessage)(p,"DocumentSnapshot"))}function v(p,g){if(!(g instanceof u.QuerySnapshot))throw new Error((0,y.invalidArgumentMessage)(p,"QuerySnapshot"))}return bundle}var documentReader={},hasRequiredDocumentReader;function requireDocumentReader(){if(hasRequiredDocumentReader)return documentReader;hasRequiredDocumentReader=1;/*!
 * Copyright 2021 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(documentReader,"__esModule",{value:!0}),documentReader.DocumentReader=void 0;const c=requireDocument(),u=requireUtil(),d=requireLogger(),y=requireTimestamp();class O{constructor(E,v,p,g){ce(this,"firestore");ce(this,"allDocuments");ce(this,"fieldMask");ce(this,"transactionOrReadTime");ce(this,"outstandingDocuments",new Set);ce(this,"retrievedDocuments",new Map);ce(this,"retrievedTransactionId");this.firestore=E,this.allDocuments=v,this.fieldMask=p,this.transactionOrReadTime=g;for(const w of this.allDocuments)this.outstandingDocuments.add(w.formattedName)}async get(E){const{result:v}=await this._get(E);return v}async _get(E){await this.fetchDocuments(E);const v=[];for(const p of this.allDocuments){const g=this.retrievedDocuments.get(p.formattedName);if(g!==void 0){const w=new c.DocumentSnapshotBuilder(p);w.fieldsProto=g._fieldsProto,w.readTime=g.readTime,w.createTime=g.createTime,w.updateTime=g.updateTime,v.push(w.build())}else throw new Error(`Did not receive document for "${p.path}".`)}return{result:v,transaction:this.retrievedTransactionId}}async fetchDocuments(E){var g;if(!this.outstandingDocuments.size)return;const v={database:this.firestore.formattedName,documents:Array.from(this.outstandingDocuments)};if(this.transactionOrReadTime instanceof Uint8Array?v.transaction=this.transactionOrReadTime:this.transactionOrReadTime instanceof y.Timestamp?v.readTime=this.transactionOrReadTime.toProto().timestampValue:this.transactionOrReadTime&&(v.newTransaction=this.transactionOrReadTime),this.fieldMask){const w=this.fieldMask.map(R=>R.formattedName);v.mask={fieldPaths:w}}let p=0;try{const w=await this.firestore.requestStream("batchGetDocuments",!1,v,E);w.resume();for await(const R of w){(g=R.transaction)!=null&&g.length&&(this.retrievedTransactionId=R.transaction);let C;if(R.found?((0,d.logger)("DocumentReader.fetchDocuments",E,"Received document: %s",R.found.name),C=this.firestore.snapshot_(R.found,R.readTime)):R.missing&&((0,d.logger)("DocumentReader.fetchDocuments",E,"Document missing: %s",R.missing),C=this.firestore.snapshot_(R.missing,R.readTime)),C){const N=C.ref.formattedName;this.outstandingDocuments.delete(N),this.retrievedDocuments.set(N,C),++p}}}catch(w){const R=!v.transaction&&!v.newTransaction&&p>0&&w.code!==void 0&&!(0,u.isPermanentRpcError)(w,"batchGetDocuments");if((0,d.logger)("DocumentReader.fetchDocuments",E,"BatchGetDocuments failed with error: %s. Retrying: %s",w,R),R)return this.fetchDocuments(E);throw w}finally{(0,d.logger)("DocumentReader.fetchDocuments",E,"Received %d results",p)}}}return documentReader.DocumentReader=O,documentReader}var pool={},hasRequiredPool;function requirePool(){return hasRequiredPool||(hasRequiredPool=1,(function(c){/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(c,"__esModule",{value:!0}),c.ClientPool=c.CLIENT_TERMINATED_ERROR_MSG=void 0;const u=require$$0$d,d=requireLogger(),y=requireUtil();c.CLIENT_TERMINATED_ERROR_MSG="The client has already been terminated";class O{constructor(C,N,D,L=()=>Promise.resolve()){ce(this,"concurrentOperationLimit");ce(this,"maxIdleClients");ce(this,"clientFactory");ce(this,"clientDestructor");ce(this,"grpcEnabled",!1);ce(this,"activeClients",new Map);ce(this,"failedClients",new Set);ce(this,"clientIdByClient",new WeakMap);ce(this,"lazyLogStringForAllClientIds");ce(this,"terminated",!1);ce(this,"terminateDeferred",new y.Deferred);ce(this,"instanceId","cpl"+(0,y.requestTag)());this.concurrentOperationLimit=C,this.maxIdleClients=N,this.clientFactory=D,this.clientDestructor=L,this.lazyLogStringForAllClientIds=new T({activeClients:this.activeClients,failedClients:this.failedClients,clientIdByClient:this.clientIdByClient})}acquire(C,N){let D=null,L=-1;this.grpcEnabled=this.grpcEnabled||N,N=N||this.grpcEnabled;for(const[q,M]of this.activeClients)!this.failedClients.has(q)&&M.activeRequestCount>L&&M.activeRequestCount<this.concurrentOperationLimit&&(M.grpcEnabled||!N)&&(D=q,L=M.activeRequestCount);if(D){const q=this.clientIdByClient.get(D);(0,d.logger)(`ClientPool[${this.instanceId}].acquire`,C,"Re-using existing client [%s] with %s remaining operations",q,this.concurrentOperationLimit-L)}else{const q="cli"+(0,y.requestTag)();(0,d.logger)(`ClientPool[${this.instanceId}].acquire`,C,"Creating a new client [%s] (requiresGrpc: %s)",q,N),D=this.clientFactory(N),this.clientIdByClient.set(D,q),L=0,u(!this.activeClients.has(D),"The provided client factory returned an existing instance")}return this.activeClients.set(D,{grpcEnabled:N,activeRequestCount:L+1}),D}async release(C,N){const D=this.clientIdByClient.get(N),L=this.activeClients.get(N);u(L&&L.activeRequestCount>0,"No active requests"),this.activeClients.set(N,{grpcEnabled:L.grpcEnabled,activeRequestCount:L.activeRequestCount-1}),this.terminated&&this.opCount===0&&this.terminateDeferred.resolve();const q=this.shouldGarbageCollectClient(N);if((0,d.logger)(`ClientPool[${this.instanceId}].release`,C,"Releasing client [%s] (gc=%s)",D,q),!q.shouldGarbageCollectClient)return;(0,d.logger)(`ClientPool[${this.instanceId}].release`,C,"Garbage collecting client [%s] (%s)",D,this.lazyLogStringForAllClientIds);const M=this.activeClients.delete(N);this.failedClients.delete(N),await this.clientDestructor(N),(0,d.logger)(`ClientPool[${this.instanceId}].release`,C,"Garbage collected client [%s] activeClientDeleted=%s (%s)",D,M,this.lazyLogStringForAllClientIds)}shouldGarbageCollectClient(C){const N=this.activeClients.get(C);if(N.activeRequestCount!==0)return new v({shouldGarbageCollectClient:!1,clientActiveRequestCount:N.activeRequestCount});if(this.grpcEnabled!==N.grpcEnabled)return new p({shouldGarbageCollectClient:!0,clientActiveRequestCount:N.activeRequestCount,poolGrpcEnabled:this.grpcEnabled,clientGrpcEnabled:N.grpcEnabled});if(this.failedClients.has(C))return new g({shouldGarbageCollectClient:!0,clientActiveRequestCount:N.activeRequestCount});let D=0;for(const[,q]of this.activeClients)D+=this.concurrentOperationLimit-q.activeRequestCount;const L=this.maxIdleClients*this.concurrentOperationLimit;return new w({shouldGarbageCollectClient:D>L,clientActiveRequestCount:N.activeRequestCount,idleCapacityCount:D,maxIdleCapacityCount:L,maxIdleClients:this.maxIdleClients,concurrentOperationLimit:this.concurrentOperationLimit})}get size(){return this.activeClients.size}get opCount(){let C=0;return this.activeClients.forEach(N=>C+=N.activeRequestCount),C}get _activeClients(){return this.activeClients}run(C,N,D){if(this.terminated)return Promise.reject(new Error(c.CLIENT_TERMINATED_ERROR_MSG));const L=this.acquire(C,N);return D(L).catch(async q=>{var M;return(M=q.message)!=null&&M.match(/RST_STREAM/)&&this.failedClients.add(L),await this.release(C,L),Promise.reject(q)}).then(async q=>(await this.release(C,L),q))}async terminate(){this.terminated=!0,this.opCount>0&&((0,d.logger)(`ClientPool[${this.instanceId}].terminate`,null,"Waiting for %s pending operations to complete before terminating (%s)",this.opCount,this.lazyLogStringForAllClientIds),await this.terminateDeferred.promise),(0,d.logger)(`ClientPool[${this.instanceId}].terminate`,null,"Closing all active clients (%s)",this.lazyLogStringForAllClientIds);for(const[C]of this.activeClients)this.activeClients.delete(C),await this.clientDestructor(C)}}c.ClientPool=O;class T{constructor(C){ce(this,"activeClients");ce(this,"failedClients");ce(this,"clientIdByClient");this.activeClients=C.activeClients,this.failedClients=C.failedClients,this.clientIdByClient=C.clientIdByClient}toString(){const C=Array.from(this.activeClients.entries()).map(([D,L])=>`${this.clientIdByClient.get(D)}=${L.activeRequestCount}`).sort().join(", "),N=Array.from(this.failedClients).map(D=>`${this.clientIdByClient.get(D)}`).sort().join(", ");return`${this.activeClients.size} active clients: {`+C+`}, ${this.failedClients.size} failed clients: {`+N+"}"}}class E{toString(){const C=[];for(const N of Object.getOwnPropertyNames(this)){const D=this[N];C.push(`${N}=${D}`)}return"{"+C.join(", ")+"}"}}class v extends E{constructor(N){super();ce(this,"name","ClientHasActiveRequests");ce(this,"shouldGarbageCollectClient");ce(this,"clientActiveRequestCount");this.shouldGarbageCollectClient=N.shouldGarbageCollectClient,this.clientActiveRequestCount=N.clientActiveRequestCount}}class p extends E{constructor(N){super();ce(this,"name","PoolIsTransitioningToGrpc");ce(this,"shouldGarbageCollectClient");ce(this,"clientActiveRequestCount");ce(this,"poolGrpcEnabled");ce(this,"clientGrpcEnabled");this.shouldGarbageCollectClient=N.shouldGarbageCollectClient,this.clientActiveRequestCount=N.clientActiveRequestCount,this.poolGrpcEnabled=N.poolGrpcEnabled,this.clientGrpcEnabled=N.clientGrpcEnabled}}class g extends E{constructor(N){super();ce(this,"name","ClientIsFailed");ce(this,"shouldGarbageCollectClient");ce(this,"clientActiveRequestCount");this.shouldGarbageCollectClient=N.shouldGarbageCollectClient,this.clientActiveRequestCount=N.clientActiveRequestCount}}class w extends E{constructor(N){super();ce(this,"name","IdleCapacity");ce(this,"shouldGarbageCollectClient");ce(this,"clientActiveRequestCount");ce(this,"idleCapacityCount");ce(this,"maxIdleCapacityCount");ce(this,"maxIdleClients");ce(this,"concurrentOperationLimit");this.shouldGarbageCollectClient=N.shouldGarbageCollectClient,this.clientActiveRequestCount=N.clientActiveRequestCount,this.idleCapacityCount=N.idleCapacityCount,this.maxIdleCapacityCount=N.maxIdleCapacityCount,this.maxIdleClients=N.maxIdleClients,this.concurrentOperationLimit=N.concurrentOperationLimit}}})(pool)),pool}var transaction={},hasRequiredTransaction;function requireTransaction(){if(hasRequiredTransaction)return transaction;hasRequiredTransaction=1;/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(transaction,"__esModule",{value:!0}),transaction.Transaction=void 0,transaction.parseGetAllArguments=L;const c=requireBackoff(),u=requireSrc(),d=requireLogger(),y=requirePath(),O=requireAggregateQuery(),T=requireDocumentReference(),E=requireQuery(),v=requireHelpers$1(),p=requireUtil(),g=requireValidate(),w=requireDocumentReader(),R=requireTraceUtil();/*!
 * Error message for transactional reads that were executed after performing
 * writes.
 */const C="Firestore transactions require all reads to be executed before all writes.",N="Firestore read-only transactions cannot execute writes.";class D{constructor($,z,W){ce(this,"_firestore");ce(this,"_maxAttempts",u.DEFAULT_MAX_TRANSACTION_ATTEMPTS);ce(this,"_requestTag");ce(this,"_readOnlyReadTime");ce(this,"_writeBatch");ce(this,"_backoff");ce(this,"_transactionIdPromise");ce(this,"_prevTransactionId");this._firestore=$,this._requestTag=z,W!=null&&W.readOnly?(this._maxAttempts=1,this._readOnlyReadTime=W.readTime):(this._maxAttempts=(W==null?void 0:W.maxAttempts)||u.DEFAULT_MAX_TRANSACTION_ATTEMPTS,this._writeBatch=$.batch(),this._backoff=new c.ExponentialBackoff)}get($){if(this._writeBatch&&!this._writeBatch.isEmpty)throw new Error(C);if($ instanceof T.DocumentReference)return this._firestore._traceUtil.startActiveSpan(R.SPAN_NAME_TRANSACTION_GET_DOCUMENT,()=>this.withLazyStartedTransaction($,this.getSingleFn));if($ instanceof E.Query||$ instanceof O.AggregateQuery)return this._firestore._traceUtil.startActiveSpan($ instanceof E.Query?R.SPAN_NAME_TRANSACTION_GET_QUERY:R.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY,()=>this.withLazyStartedTransaction($,this.getQueryFn));throw new Error('Value for argument "refOrQuery" must be a DocumentReference, Query, or AggregateQuery.')}getAll(...$){if(this._writeBatch&&!this._writeBatch.isEmpty)throw new Error(C);return(0,g.validateMinNumberOfArguments)("Transaction.getAll",$,1),this.withLazyStartedTransaction(L($),this.getBatchFn)}create($,z){if(!this._writeBatch)throw new Error(N);return this._writeBatch.create($,z),this}set($,z,W){if(!this._writeBatch)throw new Error(N);return W?this._writeBatch.set($,z,W):this._writeBatch.set($,z),this}update($,z,...W){if(!this._writeBatch)throw new Error(N);return(0,g.validateMinNumberOfArguments)("Transaction.update",arguments,2),this._writeBatch.update($,z,...W),this}delete($,z){if(!this._writeBatch)throw new Error(N);return this._writeBatch.delete($,z),this}async commit(){var $;return this._firestore._traceUtil.startActiveSpan(R.SPAN_NAME_TRANSACTION_COMMIT,async()=>{if(!this._writeBatch)throw new Error(N);let z;if(this._transactionIdPromise)z=await this._transactionIdPromise;else if(this._writeBatch.isEmpty)return;await this._writeBatch._commit({transactionId:z,requestTag:this._requestTag}),this._transactionIdPromise=void 0,this._prevTransactionId=z},{[R.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!0,[R.ATTRIBUTE_KEY_DOC_COUNT]:($=this._writeBatch)==null?void 0:$._opCount})}async rollback(){return this._firestore._traceUtil.startActiveSpan(R.SPAN_NAME_TRANSACTION_ROLLBACK,async()=>{if(!this._transactionIdPromise||!this._writeBatch)return;let $;try{$=await this._transactionIdPromise}catch{this._transactionIdPromise=void 0;return}const z={database:this._firestore.formattedName,transaction:$};this._transactionIdPromise=void 0,this._prevTransactionId=$,this._firestore.request("rollback",z,this._requestTag).catch(W=>{(0,d.logger)("Firestore.runTransaction",this._requestTag,"Best effort to rollback failed with error:",W)})})}async runTransaction($){return this._firestore._traceUtil.startActiveSpan(R.SPAN_NAME_TRANSACTION_RUN,async z=>{if(!this._writeBatch)return this.runTransactionOnce($);let W;for(let J=0;J<this._maxAttempts;++J){z.setAttributes({[R.ATTRIBUTE_KEY_TRANSACTION_TYPE]:this._writeBatch?"READ_WRITE":"READ_ONLY",[R.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED]:this._maxAttempts,[R.ATTRIBUTE_KEY_ATTEMPTS_REMAINING]:this._maxAttempts-J-1});try{return W&&((0,d.logger)("Firestore.runTransaction",this._requestTag,"Retrying transaction after error:",W),z.addEvent("Initiate transaction retry")),this._writeBatch._reset(),await U(this._backoff,W),await this.runTransactionOnce($)}catch(Y){if(W=Y,!M(Y))break}}return(0,d.logger)("Firestore.runTransaction",this._requestTag,"Transaction not eligible for retry, returning error: %s",W),Promise.reject(W)})}async runTransactionOnce($){try{const z=$(this);if(!(z instanceof Promise))throw new Error("You must return a Promise in your transaction()-callback.");const W=await z;return this._writeBatch&&await this.commit(),W}catch(z){return(0,d.logger)("Firestore.runTransaction",this._requestTag,"Rolling back transaction after callback error:",z),await this.rollback(),Promise.reject(z)}}withLazyStartedTransaction($,z){if(this._transactionIdPromise)return this._transactionIdPromise.then(W=>z.call(this,$,W)).then(W=>W.result);if(this._readOnlyReadTime)return z.call(this,$,this._readOnlyReadTime).then(W=>W.result);{const W={};this._writeBatch?W.readWrite=this._prevTransactionId?{retryTransaction:this._prevTransactionId}:{}:W.readOnly={};const J=z.call(this,$,W);return this._transactionIdPromise=J.then(Y=>{if(!Y.transaction)throw new Error("Transaction ID was missing from server response");return Y.transaction}),J.then(Y=>Y.result)}}async getSingleFn($,z){const W=new w.DocumentReader(this._firestore,[$],void 0,z),{transaction:J,result:[Y]}=await W._get(this._requestTag);return{transaction:J,result:Y}}async getBatchFn({documents:$,fieldMask:z},W){return this._firestore._traceUtil.startActiveSpan(R.SPAN_NAME_TRANSACTION_GET_DOCUMENTS,async()=>new w.DocumentReader(this._firestore,$,z,W)._get(this._requestTag))}async getQueryFn($,z){return $._get(z)}}transaction.Transaction=D;function L(V){let $,z;if(Array.isArray(V[0]))throw new Error("getAll() no longer accepts an array as its first argument. Please unpack your array and call getAll() with individual arguments.");V.length>0&&(0,p.isPlainObject)(V[V.length-1])&&(z=V.pop()),$=V;for(let J=0;J<$.length;++J)(0,v.validateDocumentReference)(J,$[J]);return q("options",z,{optional:!0}),{fieldMask:z&&z.fieldMask?z.fieldMask.map(J=>y.FieldPath.fromArgument(J)):void 0,documents:$}}function q(V,$,z){if(!(0,g.validateOptional)($,z)){if(!(0,p.isObject)($))throw new Error(`${(0,g.invalidArgumentMessage)(V,"read option")} Input is not an object.'`);const W=$;if(W.fieldMask!==void 0){if(!Array.isArray(W.fieldMask))throw new Error(`${(0,g.invalidArgumentMessage)(V,"read option")} "fieldMask" is not an array.`);for(let J=0;J<W.fieldMask.length;++J)try{(0,y.validateFieldPath)(J,W.fieldMask[J])}catch(Y){throw new Error(`${(0,g.invalidArgumentMessage)(V,"read option")} "fieldMask" is not valid: ${Y.message}`)}}}}function M(V){if(V.code!==void 0)switch(V.code){case 10:case 409:case 1:case 2:case 4:case 13:case 14:case 16:case 8:return!0;case 3:return!!V.message.match(/transaction has expired/);default:return!1}return!1}async function U(V,$){(($==null?void 0:$.code)===8||($==null?void 0:$.code)===409)&&V.resetToMax(),await V.backoffAndWait()}return transaction}var collectionGroup={},queryPartition={},hasRequiredQueryPartition;function requireQueryPartition(){if(hasRequiredQueryPartition)return queryPartition;hasRequiredQueryPartition=1,Object.defineProperty(queryPartition,"__esModule",{value:!0}),queryPartition.QueryPartition=void 0;const c=requireFieldOrder(),u=requireQuery(),d=requireQueryOptions(),y=requirePath(),O=requireSerializer();class T{constructor(v,p,g,w,R){ce(this,"_firestore");ce(this,"_collectionId");ce(this,"_converter");ce(this,"_startAt");ce(this,"_endBefore");ce(this,"_serializer");ce(this,"_memoizedStartAt");ce(this,"_memoizedEndBefore");this._firestore=v,this._collectionId=p,this._converter=g,this._startAt=w,this._endBefore=R,this._serializer=new O.Serializer(v)}get startAt(){return this._startAt&&!this._memoizedStartAt&&(this._memoizedStartAt=this._startAt.map(v=>this._serializer.decodeValue(v))),this._memoizedStartAt}get endBefore(){return this._endBefore&&!this._memoizedEndBefore&&(this._memoizedEndBefore=this._endBefore.map(v=>this._serializer.decodeValue(v))),this._memoizedEndBefore}toQuery(){let v=d.QueryOptions.forCollectionGroupQuery(this._collectionId,this._converter);return v=v.with({fieldOrders:[new c.FieldOrder(y.FieldPath.documentId())]}),this._startAt!==void 0&&(v=v.with({startAt:{before:!0,values:this._startAt}})),this._endBefore!==void 0&&(v=v.with({endAt:{before:!0,values:this._endBefore}})),new u.Query(this._firestore,v)}}return queryPartition.QueryPartition=T,queryPartition}var hasRequiredCollectionGroup;function requireCollectionGroup(){if(hasRequiredCollectionGroup)return collectionGroup;hasRequiredCollectionGroup=1,Object.defineProperty(collectionGroup,"__esModule",{value:!0}),collectionGroup.CollectionGroup=void 0;const c=requireQueryPartition(),u=requireUtil(),d=requireLogger(),y=requireQuery(),O=requireQueryOptions(),T=requirePath(),E=requireValidate(),v=requireTypes$1(),p=requireOrder(),g=requireTraceUtil();class w extends y.Query{constructor(C,N,D){super(C,O.QueryOptions.forCollectionGroupQuery(N,D))}async*getPartitions(C){const N=[];await this._firestore._traceUtil.startActiveSpan(g.SPAN_NAME_PARTITION_QUERY,async()=>{(0,E.validateInteger)("desiredPartitionCount",C,{minValue:1});const D=(0,u.requestTag)();if(await this.firestore.initializeIfNeeded(D),C>1){const q=this.orderBy(T.FieldPath.documentId()).toProto();q.partitionCount=C-1;const M=await this.firestore.requestStream("partitionQueryStream",!1,q,D);M.resume();for await(const U of M)N.push(U.values??[])}(0,d.logger)("Firestore.getPartitions",D,"Received %d partitions",N.length),N.sort((L,q)=>(0,p.compareArrays)(L,q))});for(let D=0;D<N.length;++D)yield new c.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,D>0?N[D-1]:void 0,N[D]);yield new c.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,N.pop(),void 0)}withConverter(C){return new w(this.firestore,this._queryOptions.collectionId,C??(0,v.defaultConverter)())}}return collectionGroup.CollectionGroup=w,collectionGroup}var recursiveDelete={},hasRequiredRecursiveDelete;function requireRecursiveDelete(){return hasRequiredRecursiveDelete||(hasRequiredRecursiveDelete=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.RecursiveDelete=c.RECURSIVE_DELETE_MIN_PENDING_OPS=c.RECURSIVE_DELETE_MAX_PENDING_OPS=c.REFERENCE_NAME_MIN_ID=void 0;const u=require$$0$d,d=requireSrc(),y=requireUtil(),O=requireQueryOptions();/*!
 * Datastore allowed numeric IDs where Firestore only allows strings. Numeric
 * IDs are exposed to Firestore as __idNUM__, so this is the lowest possible
 * negative numeric value expressed in that format.
 *
 * This constant is used to specify startAt/endAt values when querying for all
 * descendants in a single collection.
 */c.REFERENCE_NAME_MIN_ID="__id-9223372036854775808__";/*!
 * The query limit used for recursive deletes when fetching all descendants of
 * the specified reference to delete. This is done to prevent the query stream
 * from streaming documents faster than Firestore can delete.
 */c.RECURSIVE_DELETE_MAX_PENDING_OPS=5e3;/*!
 * The number of pending BulkWriter operations at which RecursiveDelete
 * starts the next limit query to fetch descendants. By starting the query
 * while there are pending operations, Firestore can improve BulkWriter
 * throughput. This helps prevent BulkWriter from idling while Firestore
 * fetches the next query.
 */c.RECURSIVE_DELETE_MIN_PENDING_OPS=1e3;class T{constructor(v,p,g,w,R){ce(this,"firestore");ce(this,"writer");ce(this,"ref");ce(this,"maxLimit");ce(this,"minLimit");ce(this,"errorCount",0);ce(this,"lastError");ce(this,"documentsPending",!0);ce(this,"started",!1);ce(this,"maxPendingOps");ce(this,"minPendingOps");ce(this,"completionDeferred",new y.Deferred);ce(this,"streamInProgress",!1);ce(this,"lastDocumentSnap");ce(this,"pendingOpsCount",0);ce(this,"errorStack","");this.firestore=v,this.writer=p,this.ref=g,this.maxLimit=w,this.minLimit=R,this.maxPendingOps=w,this.minPendingOps=R}run(){return u(!this.started,"RecursiveDelete.run() should only be called once."),this.errorStack=Error().stack,this.writer._verifyNotClosed(),this.setupStream(),this.completionDeferred.promise}setupStream(){const v=this.getAllDescendants(this.ref instanceof d.CollectionReference?this.ref:this.ref);this.streamInProgress=!0;let p=0;v.on("error",g=>{g.code=14,g.stack="Failed to fetch children documents: "+g.stack,this.lastError=g,this.onQueryEnd()}).on("data",g=>{p++,this.lastDocumentSnap=g,this.deleteRef(g.ref)}).on("end",()=>{this.streamInProgress=!1,p<this.minPendingOps?this.onQueryEnd():this.pendingOpsCount===0&&this.setupStream()})}getAllDescendants(v){let p=v._resourcePath;v instanceof d.CollectionReference&&(p=p.popLast());const g=v instanceof d.CollectionReference?v.id:v.parent.id;let w=new d.Query(this.firestore,O.QueryOptions.forKindlessAllDescendants(p,g,!1));if(w=w.select(d.FieldPath.documentId()).limit(this.maxPendingOps),v instanceof d.CollectionReference){const C=g+"/"+c.REFERENCE_NAME_MIN_ID,N=g+"\0/"+c.REFERENCE_NAME_MIN_ID;w=w.where(d.FieldPath.documentId(),">=",C).where(d.FieldPath.documentId(),"<",N)}return this.lastDocumentSnap&&(w=w.startAfter(this.lastDocumentSnap)),w.stream()}onQueryEnd(){this.documentsPending=!1,this.ref instanceof d.DocumentReference&&this.writer.delete(this.ref).catch(v=>this.incrementErrorCount(v)),this.writer.flush().then(async()=>{if(this.lastError===void 0)this.completionDeferred.resolve();else{let v=new(requireFallback()).GoogleError(`${this.errorCount} ${this.errorCount!==1?"deletes":"delete"} failed. The last delete failed with: `);this.lastError.code!==void 0&&(v.code=this.lastError.code),v=(0,y.wrapError)(v,this.errorStack),this.completionDeferred.reject(this.lastError.stack?(0,y.wrapError)(v,this.lastError.stack??""):v)}})}deleteRef(v){this.pendingOpsCount++,this.writer.delete(v).catch(p=>{this.incrementErrorCount(p)}).then(()=>{this.pendingOpsCount--,this.documentsPending&&!this.streamInProgress&&this.pendingOpsCount<this.minPendingOps&&this.setupStream()})}incrementErrorCount(v){this.errorCount++,this.lastError=v}}c.RecursiveDelete=T})(recursiveDelete)),recursiveDelete}var disabledTraceUtil={},span={},hasRequiredSpan;function requireSpan(){if(hasRequiredSpan)return span;hasRequiredSpan=1,Object.defineProperty(span,"__esModule",{value:!0}),span.Span=void 0;class c{constructor(d){ce(this,"span");this.span=d}end(){var d;(d=this.span)==null||d.end()}addEvent(d,y){var O;return this.span=(O=this.span)==null?void 0:O.addEvent(d,y),this}setAttributes(d){var y;return this.span=(y=this.span)==null?void 0:y.setAttributes(d),this}}return span.Span=c,span}var hasRequiredDisabledTraceUtil;function requireDisabledTraceUtil(){if(hasRequiredDisabledTraceUtil)return disabledTraceUtil;hasRequiredDisabledTraceUtil=1,Object.defineProperty(disabledTraceUtil,"__esModule",{value:!0}),disabledTraceUtil.DisabledTraceUtil=void 0;const c=requireSpan();class u{startSpan(y){return new c.Span}startActiveSpan(y,O,T){const E=new c.Span;return O(E)}currentSpan(){return new c.Span}recordProjectId(y){}}return disabledTraceUtil.DisabledTraceUtil=u,disabledTraceUtil}var enabledTraceUtil={},_globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},VERSION="1.9.0",re=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function _makeCompatibilityCheck(c){var u=new Set([c]),d=new Set,y=c.match(re);if(!y)return function(){return!1};var O={major:+y[1],minor:+y[2],patch:+y[3],prerelease:y[4]};if(O.prerelease!=null)return function(p){return p===c};function T(v){return d.add(v),!1}function E(v){return u.add(v),!0}return function(p){if(u.has(p))return!0;if(d.has(p))return!1;var g=p.match(re);if(!g)return T(p);var w={major:+g[1],minor:+g[2],patch:+g[3],prerelease:g[4]};return w.prerelease!=null||O.major!==w.major?T(p):O.major===0?O.minor===w.minor&&O.patch<=w.patch?E(p):T(p):O.minor<=w.minor?E(p):T(p)}}var isCompatible=_makeCompatibilityCheck(VERSION),major=VERSION.split(".")[0],GLOBAL_OPENTELEMETRY_API_KEY=Symbol.for("opentelemetry.js.api."+major),_global=_globalThis;function registerGlobal(c,u,d,y){var O;y===void 0&&(y=!1);var T=_global[GLOBAL_OPENTELEMETRY_API_KEY]=(O=_global[GLOBAL_OPENTELEMETRY_API_KEY])!==null&&O!==void 0?O:{version:VERSION};if(!y&&T[c]){var E=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+c);return d.error(E.stack||E.message),!1}if(T.version!==VERSION){var E=new Error("@opentelemetry/api: Registration of version v"+T.version+" for "+c+" does not match previously registered API v"+VERSION);return d.error(E.stack||E.message),!1}return T[c]=u,d.debug("@opentelemetry/api: Registered a global for "+c+" v"+VERSION+"."),!0}function getGlobal(c){var u,d,y=(u=_global[GLOBAL_OPENTELEMETRY_API_KEY])===null||u===void 0?void 0:u.version;if(!(!y||!isCompatible(y)))return(d=_global[GLOBAL_OPENTELEMETRY_API_KEY])===null||d===void 0?void 0:d[c]}function unregisterGlobal(c,u){u.debug("@opentelemetry/api: Unregistering a global for "+c+" v"+VERSION+".");var d=_global[GLOBAL_OPENTELEMETRY_API_KEY];d&&delete d[c]}var __read$4=function(c,u){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var y=d.call(c),O,T=[],E;try{for(;(u===void 0||u-- >0)&&!(O=y.next()).done;)T.push(O.value)}catch(v){E={error:v}}finally{try{O&&!O.done&&(d=y.return)&&d.call(y)}finally{if(E)throw E.error}}return T},__spreadArray$3=function(c,u,d){if(d||arguments.length===2)for(var y=0,O=u.length,T;y<O;y++)(T||!(y in u))&&(T||(T=Array.prototype.slice.call(u,0,y)),T[y]=u[y]);return c.concat(T||Array.prototype.slice.call(u))},DiagComponentLogger=(function(){function c(u){this._namespace=u.namespace||"DiagComponentLogger"}return c.prototype.debug=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return logProxy("debug",this._namespace,u)},c.prototype.error=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return logProxy("error",this._namespace,u)},c.prototype.info=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return logProxy("info",this._namespace,u)},c.prototype.warn=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return logProxy("warn",this._namespace,u)},c.prototype.verbose=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return logProxy("verbose",this._namespace,u)},c})();function logProxy(c,u,d){var y=getGlobal("diag");if(y)return d.unshift(u),y[c].apply(y,__spreadArray$3([],__read$4(d),!1))}var DiagLogLevel;(function(c){c[c.NONE=0]="NONE",c[c.ERROR=30]="ERROR",c[c.WARN=50]="WARN",c[c.INFO=60]="INFO",c[c.DEBUG=70]="DEBUG",c[c.VERBOSE=80]="VERBOSE",c[c.ALL=9999]="ALL"})(DiagLogLevel||(DiagLogLevel={}));function createLogLevelDiagLogger(c,u){c<DiagLogLevel.NONE?c=DiagLogLevel.NONE:c>DiagLogLevel.ALL&&(c=DiagLogLevel.ALL),u=u||{};function d(y,O){var T=u[y];return typeof T=="function"&&c>=O?T.bind(u):function(){}}return{error:d("error",DiagLogLevel.ERROR),warn:d("warn",DiagLogLevel.WARN),info:d("info",DiagLogLevel.INFO),debug:d("debug",DiagLogLevel.DEBUG),verbose:d("verbose",DiagLogLevel.VERBOSE)}}var __read$3=function(c,u){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var y=d.call(c),O,T=[],E;try{for(;(u===void 0||u-- >0)&&!(O=y.next()).done;)T.push(O.value)}catch(v){E={error:v}}finally{try{O&&!O.done&&(d=y.return)&&d.call(y)}finally{if(E)throw E.error}}return T},__spreadArray$2=function(c,u,d){if(d||arguments.length===2)for(var y=0,O=u.length,T;y<O;y++)(T||!(y in u))&&(T||(T=Array.prototype.slice.call(u,0,y)),T[y]=u[y]);return c.concat(T||Array.prototype.slice.call(u))},API_NAME$4="diag",DiagAPI=(function(){function c(){function u(O){return function(){for(var T=[],E=0;E<arguments.length;E++)T[E]=arguments[E];var v=getGlobal("diag");if(v)return v[O].apply(v,__spreadArray$2([],__read$3(T),!1))}}var d=this,y=function(O,T){var E,v,p;if(T===void 0&&(T={logLevel:DiagLogLevel.INFO}),O===d){var g=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return d.error((E=g.stack)!==null&&E!==void 0?E:g.message),!1}typeof T=="number"&&(T={logLevel:T});var w=getGlobal("diag"),R=createLogLevelDiagLogger((v=T.logLevel)!==null&&v!==void 0?v:DiagLogLevel.INFO,O);if(w&&!T.suppressOverrideMessage){var C=(p=new Error().stack)!==null&&p!==void 0?p:"<failed to generate stacktrace>";w.warn("Current logger will be overwritten from "+C),R.warn("Current logger will overwrite one already registered from "+C)}return registerGlobal("diag",R,d,!0)};d.setLogger=y,d.disable=function(){unregisterGlobal(API_NAME$4,d)},d.createComponentLogger=function(O){return new DiagComponentLogger(O)},d.verbose=u("verbose"),d.debug=u("debug"),d.info=u("info"),d.warn=u("warn"),d.error=u("error")}return c.instance=function(){return this._instance||(this._instance=new c),this._instance},c})(),__read$2=function(c,u){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var y=d.call(c),O,T=[],E;try{for(;(u===void 0||u-- >0)&&!(O=y.next()).done;)T.push(O.value)}catch(v){E={error:v}}finally{try{O&&!O.done&&(d=y.return)&&d.call(y)}finally{if(E)throw E.error}}return T},__values=function(c){var u=typeof Symbol=="function"&&Symbol.iterator,d=u&&c[u],y=0;if(d)return d.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&y>=c.length&&(c=void 0),{value:c&&c[y++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},BaggageImpl=(function(){function c(u){this._entries=u?new Map(u):new Map}return c.prototype.getEntry=function(u){var d=this._entries.get(u);if(d)return Object.assign({},d)},c.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(u){var d=__read$2(u,2),y=d[0],O=d[1];return[y,O]})},c.prototype.setEntry=function(u,d){var y=new c(this._entries);return y._entries.set(u,d),y},c.prototype.removeEntry=function(u){var d=new c(this._entries);return d._entries.delete(u),d},c.prototype.removeEntries=function(){for(var u,d,y=[],O=0;O<arguments.length;O++)y[O]=arguments[O];var T=new c(this._entries);try{for(var E=__values(y),v=E.next();!v.done;v=E.next()){var p=v.value;T._entries.delete(p)}}catch(g){u={error:g}}finally{try{v&&!v.done&&(d=E.return)&&d.call(E)}finally{if(u)throw u.error}}return T},c.prototype.clear=function(){return new c},c})(),baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata"),diag$1=DiagAPI.instance();function createBaggage(c){return c===void 0&&(c={}),new BaggageImpl(new Map(Object.entries(c)))}function baggageEntryMetadataFromString(c){return typeof c!="string"&&(diag$1.error("Cannot create baggage metadata from unknown type: "+typeof c),c=""),{__TYPE__:baggageEntryMetadataSymbol,toString:function(){return c}}}function createContextKey(c){return Symbol.for(c)}var BaseContext=(function(){function c(u){var d=this;d._currentContext=u?new Map(u):new Map,d.getValue=function(y){return d._currentContext.get(y)},d.setValue=function(y,O){var T=new c(d._currentContext);return T._currentContext.set(y,O),T},d.deleteValue=function(y){var O=new c(d._currentContext);return O._currentContext.delete(y),O}}return c})(),ROOT_CONTEXT=new BaseContext,consoleMap=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],DiagConsoleLogger=(function(){function c(){function u(y){return function(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];if(console){var E=console[y];if(typeof E!="function"&&(E=console.log),typeof E=="function")return E.apply(console,O)}}}for(var d=0;d<consoleMap.length;d++)this[consoleMap[d].n]=u(consoleMap[d].c)}return c})(),__extends=(function(){var c=function(u,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,O){y.__proto__=O}||function(y,O){for(var T in O)Object.prototype.hasOwnProperty.call(O,T)&&(y[T]=O[T])},c(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(u,d);function y(){this.constructor=u}u.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}})(),NoopMeter=(function(){function c(){}return c.prototype.createGauge=function(u,d){return NOOP_GAUGE_METRIC},c.prototype.createHistogram=function(u,d){return NOOP_HISTOGRAM_METRIC},c.prototype.createCounter=function(u,d){return NOOP_COUNTER_METRIC},c.prototype.createUpDownCounter=function(u,d){return NOOP_UP_DOWN_COUNTER_METRIC},c.prototype.createObservableGauge=function(u,d){return NOOP_OBSERVABLE_GAUGE_METRIC},c.prototype.createObservableCounter=function(u,d){return NOOP_OBSERVABLE_COUNTER_METRIC},c.prototype.createObservableUpDownCounter=function(u,d){return NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC},c.prototype.addBatchObservableCallback=function(u,d){},c.prototype.removeBatchObservableCallback=function(u){},c})(),NoopMetric=(function(){function c(){}return c})(),NoopCounterMetric=(function(c){__extends(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.prototype.add=function(d,y){},u})(NoopMetric),NoopUpDownCounterMetric=(function(c){__extends(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.prototype.add=function(d,y){},u})(NoopMetric),NoopGaugeMetric=(function(c){__extends(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.prototype.record=function(d,y){},u})(NoopMetric),NoopHistogramMetric=(function(c){__extends(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.prototype.record=function(d,y){},u})(NoopMetric),NoopObservableMetric=(function(){function c(){}return c.prototype.addCallback=function(u){},c.prototype.removeCallback=function(u){},c})(),NoopObservableCounterMetric=(function(c){__extends(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u})(NoopObservableMetric),NoopObservableGaugeMetric=(function(c){__extends(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u})(NoopObservableMetric),NoopObservableUpDownCounterMetric=(function(c){__extends(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u})(NoopObservableMetric),NOOP_METER=new NoopMeter,NOOP_COUNTER_METRIC=new NoopCounterMetric,NOOP_GAUGE_METRIC=new NoopGaugeMetric,NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric,NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric,NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric,NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric,NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric;function createNoopMeter(){return NOOP_METER}var ValueType;(function(c){c[c.INT=0]="INT",c[c.DOUBLE=1]="DOUBLE"})(ValueType||(ValueType={}));var defaultTextMapGetter={get:function(c,u){if(c!=null)return c[u]},keys:function(c){return c==null?[]:Object.keys(c)}},defaultTextMapSetter={set:function(c,u,d){c!=null&&(c[u]=d)}},__read$1=function(c,u){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var y=d.call(c),O,T=[],E;try{for(;(u===void 0||u-- >0)&&!(O=y.next()).done;)T.push(O.value)}catch(v){E={error:v}}finally{try{O&&!O.done&&(d=y.return)&&d.call(y)}finally{if(E)throw E.error}}return T},__spreadArray$1=function(c,u,d){if(d||arguments.length===2)for(var y=0,O=u.length,T;y<O;y++)(T||!(y in u))&&(T||(T=Array.prototype.slice.call(u,0,y)),T[y]=u[y]);return c.concat(T||Array.prototype.slice.call(u))},NoopContextManager=(function(){function c(){}return c.prototype.active=function(){return ROOT_CONTEXT},c.prototype.with=function(u,d,y){for(var O=[],T=3;T<arguments.length;T++)O[T-3]=arguments[T];return d.call.apply(d,__spreadArray$1([y],__read$1(O),!1))},c.prototype.bind=function(u,d){return d},c.prototype.enable=function(){return this},c.prototype.disable=function(){return this},c})(),__read=function(c,u){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var y=d.call(c),O,T=[],E;try{for(;(u===void 0||u-- >0)&&!(O=y.next()).done;)T.push(O.value)}catch(v){E={error:v}}finally{try{O&&!O.done&&(d=y.return)&&d.call(y)}finally{if(E)throw E.error}}return T},__spreadArray=function(c,u,d){if(d||arguments.length===2)for(var y=0,O=u.length,T;y<O;y++)(T||!(y in u))&&(T||(T=Array.prototype.slice.call(u,0,y)),T[y]=u[y]);return c.concat(T||Array.prototype.slice.call(u))},API_NAME$3="context",NOOP_CONTEXT_MANAGER=new NoopContextManager,ContextAPI=(function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(u){return registerGlobal(API_NAME$3,u,DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(u,d,y){for(var O,T=[],E=3;E<arguments.length;E++)T[E-3]=arguments[E];return(O=this._getContextManager()).with.apply(O,__spreadArray([u,d,y],__read(T),!1))},c.prototype.bind=function(u,d){return this._getContextManager().bind(u,d)},c.prototype._getContextManager=function(){return getGlobal(API_NAME$3)||NOOP_CONTEXT_MANAGER},c.prototype.disable=function(){this._getContextManager().disable(),unregisterGlobal(API_NAME$3,DiagAPI.instance())},c})(),TraceFlags;(function(c){c[c.NONE=0]="NONE",c[c.SAMPLED=1]="SAMPLED"})(TraceFlags||(TraceFlags={}));var INVALID_SPANID="0000000000000000",INVALID_TRACEID="00000000000000000000000000000000",INVALID_SPAN_CONTEXT={traceId:INVALID_TRACEID,spanId:INVALID_SPANID,traceFlags:TraceFlags.NONE},NonRecordingSpan=(function(){function c(u){u===void 0&&(u=INVALID_SPAN_CONTEXT),this._spanContext=u}return c.prototype.spanContext=function(){return this._spanContext},c.prototype.setAttribute=function(u,d){return this},c.prototype.setAttributes=function(u){return this},c.prototype.addEvent=function(u,d){return this},c.prototype.addLink=function(u){return this},c.prototype.addLinks=function(u){return this},c.prototype.setStatus=function(u){return this},c.prototype.updateName=function(u){return this},c.prototype.end=function(u){},c.prototype.isRecording=function(){return!1},c.prototype.recordException=function(u,d){},c})(),SPAN_KEY=createContextKey("OpenTelemetry Context Key SPAN");function getSpan(c){return c.getValue(SPAN_KEY)||void 0}function getActiveSpan(){return getSpan(ContextAPI.getInstance().active())}function setSpan(c,u){return c.setValue(SPAN_KEY,u)}function deleteSpan(c){return c.deleteValue(SPAN_KEY)}function setSpanContext(c,u){return setSpan(c,new NonRecordingSpan(u))}function getSpanContext(c){var u;return(u=getSpan(c))===null||u===void 0?void 0:u.spanContext()}var VALID_TRACEID_REGEX=/^([0-9a-f]{32})$/i,VALID_SPANID_REGEX=/^[0-9a-f]{16}$/i;function isValidTraceId(c){return VALID_TRACEID_REGEX.test(c)&&c!==INVALID_TRACEID}function isValidSpanId(c){return VALID_SPANID_REGEX.test(c)&&c!==INVALID_SPANID}function isSpanContextValid(c){return isValidTraceId(c.traceId)&&isValidSpanId(c.spanId)}function wrapSpanContext(c){return new NonRecordingSpan(c)}var contextApi=ContextAPI.getInstance(),NoopTracer=(function(){function c(){}return c.prototype.startSpan=function(u,d,y){y===void 0&&(y=contextApi.active());var O=!!(d!=null&&d.root);if(O)return new NonRecordingSpan;var T=y&&getSpanContext(y);return isSpanContext(T)&&isSpanContextValid(T)?new NonRecordingSpan(T):new NonRecordingSpan},c.prototype.startActiveSpan=function(u,d,y,O){var T,E,v;if(!(arguments.length<2)){arguments.length===2?v=d:arguments.length===3?(T=d,v=y):(T=d,E=y,v=O);var p=E??contextApi.active(),g=this.startSpan(u,T,p),w=setSpan(p,g);return contextApi.with(w,v,void 0,g)}},c})();function isSpanContext(c){return typeof c=="object"&&typeof c.spanId=="string"&&typeof c.traceId=="string"&&typeof c.traceFlags=="number"}var NOOP_TRACER=new NoopTracer,ProxyTracer=(function(){function c(u,d,y,O){this._provider=u,this.name=d,this.version=y,this.options=O}return c.prototype.startSpan=function(u,d,y){return this._getTracer().startSpan(u,d,y)},c.prototype.startActiveSpan=function(u,d,y,O){var T=this._getTracer();return Reflect.apply(T.startActiveSpan,T,arguments)},c.prototype._getTracer=function(){if(this._delegate)return this._delegate;var u=this._provider.getDelegateTracer(this.name,this.version,this.options);return u?(this._delegate=u,this._delegate):NOOP_TRACER},c})(),NoopTracerProvider=(function(){function c(){}return c.prototype.getTracer=function(u,d,y){return new NoopTracer},c})(),NOOP_TRACER_PROVIDER=new NoopTracerProvider,ProxyTracerProvider=(function(){function c(){}return c.prototype.getTracer=function(u,d,y){var O;return(O=this.getDelegateTracer(u,d,y))!==null&&O!==void 0?O:new ProxyTracer(this,u,d,y)},c.prototype.getDelegate=function(){var u;return(u=this._delegate)!==null&&u!==void 0?u:NOOP_TRACER_PROVIDER},c.prototype.setDelegate=function(u){this._delegate=u},c.prototype.getDelegateTracer=function(u,d,y){var O;return(O=this._delegate)===null||O===void 0?void 0:O.getTracer(u,d,y)},c})(),SamplingDecision;(function(c){c[c.NOT_RECORD=0]="NOT_RECORD",c[c.RECORD=1]="RECORD",c[c.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(SamplingDecision||(SamplingDecision={}));var SpanKind;(function(c){c[c.INTERNAL=0]="INTERNAL",c[c.SERVER=1]="SERVER",c[c.CLIENT=2]="CLIENT",c[c.PRODUCER=3]="PRODUCER",c[c.CONSUMER=4]="CONSUMER"})(SpanKind||(SpanKind={}));var SpanStatusCode;(function(c){c[c.UNSET=0]="UNSET",c[c.OK=1]="OK",c[c.ERROR=2]="ERROR"})(SpanStatusCode||(SpanStatusCode={}));var VALID_KEY_CHAR_RANGE="[_0-9a-z-*/]",VALID_KEY="[a-z]"+VALID_KEY_CHAR_RANGE+"{0,255}",VALID_VENDOR_KEY="[a-z0-9]"+VALID_KEY_CHAR_RANGE+"{0,240}@[a-z]"+VALID_KEY_CHAR_RANGE+"{0,13}",VALID_KEY_REGEX=new RegExp("^(?:"+VALID_KEY+"|"+VALID_VENDOR_KEY+")$"),VALID_VALUE_BASE_REGEX=/^[ -~]{0,255}[!-~]$/,INVALID_VALUE_COMMA_EQUAL_REGEX=/,|=/;function validateKey(c){return VALID_KEY_REGEX.test(c)}function validateValue(c){return VALID_VALUE_BASE_REGEX.test(c)&&!INVALID_VALUE_COMMA_EQUAL_REGEX.test(c)}var MAX_TRACE_STATE_ITEMS=32,MAX_TRACE_STATE_LEN=512,LIST_MEMBERS_SEPARATOR=",",LIST_MEMBER_KEY_VALUE_SPLITTER="=",TraceStateImpl=(function(){function c(u){this._internalState=new Map,u&&this._parse(u)}return c.prototype.set=function(u,d){var y=this._clone();return y._internalState.has(u)&&y._internalState.delete(u),y._internalState.set(u,d),y},c.prototype.unset=function(u){var d=this._clone();return d._internalState.delete(u),d},c.prototype.get=function(u){return this._internalState.get(u)},c.prototype.serialize=function(){var u=this;return this._keys().reduce(function(d,y){return d.push(y+LIST_MEMBER_KEY_VALUE_SPLITTER+u.get(y)),d},[]).join(LIST_MEMBERS_SEPARATOR)},c.prototype._parse=function(u){u.length>MAX_TRACE_STATE_LEN||(this._internalState=u.split(LIST_MEMBERS_SEPARATOR).reverse().reduce(function(d,y){var O=y.trim(),T=O.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);if(T!==-1){var E=O.slice(0,T),v=O.slice(T+1,y.length);validateKey(E)&&validateValue(v)&&d.set(E,v)}return d},new Map),this._internalState.size>MAX_TRACE_STATE_ITEMS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,MAX_TRACE_STATE_ITEMS))))},c.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},c.prototype._clone=function(){var u=new c;return u._internalState=new Map(this._internalState),u},c})();function createTraceState(c){return new TraceStateImpl(c)}var context=ContextAPI.getInstance(),diag=DiagAPI.instance(),NoopMeterProvider=(function(){function c(){}return c.prototype.getMeter=function(u,d,y){return NOOP_METER},c})(),NOOP_METER_PROVIDER=new NoopMeterProvider,API_NAME$2="metrics",MetricsAPI=(function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalMeterProvider=function(u){return registerGlobal(API_NAME$2,u,DiagAPI.instance())},c.prototype.getMeterProvider=function(){return getGlobal(API_NAME$2)||NOOP_METER_PROVIDER},c.prototype.getMeter=function(u,d,y){return this.getMeterProvider().getMeter(u,d,y)},c.prototype.disable=function(){unregisterGlobal(API_NAME$2,DiagAPI.instance())},c})(),metrics=MetricsAPI.getInstance(),NoopTextMapPropagator=(function(){function c(){}return c.prototype.inject=function(u,d){},c.prototype.extract=function(u,d){return u},c.prototype.fields=function(){return[]},c})(),BAGGAGE_KEY=createContextKey("OpenTelemetry Baggage Key");function getBaggage(c){return c.getValue(BAGGAGE_KEY)||void 0}function getActiveBaggage(){return getBaggage(ContextAPI.getInstance().active())}function setBaggage(c,u){return c.setValue(BAGGAGE_KEY,u)}function deleteBaggage(c){return c.deleteValue(BAGGAGE_KEY)}var API_NAME$1="propagation",NOOP_TEXT_MAP_PROPAGATOR=new NoopTextMapPropagator,PropagationAPI=(function(){function c(){this.createBaggage=createBaggage,this.getBaggage=getBaggage,this.getActiveBaggage=getActiveBaggage,this.setBaggage=setBaggage,this.deleteBaggage=deleteBaggage}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalPropagator=function(u){return registerGlobal(API_NAME$1,u,DiagAPI.instance())},c.prototype.inject=function(u,d,y){return y===void 0&&(y=defaultTextMapSetter),this._getGlobalPropagator().inject(u,d,y)},c.prototype.extract=function(u,d,y){return y===void 0&&(y=defaultTextMapGetter),this._getGlobalPropagator().extract(u,d,y)},c.prototype.fields=function(){return this._getGlobalPropagator().fields()},c.prototype.disable=function(){unregisterGlobal(API_NAME$1,DiagAPI.instance())},c.prototype._getGlobalPropagator=function(){return getGlobal(API_NAME$1)||NOOP_TEXT_MAP_PROPAGATOR},c})(),propagation=PropagationAPI.getInstance(),API_NAME="trace",TraceAPI=(function(){function c(){this._proxyTracerProvider=new ProxyTracerProvider,this.wrapSpanContext=wrapSpanContext,this.isSpanContextValid=isSpanContextValid,this.deleteSpan=deleteSpan,this.getSpan=getSpan,this.getActiveSpan=getActiveSpan,this.getSpanContext=getSpanContext,this.setSpan=setSpan,this.setSpanContext=setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(u){var d=registerGlobal(API_NAME,this._proxyTracerProvider,DiagAPI.instance());return d&&this._proxyTracerProvider.setDelegate(u),d},c.prototype.getTracerProvider=function(){return getGlobal(API_NAME)||this._proxyTracerProvider},c.prototype.getTracer=function(u,d){return this.getTracerProvider().getTracer(u,d)},c.prototype.disable=function(){unregisterGlobal(API_NAME,DiagAPI.instance()),this._proxyTracerProvider=new ProxyTracerProvider},c})(),trace=TraceAPI.getInstance();const index$2={context,diag,metrics,propagation,trace},esm=Object.freeze(Object.defineProperty({__proto__:null,DiagConsoleLogger,get DiagLogLevel(){return DiagLogLevel},INVALID_SPANID,INVALID_SPAN_CONTEXT,INVALID_TRACEID,ProxyTracer,ProxyTracerProvider,ROOT_CONTEXT,get SamplingDecision(){return SamplingDecision},get SpanKind(){return SpanKind},get SpanStatusCode(){return SpanStatusCode},get TraceFlags(){return TraceFlags},get ValueType(){return ValueType},baggageEntryMetadataFromString,context,createContextKey,createNoopMeter,createTraceState,default:index$2,defaultTextMapGetter,defaultTextMapSetter,diag,isSpanContextValid,isValidSpanId,isValidTraceId,metrics,propagation,trace},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(esm);var v1={exports:{}},firestore_admin_client={};const options$2={syntax:"proto3"},nested$2=JSON.parse('{"google":{"nested":{"firestore":{"nested":{"admin":{"nested":{"v1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.Admin.V1","go_package":"cloud.google.com/go/firestore/apiv1/admin/adminpb;adminpb","java_multiple_files":true,"java_outer_classname":"LocationProto","java_package":"com.google.firestore.admin.v1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\Admin\\\\V1","ruby_package":"Google::Cloud::Firestore::Admin::V1","(google.api.resource_definition).type":"firestore.googleapis.com/CollectionGroup","(google.api.resource_definition).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}"},"nested":{"Backup":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Backup","(google.api.resource).pattern":"projects/{project}/locations/{location}/backups/{backup}"},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"database":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"databaseUid":{"type":"string","id":7,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"snapshotTime":{"type":"google.protobuf.Timestamp","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"expireTime":{"type":"google.protobuf.Timestamp","id":4,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"stats":{"type":"Stats","id":6,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"state":{"type":"State","id":8,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}},"nested":{"Stats":{"fields":{"sizeBytes":{"type":"int64","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"documentCount":{"type":"int64","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"indexCount":{"type":"int64","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}}},"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"READY":2,"NOT_AVAILABLE":3}}}},"Database":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Database","(google.api.resource).pattern":"projects/{project}/databases/{database}","(google.api.resource).style":"DECLARATIVE_FRIENDLY"},"fields":{"name":{"type":"string","id":1},"uid":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"createTime":{"type":"google.protobuf.Timestamp","id":5,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"updateTime":{"type":"google.protobuf.Timestamp","id":6,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"deleteTime":{"type":"google.protobuf.Timestamp","id":7,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"locationId":{"type":"string","id":9},"type":{"type":"DatabaseType","id":10},"concurrencyMode":{"type":"ConcurrencyMode","id":15},"versionRetentionPeriod":{"type":"google.protobuf.Duration","id":17,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"earliestVersionTime":{"type":"google.protobuf.Timestamp","id":18,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"pointInTimeRecoveryEnablement":{"type":"PointInTimeRecoveryEnablement","id":21},"appEngineIntegrationMode":{"type":"AppEngineIntegrationMode","id":19},"keyPrefix":{"type":"string","id":20,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"deleteProtectionState":{"type":"DeleteProtectionState","id":22},"cmekConfig":{"type":"CmekConfig","id":23,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"previousId":{"type":"string","id":25,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"sourceInfo":{"type":"SourceInfo","id":26,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"etag":{"type":"string","id":99}},"nested":{"DatabaseType":{"values":{"DATABASE_TYPE_UNSPECIFIED":0,"FIRESTORE_NATIVE":1,"DATASTORE_MODE":2}},"ConcurrencyMode":{"values":{"CONCURRENCY_MODE_UNSPECIFIED":0,"OPTIMISTIC":1,"PESSIMISTIC":2,"OPTIMISTIC_WITH_ENTITY_GROUPS":3}},"PointInTimeRecoveryEnablement":{"values":{"POINT_IN_TIME_RECOVERY_ENABLEMENT_UNSPECIFIED":0,"POINT_IN_TIME_RECOVERY_ENABLED":1,"POINT_IN_TIME_RECOVERY_DISABLED":2}},"AppEngineIntegrationMode":{"values":{"APP_ENGINE_INTEGRATION_MODE_UNSPECIFIED":0,"ENABLED":1,"DISABLED":2}},"DeleteProtectionState":{"values":{"DELETE_PROTECTION_STATE_UNSPECIFIED":0,"DELETE_PROTECTION_DISABLED":1,"DELETE_PROTECTION_ENABLED":2}},"CmekConfig":{"fields":{"kmsKeyName":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"activeKeyVersion":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}}},"SourceInfo":{"oneofs":{"source":{"oneof":["backup"]}},"fields":{"backup":{"type":"BackupSource","id":1},"operation":{"type":"string","id":3,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Operation"}}},"nested":{"BackupSource":{"fields":{"backup":{"type":"string","id":1,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}}}},"EncryptionConfig":{"oneofs":{"encryptionType":{"oneof":["googleDefaultEncryption","useSourceEncryption","customerManagedEncryption"]}},"fields":{"googleDefaultEncryption":{"type":"GoogleDefaultEncryptionOptions","id":1},"useSourceEncryption":{"type":"SourceEncryptionOptions","id":2},"customerManagedEncryption":{"type":"CustomerManagedEncryptionOptions","id":3}},"nested":{"GoogleDefaultEncryptionOptions":{"fields":{}},"SourceEncryptionOptions":{"fields":{}},"CustomerManagedEncryptionOptions":{"fields":{"kmsKeyName":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}}}}}}}},"Field":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Field","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"indexConfig":{"type":"IndexConfig","id":2},"ttlConfig":{"type":"TtlConfig","id":3}},"nested":{"IndexConfig":{"fields":{"indexes":{"rule":"repeated","type":"Index","id":1},"usesAncestorConfig":{"type":"bool","id":2},"ancestorField":{"type":"string","id":3},"reverting":{"type":"bool","id":4}}},"TtlConfig":{"fields":{"state":{"type":"State","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}},"nested":{"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"ACTIVE":2,"NEEDS_REPAIR":3}}}}}},"Index":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Index","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"},"fields":{"name":{"type":"string","id":1},"queryScope":{"type":"QueryScope","id":2},"apiScope":{"type":"ApiScope","id":5},"fields":{"rule":"repeated","type":"IndexField","id":3},"state":{"type":"State","id":4}},"nested":{"QueryScope":{"values":{"QUERY_SCOPE_UNSPECIFIED":0,"COLLECTION":1,"COLLECTION_GROUP":2,"COLLECTION_RECURSIVE":3}},"ApiScope":{"values":{"ANY_API":0,"DATASTORE_MODE_API":1}},"IndexField":{"oneofs":{"valueMode":{"oneof":["order","arrayConfig","vectorConfig"]}},"fields":{"fieldPath":{"type":"string","id":1},"order":{"type":"Order","id":2},"arrayConfig":{"type":"ArrayConfig","id":3},"vectorConfig":{"type":"VectorConfig","id":4}},"nested":{"Order":{"values":{"ORDER_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}},"ArrayConfig":{"values":{"ARRAY_CONFIG_UNSPECIFIED":0,"CONTAINS":1}},"VectorConfig":{"oneofs":{"type":{"oneof":["flat"]}},"fields":{"dimension":{"type":"int32","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"flat":{"type":"FlatIndex","id":2}},"nested":{"FlatIndex":{"fields":{}}}}}},"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"READY":2,"NEEDS_REPAIR":3}}}},"FirestoreAdmin":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"CreateIndex":{"requestType":"CreateIndexRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.http).body":"index","(google.api.method_signature)":"parent,index","(google.longrunning.operation_info).response_type":"Index","(google.longrunning.operation_info).metadata_type":"IndexOperationMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","body":"index"}},{"(google.api.method_signature)":"parent,index"},{"(google.longrunning.operation_info)":{"response_type":"Index","metadata_type":"IndexOperationMetadata"}}]},"ListIndexes":{"requestType":"ListIndexesRequest","responseType":"ListIndexesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes"}},{"(google.api.method_signature)":"parent"}]},"GetIndex":{"requestType":"GetIndexRequest","responseType":"Index","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},"DeleteIndex":{"requestType":"DeleteIndexRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},"GetField":{"requestType":"GetFieldRequest","responseType":"Field","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}"}},{"(google.api.method_signature)":"name"}]},"UpdateField":{"requestType":"UpdateFieldRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.http).body":"field","(google.api.method_signature)":"field","(google.longrunning.operation_info).response_type":"Field","(google.longrunning.operation_info).metadata_type":"FieldOperationMetadata"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","body":"field"}},{"(google.api.method_signature)":"field"},{"(google.longrunning.operation_info)":{"response_type":"Field","metadata_type":"FieldOperationMetadata"}}]},"ListFields":{"requestType":"ListFieldsRequest","responseType":"ListFieldsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields"}},{"(google.api.method_signature)":"parent"}]},"ExportDocuments":{"requestType":"ExportDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:exportDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"ExportDocumentsResponse","(google.longrunning.operation_info).metadata_type":"ExportDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:exportDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"ExportDocumentsResponse","metadata_type":"ExportDocumentsMetadata"}}]},"ImportDocuments":{"requestType":"ImportDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:importDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"google.protobuf.Empty","(google.longrunning.operation_info).metadata_type":"ImportDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:importDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"google.protobuf.Empty","metadata_type":"ImportDocumentsMetadata"}}]},"BulkDeleteDocuments":{"requestType":"BulkDeleteDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:bulkDeleteDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"BulkDeleteDocumentsResponse","(google.longrunning.operation_info).metadata_type":"BulkDeleteDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:bulkDeleteDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"BulkDeleteDocumentsResponse","metadata_type":"BulkDeleteDocumentsMetadata"}}]},"CreateDatabase":{"requestType":"CreateDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*}/databases","(google.api.http).body":"database","(google.api.method_signature)":"parent,database,database_id","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"CreateDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*}/databases","body":"database"}},{"(google.api.method_signature)":"parent,database,database_id"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"CreateDatabaseMetadata"}}]},"GetDatabase":{"requestType":"GetDatabaseRequest","responseType":"Database","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*}"}},{"(google.api.method_signature)":"name"}]},"ListDatabases":{"requestType":"ListDatabasesRequest","responseType":"ListDatabasesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*}/databases","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*}/databases"}},{"(google.api.method_signature)":"parent"}]},"UpdateDatabase":{"requestType":"UpdateDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).patch":"/v1/{database.name=projects/*/databases/*}","(google.api.http).body":"database","(google.api.method_signature)":"database,update_mask","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"UpdateDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{database.name=projects/*/databases/*}","body":"database"}},{"(google.api.method_signature)":"database,update_mask"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"UpdateDatabaseMetadata"}}]},"DeleteDatabase":{"requestType":"DeleteDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*}","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"DeleteDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*}"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"DeleteDatabaseMetadata"}}]},"GetBackup":{"requestType":"GetBackupRequest","responseType":"Backup","options":{"(google.api.http).get":"/v1/{name=projects/*/locations/*/backups/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/locations/*/backups/*}"}},{"(google.api.method_signature)":"name"}]},"ListBackups":{"requestType":"ListBackupsRequest","responseType":"ListBackupsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/locations/*}/backups","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/locations/*}/backups"}},{"(google.api.method_signature)":"parent"}]},"DeleteBackup":{"requestType":"DeleteBackupRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/locations/*/backups/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/locations/*/backups/*}"}},{"(google.api.method_signature)":"name"}]},"RestoreDatabase":{"requestType":"RestoreDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*}/databases:restore","(google.api.http).body":"*","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"RestoreDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*}/databases:restore","body":"*"}},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"RestoreDatabaseMetadata"}}]},"CreateBackupSchedule":{"requestType":"CreateBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*}/backupSchedules","(google.api.http).body":"backup_schedule","(google.api.method_signature)":"parent,backup_schedule"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*}/backupSchedules","body":"backup_schedule"}},{"(google.api.method_signature)":"parent,backup_schedule"}]},"GetBackupSchedule":{"requestType":"GetBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/backupSchedules/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/backupSchedules/*}"}},{"(google.api.method_signature)":"name"}]},"ListBackupSchedules":{"requestType":"ListBackupSchedulesRequest","responseType":"ListBackupSchedulesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*}/backupSchedules","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*}/backupSchedules"}},{"(google.api.method_signature)":"parent"}]},"UpdateBackupSchedule":{"requestType":"UpdateBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).patch":"/v1/{backup_schedule.name=projects/*/databases/*/backupSchedules/*}","(google.api.http).body":"backup_schedule","(google.api.method_signature)":"backup_schedule,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{backup_schedule.name=projects/*/databases/*/backupSchedules/*}","body":"backup_schedule"}},{"(google.api.method_signature)":"backup_schedule,update_mask"}]},"DeleteBackupSchedule":{"requestType":"DeleteBackupScheduleRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/backupSchedules/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/backupSchedules/*}"}},{"(google.api.method_signature)":"name"}]}}},"ListDatabasesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"showDeleted":{"type":"bool","id":4}}},"CreateDatabaseRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"database":{"type":"Database","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"databaseId":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"CreateDatabaseMetadata":{"fields":{}},"ListDatabasesResponse":{"fields":{"databases":{"rule":"repeated","type":"Database","id":1},"unreachable":{"rule":"repeated","type":"string","id":3}}},"GetDatabaseRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}}}},"UpdateDatabaseRequest":{"fields":{"database":{"type":"Database","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"UpdateDatabaseMetadata":{"fields":{}},"DeleteDatabaseRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"etag":{"type":"string","id":3}}},"DeleteDatabaseMetadata":{"fields":{}},"CreateBackupScheduleRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"backupSchedule":{"type":"BackupSchedule","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetBackupScheduleRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/BackupSchedule"}}}},"UpdateBackupScheduleRequest":{"fields":{"backupSchedule":{"type":"BackupSchedule","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"ListBackupSchedulesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}}}},"ListBackupSchedulesResponse":{"fields":{"backupSchedules":{"rule":"repeated","type":"BackupSchedule","id":1}}},"DeleteBackupScheduleRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/BackupSchedule"}}}},"CreateIndexRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"index":{"type":"Index","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"ListIndexesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListIndexesResponse":{"fields":{"indexes":{"rule":"repeated","type":"Index","id":1},"nextPageToken":{"type":"string","id":2}}},"GetIndexRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},"DeleteIndexRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},"UpdateFieldRequest":{"fields":{"field":{"type":"Field","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"GetFieldRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Field"}}}},"ListFieldsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListFieldsResponse":{"fields":{"fields":{"rule":"repeated","type":"Field","id":1},"nextPageToken":{"type":"string","id":2}}},"ExportDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2},"outputUriPrefix":{"type":"string","id":3},"namespaceIds":{"rule":"repeated","type":"string","id":4},"snapshotTime":{"type":"google.protobuf.Timestamp","id":5}}},"ImportDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2},"inputUriPrefix":{"type":"string","id":3},"namespaceIds":{"rule":"repeated","type":"string","id":4}}},"BulkDeleteDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"namespaceIds":{"rule":"repeated","type":"string","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"BulkDeleteDocumentsResponse":{"fields":{}},"GetBackupRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}},"ListBackupsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Location"}},"filter":{"type":"string","id":2}}},"ListBackupsResponse":{"fields":{"backups":{"rule":"repeated","type":"Backup","id":1},"unreachable":{"rule":"repeated","type":"string","id":3}}},"DeleteBackupRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}},"RestoreDatabaseRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"databaseId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"backup":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}},"encryptionConfig":{"type":"Database.EncryptionConfig","id":9,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"IndexOperationMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"index":{"type":"string","id":3},"state":{"type":"OperationState","id":4},"progressDocuments":{"type":"Progress","id":5},"progressBytes":{"type":"Progress","id":6}}},"FieldOperationMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"field":{"type":"string","id":3},"indexConfigDeltas":{"rule":"repeated","type":"IndexConfigDelta","id":4},"state":{"type":"OperationState","id":5},"progressDocuments":{"type":"Progress","id":6},"progressBytes":{"type":"Progress","id":7},"ttlConfigDelta":{"type":"TtlConfigDelta","id":8}},"nested":{"IndexConfigDelta":{"fields":{"changeType":{"type":"ChangeType","id":1},"index":{"type":"Index","id":2}},"nested":{"ChangeType":{"values":{"CHANGE_TYPE_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"TtlConfigDelta":{"fields":{"changeType":{"type":"ChangeType","id":1}},"nested":{"ChangeType":{"values":{"CHANGE_TYPE_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}}}},"ExportDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"outputUriPrefix":{"type":"string","id":7},"namespaceIds":{"rule":"repeated","type":"string","id":8},"snapshotTime":{"type":"google.protobuf.Timestamp","id":9}}},"ImportDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"inputUriPrefix":{"type":"string","id":7},"namespaceIds":{"rule":"repeated","type":"string","id":8}}},"BulkDeleteDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"namespaceIds":{"rule":"repeated","type":"string","id":7},"snapshotTime":{"type":"google.protobuf.Timestamp","id":8}}},"ExportDocumentsResponse":{"fields":{"outputUriPrefix":{"type":"string","id":1}}},"RestoreDatabaseMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"database":{"type":"string","id":4,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"backup":{"type":"string","id":5,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}},"progressPercentage":{"type":"Progress","id":8}}},"Progress":{"fields":{"estimatedWork":{"type":"int64","id":1},"completedWork":{"type":"int64","id":2}}},"OperationState":{"values":{"OPERATION_STATE_UNSPECIFIED":0,"INITIALIZING":1,"PROCESSING":2,"CANCELLING":3,"FINALIZING":4,"SUCCESSFUL":5,"FAILED":6,"CANCELLED":7}},"BackupSchedule":{"options":{"(google.api.resource).type":"firestore.googleapis.com/BackupSchedule","(google.api.resource).pattern":"projects/{project}/databases/{database}/backupSchedules/{backup_schedule}"},"oneofs":{"recurrence":{"oneof":["dailyRecurrence","weeklyRecurrence"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"createTime":{"type":"google.protobuf.Timestamp","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"updateTime":{"type":"google.protobuf.Timestamp","id":10,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"retention":{"type":"google.protobuf.Duration","id":6},"dailyRecurrence":{"type":"DailyRecurrence","id":7},"weeklyRecurrence":{"type":"WeeklyRecurrence","id":8}}},"DailyRecurrence":{"fields":{}},"WeeklyRecurrence":{"fields":{"day":{"type":"google.type.DayOfWeek","id":2}}},"LocationMetadata":{"fields":{}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api;api","java_multiple_files":true,"java_outer_classname":"LaunchStageProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}},"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2},"selectiveGapicGeneration":{"type":"SelectiveGapicGeneration","id":3}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1},"protobufPythonicTypesEnabled":{"type":"bool","id":2}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"SelectiveGapicGeneration":{"fields":{"methods":{"rule":"repeated","type":"string","id":1},"generateOmittedAsInternal":{"type":"bool","id":2}}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Empty":{"fields":{}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/latlng;latlng","java_multiple_files":true,"java_outer_classname":"LatLngProto","java_package":"com.google.type","objc_class_prefix":"GTP","cc_enable_arenas":true},"nested":{"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}},"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}}}},"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"cloud.google.com/go/longrunning/autogen/longrunningpb;longrunningpb","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","objc_class_prefix":"GLRUN","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}'),require$$0={options:options$2,nested:nested$2},interfaces$1={"google.firestore.admin.v1.FirestoreAdmin":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],deadline_exceeded_internal_unavailable:["DEADLINE_EXCEEDED","INTERNAL","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{CreateIndex:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ListIndexes:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},GetIndex:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},DeleteIndex:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},GetField:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},UpdateField:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ListFields:{timeout_millis:6e4,retry_codes_name:"deadline_exceeded_internal_unavailable",retry_params_name:"default"},ExportDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ImportDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},BulkDeleteDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateDatabase:{timeout_millis:12e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},GetDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListDatabases:{retry_codes_name:"non_idempotent",retry_params_name:"default"},UpdateDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteDatabase:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetBackup:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListBackups:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteBackup:{retry_codes_name:"non_idempotent",retry_params_name:"default"},RestoreDatabase:{timeout_millis:12e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},GetBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},ListBackupSchedules:{retry_codes_name:"non_idempotent",retry_params_name:"default"},UpdateBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteBackupSchedule:{retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$1$2={interfaces:interfaces$1},name="@google-cloud/firestore",version="8.0.0",require$$33={name,version};var hasRequiredFirestore_admin_client;function requireFirestore_admin_client(){if(hasRequiredFirestore_admin_client)return firestore_admin_client;hasRequiredFirestore_admin_client=1;var c={};Object.defineProperty(firestore_admin_client,"__esModule",{value:!0}),firestore_admin_client.FirestoreAdminClient=void 0;const u=require$$0,d=require$$1$2,y=require$$33.version;class O{constructor(E,v){ce(this,"_terminated",!1);ce(this,"_opts");ce(this,"_providedCustomServicePath");ce(this,"_gaxModule");ce(this,"_gaxGrpc");ce(this,"_protos");ce(this,"_defaults");ce(this,"_universeDomain");ce(this,"_servicePath");ce(this,"auth");ce(this,"descriptors",{page:{},stream:{},longrunning:{},batching:{}});ce(this,"warn");ce(this,"innerApiCalls");ce(this,"locationsClient");ce(this,"pathTemplates");ce(this,"operationsClient");ce(this,"firestoreAdminStub");const p=this.constructor;if(E!=null&&E.universe_domain&&(E!=null&&E.universeDomain)&&(E==null?void 0:E.universe_domain)!==(E==null?void 0:E.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const g=typeof process=="object"&&typeof c=="object"?c.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(E==null?void 0:E.universeDomain)??(E==null?void 0:E.universe_domain)??g??"googleapis.com",this._servicePath="firestore."+this._universeDomain;const w=(E==null?void 0:E.servicePath)||(E==null?void 0:E.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(E!=null&&E.servicePath||E!=null&&E.apiEndpoint);const R=(E==null?void 0:E.port)||p.port,C=(E==null?void 0:E.clientConfig)??{},N=(E==null?void 0:E.fallback)??(typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function");E=Object.assign({servicePath:w,port:R,clientConfig:C,fallback:N},E),E.numericEnums=!0,w!==this._servicePath&&!("scopes"in E)&&(E.scopes=p.scopes),v||(v=requireSrc$1()),this._gaxModule=E.fallback?v.fallback:v,this._gaxGrpc=new this._gaxModule.GrpcClient(E),this._opts=E,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,w===this._servicePath&&(this.auth.defaultScopes=p.scopes),this.locationsClient=new this._gaxModule.LocationsClient(this._gaxGrpc,E);const D=[`gax/${this._gaxModule.version}`,`gapic/${y}`];typeof process=="object"&&"versions"in process?D.push(`gl-node/${process.versions.node}`):D.push(`gl-web/${this._gaxModule.version}`),E.fallback?D.push(`rest/${this._gaxGrpc.grpcVersion}`):D.push(`grpc/${this._gaxGrpc.grpcVersion}`),E.libName&&E.libVersion&&D.push(`${E.libName}/${E.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(u),this.pathTemplates={backupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}/backups/{backup}"),backupSchedulePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/backupSchedules/{backup_schedule}"),collectionGroupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}"),databasePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}"),fieldPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"),indexPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"),locationPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}"),projectPathTemplate:new this._gaxModule.PathTemplate("projects/{project}")},this.descriptors.page={listIndexes:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","indexes"),listFields:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","fields")};const L=this._gaxModule.protobuf.Root.fromJSON(u),q={auth:this.auth,grpc:"grpc"in this._gaxGrpc?this._gaxGrpc.grpc:void 0};E.fallback&&(q.protoJson=L,q.httpRules=[{selector:"google.longrunning.Operations.CancelOperation",post:"/v1/{name=projects/*/databases/*/operations/*}:cancel",body:"*"},{selector:"google.longrunning.Operations.DeleteOperation",delete:"/v1/{name=projects/*/databases/*/operations/*}"},{selector:"google.longrunning.Operations.GetOperation",get:"/v1/{name=projects/*/databases/*/operations/*}"},{selector:"google.longrunning.Operations.ListOperations",get:"/v1/{name=projects/*/databases/*}/operations"}]),this.operationsClient=this._gaxModule.lro(q).operationsClient(E);const M=L.lookup(".google.firestore.admin.v1.Index"),U=L.lookup(".google.firestore.admin.v1.IndexOperationMetadata"),V=L.lookup(".google.firestore.admin.v1.Field"),$=L.lookup(".google.firestore.admin.v1.FieldOperationMetadata"),z=L.lookup(".google.firestore.admin.v1.ExportDocumentsResponse"),W=L.lookup(".google.firestore.admin.v1.ExportDocumentsMetadata"),J=L.lookup(".google.protobuf.Empty"),Y=L.lookup(".google.firestore.admin.v1.ImportDocumentsMetadata"),Q=L.lookup(".google.firestore.admin.v1.BulkDeleteDocumentsResponse"),H=L.lookup(".google.firestore.admin.v1.BulkDeleteDocumentsMetadata"),te=L.lookup(".google.firestore.admin.v1.Database"),ne=L.lookup(".google.firestore.admin.v1.CreateDatabaseMetadata"),oe=L.lookup(".google.firestore.admin.v1.Database"),ie=L.lookup(".google.firestore.admin.v1.UpdateDatabaseMetadata"),ee=L.lookup(".google.firestore.admin.v1.Database"),ue=L.lookup(".google.firestore.admin.v1.DeleteDatabaseMetadata"),fe=L.lookup(".google.firestore.admin.v1.Database"),de=L.lookup(".google.firestore.admin.v1.RestoreDatabaseMetadata");this.descriptors.longrunning={createIndex:new this._gaxModule.LongrunningDescriptor(this.operationsClient,M.decode.bind(M),U.decode.bind(U)),updateField:new this._gaxModule.LongrunningDescriptor(this.operationsClient,V.decode.bind(V),$.decode.bind($)),exportDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,z.decode.bind(z),W.decode.bind(W)),importDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,J.decode.bind(J),Y.decode.bind(Y)),bulkDeleteDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,Q.decode.bind(Q),H.decode.bind(H)),createDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,te.decode.bind(te),ne.decode.bind(ne)),updateDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,oe.decode.bind(oe),ie.decode.bind(ie)),deleteDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,ee.decode.bind(ee),ue.decode.bind(ue)),restoreDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,fe.decode.bind(fe),de.decode.bind(de))},this._defaults=this._gaxGrpc.constructSettings("google.firestore.admin.v1.FirestoreAdmin",d,E.clientConfig||{},{"x-goog-api-client":D.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreAdminStub)return this.firestoreAdminStub;this.firestoreAdminStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.admin.v1.FirestoreAdmin"):this._protos.google.firestore.admin.v1.FirestoreAdmin,this._opts,this._providedCustomServicePath);const E=["createIndex","listIndexes","getIndex","deleteIndex","getField","updateField","listFields","exportDocuments","importDocuments","bulkDeleteDocuments","createDatabase","getDatabase","listDatabases","updateDatabase","deleteDatabase","getBackup","listBackups","deleteBackup","restoreDatabase","createBackupSchedule","getBackupSchedule","listBackupSchedules","updateBackupSchedule","deleteBackupSchedule"];for(const v of E){const p=this.firestoreAdminStub.then(R=>(...C)=>this._terminated?Promise.reject("The client has already been closed."):R[v].apply(R,C),R=>()=>{throw R}),g=this.descriptors.page[v]||this.descriptors.longrunning[v]||void 0,w=this._gaxModule.createApiCall(p,this._defaults[v],g,this._opts.fallback);this.innerApiCalls[v]=w}return this.firestoreAdminStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(E){if(E){this.auth.getProjectId(E);return}return this.auth.getProjectId()}getIndex(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.getIndex(E,g,p)}deleteIndex(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.deleteIndex(E,g,p)}getField(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.getField(E,g,p)}getDatabase(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.getDatabase(E,g,p)}listDatabases(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.listDatabases(E,g,p)}getBackup(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.getBackup(E,g,p)}listBackups(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.listBackups(E,g,p)}deleteBackup(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.deleteBackup(E,g,p)}createBackupSchedule(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.createBackupSchedule(E,g,p)}getBackupSchedule(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.getBackupSchedule(E,g,p)}listBackupSchedules(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.listBackupSchedules(E,g,p)}updateBackupSchedule(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"backup_schedule.name":E.backupSchedule.name??""}),this.initialize(),this.innerApiCalls.updateBackupSchedule(E,g,p)}deleteBackupSchedule(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.deleteBackupSchedule(E,g,p)}createIndex(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.createIndex(E,g,p)}async checkCreateIndexProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.createIndex,this._gaxModule.createDefaultBackoffSettings())}updateField(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"field.name":E.field.name??""}),this.initialize(),this.innerApiCalls.updateField(E,g,p)}async checkUpdateFieldProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.updateField,this._gaxModule.createDefaultBackoffSettings())}exportDocuments(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.exportDocuments(E,g,p)}async checkExportDocumentsProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.exportDocuments,this._gaxModule.createDefaultBackoffSettings())}importDocuments(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.importDocuments(E,g,p)}async checkImportDocumentsProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.importDocuments,this._gaxModule.createDefaultBackoffSettings())}bulkDeleteDocuments(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.bulkDeleteDocuments(E,g,p)}async checkBulkDeleteDocumentsProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.bulkDeleteDocuments,this._gaxModule.createDefaultBackoffSettings())}createDatabase(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.createDatabase(E,g,p)}async checkCreateDatabaseProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.createDatabase,this._gaxModule.createDefaultBackoffSettings())}updateDatabase(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"database.name":E.database.name??""}),this.initialize(),this.innerApiCalls.updateDatabase(E,g,p)}async checkUpdateDatabaseProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.updateDatabase,this._gaxModule.createDefaultBackoffSettings())}deleteDatabase(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.initialize(),this.innerApiCalls.deleteDatabase(E,g,p)}async checkDeleteDatabaseProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.deleteDatabase,this._gaxModule.createDefaultBackoffSettings())}restoreDatabase(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.restoreDatabase(E,g,p)}async checkRestoreDatabaseProgress(E){const v=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:E}),[p]=await this.operationsClient.getOperation(v);return new this._gaxModule.Operation(p,this.descriptors.longrunning.restoreDatabase,this._gaxModule.createDefaultBackoffSettings())}listIndexes(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.listIndexes(E,g,p)}listIndexesStream(E,v){E=E||{},v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""});const g=this._defaults.listIndexes.merge(v);return this.initialize(),this.descriptors.page.listIndexes.createStream(this.innerApiCalls.listIndexes,E,g)}listIndexesAsync(E,v){E=E||{},v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""});const g=this._defaults.listIndexes.merge(v);return this.initialize(),this.descriptors.page.listIndexes.asyncIterate(this.innerApiCalls.listIndexes,E,g)}listFields(E,v,p){E=E||{};let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""}),this.initialize(),this.innerApiCalls.listFields(E,g,p)}listFieldsStream(E,v){E=E||{},v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""});const g=this._defaults.listFields.merge(v);return this.initialize(),this.descriptors.page.listFields.createStream(this.innerApiCalls.listFields,E,g)}listFieldsAsync(E,v){E=E||{},v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:E.parent??""});const g=this._defaults.listFields.merge(v);return this.initialize(),this.descriptors.page.listFields.asyncIterate(this.innerApiCalls.listFields,E,g)}getLocation(E,v,p){return this.locationsClient.getLocation(E,v,p)}listLocationsAsync(E,v){return this.locationsClient.listLocationsAsync(E,v)}getOperation(E,v,p){let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.operationsClient.getOperation(E,g,p)}listOperationsAsync(E,v){return v=v||{},v.otherArgs=v.otherArgs||{},v.otherArgs.headers=v.otherArgs.headers||{},v.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.operationsClient.listOperationsAsync(E,v)}cancelOperation(E,v,p){let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.operationsClient.cancelOperation(E,g,p)}deleteOperation(E,v,p){let g;return typeof v=="function"&&p===void 0?(p=v,g={}):g=v,g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:E.name??""}),this.operationsClient.deleteOperation(E,g,p)}backupPath(E,v,p){return this.pathTemplates.backupPathTemplate.render({project:E,location:v,backup:p})}matchProjectFromBackupName(E){return this.pathTemplates.backupPathTemplate.match(E).project}matchLocationFromBackupName(E){return this.pathTemplates.backupPathTemplate.match(E).location}matchBackupFromBackupName(E){return this.pathTemplates.backupPathTemplate.match(E).backup}backupSchedulePath(E,v,p){return this.pathTemplates.backupSchedulePathTemplate.render({project:E,database:v,backup_schedule:p})}matchProjectFromBackupScheduleName(E){return this.pathTemplates.backupSchedulePathTemplate.match(E).project}matchDatabaseFromBackupScheduleName(E){return this.pathTemplates.backupSchedulePathTemplate.match(E).database}matchBackupScheduleFromBackupScheduleName(E){return this.pathTemplates.backupSchedulePathTemplate.match(E).backup_schedule}collectionGroupPath(E,v,p){return this.pathTemplates.collectionGroupPathTemplate.render({project:E,database:v,collection:p})}matchProjectFromCollectionGroupName(E){return this.pathTemplates.collectionGroupPathTemplate.match(E).project}matchDatabaseFromCollectionGroupName(E){return this.pathTemplates.collectionGroupPathTemplate.match(E).database}matchCollectionFromCollectionGroupName(E){return this.pathTemplates.collectionGroupPathTemplate.match(E).collection}databasePath(E,v){return this.pathTemplates.databasePathTemplate.render({project:E,database:v})}matchProjectFromDatabaseName(E){return this.pathTemplates.databasePathTemplate.match(E).project}matchDatabaseFromDatabaseName(E){return this.pathTemplates.databasePathTemplate.match(E).database}fieldPath(E,v,p,g){return this.pathTemplates.fieldPathTemplate.render({project:E,database:v,collection:p,field:g})}matchProjectFromFieldName(E){return this.pathTemplates.fieldPathTemplate.match(E).project}matchDatabaseFromFieldName(E){return this.pathTemplates.fieldPathTemplate.match(E).database}matchCollectionFromFieldName(E){return this.pathTemplates.fieldPathTemplate.match(E).collection}matchFieldFromFieldName(E){return this.pathTemplates.fieldPathTemplate.match(E).field}indexPath(E,v,p,g){return this.pathTemplates.indexPathTemplate.render({project:E,database:v,collection:p,index:g})}matchProjectFromIndexName(E){return this.pathTemplates.indexPathTemplate.match(E).project}matchDatabaseFromIndexName(E){return this.pathTemplates.indexPathTemplate.match(E).database}matchCollectionFromIndexName(E){return this.pathTemplates.indexPathTemplate.match(E).collection}matchIndexFromIndexName(E){return this.pathTemplates.indexPathTemplate.match(E).index}locationPath(E,v){return this.pathTemplates.locationPathTemplate.render({project:E,location:v})}matchProjectFromLocationName(E){return this.pathTemplates.locationPathTemplate.match(E).project}matchLocationFromLocationName(E){return this.pathTemplates.locationPathTemplate.match(E).location}projectPath(E){return this.pathTemplates.projectPathTemplate.render({project:E})}matchProjectFromProjectName(E){return this.pathTemplates.projectPathTemplate.match(E).project}close(){return this.firestoreAdminStub&&!this._terminated?this.firestoreAdminStub.then(async E=>{this._terminated=!0,E.close(),await this.locationsClient.close(),this.operationsClient.close()}):Promise.resolve()}}return firestore_admin_client.FirestoreAdminClient=O,firestore_admin_client}var firestore_client$1={};const options$1={syntax:"proto3"},nested$1=JSON.parse('{"google":{"nested":{"firestore":{"nested":{"v1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.V1","go_package":"cloud.google.com/go/firestore/apiv1/firestorepb;firestorepb","java_multiple_files":true,"java_outer_classname":"WriteProto","java_package":"com.google.firestore.v1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\V1","ruby_package":"Google::Cloud::Firestore::V1"},"nested":{"AggregationResult":{"fields":{"aggregateFields":{"keyType":"string","type":"Value","id":2}}},"Document":{"fields":{"name":{"type":"string","id":1},"fields":{"keyType":"string","type":"Value","id":2},"createTime":{"type":"google.protobuf.Timestamp","id":3},"updateTime":{"type":"google.protobuf.Timestamp","id":4}}},"Value":{"oneofs":{"valueType":{"oneof":["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},"fields":{"nullValue":{"type":"google.protobuf.NullValue","id":11},"booleanValue":{"type":"bool","id":1},"integerValue":{"type":"int64","id":2},"doubleValue":{"type":"double","id":3},"timestampValue":{"type":"google.protobuf.Timestamp","id":10},"stringValue":{"type":"string","id":17},"bytesValue":{"type":"bytes","id":18},"referenceValue":{"type":"string","id":5},"geoPointValue":{"type":"google.type.LatLng","id":8},"arrayValue":{"type":"ArrayValue","id":9},"mapValue":{"type":"MapValue","id":6}}},"ArrayValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"MapValue":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"BitSequence":{"fields":{"bitmap":{"type":"bytes","id":1},"padding":{"type":"int32","id":2}}},"BloomFilter":{"fields":{"bits":{"type":"BitSequence","id":1},"hashCount":{"type":"int32","id":2}}},"DocumentMask":{"fields":{"fieldPaths":{"rule":"repeated","type":"string","id":1}}},"Precondition":{"oneofs":{"conditionType":{"oneof":["exists","updateTime"]}},"fields":{"exists":{"type":"bool","id":1},"updateTime":{"type":"google.protobuf.Timestamp","id":2}}},"TransactionOptions":{"oneofs":{"mode":{"oneof":["readOnly","readWrite"]}},"fields":{"readOnly":{"type":"ReadOnly","id":2},"readWrite":{"type":"ReadWrite","id":3}},"nested":{"ReadWrite":{"fields":{"retryTransaction":{"type":"bytes","id":1}}},"ReadOnly":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"readTime":{"type":"google.protobuf.Timestamp","id":2}}}}},"Firestore":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"GetDocument":{"requestType":"GetDocumentRequest","responseType":"Document","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},"ListDocuments":{"requestType":"ListDocumentsRequest","responseType":"ListDocumentsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}","(google.api.http).additional_bindings.get":"/v1/{parent=projects/*/databases/*/documents}/{collection_id}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}","additional_bindings":{"get":"/v1/{parent=projects/*/databases/*/documents}/{collection_id}"}}}]},"UpdateDocument":{"requestType":"UpdateDocumentRequest","responseType":"Document","options":{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","body":"document"}},{"(google.api.method_signature)":"document,update_mask"}]},"DeleteDocument":{"requestType":"DeleteDocumentRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},"BatchGetDocuments":{"requestType":"BatchGetDocumentsRequest","responseType":"BatchGetDocumentsResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:batchGet","body":"*"}}]},"BeginTransaction":{"requestType":"BeginTransactionRequest","responseType":"BeginTransactionResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","body":"*"}},{"(google.api.method_signature)":"database"}]},"Commit":{"requestType":"CommitRequest","responseType":"CommitResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:commit","body":"*"}},{"(google.api.method_signature)":"database,writes"}]},"Rollback":{"requestType":"RollbackRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:rollback","body":"*"}},{"(google.api.method_signature)":"database,transaction"}]},"RunQuery":{"requestType":"RunQueryRequest","responseType":"RunQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","body":"*"}}}]},"RunAggregationQuery":{"requestType":"RunAggregationQueryRequest","responseType":"RunAggregationQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","body":"*"}}}]},"PartitionQuery":{"requestType":"PartitionQueryRequest","responseType":"PartitionQueryResponse","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","body":"*"}}}]},"Write":{"requestType":"WriteRequest","requestStream":true,"responseType":"WriteResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:write","body":"*"}}]},"Listen":{"requestType":"ListenRequest","requestStream":true,"responseType":"ListenResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:listen","body":"*"}}]},"ListCollectionIds":{"requestType":"ListCollectionIdsRequest","responseType":"ListCollectionIdsResponse","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","body":"*"}}},{"(google.api.method_signature)":"parent"}]},"BatchWrite":{"requestType":"BatchWriteRequest","responseType":"BatchWriteResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","body":"*"}}]},"CreateDocument":{"requestType":"CreateDocumentRequest","responseType":"Document","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","body":"document"}}]}}},"GetDocumentRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":5}}},"ListDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"pageSize":{"type":"int32","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"pageToken":{"type":"string","id":4,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"orderBy":{"type":"string","id":6,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"mask":{"type":"DocumentMask","id":7,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"transaction":{"type":"bytes","id":8},"readTime":{"type":"google.protobuf.Timestamp","id":10},"showMissing":{"type":"bool","id":12}}},"ListDocumentsResponse":{"fields":{"documents":{"rule":"repeated","type":"Document","id":1},"nextPageToken":{"type":"string","id":2}}},"CreateDocumentRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documentId":{"type":"string","id":3},"document":{"type":"Document","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":5}}},"UpdateDocumentRequest":{"fields":{"document":{"type":"Document","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"DocumentMask","id":2},"mask":{"type":"DocumentMask","id":3},"currentDocument":{"type":"Precondition","id":4}}},"DeleteDocumentRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"currentDocument":{"type":"Precondition","id":2}}},"BatchGetDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documents":{"rule":"repeated","type":"string","id":2},"mask":{"type":"DocumentMask","id":3},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"BatchGetDocumentsResponse":{"oneofs":{"result":{"oneof":["found","missing"]}},"fields":{"found":{"type":"Document","id":1},"missing":{"type":"string","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"BeginTransactionRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"options":{"type":"TransactionOptions","id":2}}},"BeginTransactionResponse":{"fields":{"transaction":{"type":"bytes","id":1}}},"CommitRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"transaction":{"type":"bytes","id":3}}},"CommitResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"commitTime":{"type":"google.protobuf.Timestamp","id":2}}},"RollbackRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"transaction":{"type":"bytes","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"RunQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"transaction":{"type":"bytes","id":5},"newTransaction":{"type":"TransactionOptions","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":7},"explainOptions":{"type":"ExplainOptions","id":10,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"RunQueryResponse":{"oneofs":{"continuationSelector":{"oneof":["done"]}},"fields":{"transaction":{"type":"bytes","id":2},"document":{"type":"Document","id":1},"readTime":{"type":"google.protobuf.Timestamp","id":3},"skippedResults":{"type":"int32","id":4},"done":{"type":"bool","id":6},"explainMetrics":{"type":"ExplainMetrics","id":11}}},"RunAggregationQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredAggregationQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredAggregationQuery":{"type":"StructuredAggregationQuery","id":2},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":6},"explainOptions":{"type":"ExplainOptions","id":8,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"RunAggregationQueryResponse":{"fields":{"result":{"type":"AggregationResult","id":1},"transaction":{"type":"bytes","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":3},"explainMetrics":{"type":"ExplainMetrics","id":10}}},"PartitionQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"partitionCount":{"type":"int64","id":3},"pageToken":{"type":"string","id":4},"pageSize":{"type":"int32","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":6}}},"PartitionQueryResponse":{"fields":{"partitions":{"rule":"repeated","type":"Cursor","id":1},"nextPageToken":{"type":"string","id":2}}},"WriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"streamId":{"type":"string","id":2},"writes":{"rule":"repeated","type":"Write","id":3},"streamToken":{"type":"bytes","id":4},"labels":{"keyType":"string","type":"string","id":5}}},"WriteResponse":{"fields":{"streamId":{"type":"string","id":1},"streamToken":{"type":"bytes","id":2},"writeResults":{"rule":"repeated","type":"WriteResult","id":3},"commitTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListenRequest":{"oneofs":{"targetChange":{"oneof":["addTarget","removeTarget"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"addTarget":{"type":"Target","id":2},"removeTarget":{"type":"int32","id":3},"labels":{"keyType":"string","type":"string","id":4}}},"ListenResponse":{"oneofs":{"responseType":{"oneof":["targetChange","documentChange","documentDelete","documentRemove","filter"]}},"fields":{"targetChange":{"type":"TargetChange","id":2},"documentChange":{"type":"DocumentChange","id":3},"documentDelete":{"type":"DocumentDelete","id":4},"documentRemove":{"type":"DocumentRemove","id":6},"filter":{"type":"ExistenceFilter","id":5}}},"Target":{"oneofs":{"targetType":{"oneof":["query","documents"]},"resumeType":{"oneof":["resumeToken","readTime"]}},"fields":{"query":{"type":"QueryTarget","id":2},"documents":{"type":"DocumentsTarget","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":11},"targetId":{"type":"int32","id":5},"once":{"type":"bool","id":6},"expectedCount":{"type":"google.protobuf.Int32Value","id":12}},"nested":{"DocumentsTarget":{"fields":{"documents":{"rule":"repeated","type":"string","id":2}}},"QueryTarget":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1},"structuredQuery":{"type":"StructuredQuery","id":2}}}}},"TargetChange":{"fields":{"targetChangeType":{"type":"TargetChangeType","id":1},"targetIds":{"rule":"repeated","type":"int32","id":2},"cause":{"type":"google.rpc.Status","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"TargetChangeType":{"values":{"NO_CHANGE":0,"ADD":1,"REMOVE":2,"CURRENT":3,"RESET":4}}}},"ListCollectionIdsRequest":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListCollectionIdsResponse":{"fields":{"collectionIds":{"rule":"repeated","type":"string","id":1},"nextPageToken":{"type":"string","id":2}}},"BatchWriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"labels":{"keyType":"string","type":"string","id":3}}},"BatchWriteResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"status":{"rule":"repeated","type":"google.rpc.Status","id":2}}},"StructuredQuery":{"fields":{"select":{"type":"Projection","id":1},"from":{"rule":"repeated","type":"CollectionSelector","id":2},"where":{"type":"Filter","id":3},"orderBy":{"rule":"repeated","type":"Order","id":4},"startAt":{"type":"Cursor","id":7},"endAt":{"type":"Cursor","id":8},"offset":{"type":"int32","id":6},"limit":{"type":"google.protobuf.Int32Value","id":5},"findNearest":{"type":"FindNearest","id":9,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"CollectionSelector":{"fields":{"collectionId":{"type":"string","id":2},"allDescendants":{"type":"bool","id":3}}},"Filter":{"oneofs":{"filterType":{"oneof":["compositeFilter","fieldFilter","unaryFilter"]}},"fields":{"compositeFilter":{"type":"CompositeFilter","id":1},"fieldFilter":{"type":"FieldFilter","id":2},"unaryFilter":{"type":"UnaryFilter","id":3}}},"CompositeFilter":{"fields":{"op":{"type":"Operator","id":1},"filters":{"rule":"repeated","type":"Filter","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"AND":1,"OR":2}}}},"FieldFilter":{"fields":{"field":{"type":"FieldReference","id":1},"op":{"type":"Operator","id":2},"value":{"type":"Value","id":3}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"LESS_THAN":1,"LESS_THAN_OR_EQUAL":2,"GREATER_THAN":3,"GREATER_THAN_OR_EQUAL":4,"EQUAL":5,"NOT_EQUAL":6,"ARRAY_CONTAINS":7,"IN":8,"ARRAY_CONTAINS_ANY":9,"NOT_IN":10}}}},"UnaryFilter":{"oneofs":{"operandType":{"oneof":["field"]}},"fields":{"op":{"type":"Operator","id":1},"field":{"type":"FieldReference","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"IS_NAN":2,"IS_NULL":3,"IS_NOT_NAN":4,"IS_NOT_NULL":5}}}},"Order":{"fields":{"field":{"type":"FieldReference","id":1},"direction":{"type":"Direction","id":2}}},"Direction":{"values":{"DIRECTION_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}},"FieldReference":{"fields":{"fieldPath":{"type":"string","id":2}}},"Projection":{"fields":{"fields":{"rule":"repeated","type":"FieldReference","id":2}}},"FindNearest":{"fields":{"vectorField":{"type":"FieldReference","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"queryVector":{"type":"Value","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"distanceMeasure":{"type":"DistanceMeasure","id":3,"options":{"(google.api.field_behavior)":"REQUIRED"}},"limit":{"type":"google.protobuf.Int32Value","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"distanceResultField":{"type":"string","id":5,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"distanceThreshold":{"type":"google.protobuf.DoubleValue","id":6,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"DistanceMeasure":{"values":{"DISTANCE_MEASURE_UNSPECIFIED":0,"EUCLIDEAN":1,"COSINE":2,"DOT_PRODUCT":3}}}}}},"StructuredAggregationQuery":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"structuredQuery":{"type":"StructuredQuery","id":1},"aggregations":{"rule":"repeated","type":"Aggregation","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"Aggregation":{"oneofs":{"operator":{"oneof":["count","sum","avg"]}},"fields":{"count":{"type":"Count","id":1},"sum":{"type":"Sum","id":2},"avg":{"type":"Avg","id":3},"alias":{"type":"string","id":7,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"Count":{"fields":{"upTo":{"type":"google.protobuf.Int64Value","id":1,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"Sum":{"fields":{"field":{"type":"StructuredQuery.FieldReference","id":1}}},"Avg":{"fields":{"field":{"type":"StructuredQuery.FieldReference","id":1}}}}}}},"Cursor":{"fields":{"values":{"rule":"repeated","type":"Value","id":1},"before":{"type":"bool","id":2}}},"ExplainOptions":{"fields":{"analyze":{"type":"bool","id":1,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"ExplainMetrics":{"fields":{"planSummary":{"type":"PlanSummary","id":1},"executionStats":{"type":"ExecutionStats","id":2}}},"PlanSummary":{"fields":{"indexesUsed":{"rule":"repeated","type":"google.protobuf.Struct","id":1}}},"ExecutionStats":{"fields":{"resultsReturned":{"type":"int64","id":1},"executionDuration":{"type":"google.protobuf.Duration","id":3},"readOperations":{"type":"int64","id":4},"debugStats":{"type":"google.protobuf.Struct","id":5}}},"Write":{"oneofs":{"operation":{"oneof":["update","delete","transform"]}},"fields":{"update":{"type":"Document","id":1},"delete":{"type":"string","id":2},"transform":{"type":"DocumentTransform","id":6},"updateMask":{"type":"DocumentMask","id":3},"updateTransforms":{"rule":"repeated","type":"DocumentTransform.FieldTransform","id":7},"currentDocument":{"type":"Precondition","id":4}}},"DocumentTransform":{"fields":{"document":{"type":"string","id":1},"fieldTransforms":{"rule":"repeated","type":"FieldTransform","id":2}},"nested":{"FieldTransform":{"oneofs":{"transformType":{"oneof":["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},"fields":{"fieldPath":{"type":"string","id":1},"setToServerValue":{"type":"ServerValue","id":2},"increment":{"type":"Value","id":3},"maximum":{"type":"Value","id":4},"minimum":{"type":"Value","id":5},"appendMissingElements":{"type":"ArrayValue","id":6},"removeAllFromArray":{"type":"ArrayValue","id":7}},"nested":{"ServerValue":{"values":{"SERVER_VALUE_UNSPECIFIED":0,"REQUEST_TIME":1}}}}}},"WriteResult":{"fields":{"updateTime":{"type":"google.protobuf.Timestamp","id":1},"transformResults":{"rule":"repeated","type":"Value","id":2}}},"DocumentChange":{"fields":{"document":{"type":"Document","id":1},"targetIds":{"rule":"repeated","type":"int32","id":5},"removedTargetIds":{"rule":"repeated","type":"int32","id":6}}},"DocumentDelete":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"DocumentRemove":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ExistenceFilter":{"fields":{"targetId":{"type":"int32","id":1},"count":{"type":"int32","id":2},"unchangedNames":{"type":"BloomFilter","id":3}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2},"selectiveGapicGeneration":{"type":"SelectiveGapicGeneration","id":3}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1},"protobufPythonicTypesEnabled":{"type":"bool","id":2}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"SelectiveGapicGeneration":{"fields":{"methods":{"rule":"repeated","type":"string","id":1},"generateOmittedAsInternal":{"type":"bool","id":2}}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}},"Empty":{"fields":{}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}}}},"type":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/type/dayofweek;dayofweek","java_multiple_files":true,"java_outer_classname":"DayOfWeekProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}},"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}'),require$$1$1={options:options$1,nested:nested$1};var hasRequiredFirestore_client$1;function requireFirestore_client$1(){if(hasRequiredFirestore_client$1)return firestore_client$1;hasRequiredFirestore_client$1=1;var c={};Object.defineProperty(firestore_client$1,"__esModule",{value:!0}),firestore_client$1.FirestoreClient=void 0;const u=require$$0$6,d=require$$1$1,y=requireLogger(),O=require$$19,T=require$$33.version;class E{constructor(p,g){ce(this,"_terminated",!1);ce(this,"_opts");ce(this,"_providedCustomServicePath");ce(this,"_gaxModule");ce(this,"_gaxGrpc");ce(this,"_protos");ce(this,"_defaults");ce(this,"_universeDomain");ce(this,"_servicePath");ce(this,"_stubFailed",!1);ce(this,"auth");ce(this,"descriptors",{page:{},stream:{},longrunning:{},batching:{}});ce(this,"warn");ce(this,"innerApiCalls");ce(this,"locationsClient");ce(this,"firestoreStub");const w=this.constructor;if(p!=null&&p.universe_domain&&(p!=null&&p.universeDomain)&&(p==null?void 0:p.universe_domain)!==(p==null?void 0:p.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const R=typeof process=="object"&&typeof c=="object"?c.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(p==null?void 0:p.universeDomain)??(p==null?void 0:p.universe_domain)??R??"googleapis.com",this._servicePath="firestore."+this._universeDomain;const C=(p==null?void 0:p.servicePath)||(p==null?void 0:p.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(p!=null&&p.servicePath||p!=null&&p.apiEndpoint);const N=(p==null?void 0:p.port)||w.port,D=(p==null?void 0:p.clientConfig)??{},L=(p==null?void 0:p.fallback)??(typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function");p=Object.assign({servicePath:C,port:N,clientConfig:D,fallback:L},p),p.numericEnums=!0,C!==this._servicePath&&!("scopes"in p)&&(p.scopes=w.scopes),g||(g=requireSrc$1()),this._gaxModule=p.fallback?g.fallback:g,this._gaxGrpc=new this._gaxModule.GrpcClient(p),this._opts=p,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,C===this._servicePath&&(this.auth.defaultScopes=w.scopes),this.locationsClient=new this._gaxModule.LocationsClient(this._gaxGrpc,p);const q=[`gax/${this._gaxModule.version}`,`gapic/${T}`];typeof process=="object"&&"versions"in process?q.push(`gl-node/${process.versions.node}`):q.push(`gl-web/${this._gaxModule.version}`),p.fallback?q.push(`rest/${this._gaxGrpc.grpcVersion}`):q.push(`grpc/${this._gaxGrpc.grpcVersion}`),p.libName&&p.libVersion&&q.push(`${p.libName}/${p.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(d),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!p.fallback,!!p.gaxServerStreamingRetries),runQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!p.fallback,!!p.gaxServerStreamingRetries),runAggregationQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!p.fallback,!!p.gaxServerStreamingRetries),write:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!p.fallback,!!p.gaxServerStreamingRetries),listen:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!p.fallback,!!p.gaxServerStreamingRetries)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1.Firestore",O,p.clientConfig||{},{"x-goog-api-client":q.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreStub&&!this._stubFailed)return this.firestoreStub;this._stubFailed=!1,this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1.Firestore"):this._protos.google.firestore.v1.Firestore,this._opts,this._providedCustomServicePath);const p=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","runAggregationQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const g of p){const w=this.firestoreStub.then(N=>(...D)=>{if(this._terminated){if(g in this.descriptors.stream){const q=new u.PassThrough({objectMode:!0});return setImmediate(()=>{q.emit("error",new this._gaxModule.GoogleError("The client has already been closed."))}),q}return Promise.reject("The client has already been closed.")}return N[g].apply(N,D)},N=>(this._stubFailed=!0,(0,y.logger)("initialize",null,"Failed to create the gax client stub.",N),()=>{throw N})),R=this.descriptors.page[g]||this.descriptors.stream[g]||void 0,C=this._gaxModule.createApiCall(w,this._defaults[g],R,this._opts.fallback);this.innerApiCalls[g]=C}return this.firestoreStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(p){if(p){this.auth.getProjectId(p);return}return this.auth.getProjectId()}getDocument(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:p.name??""}),this.initialize(),this.innerApiCalls.getDocument(p,R,w)}updateDocument(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"document.name":p.document.name??""}),this.initialize(),this.innerApiCalls.updateDocument(p,R,w)}deleteDocument(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:p.name??""}),this.initialize(),this.innerApiCalls.deleteDocument(p,R,w)}beginTransaction(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:p.database??""}),this.initialize(),this.innerApiCalls.beginTransaction(p,R,w)}commit(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:p.database??""}),this.initialize(),this.innerApiCalls.commit(p,R,w)}rollback(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:p.database??""}),this.initialize(),this.innerApiCalls.rollback(p,R,w)}batchWrite(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:p.database??""}),this.initialize(),this.innerApiCalls.batchWrite(p,R,w)}createDocument(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??"",collection_id:p.collectionId??""}),this.initialize(),this.innerApiCalls.createDocument(p,R,w)}batchGetDocuments(p,g){return p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:p.database??""}),this.initialize(),this.innerApiCalls.batchGetDocuments(p,g)}runQuery(p,g){return p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??""}),this.initialize(),this.innerApiCalls.runQuery(p,g)}runAggregationQuery(p,g){return p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??""}),this.initialize(),this.innerApiCalls.runAggregationQuery(p,g)}write(p){return this.initialize(),this.innerApiCalls.write(null,p)}listen(p){return this.initialize(),this.innerApiCalls.listen(null,p)}listDocuments(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??"",collection_id:p.collectionId??""}),this.initialize(),this.innerApiCalls.listDocuments(p,R,w)}listDocumentsStream(p,g){p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??"",collection_id:p.collectionId??""});const R=this._defaults.listDocuments.merge(g);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,p,R)}listDocumentsAsync(p,g){p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??"",collection_id:p.collectionId??""});const R=this._defaults.listDocuments.merge(g);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,p,R)}partitionQuery(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??""}),this.initialize(),this.innerApiCalls.partitionQuery(p,R,w)}partitionQueryStream(p,g){p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??""});const R=this._defaults.partitionQuery.merge(g);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,p,R)}partitionQueryAsync(p,g){p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??""});const R=this._defaults.partitionQuery.merge(g);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,p,R)}listCollectionIds(p,g,w){p=p||{};let R;return typeof g=="function"&&w===void 0?(w=g,R={}):R=g,R=R||{},R.otherArgs=R.otherArgs||{},R.otherArgs.headers=R.otherArgs.headers||{},R.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??""}),this.initialize(),this.innerApiCalls.listCollectionIds(p,R,w)}listCollectionIdsStream(p,g){p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??""});const R=this._defaults.listCollectionIds.merge(g);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,p,R)}listCollectionIdsAsync(p,g){p=p||{},g=g||{},g.otherArgs=g.otherArgs||{},g.otherArgs.headers=g.otherArgs.headers||{},g.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:p.parent??""});const R=this._defaults.listCollectionIds.merge(g);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,p,R)}getLocation(p,g,w){return this.locationsClient.getLocation(p,g,w)}listLocationsAsync(p,g){return this.locationsClient.listLocationsAsync(p,g)}close(){return this.firestoreStub&&!this._terminated?this.firestoreStub.then(async p=>{this._terminated=!0,p.close(),await this.locationsClient.close()}):Promise.resolve()}}return firestore_client$1.FirestoreClient=E,firestore_client$1}var hasRequiredV1;function requireV1(){return hasRequiredV1||(hasRequiredV1=1,(function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.FirestoreAdminClient=u.FirestoreClient=void 0;const d=requireFirestore_admin_client();Object.defineProperty(u,"FirestoreAdminClient",{enumerable:!0,get:function(){return d.FirestoreAdminClient}});const y=requireFirestore_client$1();Object.defineProperty(u,"FirestoreClient",{enumerable:!0,get:function(){return y.FirestoreClient}});const O=c.exports;c.exports=y.FirestoreClient,c.exports=Object.assign(c.exports,O)})(v1,v1.exports)),v1.exports}var hasRequiredEnabledTraceUtil;function requireEnabledTraceUtil(){if(hasRequiredEnabledTraceUtil)return enabledTraceUtil;hasRequiredEnabledTraceUtil=1,Object.defineProperty(enabledTraceUtil,"__esModule",{value:!0}),enabledTraceUtil.EnabledTraceUtil=void 0;const c=require$$0$1,u=requireSpan(),d=requireTraceUtil(),y=require$$19,O=requireV1(),T=requirePath(),E=requireSrc(),v=y.interfaces["google.firestore.v1.Firestore"];class p{constructor(w){ce(this,"tracer");ce(this,"settingsAttributes");ce(this,"tracerProvider");var U,V,$,z,W;let R=(U=w.openTelemetry)==null?void 0:U.tracerProvider;if(!R){const{trace:J}=require$$0$1;R=J.getTracerProvider()}this.tracerProvider=R;const C=require$$33.version,N=require$$33.name;try{this.tracer=this.tracerProvider.getTracer(N,C)}catch{throw new Error("The object provided for 'tracerProvider' does not conform to the TracerProvider interface.")}this.settingsAttributes={},this.settingsAttributes["otel.scope.name"]=N,this.settingsAttributes["otel.scope.version"]=C,w.projectId&&(this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.project_id`]=w.projectId),this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.database_id`]=w.databaseId||T.DEFAULT_DATABASE_ID;const D=w.servicePath??w.host??"firestore.googleapis.com",L=w.port??O.FirestoreClient.port;this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.host`]=`${D}:${L}`,w.preferRest!==void 0&&(this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.prefer_REST`]=w.preferRest),this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.max_idle_channels`]=w.maxIdleChannels??E.DEFAULT_MAX_IDLE_CHANNELS;const q=v.retry_params.default,M=(W=(z=($=(V=w.clientConfig)==null?void 0:V.interfaces)==null?void 0:$["google.firestore.v1.Firestore"])==null?void 0:z.retry_params)==null?void 0:W.default;this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.initial_retry_delay`]=this.millisToSecondString((M==null?void 0:M.initial_retry_delay_millis)??q.initial_retry_delay_millis),this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.initial_rpc_timeout`]=this.millisToSecondString((M==null?void 0:M.initial_rpc_timeout_millis)??q.initial_rpc_timeout_millis),this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.total_timeout`]=this.millisToSecondString((M==null?void 0:M.total_timeout_millis)??q.total_timeout_millis),this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.max_retry_delay`]=this.millisToSecondString((M==null?void 0:M.max_retry_delay_millis)??q.max_retry_delay_millis),this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.max_rpc_timeout`]=this.millisToSecondString((M==null?void 0:M.max_rpc_timeout_millis)??q.max_rpc_timeout_millis),this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.retry_delay_multiplier`]=(M==null?void 0:M.retry_delay_multiplier.toString())??q.retry_delay_multiplier.toString(),this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.rpc_timeout_multiplier`]=(M==null?void 0:M.rpc_timeout_multiplier.toString())??q.rpc_timeout_multiplier.toString()}recordProjectId(w){this.settingsAttributes[`${d.ATTRIBUTE_SETTINGS_PREFIX}.project_id`]=w,this.currentSpan().setAttributes(this.settingsAttributes)}millisToSecondString(w){return`${w/1e3}s`}endSpan(w,R){w.setStatus({code:c.SpanStatusCode.ERROR,message:R.message}),w.recordException(R),w.end()}startActiveSpan(w,R,C){return this.tracer.startActiveSpan(w,{attributes:C},N=>{this.addCommonAttributes(N);try{let D=R(new u.Span(N));return D instanceof Promise?D=D.then(L=>(N.end(),L)).catch(L=>(this.endSpan(N,L),Promise.reject(L))):N.end(),D}catch(D){throw this.endSpan(N,D),D}})}startSpan(w){const R=this.tracer.startSpan(w,void 0,c.context.active());return this.addCommonAttributes(R),new u.Span(R)}currentSpan(){return new u.Span(c.trace.getActiveSpan())}addCommonAttributes(w){w.setAttributes(this.settingsAttributes)}}return enabledTraceUtil.EnabledTraceUtil=p,enabledTraceUtil}var v1beta1={exports:{}},firestore_client={};const options={syntax:"proto3"},nested=JSON.parse('{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}},"Empty":{"fields":{}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}}}},"firestore":{"nested":{"v1beta1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.V1Beta1","go_package":"cloud.google.com/go/firestore/apiv1beta1/firestorepb;firestorepb","java_multiple_files":true,"java_outer_classname":"UndeliverableFirstGenEventProto","java_package":"com.google.firestore.v1beta1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\V1beta1","ruby_package":"Google::Cloud::Firestore::V1beta1"},"nested":{"DocumentMask":{"fields":{"fieldPaths":{"rule":"repeated","type":"string","id":1}}},"Precondition":{"oneofs":{"conditionType":{"oneof":["exists","updateTime"]}},"fields":{"exists":{"type":"bool","id":1},"updateTime":{"type":"google.protobuf.Timestamp","id":2}}},"TransactionOptions":{"oneofs":{"mode":{"oneof":["readOnly","readWrite"]}},"fields":{"readOnly":{"type":"ReadOnly","id":2},"readWrite":{"type":"ReadWrite","id":3}},"nested":{"ReadWrite":{"fields":{"retryTransaction":{"type":"bytes","id":1}}},"ReadOnly":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"readTime":{"type":"google.protobuf.Timestamp","id":2}}}}},"Document":{"fields":{"name":{"type":"string","id":1},"fields":{"keyType":"string","type":"Value","id":2},"createTime":{"type":"google.protobuf.Timestamp","id":3},"updateTime":{"type":"google.protobuf.Timestamp","id":4}}},"Value":{"oneofs":{"valueType":{"oneof":["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},"fields":{"nullValue":{"type":"google.protobuf.NullValue","id":11},"booleanValue":{"type":"bool","id":1},"integerValue":{"type":"int64","id":2},"doubleValue":{"type":"double","id":3},"timestampValue":{"type":"google.protobuf.Timestamp","id":10},"stringValue":{"type":"string","id":17},"bytesValue":{"type":"bytes","id":18},"referenceValue":{"type":"string","id":5},"geoPointValue":{"type":"google.type.LatLng","id":8},"arrayValue":{"type":"ArrayValue","id":9},"mapValue":{"type":"MapValue","id":6}}},"ArrayValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"MapValue":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Firestore":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"GetDocument":{"requestType":"GetDocumentRequest","responseType":"Document","options":{"(google.api.http).get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}}]},"ListDocuments":{"requestType":"ListDocumentsRequest","responseType":"ListDocumentsResponse","options":{"(google.api.http).get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},"UpdateDocument":{"requestType":"UpdateDocumentRequest","responseType":"Document","options":{"(google.api.http).patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","body":"document"}},{"(google.api.method_signature)":"document,update_mask"}]},"DeleteDocument":{"requestType":"DeleteDocumentRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},"BatchGetDocuments":{"requestType":"BatchGetDocumentsRequest","responseType":"BatchGetDocumentsResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","body":"*"}}]},"BeginTransaction":{"requestType":"BeginTransactionRequest","responseType":"BeginTransactionResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","body":"*"}},{"(google.api.method_signature)":"database"}]},"Commit":{"requestType":"CommitRequest","responseType":"CommitResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","body":"*"}},{"(google.api.method_signature)":"database,writes"}]},"Rollback":{"requestType":"RollbackRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","body":"*"}},{"(google.api.method_signature)":"database,transaction"}]},"RunQuery":{"requestType":"RunQueryRequest","responseType":"RunQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","body":"*"}}}]},"PartitionQuery":{"requestType":"PartitionQueryRequest","responseType":"PartitionQueryResponse","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","body":"*"}}}]},"Write":{"requestType":"WriteRequest","requestStream":true,"responseType":"WriteResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:write","body":"*"}}]},"Listen":{"requestType":"ListenRequest","requestStream":true,"responseType":"ListenResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","body":"*"}}]},"ListCollectionIds":{"requestType":"ListCollectionIdsRequest","responseType":"ListCollectionIdsResponse","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","body":"*"}}},{"(google.api.method_signature)":"parent"}]},"BatchWrite":{"requestType":"BatchWriteRequest","responseType":"BatchWriteResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","body":"*"}}]},"CreateDocument":{"requestType":"CreateDocumentRequest","responseType":"Document","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","body":"document"}}]}}},"GetDocumentRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":5}}},"ListDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4},"orderBy":{"type":"string","id":6},"mask":{"type":"DocumentMask","id":7},"transaction":{"type":"bytes","id":8},"readTime":{"type":"google.protobuf.Timestamp","id":10},"showMissing":{"type":"bool","id":12}}},"ListDocumentsResponse":{"fields":{"documents":{"rule":"repeated","type":"Document","id":1},"nextPageToken":{"type":"string","id":2}}},"CreateDocumentRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documentId":{"type":"string","id":3},"document":{"type":"Document","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":5}}},"UpdateDocumentRequest":{"fields":{"document":{"type":"Document","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"DocumentMask","id":2},"mask":{"type":"DocumentMask","id":3},"currentDocument":{"type":"Precondition","id":4}}},"DeleteDocumentRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"currentDocument":{"type":"Precondition","id":2}}},"BatchGetDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documents":{"rule":"repeated","type":"string","id":2},"mask":{"type":"DocumentMask","id":3},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"BatchGetDocumentsResponse":{"oneofs":{"result":{"oneof":["found","missing"]}},"fields":{"found":{"type":"Document","id":1},"missing":{"type":"string","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"BeginTransactionRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"options":{"type":"TransactionOptions","id":2}}},"BeginTransactionResponse":{"fields":{"transaction":{"type":"bytes","id":1}}},"CommitRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"transaction":{"type":"bytes","id":3}}},"CommitResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"commitTime":{"type":"google.protobuf.Timestamp","id":2}}},"RollbackRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"transaction":{"type":"bytes","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"RunQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"transaction":{"type":"bytes","id":5},"newTransaction":{"type":"TransactionOptions","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"RunQueryResponse":{"fields":{"transaction":{"type":"bytes","id":2},"document":{"type":"Document","id":1},"readTime":{"type":"google.protobuf.Timestamp","id":3},"skippedResults":{"type":"int32","id":4}}},"PartitionQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"partitionCount":{"type":"int64","id":3},"pageToken":{"type":"string","id":4},"pageSize":{"type":"int32","id":5}}},"PartitionQueryResponse":{"fields":{"partitions":{"rule":"repeated","type":"Cursor","id":1},"nextPageToken":{"type":"string","id":2}}},"WriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"streamId":{"type":"string","id":2},"writes":{"rule":"repeated","type":"Write","id":3},"streamToken":{"type":"bytes","id":4},"labels":{"keyType":"string","type":"string","id":5}}},"WriteResponse":{"fields":{"streamId":{"type":"string","id":1},"streamToken":{"type":"bytes","id":2},"writeResults":{"rule":"repeated","type":"WriteResult","id":3},"commitTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListenRequest":{"oneofs":{"targetChange":{"oneof":["addTarget","removeTarget"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"addTarget":{"type":"Target","id":2},"removeTarget":{"type":"int32","id":3},"labels":{"keyType":"string","type":"string","id":4}}},"ListenResponse":{"oneofs":{"responseType":{"oneof":["targetChange","documentChange","documentDelete","documentRemove","filter"]}},"fields":{"targetChange":{"type":"TargetChange","id":2},"documentChange":{"type":"DocumentChange","id":3},"documentDelete":{"type":"DocumentDelete","id":4},"documentRemove":{"type":"DocumentRemove","id":6},"filter":{"type":"ExistenceFilter","id":5}}},"Target":{"oneofs":{"targetType":{"oneof":["query","documents"]},"resumeType":{"oneof":["resumeToken","readTime"]}},"fields":{"query":{"type":"QueryTarget","id":2},"documents":{"type":"DocumentsTarget","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":11},"targetId":{"type":"int32","id":5},"once":{"type":"bool","id":6}},"nested":{"DocumentsTarget":{"fields":{"documents":{"rule":"repeated","type":"string","id":2}}},"QueryTarget":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1},"structuredQuery":{"type":"StructuredQuery","id":2}}}}},"TargetChange":{"fields":{"targetChangeType":{"type":"TargetChangeType","id":1},"targetIds":{"rule":"repeated","type":"int32","id":2},"cause":{"type":"google.rpc.Status","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"TargetChangeType":{"values":{"NO_CHANGE":0,"ADD":1,"REMOVE":2,"CURRENT":3,"RESET":4}}}},"ListCollectionIdsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListCollectionIdsResponse":{"fields":{"collectionIds":{"rule":"repeated","type":"string","id":1},"nextPageToken":{"type":"string","id":2}}},"BatchWriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"labels":{"keyType":"string","type":"string","id":3}}},"BatchWriteResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"status":{"rule":"repeated","type":"google.rpc.Status","id":2}}},"StructuredQuery":{"fields":{"select":{"type":"Projection","id":1},"from":{"rule":"repeated","type":"CollectionSelector","id":2},"where":{"type":"Filter","id":3},"orderBy":{"rule":"repeated","type":"Order","id":4},"startAt":{"type":"Cursor","id":7},"endAt":{"type":"Cursor","id":8},"offset":{"type":"int32","id":6},"limit":{"type":"google.protobuf.Int32Value","id":5}},"nested":{"CollectionSelector":{"fields":{"collectionId":{"type":"string","id":2},"allDescendants":{"type":"bool","id":3}}},"Filter":{"oneofs":{"filterType":{"oneof":["compositeFilter","fieldFilter","unaryFilter"]}},"fields":{"compositeFilter":{"type":"CompositeFilter","id":1},"fieldFilter":{"type":"FieldFilter","id":2},"unaryFilter":{"type":"UnaryFilter","id":3}}},"CompositeFilter":{"fields":{"op":{"type":"Operator","id":1},"filters":{"rule":"repeated","type":"Filter","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"AND":1}}}},"FieldFilter":{"fields":{"field":{"type":"FieldReference","id":1},"op":{"type":"Operator","id":2},"value":{"type":"Value","id":3}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"LESS_THAN":1,"LESS_THAN_OR_EQUAL":2,"GREATER_THAN":3,"GREATER_THAN_OR_EQUAL":4,"EQUAL":5,"NOT_EQUAL":6,"ARRAY_CONTAINS":7,"IN":8,"ARRAY_CONTAINS_ANY":9,"NOT_IN":10}}}},"UnaryFilter":{"oneofs":{"operandType":{"oneof":["field"]}},"fields":{"op":{"type":"Operator","id":1},"field":{"type":"FieldReference","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"IS_NAN":2,"IS_NULL":3,"IS_NOT_NAN":4,"IS_NOT_NULL":5}}}},"FieldReference":{"fields":{"fieldPath":{"type":"string","id":2}}},"Order":{"fields":{"field":{"type":"FieldReference","id":1},"direction":{"type":"Direction","id":2}}},"Projection":{"fields":{"fields":{"rule":"repeated","type":"FieldReference","id":2}}},"Direction":{"values":{"DIRECTION_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}}}},"Cursor":{"fields":{"values":{"rule":"repeated","type":"Value","id":1},"before":{"type":"bool","id":2}}},"Write":{"oneofs":{"operation":{"oneof":["update","delete","transform"]}},"fields":{"update":{"type":"Document","id":1},"delete":{"type":"string","id":2},"transform":{"type":"DocumentTransform","id":6},"updateMask":{"type":"DocumentMask","id":3},"updateTransforms":{"rule":"repeated","type":"DocumentTransform.FieldTransform","id":7},"currentDocument":{"type":"Precondition","id":4}}},"DocumentTransform":{"fields":{"document":{"type":"string","id":1},"fieldTransforms":{"rule":"repeated","type":"FieldTransform","id":2}},"nested":{"FieldTransform":{"oneofs":{"transformType":{"oneof":["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},"fields":{"fieldPath":{"type":"string","id":1},"setToServerValue":{"type":"ServerValue","id":2},"increment":{"type":"Value","id":3},"maximum":{"type":"Value","id":4},"minimum":{"type":"Value","id":5},"appendMissingElements":{"type":"ArrayValue","id":6},"removeAllFromArray":{"type":"ArrayValue","id":7}},"nested":{"ServerValue":{"values":{"SERVER_VALUE_UNSPECIFIED":0,"REQUEST_TIME":1}}}}}},"WriteResult":{"fields":{"updateTime":{"type":"google.protobuf.Timestamp","id":1},"transformResults":{"rule":"repeated","type":"Value","id":2}}},"DocumentChange":{"fields":{"document":{"type":"Document","id":1},"targetIds":{"rule":"repeated","type":"int32","id":5},"removedTargetIds":{"rule":"repeated","type":"int32","id":6}}},"DocumentDelete":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"DocumentRemove":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ExistenceFilter":{"fields":{"targetId":{"type":"int32","id":1},"count":{"type":"int32","id":2}}},"UndeliverableFirstGenEvent":{"fields":{"message":{"type":"string","id":1},"reason":{"type":"Reason","id":2},"documentName":{"type":"string","id":3},"documentChangeType":{"type":"DocumentChangeType","id":4},"functionName":{"rule":"repeated","type":"string","id":5},"triggeredTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"Reason":{"values":{"REASON_UNSPECIFIED":0,"EXCEEDING_SIZE_LIMIT":1}},"DocumentChangeType":{"values":{"DOCUMENT_CHANGE_TYPE_UNSPECIFIED":0,"CREATE":1,"DELETE":2,"UPDATE":3}}}}}}}},"type":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/type/dayofweek;dayofweek","java_multiple_files":true,"java_outer_classname":"DayOfWeekProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}},"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2},"selectiveGapicGeneration":{"type":"SelectiveGapicGeneration","id":3}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1},"protobufPythonicTypesEnabled":{"type":"bool","id":2}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"SelectiveGapicGeneration":{"fields":{"methods":{"rule":"repeated","type":"string","id":1},"generateOmittedAsInternal":{"type":"bool","id":2}}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}'),require$$1={options,nested},interfaces={"google.firestore.v1beta1.Firestore":{retry_codes:{non_idempotent:[],idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:6e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:6e4,total_timeout_millis:6e5}},methods:{GetDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListDocuments:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},UpdateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},BatchGetDocuments:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"},BeginTransaction:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},Commit:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},Rollback:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},RunQuery:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"default"},PartitionQuery:{retry_codes_name:"non_idempotent",retry_params_name:"default"},Write:{timeout_millis:864e5,retry_codes_name:"non_idempotent",retry_params_name:"default"},Listen:{timeout_millis:864e5,retry_codes_name:"idempotent",retry_params_name:"default"},ListCollectionIds:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},BatchWrite:{retry_codes_name:"non_idempotent",retry_params_name:"default"},CreateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"}}}},require$$2={interfaces};var hasRequiredFirestore_client;function requireFirestore_client(){if(hasRequiredFirestore_client)return firestore_client;hasRequiredFirestore_client=1;var c={};Object.defineProperty(firestore_client,"__esModule",{value:!0}),firestore_client.FirestoreClient=void 0;const u=require$$0$6,d=require$$1,y=require$$2,O=require$$33.version;class T{constructor(v,p){ce(this,"_terminated",!1);ce(this,"_opts");ce(this,"_providedCustomServicePath");ce(this,"_gaxModule");ce(this,"_gaxGrpc");ce(this,"_protos");ce(this,"_defaults");ce(this,"_universeDomain");ce(this,"_servicePath");ce(this,"auth");ce(this,"descriptors",{page:{},stream:{},longrunning:{},batching:{}});ce(this,"warn");ce(this,"innerApiCalls");ce(this,"firestoreStub");const g=this.constructor;if(v!=null&&v.universe_domain&&(v!=null&&v.universeDomain)&&(v==null?void 0:v.universe_domain)!==(v==null?void 0:v.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const w=typeof process=="object"&&typeof c=="object"?c.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=(v==null?void 0:v.universeDomain)??(v==null?void 0:v.universe_domain)??w??"googleapis.com",this._servicePath="firestore."+this._universeDomain;const R=(v==null?void 0:v.servicePath)||(v==null?void 0:v.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!!(v!=null&&v.servicePath||v!=null&&v.apiEndpoint);const C=(v==null?void 0:v.port)||g.port,N=(v==null?void 0:v.clientConfig)??{},D=(v==null?void 0:v.fallback)??(typeof window<"u"&&typeof(window==null?void 0:window.fetch)=="function");v=Object.assign({servicePath:R,port:C,clientConfig:N,fallback:D},v),v.numericEnums=!0,R!==this._servicePath&&!("scopes"in v)&&(v.scopes=g.scopes),p||(p=requireSrc$1()),this._gaxModule=v.fallback?p.fallback:p,this._gaxGrpc=new this._gaxModule.GrpcClient(v),this._opts=v,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,R===this._servicePath&&(this.auth.defaultScopes=g.scopes);const L=[`gax/${this._gaxModule.version}`,`gapic/${O}`];typeof process=="object"&&"versions"in process?L.push(`gl-node/${process.versions.node}`):L.push(`gl-web/${this._gaxModule.version}`),v.fallback?L.push(`rest/${this._gaxGrpc.grpcVersion}`):L.push(`grpc/${this._gaxGrpc.grpcVersion}`),v.libName&&v.libVersion&&L.push(`${v.libName}/${v.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(d),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!v.fallback,!!v.gaxServerStreamingRetries),runQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!v.fallback,!!v.gaxServerStreamingRetries),write:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!v.fallback,!!v.gaxServerStreamingRetries),listen:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!v.fallback,!!v.gaxServerStreamingRetries)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1beta1.Firestore",y,v.clientConfig||{},{"x-goog-api-client":L.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreStub)return this.firestoreStub;this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1beta1.Firestore"):this._protos.google.firestore.v1beta1.Firestore,this._opts,this._providedCustomServicePath);const v=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const p of v){const g=this.firestoreStub.then(C=>(...N)=>{if(this._terminated){if(p in this.descriptors.stream){const L=new u.PassThrough({objectMode:!0});return setImmediate(()=>{L.emit("error",new this._gaxModule.GoogleError("The client has already been closed."))}),L}return Promise.reject("The client has already been closed.")}return C[p].apply(C,N)},C=>()=>{throw C}),w=this.descriptors.page[p]||this.descriptors.stream[p]||void 0,R=this._gaxModule.createApiCall(g,this._defaults[p],w,this._opts.fallback);this.innerApiCalls[p]=R}return this.firestoreStub}static get servicePath(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return typeof process=="object"&&typeof process.emitWarning=="function"&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(v){if(v){this.auth.getProjectId(v);return}return this.auth.getProjectId()}getDocument(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:v.name??""}),this.initialize(),this.innerApiCalls.getDocument(v,w,g)}updateDocument(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"document.name":v.document.name??""}),this.initialize(),this.innerApiCalls.updateDocument(v,w,g)}deleteDocument(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:v.name??""}),this.initialize(),this.innerApiCalls.deleteDocument(v,w,g)}beginTransaction(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:v.database??""}),this.initialize(),this.innerApiCalls.beginTransaction(v,w,g)}commit(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:v.database??""}),this.initialize(),this.innerApiCalls.commit(v,w,g)}rollback(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:v.database??""}),this.initialize(),this.innerApiCalls.rollback(v,w,g)}batchWrite(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:v.database??""}),this.initialize(),this.innerApiCalls.batchWrite(v,w,g)}createDocument(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??"",collection_id:v.collectionId??""}),this.initialize(),this.innerApiCalls.createDocument(v,w,g)}batchGetDocuments(v,p){return v=v||{},p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},p.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:v.database??""}),this.initialize(),this.innerApiCalls.batchGetDocuments(v,p)}runQuery(v,p){return v=v||{},p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},p.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??""}),this.initialize(),this.innerApiCalls.runQuery(v,p)}write(v){return this.initialize(),this.innerApiCalls.write(null,v)}listen(v){return this.initialize(),this.innerApiCalls.listen(null,v)}listDocuments(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??"",collection_id:v.collectionId??""}),this.initialize(),this.innerApiCalls.listDocuments(v,w,g)}listDocumentsStream(v,p){v=v||{},p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},p.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??"",collection_id:v.collectionId??""});const w=this._defaults.listDocuments.merge(p);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,v,w)}listDocumentsAsync(v,p){v=v||{},p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},p.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??"",collection_id:v.collectionId??""});const w=this._defaults.listDocuments.merge(p);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,v,w)}partitionQuery(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??""}),this.initialize(),this.innerApiCalls.partitionQuery(v,w,g)}partitionQueryStream(v,p){v=v||{},p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},p.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??""});const w=this._defaults.partitionQuery.merge(p);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,v,w)}partitionQueryAsync(v,p){v=v||{},p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},p.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??""});const w=this._defaults.partitionQuery.merge(p);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,v,w)}listCollectionIds(v,p,g){v=v||{};let w;return typeof p=="function"&&g===void 0?(g=p,w={}):w=p,w=w||{},w.otherArgs=w.otherArgs||{},w.otherArgs.headers=w.otherArgs.headers||{},w.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??""}),this.initialize(),this.innerApiCalls.listCollectionIds(v,w,g)}listCollectionIdsStream(v,p){v=v||{},p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},p.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??""});const w=this._defaults.listCollectionIds.merge(p);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,v,w)}listCollectionIdsAsync(v,p){v=v||{},p=p||{},p.otherArgs=p.otherArgs||{},p.otherArgs.headers=p.otherArgs.headers||{},p.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:v.parent??""});const w=this._defaults.listCollectionIds.merge(p);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,v,w)}close(){return this.firestoreStub&&!this._terminated?this.firestoreStub.then(v=>{this._terminated=!0,v.close()}):Promise.resolve()}}return firestore_client.FirestoreClient=T,firestore_client}var hasRequiredV1beta1;function requireV1beta1(){return hasRequiredV1beta1||(hasRequiredV1beta1=1,(function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.FirestoreClient=void 0;const d=requireFirestore_client();Object.defineProperty(u,"FirestoreClient",{enumerable:!0,get:function(){return d.FirestoreClient}});const y=c.exports;c.exports=d.FirestoreClient,c.exports=Object.assign(c.exports,y)})(v1beta1,v1beta1.exports)),v1beta1.exports}var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,(function(c,u){var d={};/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(u,"__esModule",{value:!0}),u.Firestore=u.DEFAULT_MAX_IDLE_CHANNELS=u.DEFAULT_MAX_TRANSACTION_ATTEMPTS=u.MAX_REQUEST_RETRIES=u.AggregateField=u.Aggregate=u.setLogFunction=u.QueryPartition=u.CollectionGroup=u.GeoPoint=u.FieldPath=u.DocumentChange=u.Timestamp=u.Transaction=u.WriteResult=u.WriteBatch=u.Filter=u.VectorValue=u.FieldValue=u.QueryDocumentSnapshot=u.DocumentSnapshot=u.BulkWriter=u.Query=u.QuerySnapshot=u.DocumentReference=u.CollectionReference=void 0;const y=require$$0$6,O=require$$6$3,T=requireBackoff(),E=requireBulkWriter(),v=requireBundle(),p=requireConvert(),g=requireDocumentReader(),w=requireDocument(),R=requireLogger(),C=requirePath(),N=requirePool(),D=requireCollectionReference(),L=requireDocumentReference(),q=requireSerializer(),M=requireTimestamp(),U=requireTransaction(),V=requireUtil(),$=requireValidate(),z=requireWriteBatch(),J=require$$19.interfaces["google.firestore.v1.Firestore"],Y=requireCollectionGroup();Object.defineProperty(u,"CollectionGroup",{enumerable:!0,get:function(){return Y.CollectionGroup}});const Q=requireRecursiveDelete(),H=requireTraceUtil(),te=requireDisabledTraceUtil(),ne=requireEnabledTraceUtil();var oe=requireCollectionReference();Object.defineProperty(u,"CollectionReference",{enumerable:!0,get:function(){return oe.CollectionReference}});var ie=requireDocumentReference();Object.defineProperty(u,"DocumentReference",{enumerable:!0,get:function(){return ie.DocumentReference}});var ee=requireQuerySnapshot();Object.defineProperty(u,"QuerySnapshot",{enumerable:!0,get:function(){return ee.QuerySnapshot}});var ue=requireQuery();Object.defineProperty(u,"Query",{enumerable:!0,get:function(){return ue.Query}});var fe=requireBulkWriter();Object.defineProperty(u,"BulkWriter",{enumerable:!0,get:function(){return fe.BulkWriter}});var de=requireDocument();Object.defineProperty(u,"DocumentSnapshot",{enumerable:!0,get:function(){return de.DocumentSnapshot}}),Object.defineProperty(u,"QueryDocumentSnapshot",{enumerable:!0,get:function(){return de.QueryDocumentSnapshot}});var ge=requireFieldValue();Object.defineProperty(u,"FieldValue",{enumerable:!0,get:function(){return ge.FieldValue}}),Object.defineProperty(u,"VectorValue",{enumerable:!0,get:function(){return ge.VectorValue}});var me=requireFilter();Object.defineProperty(u,"Filter",{enumerable:!0,get:function(){return me.Filter}});var _e=requireWriteBatch();Object.defineProperty(u,"WriteBatch",{enumerable:!0,get:function(){return _e.WriteBatch}}),Object.defineProperty(u,"WriteResult",{enumerable:!0,get:function(){return _e.WriteResult}});var we=requireTransaction();Object.defineProperty(u,"Transaction",{enumerable:!0,get:function(){return we.Transaction}});var Re=requireTimestamp();Object.defineProperty(u,"Timestamp",{enumerable:!0,get:function(){return Re.Timestamp}});var Te=requireDocumentChange();Object.defineProperty(u,"DocumentChange",{enumerable:!0,get:function(){return Te.DocumentChange}});var Ae=requirePath();Object.defineProperty(u,"FieldPath",{enumerable:!0,get:function(){return Ae.FieldPath}});var Oe=requireGeoPoint();Object.defineProperty(u,"GeoPoint",{enumerable:!0,get:function(){return Oe.GeoPoint}});var ve=requireQueryPartition();Object.defineProperty(u,"QueryPartition",{enumerable:!0,get:function(){return ve.QueryPartition}});var Ee=requireLogger();Object.defineProperty(u,"setLogFunction",{enumerable:!0,get:function(){return Ee.setLogFunction}});var he=requireAggregate();Object.defineProperty(u,"Aggregate",{enumerable:!0,get:function(){return he.Aggregate}}),Object.defineProperty(u,"AggregateField",{enumerable:!0,get:function(){return he.AggregateField}});const l=require$$33.version;(0,R.setLibVersion)(l);/*!
 * DO NOT REMOVE THE FOLLOWING NAMESPACE DEFINITIONS
 *//*!
 * HTTP header for the resource prefix to improve routing and project isolation
 * by the backend.
 */const P="google-cloud-resource-prefix";u.MAX_REQUEST_RETRIES=5,u.DEFAULT_MAX_TRANSACTION_ATTEMPTS=5;/*!
 * The default number of idle GRPC channel to keep.
 */u.DEFAULT_MAX_IDLE_CHANNELS=1;/*!
 * The maximum number of concurrent requests supported by a single GRPC channel,
 * as enforced by Google's Frontend. If the SDK issues more than 100 concurrent
 * operations, we need to use more than one GAPIC client since these clients
 * multiplex all requests over a single channel.
 */const k=100;class K{constructor(ye){ce(this,"_clientPool");ce(this,"_gax");ce(this,"_gaxFallback");ce(this,"_settings",{});ce(this,"_backoffSettings");ce(this,"_settingsFrozen",!1);ce(this,"_serializer",null);ce(this,"_traceUtil");ce(this,"_projectId");ce(this,"_databaseId");ce(this,"registeredListenersCount",0);ce(this,"_bulkWriter");ce(this,"bulkWritersCount",0);const a={libName:"gccl",libVersion:l};ye&&ye.firebaseVersion&&(a.libVersion+=" fire/"+ye.firebaseVersion),ye&&ye.firebaseAdminVersion&&(a.libVersion+=" fire-admin/"+ye.firebaseAdminVersion),this.validateAndApplySettings({...ye,...a}),this._traceUtil=this.newTraceUtilInstance(this._settings);const j=J.retry_params.default;this._backoffSettings={initialDelayMs:j.initial_retry_delay_millis,maxDelayMs:j.max_retry_delay_millis,backoffFactor:j.retry_delay_multiplier};const G=this._settings.maxIdleChannels===void 0?u.DEFAULT_MAX_IDLE_CHANNELS:this._settings.maxIdleChannels;this._clientPool=new N.ClientPool(k,G,o=>{let I;const B=!this._settings.preferRest||o?!1:"rest";let ae;if(B?this._gaxFallback?ae=this._gaxFallback:ae=this._gaxFallback=requireFallback():this._gax?ae=this._gax:ae=this._gax=requireSrc$1(),this._settings.ssl===!1){const He={sslCreds:(this._settings.grpc??requireSrc$1().grpc).credentials.createInsecure(),...this._settings,fallback:B};B&&(He.protocol="http"),I=new c.exports.v1(He,ae)}else I=new c.exports.v1({...this._settings,fallback:B},ae);return(0,R.logger)("clientFactory",null,"Initialized Firestore GAPIC Client (useFallback: %s)",B),I},o=>o.close()),(0,R.logger)("Firestore",null,"Initialized Firestore")}getBulkWriter(){return this._bulkWriter||(this._bulkWriter=this.bulkWriter()),this._bulkWriter}settings(ye){if((0,$.validateObject)("settings",ye),(0,$.validateString)("settings.projectId",ye.projectId,{optional:!0}),(0,$.validateString)("settings.databaseId",ye.databaseId,{optional:!0}),this._settingsFrozen)throw new Error("Firestore has already been initialized. You can only call settings() once, and only before calling any other methods on a Firestore object.");const a={...this._settings,...ye};this.validateAndApplySettings(a),this._traceUtil=this.newTraceUtilInstance(this._settings),this._settingsFrozen=!0}validateAndApplySettings(ye){ye.projectId!==void 0&&((0,$.validateString)("settings.projectId",ye.projectId),this._projectId=ye.projectId),ye.databaseId!==void 0&&((0,$.validateString)("settings.databaseId",ye.databaseId),this._databaseId=ye.databaseId);let a=null;const j=(0,V.tryGetPreferRestEnvironmentVariable)();ye.preferRest===void 0&&j!==void 0&&(ye={...ye,preferRest:j}),d.FIRESTORE_EMULATOR_HOST?((0,$.validateHost)("FIRESTORE_EMULATOR_HOST",d.FIRESTORE_EMULATOR_HOST),ye={...ye,host:d.FIRESTORE_EMULATOR_HOST,ssl:!1},a=new O.URL(`http://${ye.host}`)):ye.host!==void 0&&((0,$.validateHost)("settings.host",ye.host),a=new O.URL(`http://${ye.host}`)),a!==null&&((ye.servicePath!==void 0&&ye.servicePath!==a.hostname||ye.apiEndpoint!==void 0&&ye.apiEndpoint!==a.hostname)&&console.warn(`The provided host (${a.hostname}) in "settings" does not match the existing host (${ye.servicePath??ye.apiEndpoint}). Using the provided host.`),ye.servicePath=a.hostname,a.port!==""&&ye.port===void 0&&(ye.port=Number(a.port)),delete ye.host,delete ye.apiEndpoint),ye.ssl!==void 0&&(0,$.validateBoolean)("settings.ssl",ye.ssl),ye.maxIdleChannels!==void 0&&(0,$.validateInteger)("settings.maxIdleChannels",ye.maxIdleChannels,{minValue:0}),this._settings=ye,this._settings.toJSON=function(){const G=Object.assign({},this);return G.credentials&&(G.credentials={private_key:"***",client_email:"***"}),G},this._serializer=new q.Serializer(this)}newTraceUtilInstance(ye){let a=!0;if("FIRESTORE_ENABLE_TRACING"in d){const j=d.FIRESTORE_ENABLE_TRACING.toLowerCase();(j==="on"||j==="true")&&(a=!0),(j==="off"||j==="false")&&(a=!1)}return a?new ne.EnabledTraceUtil(ye):new te.DisabledTraceUtil}get projectId(){if(this._projectId===void 0)throw new Error("INTERNAL ERROR: Client is not yet ready to issue requests.");return this._projectId}get databaseId(){return this._databaseId||C.DEFAULT_DATABASE_ID}get formattedName(){return`projects/${this.projectId}/databases/${this.databaseId}`}doc(ye){(0,C.validateResourcePath)("documentPath",ye);const a=C.ResourcePath.EMPTY.append(ye);if(!a.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${ye}". Your path does not contain an even number of components.`);return new L.DocumentReference(this,a)}collection(ye){(0,C.validateResourcePath)("collectionPath",ye);const a=C.ResourcePath.EMPTY.append(ye);if(!a.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${ye}". Your path does not contain an odd number of components.`);return new D.CollectionReference(this,a)}collectionGroup(ye){if(ye.indexOf("/")!==-1)throw new Error(`Invalid collectionId '${ye}'. Collection IDs must not contain '/'.`);return new Y.CollectionGroup(this,ye,void 0)}batch(){return new z.WriteBatch(this)}bulkWriter(ye){return new E.BulkWriter(this,ye)}snapshot_(ye,a,j){let G,o;if(j===void 0||j==="protobufJS")G=ae=>ae,o=ae=>ae;else if(j==="json")G=p.timestampFromJson,o=p.fieldsFromJson;else throw new Error(`Unsupported encoding format. Expected "json" or "protobufJS", but was "${j}".`);let I,B;return typeof ye=="string"?(I=new L.DocumentReference(this,C.QualifiedResourcePath.fromSlashSeparatedString(ye)),B=new w.DocumentSnapshotBuilder(I)):(I=new L.DocumentReference(this,C.QualifiedResourcePath.fromSlashSeparatedString(ye.name)),B=new w.DocumentSnapshotBuilder(I),B.fieldsProto=ye.fields?o(ye.fields):{},B.createTime=M.Timestamp.fromProto(G(ye.createTime,"documentOrName.createTime")),B.updateTime=M.Timestamp.fromProto(G(ye.updateTime,"documentOrName.updateTime"))),a&&(B.readTime=M.Timestamp.fromProto(G(a,"readTime"))),B.build()}bundle(ye){return new v.BundleBuilder(ye||(0,V.autoId)())}runTransaction(ye,a){(0,$.validateFunction)("updateFunction",ye);const j=(0,V.requestTag)();a&&((0,$.validateObject)("transactionOptions",a),(0,$.validateBoolean)("transactionOptions.readOnly",a.readOnly,{optional:!0}),a.readOnly?(0,$.validateTimestamp)("transactionOptions.readTime",a.readTime,{optional:!0}):(0,$.validateInteger)("transactionOptions.maxAttempts",a.maxAttempts,{optional:!0,minValue:1}));const G=new U.Transaction(this,j,a);return this.initializeIfNeeded(j).then(()=>G.runTransaction(ye))}listCollections(){return new L.DocumentReference(this,C.ResourcePath.EMPTY).listCollections()}getAll(...ye){return this._traceUtil.startActiveSpan(H.SPAN_NAME_BATCH_GET_DOCUMENTS,()=>{(0,$.validateMinNumberOfArguments)("Firestore.getAll",ye,1);const{documents:a,fieldMask:j}=(0,U.parseGetAllArguments)(ye);this._traceUtil.currentSpan().setAttributes({[H.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!1,[H.ATTRIBUTE_KEY_DOC_COUNT]:a.length});const G=(0,V.requestTag)(),o=Error().stack;return this.initializeIfNeeded(G).then(()=>new g.DocumentReader(this,a,j).get(G)).catch(I=>{throw(0,V.wrapError)(I,o)})})}registerListener(){this.registeredListenersCount+=1}unregisterListener(){this.registeredListenersCount-=1}_incrementBulkWritersCount(){this.bulkWritersCount+=1}_decrementBulkWritersCount(){this.bulkWritersCount-=1}recursiveDelete(ye,a){return this._recursiveDelete(ye,Q.RECURSIVE_DELETE_MAX_PENDING_OPS,Q.RECURSIVE_DELETE_MIN_PENDING_OPS,a)}_recursiveDelete(ye,a,j,G){const o=G??this.getBulkWriter();return new Q.RecursiveDelete(this,o,ye,a,j).run()}async terminate(){return this._bulkWriter&&(await this._bulkWriter.close(),this._bulkWriter=void 0),this.registeredListenersCount>0||this.bulkWritersCount>0?Promise.reject(`All onSnapshot() listeners must be unsubscribed, and all BulkWriter instances must be closed before terminating the client. There are ${this.registeredListenersCount} active listeners and ${this.bulkWritersCount} open BulkWriter instances.`):this._clientPool.terminate()}toJSON(){return{projectId:this._projectId}}async initializeIfNeeded(ye){if(this._settingsFrozen=!0,this._settings.ssl===!1&&(this._settings.customHeaders={Authorization:"Bearer owner",...this._settings.customHeaders}),this._projectId===void 0)try{this._projectId=await this._clientPool.run(ye,!1,a=>a.getProjectId()),(0,R.logger)("Firestore.initializeIfNeeded",null,"Detected project ID: %s",this._projectId),this._traceUtil.recordProjectId(this.projectId)}catch(a){return(0,R.logger)("Firestore.initializeIfNeeded",null,"Failed to detect project ID: %s",a),Promise.reject(a)}}createCallOptions(ye,a){var G;const j={otherArgs:{headers:{[P]:this.formattedName,...this._settings.customHeaders,...(G=this._settings[ye])==null?void 0:G.customHeaders}}};if(a){const o=(0,V.getRetryParams)(ye);j.retry=new(requireFallback()).RetryOptions(a,o)}return j}async _retry(ye,a,j){const G=new T.ExponentialBackoff;let o;for(let I=0;I<u.MAX_REQUEST_RETRIES;++I){o&&(0,R.logger)("Firestore._retry",a,"Retrying request that failed with error:",o);try{return await G.backoffAndWait(),await j()}catch(B){if(o=B,(0,V.isPermanentRpcError)(B,ye))break}}return(0,R.logger)("Firestore._retry",a,"Request failed with error:",o),Promise.reject(o)}_initializeStream(ye,a,j,G){const o=new y.PassThrough({objectMode:!0});o.pause();let I=!1;return new Promise((B,ae)=>{function Ce(){I||(I=!0,(0,R.logger)("Firestore._initializeStream",j,"Stream ready"),B(o))}function Ue(){(0,R.logger)("Firestore._initializeStream",j,"Received stream end"),o.unpipe(ye),B(o),a.resolve()}function He(Ve){I?((0,R.logger)("Firestore._initializeStream",j,"Received stream error:",Ve),setImmediate(()=>{o.emit("error",Ve)})):((0,R.logger)("Firestore._initializeStream",j,"Received initial error:",Ve),ae(Ve))}ye.on("data",()=>Ce()),ye.on("error",Ve=>He(Ve)),ye.on("end",()=>Ue()),ye.on("close",()=>Ue()),ye.on("finish",()=>Ue()),ye.pipe(o),G&&((0,R.logger)("Firestore._initializeStream",j,"Sending request: %j",G),ye.write(G,"utf-8",Ve=>{Ve?He(Ve):((0,R.logger)("Firestore._initializeStream",j,"Marking stream as healthy"),Ce())}))})}request(ye,a,j,G){const o=this.createCallOptions(ye,G);return this._clientPool.run(j,!1,async I=>{try{(0,R.logger)("Firestore.request",j,"Sending request: %j",a);const[B]=await I[ye](a,o);return(0,R.logger)("Firestore.request",j,"Received response: %j",B),B}catch(B){return(0,R.logger)("Firestore.request",j,"Received error:",B),Promise.reject(B)}})}requestStream(ye,a,j,G){const o=this.createCallOptions(ye),I=ye==="listen";let B=0;const ae=100;return this._retry(ye,G,()=>{const Ce=new V.Deferred;return this._clientPool.run(G,a,async Ue=>{(0,R.logger)("Firestore.requestStream",G,"Sending request: %j",j),this._traceUtil.currentSpan().addEvent(`Firestore.${ye}: Start`);try{const He=I?Ue[ye](o):Ue[ye](j,o),Ve=new y.Transform({objectMode:!0,transform:(vt,ft,yt)=>{(0,R.logger)("Firestore.requestStream",G,"Received response: %j",vt),B++,B===1?this._traceUtil.currentSpan().addEvent(`Firestore.${ye}: First response received`):B%ae===0&&this._traceUtil.currentSpan().addEvent(`Firestore.${ye}: Received ${B} responses`),yt()}});He.pipe(Ve);const Ke=new V.Deferred,st=await this._initializeStream(He,Ke,G,I?j:void 0);return st.on("end",()=>{He.end(),this._traceUtil.currentSpan().addEvent(`Firestore.${ye}: Completed`,{[H.ATTRIBUTE_KEY_NUM_RESPONSES]:B})}),Ce.resolve(st),Ke.promise}catch(He){Ce.reject(He)}}),Ce.promise})}}u.Firestore=K,u.default=K;const pe=c.exports;c.exports=K,c.exports=Object.assign(c.exports,pe),Object.defineProperty(c.exports,"v1beta1",{get:()=>requireV1beta1()}),Object.defineProperty(c.exports,"v1",{get:()=>requireV1()}),Object.defineProperty(c.exports,"GrpcStatus",{get:()=>requireSrc$1().Status})})(src$a,src$a.exports)),src$a.exports}var srcExports=requireSrc(),define_process_env_default={};const resolveProjectId=()=>define_process_env_default.FIRESTORE_PROJECT_ID||define_process_env_default.GOOGLE_CLOUD_PROJECT||define_process_env_default.PROJECT_ID,firestoreProjectId=resolveProjectId()||"youtuber-480602";console.log("Firestore init projectId:",firestoreProjectId);const firestore=new srcExports.Firestore({projectId:firestoreProjectId,preferRest:!0}),colJobs=firestore.collection("jobs"),colSchedules=firestore.collection("schedules"),colSettings=firestore.collection("settings"),colRuns=firestore.collection("schedule_runs"),DEFAULT_SCHEDULE_ID="default",DEFAULT_SETTINGS_ID="default",nowMs=()=>Date.now(),getScheduleDefault=()=>({enabled:!1,slot1_enabled:!0,slot1_time:"09:00",slot2_enabled:!1,slot2_time:"18:00",privacy:"public",updated_at:new Date().toISOString()}),getScheduleDoc=async()=>{const c=await colSchedules.doc(DEFAULT_SCHEDULE_ID).get();return c.exists&&c.data()||getScheduleDefault()},saveScheduleDoc=async c=>{const u={...getScheduleDefault(),...c,updated_at:new Date().toISOString()};return await colSchedules.doc(DEFAULT_SCHEDULE_ID).set(u,{merge:!0}),u},getSettingsDoc=async()=>{var u;const c=await colSettings.doc(DEFAULT_SETTINGS_ID).get();return c.exists?(u=c.data())!=null&&u.data?JSON.parse(c.data().data):c.data():null},saveSettingsDoc=async c=>{await colSettings.doc(DEFAULT_SETTINGS_ID).set({data:JSON.stringify(c),updated_at:new Date().toISOString()})},getJobById=async c=>{const u=await colJobs.doc(c).get();return u.exists?u.data():null},app=new Hono;app.use("/api/*",cors());app.use(renderer);const logError=(c,u)=>{try{console.error(c,{name:u==null?void 0:u.name,message:u==null?void 0:u.message,code:u==null?void 0:u.code,details:u==null?void 0:u.details,stack:u==null?void 0:u.stack})}catch{console.error(c,u)}};app.post("/api/generate-youtube-settings",async c=>{try{const{character:u,video:d,music:y}=await c.req.json(),O={singing:"singing",dancing:"dancing",talking:"talking",playing:"playing music","behind-the-scenes":"behind-the-scenes on set",art:"art creation",sport:"sports trick",cooking:"cooking"},T=d.action||"video",E=d.theme||"vibe",v=y.genre||"pop",p=W=>/[^\x00-\x7F]/.test(W)?"vibe":W,w=p((W=>(W.split(/[\n,\/]/).map(Y=>Y.trim()).filter(Boolean)[0]||"vibe").slice(0,30))(E)),R=p(v),C=(T==="playing"||T==="singing")&&d.instrument?` with ${d.instrument}`:"",N=`${d.duration||8}s`,D=d.aspectRatio==="9:16"?"YouTube Shorts (9:16)":"YouTube (16:9)",L=`[AI] ${R} ${O[T]||"video"} | ${w}`,q=["Dive into this AI-crafted short.","Experience a fresh AI-generated clip.","Here is a brand-new AI-powered short."],M=["Enjoy the vibes and leave a comment!","Hope you like itsubscribe for more AI shorts.","Turn on captions and enjoy the ride."],U=q[Math.floor(Math.random()*q.length)],V=M[Math.floor(Math.random()*M.length)],$=`${U}

Theme: ${w}
Genre: ${R}${C?`
Instrument: ${C.trim()}`:""}
Length: ${N}
Format: ${D}

${V}

#AI #${R} #${w} #music #shorts #AIGenerated`,z=["AI generated","AI music",R,w,C?C.replace("with ",""):null,d.aspectRatio==="9:16"?"Shorts":"YouTube",y.language==="japanese"?"Japanese":"English"].filter(Boolean).map(W=>/[^\x00-\x7F]/.test(W)?"AI":W);return c.json({success:!0,youtube:{title:L,description:$,tags:z.join(", ")}})}catch(u){return console.error(" YouTube settings error:",u),c.json({success:!1,error:u.message},500)}});app.post("/api/generate",async c=>{var u;try{const d=await c.req.json();let y="";d.character.mode==="prompt"&&d.character.prompt?y+=`character description: ${d.character.prompt}, `:d.character.mode==="upload"&&d.character.imageUrl&&(y+=`character reference image: ${d.character.imageUrl}, `);const O=(d.video.action==="playing"||d.video.action==="singing")&&d.video.instrument?`with ${d.video.instrument} `:"",E=(((u=d.video)==null?void 0:u.themePool)||"").split(/[\n,]/).map(N=>N.trim()).filter(Boolean),v=(d.video.theme||"vibe").trim(),g=Array.from(new Set([v,...E])).sort(()=>Math.random()-.5),w=Math.min(3,Math.max(2,g.length)),R=g.slice(0,w).join(", ");y+=`${d.video.action} ${O}, ${R} mood, ${d.music.genre} music style, ${d.music.language} lyrics, `,y+=`length ${d.video.duration} seconds, aspect ratio ${d.video.aspectRatio}`,d.video.action==="singing"?y+=", character is singing to camera with visible lip-sync to vocals, holds mic or instrument naturally":d.video.action==="dancing"?y+=", character is dancing and singing with clear lip-sync to the vocals, choreography synced to music, expressive performance":d.video.action==="talking"?y+=", character is speaking to camera with clear lip-sync and expressive facial animation":d.video.action==="playing"?y+=", focus on instrument performance and hand movement, optional light lip-sync if vocals present":y+=", natural movement, no lip-sync required";const C=`job_${Date.now()}_${Math.random().toString(36).substring(7)}`;return console.log(" Creating job:",C,"with prompt:",y),await colJobs.doc(C).set({job_id:C,status:"pending",prompt:y,config:d,created_at:nowMs()}),console.log(" Job created:",C),c.json({success:!0,jobId:C,message:"Video generation started. Please poll /api/job/{jobId} for status."})}catch(d){return console.error(" Job creation error:",d),c.json({success:!1,error:d.message},500)}});app.post("/api/save-schedule",async c=>{try{const u=await c.req.json(),d=!!u.enabled,y=u.slot1Enabled===void 0?!0:!!u.slot1Enabled,O=u.time||"09:00",T=u.time2||"18:00",E=!!u.slot2Enabled,v=u.privacy||"public";return await saveScheduleDoc({enabled:d,slot1_enabled:y,slot1_time:O,slot2_enabled:E,slot2_time:T,slot3_enabled:!1,slot3_time:null,slot4_enabled:!1,slot4_time:null,privacy:v}),c.json({success:!0,message:"",time:O,time2:T})}catch(u){return console.error(" save-schedule error:",u),c.json({success:!1,error:u.message},500)}});app.get("/api/schedule",async c=>{try{const u=await getScheduleDoc();return c.json({success:!0,schedule:{enabled:!!u.enabled,slot1Enabled:!!u.slot1_enabled,slot2Enabled:!!u.slot2_enabled,time:u.slot1_time||"09:00",time2:u.slot2_time||"18:00",privacy:u.privacy||"public"}})}catch(u){return console.error(" get-schedule error:",u),c.json({success:!1,error:u.message},500)}});app.get("/api/job/:jobId",async c=>{try{const u=c.req.param("jobId"),d=await getJobById(u);return d?c.json({success:!0,job:{jobId:d.job_id,status:d.status,videoUrl:d.video_url,errorMessage:d.error_message,createdAt:d.created_at,completedAt:d.completed_at}}):c.json({success:!1,error:"Job not found"},404)}catch(u){return console.error(" Job status check error:",u),c.json({success:!1,error:u.message},500)}});const getCurrentTimeInTz=c=>{var T,E;const d=new Intl.DateTimeFormat("ja-JP",{timeZone:c,hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(new Date),y=((T=d.find(v=>v.type==="hour"))==null?void 0:T.value)||"00",O=((E=d.find(v=>v.type==="minute"))==null?void 0:E.value)||"00";return`${y}:${O}`},getDateKeyInTz=c=>new Intl.DateTimeFormat("ja-JP",{timeZone:c,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date).replace(/\//g,"-"),timeToMinutes=c=>{const[u,d]=(c||"00:00").split(":").map(y=>parseInt(y,10));return Number.isNaN(u)||Number.isNaN(d)?0:u*60+d},buildConfigFromSettings=(c,u,d)=>{const y=c||{},O={enabled:!!(u!=null&&u.enabled),slot1Enabled:(u==null?void 0:u.slot1_enabled)!==0,slot2Enabled:!!(u!=null&&u.slot2_enabled),time:(u==null?void 0:u.slot1_time)||"09:00",time2:(u==null?void 0:u.slot2_time)||"18:00",privacy:(u==null?void 0:u.privacy)||"public",triggeredSlot:d};return d==="slot2"&&(u!=null&&u.slot2_time)&&(O.time=u.slot2_time),{character:{mode:"prompt",imageUrl:"",prompt:y.characterPrompt||""},video:{action:y.action||"singing",instrument:y.instrument||"",theme:y.theme||"vibe",aspectRatio:y.aspect||"9:16",duration:parseInt(y.duration||"8",10)||8},music:{genre:y.genre||"pop",language:y.language||"english",lyrics:y.lyrics||""},schedule:O}},buildLocalYoutubeMeta=c=>{var D,L,q,M,U,V,$,z,W,J;const u=((D=c.video)==null?void 0:D.action)||"video",d=(((L=c.video)==null?void 0:L.action)==="playing"||((q=c.video)==null?void 0:q.action)==="singing")&&((M=c.video)!=null&&M.instrument)?`with ${c.video.instrument}`:"",y=((U=c.video)==null?void 0:U.theme)||"vibe",O=((V=c.music)==null?void 0:V.genre)||"pop",T=Y=>/[^\x00-\x7F]/.test(Y)?"vibe":Y,v=T((Y=>(Y.split(/[\n,\/]/).map(H=>H.trim()).filter(Boolean)[0]||"vibe").slice(0,30))(y)),p=T(O),g=`${(($=c.video)==null?void 0:$.duration)||8}s`,w=((z=c.video)==null?void 0:z.aspectRatio)==="9:16"?"YouTube Shorts (9:16)":"YouTube (16:9)",R=`[AI] ${p} ${u} | ${v}`,C=`AI-generated short.

Theme: ${v}
Genre: ${p}
${d?`Instrument: ${d}
`:""}Length: ${g}
Format: ${w}

#AI #${p} #${v} #music #shorts #AIGenerated`,N=["AI generated","AI music",p,v,d?d.replace("with ",""):null,((W=c.video)==null?void 0:W.aspectRatio)==="9:16"?"Shorts":"YouTube",((J=c.music)==null?void 0:J.language)==="japanese"?"Japanese":"English"].filter(Boolean).map(Y=>/[^\x00-\x7F]/.test(Y)?"AI":Y).join(", ");return{title:R,description:C,tags:N}};app.get("/api/cron/run-schedule",async c=>{var u;try{try{const M=await colSettings.limit(1).get();console.log(" Firestore ping ok. settings docs:",M.size)}catch(M){return logError(" Firestore ping failed",M),c.json({success:!1,error:M.message||"Firestore ping failed"},500)}const d=c.env.TIMEZONE||"Asia/Tokyo",y=await getScheduleDoc();if(!y||!y.enabled)return c.json({success:!0,message:"Scheduler disabled"});const O=getCurrentTimeInTz(d),T=getDateKeyInTz(d),E=timeToMinutes(O),v=[];if(y.slot1_enabled&&E>=timeToMinutes(y.slot1_time)&&v.push("slot1"),y.slot2_enabled&&E>=timeToMinutes(y.slot2_time)&&v.push("slot2"),v.length===0)return c.json({success:!0,message:`No slots due at ${O}`,debug:{currentTime:O,currentMinutes:E,slot1:{enabled:!!y.slot1_enabled,time:y.slot1_time,minutes:timeToMinutes(y.slot1_time)},slot2:{enabled:!!y.slot2_enabled,time:y.slot2_time,minutes:timeToMinutes(y.slot2_time)},dateKey:T}});const p=await getSettingsDoc()||{},g=new URL(c.req.url),w=`${g.protocol}//${g.host}`,R={},C=c.req.header("cf-access-client-id"),N=c.req.header("cf-access-client-secret");C&&N&&(R["CF-Access-Client-Id"]=C,R["CF-Access-Client-Secret"]=N);const D=[],L=M=>{if(!M)return 0;const U=Date.parse(M);if(!Number.isNaN(U))return U;const V=M.includes("T")?M:M.replace(" ","T"),$=V.endsWith("Z")?V:`${V}Z`,z=Date.parse($);return Number.isNaN(z)?0:z},q=L(y.updated_at);for(const M of v){const U=`${M}_${T}`,V=await colRuns.doc(U).get();if(V.exists){const W=L((u=V.data())==null?void 0:u.created_at);if(q<=W){D.push({slot:M,skipped:!0,reason:"already executed"});continue}else await colRuns.doc(U).delete()}const $=buildConfigFromSettings(p,y,M);let z=buildLocalYoutubeMeta($);try{const W=await fetch(`${w}/api/generate-youtube-settings`,{method:"POST",headers:{"Content-Type":"application/json",...R},body:JSON.stringify($)});if(W.ok){const J=await W.json();J.success&&J.youtube&&(z=J.youtube)}}catch(W){console.warn("generate-youtube-settings fallback:",(W==null?void 0:W.message)||W)}$.youtube=z;try{const W=await fetch(`${w}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json",...R},body:JSON.stringify($)}),J=await W.json();if(!W.ok||!J.success)throw new Error(J.error||"generate failed");await colRuns.doc(U).set({slot:M,run_date:T,created_at:new Date().toISOString()}),D.push({slot:M,jobId:J.jobId})}catch(W){D.push({slot:M,error:W.message})}}return c.json({success:!0,now:O,date:T,results:D})}catch(d){return logError(" run-schedule error",d),c.json({success:!1,error:d.message},500)}});app.get("/api/debug/schedule-runs",async c=>{try{const d=(await colRuns.orderBy("created_at","desc").limit(20).get()).docs.map(E=>E.data()),y=await getScheduleDoc(),T=(await colJobs.orderBy("created_at","desc").limit(20).get()).docs.map(E=>E.data());return c.json({success:!0,schedule:y||null,runs:d||[],jobs:T||[]})}catch(u){return console.error(" debug schedule runs error:",u),c.json({success:!1,error:u.message},500)}});const getSoraSize=c=>c==="16:9"?"1280x720":"720x1280",getSoraSeconds=c=>{const u=["4","8","12"],d=String(c||"").trim();return u.includes(d)?d:d==="5"?"4":d==="10"?"12":"4"};app.get("/api/cron/process-jobs",async c=>{var u,d;try{const{OPENAI_API_KEY:y}=c.env;if(!y)return c.json({success:!1,error:"OPENAI_API_KEY not configured"},500);const T=(await colJobs.where("status","==","pending").orderBy("created_at").limit(5).get()).docs.map(v=>v.data());if(!T||T.length===0)return c.json({success:!0,message:"No pending jobs"});console.log(` Processing ${T.length} pending jobs`);const E=new OpenAI({apiKey:y});for(const v of T)try{await colJobs.doc(v.job_id).update({status:"processing",started_at:nowMs()}),console.log(` Starting video generation for job: ${v.job_id}`);const p=v.config||{},g=getSoraSize((u=p.video)==null?void 0:u.aspectRatio),w=getSoraSeconds((d=p.video)==null?void 0:d.duration),R=await E.videos.create({model:"sora-2",prompt:v.prompt,size:g,seconds:w});await colJobs.doc(v.job_id).update({config:{...p,videoId:R.id,size:g}}),console.log(` Video generation started for job: ${v.job_id}, video: ${R.id}`)}catch(p){console.error(` Failed to start job ${v.job_id}:`,p.message),await colJobs.doc(v.job_id).update({status:"failed",error_message:p.message,completed_at:nowMs()})}return c.json({success:!0,processed:T.length})}catch(y){return console.error(" Cron processing error:",y),c.json({success:!1,error:y.message},500)}});app.get("/api/cron/check-jobs",async c=>{var u,d,y,O;try{const{OPENAI_API_KEY:T}=c.env;if(!T)return c.json({success:!1,error:"OPENAI_API_KEY not configured"},500);const v=(await colJobs.where("status","==","processing").orderBy("started_at").limit(10).get()).docs.map(V=>V.data());v.length===0?console.log(" No processing jobs; running upload retries only"):console.log(` Checking ${v.length} processing jobs`);const p=new OpenAI({apiKey:T}),g={},w=c.req.header("cf-access-client-id"),R=c.req.header("cf-access-client-secret");w&&R&&(g["CF-Access-Client-Id"]=w,g["CF-Access-Client-Secret"]=R);for(const V of v)try{const $=V.config||{};if(!$.videoId){console.log(` No video id for job: ${V.job_id}`);continue}const z=await p.videos.retrieve($.videoId);if(z.status==="completed"){console.log(` Job ${V.job_id} completed`);const W=c.req.header("host"),J=W?`https://${W}/api/video/${$.videoId}/content`:`/api/video/${$.videoId}/content`;if(await colJobs.doc(V.job_id).update({status:"completed",video_url:J,completed_at:nowMs()}),console.log(` Video URL saved for job: ${V.job_id}`),!$.youtube)try{$.youtube=buildLocalYoutubeMeta($)}catch{}if(((u=$.schedule)==null?void 0:u.enabled)&&$.youtube&&!$.youtubeUploaded)try{const Q={},H=c.req.header("cf-access-client-id"),te=c.req.header("cf-access-client-secret");H&&te&&(Q["CF-Access-Client-Id"]=H,Q["CF-Access-Client-Secret"]=te);const ne=W?`https://${W}`:"",ie=await(await fetch(`${ne}/api/youtube-upload`,{method:"POST",headers:{"Content-Type":"application/json",...Q},body:JSON.stringify({videoUrl:J,youtube:$.youtube,privacy:((d=$.schedule)==null?void 0:d.privacy)||"public"})})).json();ie.success?(console.log(` YouTube upload success for job ${V.job_id}: ${ie.videoId}`),await colJobs.doc(V.job_id).update({config:{...$,youtubeUploaded:!0,youtubeVideoId:ie.videoId}})):console.warn(` YouTube upload failed for job ${V.job_id}: ${ie.error||"unknown"}`)}catch(Q){console.error(` YouTube upload exception for job ${V.job_id}:`,Q.message)}}else{if(z.status==="failed")throw new Error(((y=z.error)==null?void 0:y.message)||"Video generation failed");console.log(` Job ${V.job_id} still processing...`)}}catch($){console.error(` Failed to check job ${V.job_id}:`,$.message),await colJobs.doc(V.job_id).update({status:"failed",error_message:$.message,completed_at:nowMs()})}const N=(await colJobs.where("status","==","completed").orderBy("completed_at","desc").limit(20).get()).docs.map(V=>V.data()).filter(V=>{var z;const $=V.config||{};return((z=$==null?void 0:$.schedule)==null?void 0:z.enabled)&&($==null?void 0:$.youtube)&&!($!=null&&$.youtubeUploaded)}).slice(0,5),D={},L=c.req.header("cf-access-client-id"),q=c.req.header("cf-access-client-secret");L&&q&&(D["CF-Access-Client-Id"]=L,D["CF-Access-Client-Secret"]=q);const M=c.req.header("host"),U=M?`https://${M}`:"";for(const V of N||[])try{const $=V.config||{},z=V.video_url||(M?`https://${M}/api/video/${$.videoId}/content`:"");if(!z)continue;const J=await(await fetch(`${U}/api/youtube-upload`,{method:"POST",headers:{"Content-Type":"application/json",...g},body:JSON.stringify({videoUrl:z,youtube:$.youtube,privacy:((O=$.schedule)==null?void 0:O.privacy)||"public"})})).json();J.success?(console.log(` YouTube upload retry success for job ${V.job_id}: ${J.videoId}`),await colJobs.doc(V.job_id).update({config:{...$,youtubeUploaded:!0,youtubeVideoId:J.videoId}})):(console.warn(` YouTube upload retry failed for job ${V.job_id}: ${J.error||"unknown"}`),await colJobs.doc(V.job_id).update({config:{...$,youtubeUploadError:J.error||"unknown"}}))}catch($){console.error(` YouTube upload retry exception for job ${V.job_id}:`,$.message)}return c.json({success:!0,checked:v.length,retried:(N==null?void 0:N.length)||0})}catch(T){return console.error(" Cron checking error:",T),c.json({success:!1,error:T.message},500)}});app.post("/api/youtube-upload",async c=>{try{const{videoUrl:u,youtube:d,privacy:y}=await c.req.json(),{YOUTUBE_CLIENT_ID:O,YOUTUBE_CLIENT_SECRET:T,YOUTUBE_REFRESH_TOKEN:E,OPENAI_API_KEY:v}=c.env;if(!O||!T||!E)return c.json({success:!1,error:"YouTube credentials not configured"},500);const p=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:O,client_secret:T,refresh_token:E,grant_type:"refresh_token"})});if(!p.ok)throw new Error(`Failed to refresh token: ${p.status}`);const w=(await p.json()).access_token,R=c.req.header("host"),C=u!=null&&u.startsWith("http")?u:`https://${R}${u}`;let N,D="video/mp4";const L=C.match(/\/api\/video\/(.+?)\/content/);if(L){if(!v)throw new Error("OPENAI_API_KEY not set for direct video fetch");const de=`https://api.openai.com/v1/videos/${L[1]}/content`,ge=await fetch(de,{headers:{Authorization:`Bearer ${v}`}});if(!ge.ok)throw new Error(`Failed to fetch video from OpenAI: ${ge.status}`);D=ge.headers.get("content-type")||"video/mp4",N=await ge.arrayBuffer()}else{const fe=await fetch(C);if(!fe.ok)throw new Error(`Failed to fetch video: ${fe.status}`);if(D=fe.headers.get("content-type")||"",!D.includes("video")){const de=await fe.text();throw new Error(`Unexpected content-type: ${D}. Status: ${fe.status}. Snippet: ${de.substring(0,200)}`)}N=await fe.arrayBuffer(),D=D||"video/mp4"}const q={title:"Test Upload from API",description:"AI generated short video.",tags:""},M=d||{},U=(M.title||"").trim()||q.title,V=(M.description||"").trim()||q.description,z=(M.tags?M.tags.split(",").map(fe=>fe.trim()).filter(Boolean):[]).filter(Boolean),W=(fe,de)=>fe.length>de?fe.substring(0,de):fe,J=W(U,60),Y=W(V,4e3),Q=z.slice(0,8).map(fe=>W(fe,30)),H={snippet:{title:J,description:Y,categoryId:"24"},status:{privacyStatus:y||"unlisted"}};Q.length>0&&(H.snippet.tags=Q),console.log(" YouTube metadata payload",JSON.stringify(H));const te="video/mp4",ne=await fetch("https://www.googleapis.com/upload/youtube/v3/videos?uploadType=resumable&part=snippet,status",{method:"POST",headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json; charset=UTF-8","X-Upload-Content-Type":te,"X-Upload-Content-Length":String(N.byteLength)},body:JSON.stringify(H)});if(!ne.ok){const fe=await ne.text();throw new Error(`Failed to start upload: ${ne.status} ${fe.substring(0,200)}`)}const oe=ne.headers.get("location");if(!oe)throw new Error("Upload URL not provided");const ie=await fetch(oe,{method:"PUT",headers:{Authorization:`Bearer ${w}`,"Content-Type":te,"Content-Length":String(N.byteLength)},body:Buffer$1.from(N)});if(!ie.ok){const fe=await ie.text();throw new Error(`Upload failed: ${ie.status} ${fe}`)}const ue=(await ie.json()).id;return c.json({success:!0,videoId:ue})}catch(u){return console.error(" YouTube upload error:",u),c.json({success:!1,error:u.message},500)}});app.post("/api/settings",async c=>{try{const u=await c.req.json();return await saveSettingsDoc(u),c.json({success:!0})}catch(u){return console.error(" save settings error:",u),c.json({success:!1,error:u.message},500)}});app.get("/api/settings",async c=>{try{const u=await getSettingsDoc();return u?c.json({success:!0,settings:u}):c.json({success:!0,settings:null})}catch(u){return console.error(" get settings error:",u),c.json({success:!1,error:u.message},500)}});app.get("/api/video/:videoId/content",async c=>{const{OPENAI_API_KEY:u}=c.env,d=c.req.param("videoId");if(!u)return c.json({success:!1,error:"OPENAI_API_KEY not configured"},500);try{const y=await fetch(`https://api.openai.com/v1/videos/${d}/content`,{headers:{Authorization:`Bearer ${u}`}});if(!y.ok||!y.body)throw new Error(`Failed to fetch video content: ${y.status} ${y.statusText}`);return new Response(y.body,{status:200,headers:{"Content-Type":y.headers.get("content-type")||"video/mp4"}})}catch(y){return console.error(" Video proxy error:",y),c.json({success:!1,error:y.message},500)}});app.get("/oauth2callback",async c=>{const u=c.req.query("code"),{YOUTUBE_CLIENT_ID:d,YOUTUBE_CLIENT_SECRET:y}=c.env;if(!u)return c.html("<p>Missing ?code in query.</p>");if(!d||!y)return c.html("<p>YOUTUBE_CLIENT_ID / YOUTUBE_CLIENT_SECRET not set.</p>");try{const O=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:u,client_id:d,client_secret:y,redirect_uri:`${c.req.url.split("?")[0]}`,grant_type:"authorization_code"})});if(!O.ok){const g=await O.text();throw new Error(`Token exchange failed: ${O.status} ${g}`)}const T=await O.json(),E=T.refresh_token,v=T.access_token,p=T.expires_in;return c.html(`
      <h2>YouTube OAuth Success</h2>
      <p><strong>Refresh Token (save to Cloudflare Pages Secret):</strong></p>
      <pre style="background:#f5f5f5;padding:8px;">${E||"(not returned)"}</pre>
      <p>Access Token (temporary):</p>
      <pre style="background:#f5f5f5;padding:8px;">${v}</pre>
      <p>expires_in: ${p}</p>
      <p>Next: set <code>YOUTUBE_REFRESH_TOKEN</code> with wrangler pages secret put, then remove this callback if.</p>
    `)}catch(O){return c.html(`<p>OAuth error: ${O.message}</p>`)}});app.get("/api/debug/jobs",async c=>{try{const d=(await colJobs.orderBy("created_at","desc").limit(5).get()).docs.map(y=>{var E;const O=y.data(),T=O.config||{};return{job_id:O.job_id,status:O.status,error_message:O.error_message,video_url:O.video_url,created_at:O.created_at,completed_at:O.completed_at,youtube_title:(E=T==null?void 0:T.youtube)==null?void 0:E.title,youtube_uploaded:T==null?void 0:T.youtubeUploaded,youtube_video_id:T==null?void 0:T.youtubeVideoId}});return c.json({success:!0,jobs:d})}catch(u){return c.json({success:!1,error:u.message},500)}});app.get("/",c=>c.render(jsxDEV("div",{class:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[jsxDEV("header",{class:"bg-white shadow-sm border-b border-gray-200",children:jsxDEV("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:jsxDEV("div",{class:"flex items-center justify-between",children:[jsxDEV("div",{class:"flex items-center space-x-3",children:[jsxDEV("i",{class:"fas fa-video text-3xl text-purple-600"}),jsxDEV("div",{children:[jsxDEV("h1",{class:"text-3xl font-bold text-gray-900",children:"AI"}),jsxDEV("p",{class:"text-sm text-orange-600 font-semibold mt-1",children:[jsxDEV("i",{class:"fas fa-flask mr-1"}),"ver 1.1.5"]})]})]}),jsxDEV("div",{class:"flex items-center space-x-4",children:jsxDEV("a",{href:"https://www.youtube.com/@4directionsApproachRecords",target:"_blank",rel:"noopener noreferrer",class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[jsxDEV("i",{class:"fab fa-youtube mr-2"}),""]})})]})})}),jsxDEV("main",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:jsxDEV("div",{class:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[jsxDEV("div",{class:"lg:col-span-2 space-y-6",children:[jsxDEV("div",{class:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[jsxDEV("div",{class:"flex items-center mb-6",children:[jsxDEV("i",{class:"fas fa-user-circle text-2xl text-purple-600 mr-3"}),jsxDEV("h2",{class:"text-2xl font-bold text-gray-900",children:""})]}),jsxDEV("div",{class:"space-y-4",children:[jsxDEV("div",{class:"bg-purple-50 border border-purple-200 rounded-lg p-3 text-sm text-purple-800",children:"Sora API"}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("textarea",{id:"characterPrompt",rows:"4",placeholder:": ",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),jsxDEV("div",{class:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[jsxDEV("div",{class:"flex items-center mb-6",children:[jsxDEV("i",{class:"fas fa-film text-2xl text-blue-600 mr-3"}),jsxDEV("h2",{class:"text-2xl font-bold text-gray-900",children:""})]}),jsxDEV("div",{id:"randomSettings",class:"space-y-4 mb-6",children:[jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("div",{class:"grid grid-cols-2 gap-2 text-sm",id:"actionCandidates",children:[jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"singing",checked:!0,class:"action-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"dancing",checked:!0,class:"action-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"playing",checked:!0,class:"action-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"talking",checked:!0,class:"action-candidate"})," ",jsxDEV("span",{children:"/"})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"behind-the-scenes",class:"action-candidate"})," ",jsxDEV("span",{children:"behind-the-scenes on set"})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"art",class:"action-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"sport",class:"action-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"cooking",class:"action-candidate"})," ",jsxDEV("span",{children:""})]})]})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:"/"}),jsxDEV("div",{class:"grid grid-cols-2 gap-2 text-sm",id:"instrumentCandidates",children:[jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"acoustic-guitar",checked:!0,class:"instrument-candidate"})," ",jsxDEV("span",{children:"/"})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"piano",checked:!0,class:"instrument-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"drum",class:"instrument-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"violin",class:"instrument-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"flute",class:"instrument-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"synth",class:"instrument-candidate"})," ",jsxDEV("span",{children:""})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"ukulele",class:"instrument-candidate"})," ",jsxDEV("span",{children:""})]})]})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:"/"}),jsxDEV("textarea",{id:"themePool",rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"\\n\\n\\n"})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("div",{class:"flex flex-wrap gap-3 text-sm",id:"lengthCandidates",children:[jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"4",class:"length-candidate"})," ",jsxDEV("span",{children:"4"})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"8",class:"length-candidate",checked:!0})," ",jsxDEV("span",{children:"8"})]}),jsxDEV("label",{class:"flex items-center space-x-2",children:[jsxDEV("input",{type:"checkbox",value:"12",class:"length-candidate"})," ",jsxDEV("span",{children:"12"})]})]})]}),jsxDEV("div",{class:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3",children:[jsxDEV("div",{class:"text-sm text-gray-700",children:[": ",jsxDEV("span",{class:"font-semibold",children:""})]}),jsxDEV("button",{id:"shuffleBtn",class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:[jsxDEV("i",{class:"fas fa-random mr-2"}),""]})]})]}),jsxDEV("div",{class:"space-y-4",children:[jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("select",{id:"action",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxDEV("option",{value:"singing",children:""}),jsxDEV("option",{value:"dancing",children:""}),jsxDEV("option",{value:"talking",children:""}),jsxDEV("option",{value:"playing",children:""}),jsxDEV("option",{value:"behind-the-scenes",children:"behind-the-scenes on set"}),jsxDEV("option",{value:"art",children:""}),jsxDEV("option",{value:"sport",children:""}),jsxDEV("option",{value:"cooking",children:""})]})]}),jsxDEV("div",{id:"instrumentSection",children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("select",{id:"instrument",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxDEV("option",{value:"acoustic-guitar",children:""}),jsxDEV("option",{value:"piano",children:""}),jsxDEV("option",{value:"drum",children:"/"}),jsxDEV("option",{value:"flute",children:""}),jsxDEV("option",{value:"electric-guitar",children:""}),jsxDEV("option",{value:"violin",children:""}),jsxDEV("option",{value:"ukulele",children:""})]})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("input",{type:"text",id:"theme",placeholder:": ...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("div",{class:"flex space-x-4",children:[jsxDEV("label",{class:"flex items-center",children:[jsxDEV("input",{type:"radio",name:"aspect",value:"9:16",checked:!0,class:"mr-2"}),jsxDEV("span",{class:"text-sm",children:"9:16 ()"})]}),jsxDEV("label",{class:"flex items-center",children:[jsxDEV("input",{type:"radio",name:"aspect",value:"16:9",class:"mr-2"}),jsxDEV("span",{class:"text-sm",children:"16:9 ()"})]})]})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("select",{id:"duration",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxDEV("option",{value:"4",children:"4"}),jsxDEV("option",{value:"8",selected:!0,children:"8"}),jsxDEV("option",{value:"12",children:"12"})]})]}),jsxDEV("div",{class:"flex justify-end pt-2",children:jsxDEV("button",{id:"saveContentBtn",class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:[jsxDEV("i",{class:"fas fa-save mr-2"}),""]})})]})]}),jsxDEV("div",{class:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[jsxDEV("div",{class:"flex items-center mb-6",children:[jsxDEV("i",{class:"fas fa-music text-2xl text-green-600 mr-3"}),jsxDEV("h2",{class:"text-2xl font-bold text-gray-900",children:""})]}),jsxDEV("div",{class:"space-y-4",children:[jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("select",{id:"genre",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[jsxDEV("option",{value:"pop",children:""}),jsxDEV("option",{value:"ballad",children:""}),jsxDEV("option",{value:"rock",children:""}),jsxDEV("option",{value:"folk",children:""}),jsxDEV("option",{value:"jazz",children:""}),jsxDEV("option",{value:"acoustic",children:""})]})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("div",{class:"flex space-x-4",children:[jsxDEV("label",{class:"flex items-center",children:[jsxDEV("input",{type:"radio",name:"language",value:"english",checked:!0,class:"mr-2"}),jsxDEV("span",{class:"text-sm",children:""})]}),jsxDEV("label",{class:"flex items-center",children:[jsxDEV("input",{type:"radio",name:"language",value:"japanese",class:"mr-2"}),jsxDEV("span",{class:"text-sm",children:""})]})]})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("textarea",{id:"lyrics",rows:"6",placeholder:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),jsxDEV("div",{class:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[jsxDEV("div",{class:"flex items-center justify-between mb-6",children:[jsxDEV("div",{class:"flex items-center",children:[jsxDEV("i",{class:"fas fa-calendar-alt text-2xl text-orange-600 mr-3"}),jsxDEV("h2",{class:"text-2xl font-bold text-gray-900",children:""})]}),jsxDEV("span",{class:"text-sm text-gray-500",children:"()"})]}),jsxDEV("div",{id:"schedulerContent",style:"display:block;",children:jsxDEV("div",{class:"space-y-4",children:[jsxDEV("div",{class:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[jsxDEV("div",{class:"flex items-center mb-2",children:[jsxDEV("i",{class:"fas fa-repeat text-orange-600 mr-2"}),jsxDEV("span",{class:"text-sm font-semibold text-orange-900",children:"2"})]}),jsxDEV("p",{class:"text-xs text-orange-800",children:"2"})]}),jsxDEV("div",{class:"border border-gray-200 rounded-lg p-4",children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2 flex items-center justify-between",children:[jsxDEV("span",{children:"1"}),jsxDEV("label",{class:"flex items-center text-xs",children:[jsxDEV("input",{type:"checkbox",id:"enableSlot1",class:"mr-2",checked:!0}),""]})]}),jsxDEV("input",{type:"time",id:"dailyPostTime",value:"09:00",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),jsxDEV("div",{class:"border border-gray-200 rounded-lg p-4",children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2 flex items-center justify-between",children:[jsxDEV("span",{children:"2"}),jsxDEV("label",{class:"flex items-center text-xs",children:[jsxDEV("input",{type:"checkbox",id:"enableSlot2",class:"mr-2"}),""]})]}),jsxDEV("input",{type:"time",id:"dailyPostTime2",value:"18:00",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),jsxDEV("div",{children:[jsxDEV("label",{class:"block text-sm font-semibold text-gray-700 mb-2",children:""}),jsxDEV("select",{id:"privacy",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[jsxDEV("option",{value:"public",children:""}),jsxDEV("option",{value:"unlisted",children:""}),jsxDEV("option",{value:"private",children:""})]})]}),jsxDEV("button",{id:"saveScheduleBtn",class:"w-full bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-700 transition",children:[jsxDEV("i",{class:"fas fa-calendar-check mr-2"}),""]})]})}),jsxDEV("div",{id:"schedulerDisabled",class:"hidden"}),jsxDEV("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:jsxDEV("div",{class:"flex items-start",children:[jsxDEV("i",{class:"fas fa-info-circle text-blue-600 mr-2 mt-1"}),jsxDEV("div",{class:"text-sm text-blue-800",children:[jsxDEV("p",{class:"font-semibold mb-1",children:"YouTube"}),jsxDEV("p",{class:"text-xs",children:"AI"})]})]})})]}),jsxDEV("div",{children:[jsxDEV("button",{id:"generateBtn",class:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:from-purple-700 hover:to-blue-700 transition shadow-lg",children:[jsxDEV("i",{class:"fas fa-magic mr-2"}),jsxDEV("span",{id:"generateBtnText",children:""})]}),jsxDEV("p",{class:"text-xs text-gray-500 text-center mt-2",children:""})]})]}),jsxDEV("div",{class:"lg:col-span-1 space-y-6",children:jsxDEV("div",{class:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 sticky top-8",children:[jsxDEV("div",{class:"flex items-center mb-4",children:[jsxDEV("i",{class:"fas fa-eye text-xl text-gray-600 mr-2"}),jsxDEV("h3",{class:"text-lg font-bold text-gray-900",children:""})]}),jsxDEV("div",{id:"videoPreview",class:"bg-gray-100 rounded-lg aspect-[9/16] flex items-center justify-center",children:jsxDEV("div",{class:"text-center text-gray-400",children:[jsxDEV("i",{class:"fas fa-video text-4xl mb-2"}),jsxDEV("p",{class:"text-sm",children:""})]})}),jsxDEV("div",{id:"generationStatus",class:"mt-4 hidden",children:jsxDEV("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[jsxDEV("div",{class:"flex items-center",children:[jsxDEV("i",{class:"fas fa-spinner fa-spin text-blue-600 mr-2"}),jsxDEV("span",{class:"text-sm font-semibold text-blue-800",children:"..."})]}),jsxDEV("div",{class:"mt-2 bg-blue-200 rounded-full h-2",children:jsxDEV("div",{class:"bg-blue-600 h-2 rounded-full",style:"width: 0%",id:"progressBar"})})]})})]})}),jsxDEV("div",{class:"lg:col-span-1 space-y-6",children:jsxDEV("div",{class:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[jsxDEV("div",{class:"flex items-center mb-4",children:[jsxDEV("i",{class:"fab fa-youtube text-xl text-red-600 mr-2"}),jsxDEV("h3",{class:"text-lg font-bold text-gray-900",children:"YouTube"})]}),jsxDEV("div",{id:"youtubeSettingsPreview",class:"space-y-3",children:jsxDEV("div",{class:"text-center text-gray-400 py-6",children:[jsxDEV("i",{class:"fas fa-robot text-3xl mb-2"}),jsxDEV("p",{class:"text-sm",children:"AI"}),jsxDEV("p",{class:"text-xs mt-1",children:""})]})}),jsxDEV("div",{class:"mt-4 bg-gray-50 border border-gray-200 rounded-lg p-3 text-xs text-gray-700",children:[jsxDEV("p",{class:"font-semibold mb-1",children:"Debug Info"}),jsxDEV("div",{class:"space-y-1",children:[jsxDEV("div",{children:["Video URL: ",jsxDEV("span",{id:"debugVideoUrl",children:"-"})]}),jsxDEV("div",{children:"Category: -"}),jsxDEV("div",{children:"Playlist: - (disabled)"}),jsxDEV("div",{children:["Privacy: ",jsxDEV("span",{id:"debugPrivacy",children:"-"})]}),jsxDEV("div",{children:["YouTube Upload: ",jsxDEV("span",{id:"debugYoutubeStatus",children:"-"})]}),jsxDEV("div",{children:["Settings Save: ",jsxDEV("span",{id:"debugSettingsSave",children:"-"})]}),jsxDEV("div",{children:["Settings Load: ",jsxDEV("span",{id:"debugSettingsLoad",children:"-"})]})]}),jsxDEV("div",{class:"mt-3",children:[jsxDEV("p",{class:"font-semibold mb-1",children:"Recent Jobs (5)"}),jsxDEV("div",{id:"debugJobsList",class:"space-y-1"})]})]})]})})]})}),jsxDEV("footer",{class:"bg-white border-t border-gray-200 mt-12",children:jsxDEV("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:jsxDEV("p",{class:"text-center text-gray-500 text-sm",children:" 2024 YouTube AI Video Auto-Upload System"})})}),jsxDEV("script",{src:"/static/app.js?v=1.1.5"})]})));app.onError((c,u)=>(logError(" unhandled error",c),u.json({success:!1,error:"internal_error"},500)));app.notFound(c=>c.text("Not Found",404));const worker=new Hono,modules=Object.assign({"/src/index.tsx":app});let added=!1;for(const[,c]of Object.entries(modules))c&&(worker.route("/",c),worker.notFound(c.notFoundHandler),added=!0);if(!added)throw new Error("Can't import modules from ['/src/index.tsx','/app/server.ts']");var dist$1={},browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var c=1e3,u=c*60,d=u*60,y=d*24,O=y*7,T=y*365.25;ms=function(w,R){R=R||{};var C=typeof w;if(C==="string"&&w.length>0)return E(w);if(C==="number"&&isFinite(w))return R.long?p(w):v(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function E(w){if(w=String(w),!(w.length>100)){var R=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(R){var C=parseFloat(R[1]),N=(R[2]||"ms").toLowerCase();switch(N){case"years":case"year":case"yrs":case"yr":case"y":return C*T;case"weeks":case"week":case"w":return C*O;case"days":case"day":case"d":return C*y;case"hours":case"hour":case"hrs":case"hr":case"h":return C*d;case"minutes":case"minute":case"mins":case"min":case"m":return C*u;case"seconds":case"second":case"secs":case"sec":case"s":return C*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}function v(w){var R=Math.abs(w);return R>=y?Math.round(w/y)+"d":R>=d?Math.round(w/d)+"h":R>=u?Math.round(w/u)+"m":R>=c?Math.round(w/c)+"s":w+"ms"}function p(w){var R=Math.abs(w);return R>=y?g(w,R,y,"day"):R>=d?g(w,R,d,"hour"):R>=u?g(w,R,u,"minute"):R>=c?g(w,R,c,"second"):w+" ms"}function g(w,R,C,N){var D=R>=C*1.5;return Math.round(w/C)+" "+N+(D?"s":"")}return ms}var common,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function c(u){y.debug=y,y.default=y,y.coerce=g,y.disable=v,y.enable=T,y.enabled=p,y.humanize=requireMs(),y.destroy=w,Object.keys(u).forEach(R=>{y[R]=u[R]}),y.names=[],y.skips=[],y.formatters={};function d(R){let C=0;for(let N=0;N<R.length;N++)C=(C<<5)-C+R.charCodeAt(N),C|=0;return y.colors[Math.abs(C)%y.colors.length]}y.selectColor=d;function y(R){let C,N=null,D,L;function q(...M){if(!q.enabled)return;const U=q,V=Number(new Date),$=V-(C||V);U.diff=$,U.prev=C,U.curr=V,C=V,M[0]=y.coerce(M[0]),typeof M[0]!="string"&&M.unshift("%O");let z=0;M[0]=M[0].replace(/%([a-zA-Z%])/g,(J,Y)=>{if(J==="%%")return"%";z++;const Q=y.formatters[Y];if(typeof Q=="function"){const H=M[z];J=Q.call(U,H),M.splice(z,1),z--}return J}),y.formatArgs.call(U,M),(U.log||y.log).apply(U,M)}return q.namespace=R,q.useColors=y.useColors(),q.color=y.selectColor(R),q.extend=O,q.destroy=y.destroy,Object.defineProperty(q,"enabled",{enumerable:!0,configurable:!1,get:()=>N!==null?N:(D!==y.namespaces&&(D=y.namespaces,L=y.enabled(R)),L),set:M=>{N=M}}),typeof y.init=="function"&&y.init(q),q}function O(R,C){const N=y(this.namespace+(typeof C>"u"?":":C)+R);return N.log=this.log,N}function T(R){y.save(R),y.namespaces=R,y.names=[],y.skips=[];const C=(typeof R=="string"?R:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const N of C)N[0]==="-"?y.skips.push(N.slice(1)):y.names.push(N)}function E(R,C){let N=0,D=0,L=-1,q=0;for(;N<R.length;)if(D<C.length&&(C[D]===R[N]||C[D]==="*"))C[D]==="*"?(L=D,q=N,D++):(N++,D++);else if(L!==-1)D=L+1,q++,N=q;else return!1;for(;D<C.length&&C[D]==="*";)D++;return D===C.length}function v(){const R=[...y.names,...y.skips.map(C=>"-"+C)].join(",");return y.enable(""),R}function p(R){for(const C of y.skips)if(E(R,C))return!1;for(const C of y.names)if(E(R,C))return!0;return!1}function g(R){return R instanceof Error?R.stack||R.message:R}function w(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return y.enable(y.load()),y}return common=c,common}var hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,(function(c,u){var d={};u.formatArgs=O,u.save=T,u.load=E,u.useColors=y,u.storage=v(),u.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function y(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let g;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(g=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(g[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function O(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+c.exports.humanize(this.diff),!this.useColors)return;const w="color: "+this.color;g.splice(1,0,w,"color: inherit");let R=0,C=0;g[0].replace(/%[a-zA-Z%]/g,N=>{N!=="%%"&&(R++,N==="%c"&&(C=R))}),g.splice(C,0,w)}u.log=console.debug||console.log||(()=>{});function T(g){try{g?u.storage.setItem("debug",g):u.storage.removeItem("debug")}catch{}}function E(){let g;try{g=u.storage.getItem("debug")||u.storage.getItem("DEBUG")}catch{}return!g&&typeof process<"u"&&"env"in process&&(g=d.DEBUG),g}function v(){try{return localStorage}catch{}}c.exports=requireCommon()(u);const{formatters:p}=c.exports;p.j=function(g){try{return JSON.stringify(g)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}})(browser,browser.exports)),browser.exports}var dist={},helpers={},hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers;hasRequiredHelpers=1;var c=helpers&&helpers.__createBinding||(Object.create?(function(p,g,w,R){R===void 0&&(R=w);var C=Object.getOwnPropertyDescriptor(g,w);(!C||("get"in C?!g.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return g[w]}}),Object.defineProperty(p,R,C)}):(function(p,g,w,R){R===void 0&&(R=w),p[R]=g[w]})),u=helpers&&helpers.__setModuleDefault||(Object.create?(function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}):function(p,g){p.default=g}),d=helpers&&helpers.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var w in p)w!=="default"&&Object.prototype.hasOwnProperty.call(p,w)&&c(g,p,w);return u(g,p),g};Object.defineProperty(helpers,"__esModule",{value:!0}),helpers.req=helpers.json=helpers.toBuffer=void 0;const y=d(require$$5$3),O=d(require$$1$4);async function T(p){let g=0;const w=[];for await(const R of p)g+=R.length,w.push(R);return Buffer.concat(w,g)}helpers.toBuffer=T;async function E(p){const w=(await T(p)).toString("utf8");try{return JSON.parse(w)}catch(R){const C=R;throw C.message+=` (input: ${w})`,C}}helpers.json=E;function v(p,g={}){const R=((typeof p=="string"?p:p.href).startsWith("https:")?O:y).request(p,g),C=new Promise((N,D)=>{R.once("response",N).once("error",D).end()});return R.then=C.then.bind(C),R}return helpers.req=v,helpers}var hasRequiredDist$1;function requireDist$1(){return hasRequiredDist$1||(hasRequiredDist$1=1,(function(c){var u=dist&&dist.__createBinding||(Object.create?(function(w,R,C,N){N===void 0&&(N=C);var D=Object.getOwnPropertyDescriptor(R,C);(!D||("get"in D?!R.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return R[C]}}),Object.defineProperty(w,N,D)}):(function(w,R,C,N){N===void 0&&(N=C),w[N]=R[C]})),d=dist&&dist.__setModuleDefault||(Object.create?(function(w,R){Object.defineProperty(w,"default",{enumerable:!0,value:R})}):function(w,R){w.default=R}),y=dist&&dist.__importStar||function(w){if(w&&w.__esModule)return w;var R={};if(w!=null)for(var C in w)C!=="default"&&Object.prototype.hasOwnProperty.call(w,C)&&u(R,w,C);return d(R,w),R},O=dist&&dist.__exportStar||function(w,R){for(var C in w)C!=="default"&&!Object.prototype.hasOwnProperty.call(R,C)&&u(R,w,C)};Object.defineProperty(c,"__esModule",{value:!0}),c.Agent=void 0;const T=y(require$$0$a),E=y(require$$5$3),v=require$$1$4;O(requireHelpers(),c);const p=Symbol("AgentBaseInternalState");class g extends E.Agent{constructor(R){super(R),this[p]={}}isSecureEndpoint(R){if(R){if(typeof R.secureEndpoint=="boolean")return R.secureEndpoint;if(typeof R.protocol=="string")return R.protocol==="https:"}const{stack:C}=new Error;return typeof C!="string"?!1:C.split(`
`).some(N=>N.indexOf("(https.js:")!==-1||N.indexOf("node:https:")!==-1)}incrementSockets(R){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[R]||(this.sockets[R]=[]);const C=new T.Socket({writable:!1});return this.sockets[R].push(C),this.totalSocketCount++,C}decrementSockets(R,C){if(!this.sockets[R]||C===null)return;const N=this.sockets[R],D=N.indexOf(C);D!==-1&&(N.splice(D,1),this.totalSocketCount--,N.length===0&&delete this.sockets[R])}getName(R){return this.isSecureEndpoint(R)?v.Agent.prototype.getName.call(this,R):super.getName(R)}createSocket(R,C,N){const D={...C,secureEndpoint:this.isSecureEndpoint(C)},L=this.getName(D),q=this.incrementSockets(L);Promise.resolve().then(()=>this.connect(R,D)).then(M=>{if(this.decrementSockets(L,q),M instanceof E.Agent)try{return M.addRequest(R,D)}catch(U){return N(U)}this[p].currentSocket=M,super.createSocket(R,C,N)},M=>{this.decrementSockets(L,q),N(M)})}createConnection(){const R=this[p].currentSocket;if(this[p].currentSocket=void 0,!R)throw new Error("No socket was returned in the `connect()` function");return R}get defaultPort(){return this[p].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(R){this[p]&&(this[p].defaultPort=R)}get protocol(){return this[p].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(R){this[p]&&(this[p].protocol=R)}}c.Agent=g})(dist)),dist}var parseProxyResponse={},hasRequiredParseProxyResponse;function requireParseProxyResponse(){if(hasRequiredParseProxyResponse)return parseProxyResponse;hasRequiredParseProxyResponse=1;var c=parseProxyResponse&&parseProxyResponse.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(parseProxyResponse,"__esModule",{value:!0}),parseProxyResponse.parseProxyResponse=void 0;const d=(0,c(requireBrowser()).default)("https-proxy-agent:parse-proxy-response");function y(O){return new Promise((T,E)=>{let v=0;const p=[];function g(){const D=O.read();D?N(D):O.once("readable",g)}function w(){O.removeListener("end",R),O.removeListener("error",C),O.removeListener("readable",g)}function R(){w(),d("onend"),E(new Error("Proxy connection ended before receiving CONNECT response"))}function C(D){w(),d("onerror %o",D),E(D)}function N(D){p.push(D),v+=D.length;const L=Buffer.concat(p,v),q=L.indexOf(`\r
\r
`);if(q===-1){d("have not received end of HTTP headers yet..."),g();return}const M=L.slice(0,q).toString("ascii").split(`\r
`),U=M.shift();if(!U)return O.destroy(),E(new Error("No header received from proxy CONNECT response"));const V=U.split(" "),$=+V[1],z=V.slice(2).join(" "),W={};for(const J of M){if(!J)continue;const Y=J.indexOf(":");if(Y===-1)return O.destroy(),E(new Error(`Invalid header from proxy CONNECT response: "${J}"`));const Q=J.slice(0,Y).toLowerCase(),H=J.slice(Y+1).trimStart(),te=W[Q];typeof te=="string"?W[Q]=[te,H]:Array.isArray(te)?te.push(H):W[Q]=H}d("got proxy server response: %o %o",U,W),w(),T({connect:{statusCode:$,statusText:z,headers:W},buffered:L})}O.on("error",C),O.on("end",R),g()})}return parseProxyResponse.parseProxyResponse=y,parseProxyResponse}var hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist$1;hasRequiredDist=1;var c=dist$1&&dist$1.__createBinding||(Object.create?(function(q,M,U,V){V===void 0&&(V=U);var $=Object.getOwnPropertyDescriptor(M,U);(!$||("get"in $?!M.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return M[U]}}),Object.defineProperty(q,V,$)}):(function(q,M,U,V){V===void 0&&(V=U),q[V]=M[U]})),u=dist$1&&dist$1.__setModuleDefault||(Object.create?(function(q,M){Object.defineProperty(q,"default",{enumerable:!0,value:M})}):function(q,M){q.default=M}),d=dist$1&&dist$1.__importStar||function(q){if(q&&q.__esModule)return q;var M={};if(q!=null)for(var U in q)U!=="default"&&Object.prototype.hasOwnProperty.call(q,U)&&c(M,q,U);return u(M,q),M},y=dist$1&&dist$1.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(dist$1,"__esModule",{value:!0}),dist$1.HttpsProxyAgent=void 0;const O=d(require$$0$a),T=d(require$$1$8),E=y(require$$0$d),v=y(requireBrowser()),p=requireDist$1(),g=require$$6$3,w=requireParseProxyResponse(),R=(0,v.default)("https-proxy-agent"),C=q=>q.servername===void 0&&q.host&&!O.isIP(q.host)?{...q,servername:q.host}:q;class N extends p.Agent{constructor(M,U){super(U),this.options={path:void 0},this.proxy=typeof M=="string"?new g.URL(M):M,this.proxyHeaders=(U==null?void 0:U.headers)??{},R("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const V=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),$=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...U?L(U,"headers"):null,host:V,port:$}}async connect(M,U){const{proxy:V}=this;if(!U.host)throw new TypeError('No "host" provided');let $;V.protocol==="https:"?(R("Creating `tls.Socket`: %o",this.connectOpts),$=T.connect(C(this.connectOpts))):(R("Creating `net.Socket`: %o",this.connectOpts),$=O.connect(this.connectOpts));const z=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},W=O.isIPv6(U.host)?`[${U.host}]`:U.host;let J=`CONNECT ${W}:${U.port} HTTP/1.1\r
`;if(V.username||V.password){const ne=`${decodeURIComponent(V.username)}:${decodeURIComponent(V.password)}`;z["Proxy-Authorization"]=`Basic ${Buffer.from(ne).toString("base64")}`}z.Host=`${W}:${U.port}`,z["Proxy-Connection"]||(z["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const ne of Object.keys(z))J+=`${ne}: ${z[ne]}\r
`;const Y=(0,w.parseProxyResponse)($);$.write(`${J}\r
`);const{connect:Q,buffered:H}=await Y;if(M.emit("proxyConnect",Q),this.emit("proxyConnect",Q,M),Q.statusCode===200)return M.once("socket",D),U.secureEndpoint?(R("Upgrading socket connection to TLS"),T.connect({...L(C(U),"host","path","port"),socket:$})):$;$.destroy();const te=new O.Socket({writable:!1});return te.readable=!0,M.once("socket",ne=>{R("Replaying proxy buffer for failed request"),(0,E.default)(ne.listenerCount("data")>0),ne.push(H),ne.push(null)}),te}}N.protocols=["http","https"],dist$1.HttpsProxyAgent=N;function D(q){q.resume()}function L(q,...M){const U={};let V;for(V in q)M.includes(V)||(U[V]=q[V]);return U}return dist$1}var distExports=requireDist();const index$1=_mergeNamespaces({__proto__:null},[distExports]);function dataUriToBuffer(c){if(!/^data:/i.test(c))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');c=c.replace(/\r?\n/g,"");const u=c.indexOf(",");if(u===-1||u<=4)throw new TypeError("malformed data: URI");const d=c.substring(5,u).split(";");let y="",O=!1;const T=d[0]||"text/plain";let E=T;for(let w=1;w<d.length;w++)d[w]==="base64"?O=!0:d[w]&&(E+=`;${d[w]}`,d[w].indexOf("charset=")===0&&(y=d[w].substring(8)));!d[0]&&!y.length&&(E+=";charset=US-ASCII",y="US-ASCII");const v=O?"base64":"ascii",p=unescape(c.substring(u+1)),g=Buffer.from(p,v);return g.type=T,g.typeFull=E,g.charset=y,g}var streams={},ponyfill_es2018$1={exports:{}};/**
 * @license
 * web-streams-polyfill v3.3.3
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */var ponyfill_es2018=ponyfill_es2018$1.exports,hasRequiredPonyfill_es2018;function requirePonyfill_es2018(){return hasRequiredPonyfill_es2018||(hasRequiredPonyfill_es2018=1,(function(c,u){(function(d,y){y(u)})(ponyfill_es2018,(function(d){function y(){}function O(X){return typeof X=="object"&&X!==null||typeof X=="function"}const T=y;function E(X,se){try{Object.defineProperty(X,"name",{value:se,configurable:!0})}catch{}}const v=Promise,p=Promise.prototype.then,g=Promise.reject.bind(v);function w(X){return new v(X)}function R(X){return w(se=>se(X))}function C(X){return g(X)}function N(X,se,be){return p.call(X,se,be)}function D(X,se,be){N(N(X,se,be),void 0,T)}function L(X,se){D(X,se)}function q(X,se){D(X,void 0,se)}function M(X,se,be){return N(X,se,be)}function U(X){N(X,void 0,T)}let V=X=>{if(typeof queueMicrotask=="function")V=queueMicrotask;else{const se=R(void 0);V=be=>N(se,be)}return V(X)};function $(X,se,be){if(typeof X!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(X,se,be)}function z(X,se,be){try{return R($(X,se,be))}catch(Pe){return C(Pe)}}const W=16384;class J{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(se){const be=this._back;let Pe=be;be._elements.length===W-1&&(Pe={_elements:[],_next:void 0}),be._elements.push(se),Pe!==be&&(this._back=Pe,be._next=Pe),++this._size}shift(){const se=this._front;let be=se;const Pe=this._cursor;let De=Pe+1;const xe=se._elements,Fe=xe[Pe];return De===W&&(be=se._next,De=0),--this._size,this._cursor=De,se!==be&&(this._front=be),xe[Pe]=void 0,Fe}forEach(se){let be=this._cursor,Pe=this._front,De=Pe._elements;for(;(be!==De.length||Pe._next!==void 0)&&!(be===De.length&&(Pe=Pe._next,De=Pe._elements,be=0,De.length===0));)se(De[be]),++be}peek(){const se=this._front,be=this._cursor;return se._elements[be]}}const Y=Symbol("[[AbortSteps]]"),Q=Symbol("[[ErrorSteps]]"),H=Symbol("[[CancelSteps]]"),te=Symbol("[[PullSteps]]"),ne=Symbol("[[ReleaseSteps]]");function oe(X,se){X._ownerReadableStream=se,se._reader=X,se._state==="readable"?fe(X):se._state==="closed"?ge(X):de(X,se._storedError)}function ie(X,se){const be=X._ownerReadableStream;return Ar(be,se)}function ee(X){const se=X._ownerReadableStream;se._state==="readable"?me(X,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):_e(X,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),se._readableStreamController[ne](),se._reader=void 0,X._ownerReadableStream=void 0}function ue(X){return new TypeError("Cannot "+X+" a stream using a released reader")}function fe(X){X._closedPromise=w((se,be)=>{X._closedPromise_resolve=se,X._closedPromise_reject=be})}function de(X,se){fe(X),me(X,se)}function ge(X){fe(X),we(X)}function me(X,se){X._closedPromise_reject!==void 0&&(U(X._closedPromise),X._closedPromise_reject(se),X._closedPromise_resolve=void 0,X._closedPromise_reject=void 0)}function _e(X,se){de(X,se)}function we(X){X._closedPromise_resolve!==void 0&&(X._closedPromise_resolve(void 0),X._closedPromise_resolve=void 0,X._closedPromise_reject=void 0)}const Re=Number.isFinite||function(X){return typeof X=="number"&&isFinite(X)},Te=Math.trunc||function(X){return X<0?Math.ceil(X):Math.floor(X)};function Ae(X){return typeof X=="object"||typeof X=="function"}function Oe(X,se){if(X!==void 0&&!Ae(X))throw new TypeError(`${se} is not an object.`)}function ve(X,se){if(typeof X!="function")throw new TypeError(`${se} is not a function.`)}function Ee(X){return typeof X=="object"&&X!==null||typeof X=="function"}function he(X,se){if(!Ee(X))throw new TypeError(`${se} is not an object.`)}function l(X,se,be){if(X===void 0)throw new TypeError(`Parameter ${se} is required in '${be}'.`)}function P(X,se,be){if(X===void 0)throw new TypeError(`${se} is required in '${be}'.`)}function k(X){return Number(X)}function K(X){return X===0?0:X}function pe(X){return K(Te(X))}function Se(X,se){const Pe=Number.MAX_SAFE_INTEGER;let De=Number(X);if(De=K(De),!Re(De))throw new TypeError(`${se} is not a finite number`);if(De=pe(De),De<0||De>Pe)throw new TypeError(`${se} is outside the accepted range of 0 to ${Pe}, inclusive`);return!Re(De)||De===0?0:De}function ye(X,se){if(!bn(X))throw new TypeError(`${se} is not a ReadableStream.`)}function a(X){return new B(X)}function j(X,se){X._reader._readRequests.push(se)}function G(X,se,be){const De=X._reader._readRequests.shift();be?De._closeSteps():De._chunkSteps(se)}function o(X){return X._reader._readRequests.length}function I(X){const se=X._reader;return!(se===void 0||!ae(se))}class B{constructor(se){if(l(se,1,"ReadableStreamDefaultReader"),ye(se,"First parameter"),vn(se))throw new TypeError("This stream has already been locked for exclusive reading by another reader");oe(this,se),this._readRequests=new J}get closed(){return ae(this)?this._closedPromise:C(Ve("closed"))}cancel(se=void 0){return ae(this)?this._ownerReadableStream===void 0?C(ue("cancel")):ie(this,se):C(Ve("cancel"))}read(){if(!ae(this))return C(Ve("read"));if(this._ownerReadableStream===void 0)return C(ue("read from"));let se,be;const Pe=w((xe,Fe)=>{se=xe,be=Fe});return Ce(this,{_chunkSteps:xe=>se({value:xe,done:!1}),_closeSteps:()=>se({value:void 0,done:!0}),_errorSteps:xe=>be(xe)}),Pe}releaseLock(){if(!ae(this))throw Ve("releaseLock");this._ownerReadableStream!==void 0&&Ue(this)}}Object.defineProperties(B.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),E(B.prototype.cancel,"cancel"),E(B.prototype.read,"read"),E(B.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(B.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function ae(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_readRequests")?!1:X instanceof B}function Ce(X,se){const be=X._ownerReadableStream;be._disturbed=!0,be._state==="closed"?se._closeSteps():be._state==="errored"?se._errorSteps(be._storedError):be._readableStreamController[te](se)}function Ue(X){ee(X);const se=new TypeError("Reader was released");He(X,se)}function He(X,se){const be=X._readRequests;X._readRequests=new J,be.forEach(Pe=>{Pe._errorSteps(se)})}function Ve(X){return new TypeError(`ReadableStreamDefaultReader.prototype.${X} can only be used on a ReadableStreamDefaultReader`)}const Ke=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class st{constructor(se,be){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=se,this._preventCancel=be}next(){const se=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?M(this._ongoingPromise,se,se):se(),this._ongoingPromise}return(se){const be=()=>this._returnSteps(se);return this._ongoingPromise?M(this._ongoingPromise,be,be):be()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const se=this._reader;let be,Pe;const De=w((Fe,Ge)=>{be=Fe,Pe=Ge});return Ce(se,{_chunkSteps:Fe=>{this._ongoingPromise=void 0,V(()=>be({value:Fe,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ee(se),be({value:void 0,done:!0})},_errorSteps:Fe=>{this._ongoingPromise=void 0,this._isFinished=!0,ee(se),Pe(Fe)}}),De}_returnSteps(se){if(this._isFinished)return Promise.resolve({value:se,done:!0});this._isFinished=!0;const be=this._reader;if(!this._preventCancel){const Pe=ie(be,se);return ee(be),M(Pe,()=>({value:se,done:!0}))}return ee(be),R({value:se,done:!0})}}const vt={next(){return yt(this)?this._asyncIteratorImpl.next():C(tt("next"))},return(X){return yt(this)?this._asyncIteratorImpl.return(X):C(tt("return"))}};Object.setPrototypeOf(vt,Ke);function ft(X,se){const be=a(X),Pe=new st(be,se),De=Object.create(vt);return De._asyncIteratorImpl=Pe,De}function yt(X){if(!O(X)||!Object.prototype.hasOwnProperty.call(X,"_asyncIteratorImpl"))return!1;try{return X._asyncIteratorImpl instanceof st}catch{return!1}}function tt(X){return new TypeError(`ReadableStreamAsyncIterator.${X} can only be used on a ReadableSteamAsyncIterator`)}const ke=Number.isNaN||function(X){return X!==X};var je,Ne,Me;function Be(X){return X.slice()}function Je(X,se,be,Pe,De){new Uint8Array(X).set(new Uint8Array(be,Pe,De),se)}let et=X=>(typeof X.transfer=="function"?et=se=>se.transfer():typeof structuredClone=="function"?et=se=>structuredClone(se,{transfer:[se]}):et=se=>se,et(X)),rt=X=>(typeof X.detached=="boolean"?rt=se=>se.detached:rt=se=>se.byteLength===0,rt(X));function Le(X,se,be){if(X.slice)return X.slice(se,be);const Pe=be-se,De=new ArrayBuffer(Pe);return Je(De,0,X,se,Pe),De}function $e(X,se){const be=X[se];if(be!=null){if(typeof be!="function")throw new TypeError(`${String(se)} is not a function`);return be}}function Ye(X){const se={[Symbol.iterator]:()=>X.iterator},be=(async function*(){return yield*se})(),Pe=be.next;return{iterator:be,nextMethod:Pe,done:!1}}const lt=(Me=(je=Symbol.asyncIterator)!==null&&je!==void 0?je:(Ne=Symbol.for)===null||Ne===void 0?void 0:Ne.call(Symbol,"Symbol.asyncIterator"))!==null&&Me!==void 0?Me:"@@asyncIterator";function ot(X,se="sync",be){if(be===void 0)if(se==="async"){if(be=$e(X,lt),be===void 0){const xe=$e(X,Symbol.iterator),Fe=ot(X,"sync",xe);return Ye(Fe)}}else be=$e(X,Symbol.iterator);if(be===void 0)throw new TypeError("The object is not iterable");const Pe=$(be,X,[]);if(!O(Pe))throw new TypeError("The iterator method must return an object");const De=Pe.next;return{iterator:Pe,nextMethod:De,done:!1}}function Et(X){const se=$(X.nextMethod,X.iterator,[]);if(!O(se))throw new TypeError("The iterator.next() method must return an object");return se}function kt(X){return!!X.done}function jr(X){return X.value}function $r(X){return!(typeof X!="number"||ke(X)||X<0)}function Tt(X){const se=Le(X.buffer,X.byteOffset,X.byteOffset+X.byteLength);return new Uint8Array(se)}function br(X){const se=X._queue.shift();return X._queueTotalSize-=se.size,X._queueTotalSize<0&&(X._queueTotalSize=0),se.value}function sr(X,se,be){if(!$r(be)||be===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");X._queue.push({value:se,size:be}),X._queueTotalSize+=be}function Rt(X){return X._queue.peek().value}function mt(X){X._queue=new J,X._queueTotalSize=0}function vr(X){return X===DataView}function dn(X){return vr(X.constructor)}function pn(X){return vr(X)?1:X.BYTES_PER_ELEMENT}class It{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Ft(this))throw Sr("view");return this._view}respond(se){if(!Ft(this))throw Sr("respond");if(l(se,1,"respond"),se=Se(se,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(rt(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Mt(this._associatedReadableByteStreamController,se)}respondWithNewView(se){if(!Ft(this))throw Sr("respondWithNewView");if(l(se,1,"respondWithNewView"),!ArrayBuffer.isView(se))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(rt(se.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Yt(this._associatedReadableByteStreamController,se)}}Object.defineProperties(It.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),E(It.prototype.respond,"respond"),E(It.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(It.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Pt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ht(this))throw bt("byobRequest");return Or(this)}get desiredSize(){if(!Ht(this))throw bt("desiredSize");return Mr(this)}close(){if(!Ht(this))throw bt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const se=this._controlledReadableByteStream._state;if(se!=="readable")throw new TypeError(`The stream (in ${se} state) is not in the readable state and cannot be closed`);Ct(this)}enqueue(se){if(!Ht(this))throw bt("enqueue");if(l(se,1,"enqueue"),!ArrayBuffer.isView(se))throw new TypeError("chunk must be an array buffer view");if(se.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(se.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const be=this._controlledReadableByteStream._state;if(be!=="readable")throw new TypeError(`The stream (in ${be} state) is not in the readable state and cannot be enqueued to`);ct(this,se)}error(se=void 0){if(!Ht(this))throw bt("error");gt(this,se)}[H](se){xr(this),mt(this);const be=this._cancelAlgorithm(se);return tr(this),be}[te](se){const be=this._controlledReadableByteStream;if(this._queueTotalSize>0){dt(this,se);return}const Pe=this._autoAllocateChunkSize;if(Pe!==void 0){let De;try{De=new ArrayBuffer(Pe)}catch(Fe){se._errorSteps(Fe);return}const xe={buffer:De,bufferByteLength:Pe,byteOffset:0,byteLength:Pe,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(xe)}j(be,se),Wt(this)}[ne](){if(this._pendingPullIntos.length>0){const se=this._pendingPullIntos.peek();se.readerType="none",this._pendingPullIntos=new J,this._pendingPullIntos.push(se)}}}Object.defineProperties(Pt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),E(Pt.prototype.close,"close"),E(Pt.prototype.enqueue,"enqueue"),E(Pt.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ht(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_controlledReadableByteStream")?!1:X instanceof Pt}function Ft(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_associatedReadableByteStreamController")?!1:X instanceof It}function Wt(X){if(!Fr(X))return;if(X._pulling){X._pullAgain=!0;return}X._pulling=!0;const be=X._pullAlgorithm();D(be,()=>(X._pulling=!1,X._pullAgain&&(X._pullAgain=!1,Wt(X)),null),Pe=>(gt(X,Pe),null))}function xr(X){cr(X),X._pendingPullIntos=new J}function Zt(X,se){let be=!1;X._state==="closed"&&(be=!0);const Pe=lr(se);se.readerType==="default"?G(X,Pe,be):nr(X,Pe,be)}function lr(X){const se=X.bytesFilled,be=X.elementSize;return new X.viewConstructor(X.buffer,X.byteOffset,se/be)}function ur(X,se,be,Pe){X._queue.push({buffer:se,byteOffset:be,byteLength:Pe}),X._queueTotalSize+=Pe}function At(X,se,be,Pe){let De;try{De=Le(se,be,be+Pe)}catch(xe){throw gt(X,xe),xe}ur(X,De,0,Pe)}function kr(X,se){se.bytesFilled>0&&At(X,se.buffer,se.byteOffset,se.bytesFilled),Jt(X)}function Hr(X,se){const be=Math.min(X._queueTotalSize,se.byteLength-se.bytesFilled),Pe=se.bytesFilled+be;let De=be,xe=!1;const Fe=Pe%se.elementSize,Ge=Pe-Fe;Ge>=se.minimumFill&&(De=Ge-se.bytesFilled,xe=!0);const nt=X._queue;for(;De>0;){const Xe=nt.peek(),it=Math.min(De,Xe.byteLength),at=se.byteOffset+se.bytesFilled;Je(se.buffer,at,Xe.buffer,Xe.byteOffset,it),Xe.byteLength===it?nt.shift():(Xe.byteOffset+=it,Xe.byteLength-=it),X._queueTotalSize-=it,_t(X,it,se),De-=it}return xe}function _t(X,se,be){be.bytesFilled+=se}function Ot(X){X._queueTotalSize===0&&X._closeRequested?(tr(X),si(X._controlledReadableByteStream)):Wt(X)}function cr(X){X._byobRequest!==null&&(X._byobRequest._associatedReadableByteStreamController=void 0,X._byobRequest._view=null,X._byobRequest=null)}function _r(X){for(;X._pendingPullIntos.length>0;){if(X._queueTotalSize===0)return;const se=X._pendingPullIntos.peek();Hr(X,se)&&(Jt(X),Zt(X._controlledReadableByteStream,se))}}function er(X){const se=X._controlledReadableByteStream._reader;for(;se._readRequests.length>0;){if(X._queueTotalSize===0)return;const be=se._readRequests.shift();dt(X,be)}}function dr(X,se,be,Pe){const De=X._controlledReadableByteStream,xe=se.constructor,Fe=pn(xe),{byteOffset:Ge,byteLength:nt}=se,Xe=be*Fe;let it;try{it=et(se.buffer)}catch(pt){Pe._errorSteps(pt);return}const at={buffer:it,bufferByteLength:it.byteLength,byteOffset:Ge,byteLength:nt,bytesFilled:0,minimumFill:Xe,elementSize:Fe,viewConstructor:xe,readerType:"byob"};if(X._pendingPullIntos.length>0){X._pendingPullIntos.push(at),Lr(De,Pe);return}if(De._state==="closed"){const pt=new xe(at.buffer,at.byteOffset,0);Pe._closeSteps(pt);return}if(X._queueTotalSize>0){if(Hr(X,at)){const pt=lr(at);Ot(X),Pe._chunkSteps(pt);return}if(X._closeRequested){const pt=new TypeError("Insufficient bytes to fill elements in the given buffer");gt(X,pt),Pe._errorSteps(pt);return}}X._pendingPullIntos.push(at),Lr(De,Pe),Wt(X)}function St(X,se){se.readerType==="none"&&Jt(X);const be=X._controlledReadableByteStream;if(Nt(be))for(;Yr(be)>0;){const Pe=Jt(X);Zt(be,Pe)}}function Wr(X,se,be){if(_t(X,se,be),be.readerType==="none"){kr(X,be),_r(X);return}if(be.bytesFilled<be.minimumFill)return;Jt(X);const Pe=be.bytesFilled%be.elementSize;if(Pe>0){const De=be.byteOffset+be.bytesFilled;At(X,be.buffer,De-Pe,Pe)}be.bytesFilled-=Pe,Zt(X._controlledReadableByteStream,be),_r(X)}function zt(X,se){const be=X._pendingPullIntos.peek();cr(X),X._controlledReadableByteStream._state==="closed"?St(X,be):Wr(X,se,be),Wt(X)}function Jt(X){return X._pendingPullIntos.shift()}function Fr(X){const se=X._controlledReadableByteStream;return se._state!=="readable"||X._closeRequested||!X._started?!1:!!(I(se)&&o(se)>0||Nt(se)&&Yr(se)>0||Mr(X)>0)}function tr(X){X._pullAlgorithm=void 0,X._cancelAlgorithm=void 0}function Ct(X){const se=X._controlledReadableByteStream;if(!(X._closeRequested||se._state!=="readable")){if(X._queueTotalSize>0){X._closeRequested=!0;return}if(X._pendingPullIntos.length>0){const be=X._pendingPullIntos.peek();if(be.bytesFilled%be.elementSize!==0){const Pe=new TypeError("Insufficient bytes to fill elements in the given buffer");throw gt(X,Pe),Pe}}tr(X),si(se)}}function ct(X,se){const be=X._controlledReadableByteStream;if(X._closeRequested||be._state!=="readable")return;const{buffer:Pe,byteOffset:De,byteLength:xe}=se;if(rt(Pe))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const Fe=et(Pe);if(X._pendingPullIntos.length>0){const Ge=X._pendingPullIntos.peek();if(rt(Ge.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");cr(X),Ge.buffer=et(Ge.buffer),Ge.readerType==="none"&&kr(X,Ge)}if(I(be))if(er(X),o(be)===0)ur(X,Fe,De,xe);else{X._pendingPullIntos.length>0&&Jt(X);const Ge=new Uint8Array(Fe,De,xe);G(be,Ge,!1)}else Nt(be)?(ur(X,Fe,De,xe),_r(X)):ur(X,Fe,De,xe);Wt(X)}function gt(X,se){const be=X._controlledReadableByteStream;be._state==="readable"&&(xr(X),mt(X),tr(X),Ro(be,se))}function dt(X,se){const be=X._queue.shift();X._queueTotalSize-=be.byteLength,Ot(X);const Pe=new Uint8Array(be.buffer,be.byteOffset,be.byteLength);se._chunkSteps(Pe)}function Or(X){if(X._byobRequest===null&&X._pendingPullIntos.length>0){const se=X._pendingPullIntos.peek(),be=new Uint8Array(se.buffer,se.byteOffset+se.bytesFilled,se.byteLength-se.bytesFilled),Pe=Object.create(It.prototype);qt(Pe,X,be),X._byobRequest=Pe}return X._byobRequest}function Mr(X){const se=X._controlledReadableByteStream._state;return se==="errored"?null:se==="closed"?0:X._strategyHWM-X._queueTotalSize}function Mt(X,se){const be=X._pendingPullIntos.peek();if(X._controlledReadableByteStream._state==="closed"){if(se!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(se===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(be.bytesFilled+se>be.byteLength)throw new RangeError("bytesWritten out of range")}be.buffer=et(be.buffer),zt(X,se)}function Yt(X,se){const be=X._pendingPullIntos.peek();if(X._controlledReadableByteStream._state==="closed"){if(se.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(se.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(be.byteOffset+be.bytesFilled!==se.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(be.bufferByteLength!==se.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(be.bytesFilled+se.byteLength>be.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const De=se.byteLength;be.buffer=et(se.buffer),zt(X,De)}function Qt(X,se,be,Pe,De,xe,Fe){se._controlledReadableByteStream=X,se._pullAgain=!1,se._pulling=!1,se._byobRequest=null,se._queue=se._queueTotalSize=void 0,mt(se),se._closeRequested=!1,se._started=!1,se._strategyHWM=xe,se._pullAlgorithm=Pe,se._cancelAlgorithm=De,se._autoAllocateChunkSize=Fe,se._pendingPullIntos=new J,X._readableStreamController=se;const Ge=be();D(R(Ge),()=>(se._started=!0,Wt(se),null),nt=>(gt(se,nt),null))}function Lt(X,se,be){const Pe=Object.create(Pt.prototype);let De,xe,Fe;se.start!==void 0?De=()=>se.start(Pe):De=()=>{},se.pull!==void 0?xe=()=>se.pull(Pe):xe=()=>R(void 0),se.cancel!==void 0?Fe=nt=>se.cancel(nt):Fe=()=>R(void 0);const Ge=se.autoAllocateChunkSize;if(Ge===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Qt(X,Pe,De,xe,Fe,be,Ge)}function qt(X,se,be){X._associatedReadableByteStreamController=se,X._view=be}function Sr(X){return new TypeError(`ReadableStreamBYOBRequest.prototype.${X} can only be used on a ReadableStreamBYOBRequest`)}function bt(X){return new TypeError(`ReadableByteStreamController.prototype.${X} can only be used on a ReadableByteStreamController`)}function Er(X,se){Oe(X,se);const be=X==null?void 0:X.mode;return{mode:be===void 0?void 0:zr(be,`${se} has member 'mode' that`)}}function zr(X,se){if(X=`${X}`,X!=="byob")throw new TypeError(`${se} '${X}' is not a valid enumeration value for ReadableStreamReaderMode`);return X}function Jr(X,se){var be;Oe(X,se);const Pe=(be=X==null?void 0:X.min)!==null&&be!==void 0?be:1;return{min:Se(Pe,`${se} has member 'min' that`)}}function rr(X){return new Ut(X)}function Lr(X,se){X._reader._readIntoRequests.push(se)}function nr(X,se,be){const De=X._reader._readIntoRequests.shift();be?De._closeSteps(se):De._chunkSteps(se)}function Yr(X){return X._reader._readIntoRequests.length}function Nt(X){const se=X._reader;return!(se===void 0||!Bt(se))}class Ut{constructor(se){if(l(se,1,"ReadableStreamBYOBReader"),ye(se,"First parameter"),vn(se))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ht(se._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");oe(this,se),this._readIntoRequests=new J}get closed(){return Bt(this)?this._closedPromise:C(Tr("closed"))}cancel(se=void 0){return Bt(this)?this._ownerReadableStream===void 0?C(ue("cancel")):ie(this,se):C(Tr("cancel"))}read(se,be={}){if(!Bt(this))return C(Tr("read"));if(!ArrayBuffer.isView(se))return C(new TypeError("view must be an array buffer view"));if(se.byteLength===0)return C(new TypeError("view must have non-zero byteLength"));if(se.buffer.byteLength===0)return C(new TypeError("view's buffer must have non-zero byteLength"));if(rt(se.buffer))return C(new TypeError("view's buffer has been detached"));let Pe;try{Pe=Jr(be,"options")}catch(Xe){return C(Xe)}const De=Pe.min;if(De===0)return C(new TypeError("options.min must be greater than 0"));if(dn(se)){if(De>se.byteLength)return C(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(De>se.length)return C(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return C(ue("read from"));let xe,Fe;const Ge=w((Xe,it)=>{xe=Xe,Fe=it});return qr(this,se,De,{_chunkSteps:Xe=>xe({value:Xe,done:!1}),_closeSteps:Xe=>xe({value:Xe,done:!0}),_errorSteps:Xe=>Fe(Xe)}),Ge}releaseLock(){if(!Bt(this))throw Tr("releaseLock");this._ownerReadableStream!==void 0&&fn(this)}}Object.defineProperties(Ut.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),E(Ut.prototype.cancel,"cancel"),E(Ut.prototype.read,"read"),E(Ut.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ut.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Bt(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_readIntoRequests")?!1:X instanceof Ut}function qr(X,se,be,Pe){const De=X._ownerReadableStream;De._disturbed=!0,De._state==="errored"?Pe._errorSteps(De._storedError):dr(De._readableStreamController,se,be,Pe)}function fn(X){ee(X);const se=new TypeError("Reader was released");Qr(X,se)}function Qr(X,se){const be=X._readIntoRequests;X._readIntoRequests=new J,be.forEach(Pe=>{Pe._errorSteps(se)})}function Tr(X){return new TypeError(`ReadableStreamBYOBReader.prototype.${X} can only be used on a ReadableStreamBYOBReader`)}function pr(X,se){const{highWaterMark:be}=X;if(be===void 0)return se;if(ke(be)||be<0)throw new RangeError("Invalid highWaterMark");return be}function wr(X){const{size:se}=X;return se||(()=>1)}function Rr(X,se){Oe(X,se);const be=X==null?void 0:X.highWaterMark,Pe=X==null?void 0:X.size;return{highWaterMark:be===void 0?void 0:k(be),size:Pe===void 0?void 0:gn(Pe,`${se} has member 'size' that`)}}function gn(X,se){return ve(X,se),be=>k(X(be))}function hn(X,se){Oe(X,se);const be=X==null?void 0:X.abort,Pe=X==null?void 0:X.close,De=X==null?void 0:X.start,xe=X==null?void 0:X.type,Fe=X==null?void 0:X.write;return{abort:be===void 0?void 0:mn(be,X,`${se} has member 'abort' that`),close:Pe===void 0?void 0:An(Pe,X,`${se} has member 'close' that`),start:De===void 0?void 0:Kr(De,X,`${se} has member 'start' that`),write:Fe===void 0?void 0:yn(Fe,X,`${se} has member 'write' that`),type:xe}}function mn(X,se,be){return ve(X,be),Pe=>z(X,se,[Pe])}function An(X,se,be){return ve(X,be),()=>z(X,se,[])}function Kr(X,se,be){return ve(X,be),Pe=>$(X,se,[Pe])}function yn(X,se,be){return ve(X,be),(Pe,De)=>z(X,se,[Pe,De])}function Ur(X,se){if(!or(X))throw new TypeError(`${se} is not a WritableStream.`)}function Br(X){if(typeof X!="object"||X===null)return!1;try{return typeof X.aborted=="boolean"}catch{return!1}}const Vr=typeof AbortController=="function";function ir(){if(Vr)return new AbortController}class Vt{constructor(se={},be={}){se===void 0?se=null:he(se,"First parameter");const Pe=Rr(be,"Second parameter"),De=hn(se,"First parameter");if(Zr(this),De.type!==void 0)throw new RangeError("Invalid type is specified");const Fe=wr(Pe),Ge=pr(Pe,1);Ia(this,De,Ge,Fe)}get locked(){if(!or(this))throw Oi("locked");return Kt(this)}abort(se=void 0){return or(this)?Kt(this)?C(new TypeError("Cannot abort a stream that already has a writer")):gr(this,se):C(Oi("abort"))}close(){return or(this)?Kt(this)?C(new TypeError("Cannot close a stream that already has a writer")):Gr(this)?C(new TypeError("Cannot close an already-closing stream")):n(this):C(Oi("close"))}getWriter(){if(!or(this))throw Oi("getWriter");return fr(this)}}Object.defineProperties(Vt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),E(Vt.prototype.abort,"abort"),E(Vt.prototype.close,"close"),E(Vt.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Vt.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});function fr(X){return new en(X)}function Xr(X,se,be,Pe,De=1,xe=()=>1){const Fe=Object.create(Vt.prototype);Zr(Fe);const Ge=Object.create(Bn.prototype);return go(Fe,Ge,X,se,be,Pe,De,xe),Fe}function Zr(X){X._state="writable",X._storedError=void 0,X._writer=void 0,X._writableStreamController=void 0,X._writeRequests=new J,X._inFlightWriteRequest=void 0,X._closeRequest=void 0,X._inFlightCloseRequest=void 0,X._pendingAbortRequest=void 0,X._backpressure=!1}function or(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_writableStreamController")?!1:X instanceof Vt}function Kt(X){return X._writer!==void 0}function gr(X,se){var be;if(X._state==="closed"||X._state==="errored")return R(void 0);X._writableStreamController._abortReason=se,(be=X._writableStreamController._abortController)===null||be===void 0||be.abort(se);const Pe=X._state;if(Pe==="closed"||Pe==="errored")return R(void 0);if(X._pendingAbortRequest!==void 0)return X._pendingAbortRequest._promise;let De=!1;Pe==="erroring"&&(De=!0,se=void 0);const xe=w((Fe,Ge)=>{X._pendingAbortRequest={_promise:void 0,_resolve:Fe,_reject:Ge,_reason:se,_wasAlreadyErroring:De}});return X._pendingAbortRequest._promise=xe,De||le(X,se),xe}function n(X){const se=X._state;if(se==="closed"||se==="errored")return C(new TypeError(`The stream (in ${se} state) is not in the writable state and cannot be closed`));const be=w((De,xe)=>{const Fe={_resolve:De,_reject:xe};X._closeRequest=Fe}),Pe=X._writer;return Pe!==void 0&&X._backpressure&&se==="writable"&&zi(Pe),Na(X._writableStreamController),be}function b(X){return w((be,Pe)=>{const De={_resolve:be,_reject:Pe};X._writeRequests.push(De)})}function _(X,se){if(X._state==="writable"){le(X,se);return}qe(X)}function le(X,se){const be=X._writableStreamController;X._state="erroring",X._storedError=se;const Pe=X._writer;Pe!==void 0&&uo(Pe,se),!Ta(X)&&be._started&&qe(X)}function qe(X){X._state="errored",X._writableStreamController[Q]();const se=X._storedError;if(X._writeRequests.forEach(De=>{De._reject(se)}),X._writeRequests=new J,X._pendingAbortRequest===void 0){bi(X);return}const be=X._pendingAbortRequest;if(X._pendingAbortRequest=void 0,be._wasAlreadyErroring){be._reject(se),bi(X);return}const Pe=X._writableStreamController[Y](be._reason);D(Pe,()=>(be._resolve(),bi(X),null),De=>(be._reject(De),bi(X),null))}function va(X){X._inFlightWriteRequest._resolve(void 0),X._inFlightWriteRequest=void 0}function Oa(X,se){X._inFlightWriteRequest._reject(se),X._inFlightWriteRequest=void 0,_(X,se)}function Sa(X){X._inFlightCloseRequest._resolve(void 0),X._inFlightCloseRequest=void 0,X._state==="erroring"&&(X._storedError=void 0,X._pendingAbortRequest!==void 0&&(X._pendingAbortRequest._resolve(),X._pendingAbortRequest=void 0)),X._state="closed";const be=X._writer;be!==void 0&&bo(be)}function Ea(X,se){X._inFlightCloseRequest._reject(se),X._inFlightCloseRequest=void 0,X._pendingAbortRequest!==void 0&&(X._pendingAbortRequest._reject(se),X._pendingAbortRequest=void 0),_(X,se)}function Gr(X){return!(X._closeRequest===void 0&&X._inFlightCloseRequest===void 0)}function Ta(X){return!(X._inFlightWriteRequest===void 0&&X._inFlightCloseRequest===void 0)}function wa(X){X._inFlightCloseRequest=X._closeRequest,X._closeRequest=void 0}function Ra(X){X._inFlightWriteRequest=X._writeRequests.shift()}function bi(X){X._closeRequest!==void 0&&(X._closeRequest._reject(X._storedError),X._closeRequest=void 0);const se=X._writer;se!==void 0&&Hi(se,X._storedError)}function Bi(X,se){const be=X._writer;be!==void 0&&se!==X._backpressure&&(se?qa(be):zi(be)),X._backpressure=se}class en{constructor(se){if(l(se,1,"WritableStreamDefaultWriter"),Ur(se,"First parameter"),Kt(se))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=se,se._writer=this;const be=se._state;if(be==="writable")!Gr(se)&&se._backpressure?Ei(this):vo(this),Si(this);else if(be==="erroring")Wi(this,se._storedError),Si(this);else if(be==="closed")vo(this),Ma(this);else{const Pe=se._storedError;Wi(this,Pe),yo(this,Pe)}}get closed(){return Cn(this)?this._closedPromise:C(Dn("closed"))}get desiredSize(){if(!Cn(this))throw Dn("desiredSize");if(this._ownerWritableStream===void 0)throw ii("desiredSize");return Da(this)}get ready(){return Cn(this)?this._readyPromise:C(Dn("ready"))}abort(se=void 0){return Cn(this)?this._ownerWritableStream===void 0?C(ii("abort")):Pa(this,se):C(Dn("abort"))}close(){if(!Cn(this))return C(Dn("close"));const se=this._ownerWritableStream;return se===void 0?C(ii("close")):Gr(se)?C(new TypeError("Cannot close an already-closing stream")):lo(this)}releaseLock(){if(!Cn(this))throw Dn("releaseLock");this._ownerWritableStream!==void 0&&co(this)}write(se=void 0){return Cn(this)?this._ownerWritableStream===void 0?C(ii("write to")):po(this,se):C(Dn("write"))}}Object.defineProperties(en.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),E(en.prototype.abort,"abort"),E(en.prototype.close,"close"),E(en.prototype.releaseLock,"releaseLock"),E(en.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(en.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Cn(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_ownerWritableStream")?!1:X instanceof en}function Pa(X,se){const be=X._ownerWritableStream;return gr(be,se)}function lo(X){const se=X._ownerWritableStream;return n(se)}function Aa(X){const se=X._ownerWritableStream,be=se._state;return Gr(se)||be==="closed"?R(void 0):be==="errored"?C(se._storedError):lo(X)}function Ca(X,se){X._closedPromiseState==="pending"?Hi(X,se):La(X,se)}function uo(X,se){X._readyPromiseState==="pending"?_o(X,se):Ua(X,se)}function Da(X){const se=X._ownerWritableStream,be=se._state;return be==="errored"||be==="erroring"?null:be==="closed"?0:ho(se._writableStreamController)}function co(X){const se=X._ownerWritableStream,be=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");uo(X,be),Ca(X,be),se._writer=void 0,X._ownerWritableStream=void 0}function po(X,se){const be=X._ownerWritableStream,Pe=be._writableStreamController,De=ja(Pe,se);if(be!==X._ownerWritableStream)return C(ii("write to"));const xe=be._state;if(xe==="errored")return C(be._storedError);if(Gr(be)||xe==="closed")return C(new TypeError("The stream is closing or closed and cannot be written to"));if(xe==="erroring")return C(be._storedError);const Fe=b(be);return xa(Pe,se,De),Fe}const fo={};class Bn{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Vi(this))throw $i("abortReason");return this._abortReason}get signal(){if(!Vi(this))throw $i("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(se=void 0){if(!Vi(this))throw $i("error");this._controlledWritableStream._state==="writable"&&mo(this,se)}[Y](se){const be=this._abortAlgorithm(se);return vi(this),be}[Q](){mt(this)}}Object.defineProperties(Bn.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bn.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Vi(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_controlledWritableStream")?!1:X instanceof Bn}function go(X,se,be,Pe,De,xe,Fe,Ge){se._controlledWritableStream=X,X._writableStreamController=se,se._queue=void 0,se._queueTotalSize=void 0,mt(se),se._abortReason=void 0,se._abortController=ir(),se._started=!1,se._strategySizeAlgorithm=Ge,se._strategyHWM=Fe,se._writeAlgorithm=Pe,se._closeAlgorithm=De,se._abortAlgorithm=xe;const nt=Gi(se);Bi(X,nt);const Xe=be(),it=R(Xe);D(it,()=>(se._started=!0,_i(se),null),at=>(se._started=!0,_(X,at),null))}function Ia(X,se,be,Pe){const De=Object.create(Bn.prototype);let xe,Fe,Ge,nt;se.start!==void 0?xe=()=>se.start(De):xe=()=>{},se.write!==void 0?Fe=Xe=>se.write(Xe,De):Fe=()=>R(void 0),se.close!==void 0?Ge=()=>se.close():Ge=()=>R(void 0),se.abort!==void 0?nt=Xe=>se.abort(Xe):nt=()=>R(void 0),go(X,De,xe,Fe,Ge,nt,be,Pe)}function vi(X){X._writeAlgorithm=void 0,X._closeAlgorithm=void 0,X._abortAlgorithm=void 0,X._strategySizeAlgorithm=void 0}function Na(X){sr(X,fo,0),_i(X)}function ja(X,se){try{return X._strategySizeAlgorithm(se)}catch(be){return ni(X,be),1}}function ho(X){return X._strategyHWM-X._queueTotalSize}function xa(X,se,be){try{sr(X,se,be)}catch(De){ni(X,De);return}const Pe=X._controlledWritableStream;if(!Gr(Pe)&&Pe._state==="writable"){const De=Gi(X);Bi(Pe,De)}_i(X)}function _i(X){const se=X._controlledWritableStream;if(!X._started||se._inFlightWriteRequest!==void 0)return;if(se._state==="erroring"){qe(se);return}if(X._queue.length===0)return;const Pe=Rt(X);Pe===fo?ka(X):Fa(X,Pe)}function ni(X,se){X._controlledWritableStream._state==="writable"&&mo(X,se)}function ka(X){const se=X._controlledWritableStream;wa(se),br(X);const be=X._closeAlgorithm();vi(X),D(be,()=>(Sa(se),null),Pe=>(Ea(se,Pe),null))}function Fa(X,se){const be=X._controlledWritableStream;Ra(be);const Pe=X._writeAlgorithm(se);D(Pe,()=>{va(be);const De=be._state;if(br(X),!Gr(be)&&De==="writable"){const xe=Gi(X);Bi(be,xe)}return _i(X),null},De=>(be._state==="writable"&&vi(X),Oa(be,De),null))}function Gi(X){return ho(X)<=0}function mo(X,se){const be=X._controlledWritableStream;vi(X),le(be,se)}function Oi(X){return new TypeError(`WritableStream.prototype.${X} can only be used on a WritableStream`)}function $i(X){return new TypeError(`WritableStreamDefaultController.prototype.${X} can only be used on a WritableStreamDefaultController`)}function Dn(X){return new TypeError(`WritableStreamDefaultWriter.prototype.${X} can only be used on a WritableStreamDefaultWriter`)}function ii(X){return new TypeError("Cannot "+X+" a stream using a released writer")}function Si(X){X._closedPromise=w((se,be)=>{X._closedPromise_resolve=se,X._closedPromise_reject=be,X._closedPromiseState="pending"})}function yo(X,se){Si(X),Hi(X,se)}function Ma(X){Si(X),bo(X)}function Hi(X,se){X._closedPromise_reject!==void 0&&(U(X._closedPromise),X._closedPromise_reject(se),X._closedPromise_resolve=void 0,X._closedPromise_reject=void 0,X._closedPromiseState="rejected")}function La(X,se){yo(X,se)}function bo(X){X._closedPromise_resolve!==void 0&&(X._closedPromise_resolve(void 0),X._closedPromise_resolve=void 0,X._closedPromise_reject=void 0,X._closedPromiseState="resolved")}function Ei(X){X._readyPromise=w((se,be)=>{X._readyPromise_resolve=se,X._readyPromise_reject=be}),X._readyPromiseState="pending"}function Wi(X,se){Ei(X),_o(X,se)}function vo(X){Ei(X),zi(X)}function _o(X,se){X._readyPromise_reject!==void 0&&(U(X._readyPromise),X._readyPromise_reject(se),X._readyPromise_resolve=void 0,X._readyPromise_reject=void 0,X._readyPromiseState="rejected")}function qa(X){Ei(X)}function Ua(X,se){Wi(X,se)}function zi(X){X._readyPromise_resolve!==void 0&&(X._readyPromise_resolve(void 0),X._readyPromise_resolve=void 0,X._readyPromise_reject=void 0,X._readyPromiseState="fulfilled")}function Ba(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof commonjsGlobal<"u")return commonjsGlobal}const Ji=Ba();function Va(X){if(!(typeof X=="function"||typeof X=="object")||X.name!=="DOMException")return!1;try{return new X,!0}catch{return!1}}function Ga(){const X=Ji==null?void 0:Ji.DOMException;return Va(X)?X:void 0}function $a(){const X=function(be,Pe){this.message=be||"",this.name=Pe||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return E(X,"DOMException"),X.prototype=Object.create(Error.prototype),Object.defineProperty(X.prototype,"constructor",{value:X,writable:!0,configurable:!0}),X}const Ha=Ga()||$a();function Oo(X,se,be,Pe,De,xe){const Fe=a(X),Ge=fr(se);X._disturbed=!0;let nt=!1,Xe=R(void 0);return w((it,at)=>{let pt;if(xe!==void 0){if(pt=()=>{const Ze=xe.reason!==void 0?xe.reason:new Ha("Aborted","AbortError"),ut=[];Pe||ut.push(()=>se._state==="writable"?gr(se,Ze):R(void 0)),De||ut.push(()=>X._state==="readable"?Ar(X,Ze):R(void 0)),Xt(()=>Promise.all(ut.map(ht=>ht())),!0,Ze)},xe.aborted){pt();return}xe.addEventListener("abort",pt)}function Cr(){return w((Ze,ut)=>{function ht(ar){ar?Ze():N(Hn(),ht,ut)}ht(!1)})}function Hn(){return nt?R(!0):N(Ge._readyPromise,()=>w((Ze,ut)=>{Ce(Fe,{_chunkSteps:ht=>{Xe=N(po(Ge,ht),void 0,y),Ze(!1)},_closeSteps:()=>Ze(!0),_errorSteps:ut})}))}if(rn(X,Fe._closedPromise,Ze=>(Pe?hr(!0,Ze):Xt(()=>gr(se,Ze),!0,Ze),null)),rn(se,Ge._closedPromise,Ze=>(De?hr(!0,Ze):Xt(()=>Ar(X,Ze),!0,Ze),null)),Gt(X,Fe._closedPromise,()=>(be?hr():Xt(()=>Aa(Ge)),null)),Gr(se)||se._state==="closed"){const Ze=new TypeError("the destination writable stream closed before all data could be piped to it");De?hr(!0,Ze):Xt(()=>Ar(X,Ze),!0,Ze)}U(Cr());function On(){const Ze=Xe;return N(Xe,()=>Ze!==Xe?On():void 0)}function rn(Ze,ut,ht){Ze._state==="errored"?ht(Ze._storedError):q(ut,ht)}function Gt(Ze,ut,ht){Ze._state==="closed"?ht():L(ut,ht)}function Xt(Ze,ut,ht){if(nt)return;nt=!0,se._state==="writable"&&!Gr(se)?L(On(),ar):ar();function ar(){return D(Ze(),()=>nn(ut,ht),Wn=>nn(!0,Wn)),null}}function hr(Ze,ut){nt||(nt=!0,se._state==="writable"&&!Gr(se)?L(On(),()=>nn(Ze,ut)):nn(Ze,ut))}function nn(Ze,ut){return co(Ge),ee(Fe),xe!==void 0&&xe.removeEventListener("abort",pt),Ze?at(ut):it(void 0),null}})}class tn{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ti(this))throw Ri("desiredSize");return Yi(this)}close(){if(!Ti(this))throw Ri("close");if(!Gn(this))throw new TypeError("The stream is not in a state that permits close");In(this)}enqueue(se=void 0){if(!Ti(this))throw Ri("enqueue");if(!Gn(this))throw new TypeError("The stream is not in a state that permits enqueue");return Vn(this,se)}error(se=void 0){if(!Ti(this))throw Ri("error");Pr(this,se)}[H](se){mt(this);const be=this._cancelAlgorithm(se);return wi(this),be}[te](se){const be=this._controlledReadableStream;if(this._queue.length>0){const Pe=br(this);this._closeRequested&&this._queue.length===0?(wi(this),si(be)):oi(this),se._chunkSteps(Pe)}else j(be,se),oi(this)}[ne](){}}Object.defineProperties(tn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),E(tn.prototype.close,"close"),E(tn.prototype.enqueue,"enqueue"),E(tn.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(tn.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ti(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_controlledReadableStream")?!1:X instanceof tn}function oi(X){if(!So(X))return;if(X._pulling){X._pullAgain=!0;return}X._pulling=!0;const be=X._pullAlgorithm();D(be,()=>(X._pulling=!1,X._pullAgain&&(X._pullAgain=!1,oi(X)),null),Pe=>(Pr(X,Pe),null))}function So(X){const se=X._controlledReadableStream;return!Gn(X)||!X._started?!1:!!(vn(se)&&o(se)>0||Yi(X)>0)}function wi(X){X._pullAlgorithm=void 0,X._cancelAlgorithm=void 0,X._strategySizeAlgorithm=void 0}function In(X){if(!Gn(X))return;const se=X._controlledReadableStream;X._closeRequested=!0,X._queue.length===0&&(wi(X),si(se))}function Vn(X,se){if(!Gn(X))return;const be=X._controlledReadableStream;if(vn(be)&&o(be)>0)G(be,se,!1);else{let Pe;try{Pe=X._strategySizeAlgorithm(se)}catch(De){throw Pr(X,De),De}try{sr(X,se,Pe)}catch(De){throw Pr(X,De),De}}oi(X)}function Pr(X,se){const be=X._controlledReadableStream;be._state==="readable"&&(mt(X),wi(X),Ro(be,se))}function Yi(X){const se=X._controlledReadableStream._state;return se==="errored"?null:se==="closed"?0:X._strategyHWM-X._queueTotalSize}function Wa(X){return!So(X)}function Gn(X){const se=X._controlledReadableStream._state;return!X._closeRequested&&se==="readable"}function Eo(X,se,be,Pe,De,xe,Fe){se._controlledReadableStream=X,se._queue=void 0,se._queueTotalSize=void 0,mt(se),se._started=!1,se._closeRequested=!1,se._pullAgain=!1,se._pulling=!1,se._strategySizeAlgorithm=Fe,se._strategyHWM=xe,se._pullAlgorithm=Pe,se._cancelAlgorithm=De,X._readableStreamController=se;const Ge=be();D(R(Ge),()=>(se._started=!0,oi(se),null),nt=>(Pr(se,nt),null))}function za(X,se,be,Pe){const De=Object.create(tn.prototype);let xe,Fe,Ge;se.start!==void 0?xe=()=>se.start(De):xe=()=>{},se.pull!==void 0?Fe=()=>se.pull(De):Fe=()=>R(void 0),se.cancel!==void 0?Ge=nt=>se.cancel(nt):Ge=()=>R(void 0),Eo(X,De,xe,Fe,Ge,be,Pe)}function Ri(X){return new TypeError(`ReadableStreamDefaultController.prototype.${X} can only be used on a ReadableStreamDefaultController`)}function Ja(X,se){return Ht(X._readableStreamController)?Qa(X):Ya(X)}function Ya(X,se){const be=a(X);let Pe=!1,De=!1,xe=!1,Fe=!1,Ge,nt,Xe,it,at;const pt=w(Gt=>{at=Gt});function Cr(){return Pe?(De=!0,R(void 0)):(Pe=!0,Ce(be,{_chunkSteps:Xt=>{V(()=>{De=!1;const hr=Xt,nn=Xt;xe||Vn(Xe._readableStreamController,hr),Fe||Vn(it._readableStreamController,nn),Pe=!1,De&&Cr()})},_closeSteps:()=>{Pe=!1,xe||In(Xe._readableStreamController),Fe||In(it._readableStreamController),(!xe||!Fe)&&at(void 0)},_errorSteps:()=>{Pe=!1}}),R(void 0))}function Hn(Gt){if(xe=!0,Ge=Gt,Fe){const Xt=Be([Ge,nt]),hr=Ar(X,Xt);at(hr)}return pt}function On(Gt){if(Fe=!0,nt=Gt,xe){const Xt=Be([Ge,nt]),hr=Ar(X,Xt);at(hr)}return pt}function rn(){}return Xe=ai(rn,Cr,Hn),it=ai(rn,Cr,On),q(be._closedPromise,Gt=>(Pr(Xe._readableStreamController,Gt),Pr(it._readableStreamController,Gt),(!xe||!Fe)&&at(void 0),null)),[Xe,it]}function Qa(X){let se=a(X),be=!1,Pe=!1,De=!1,xe=!1,Fe=!1,Ge,nt,Xe,it,at;const pt=w(Ze=>{at=Ze});function Cr(Ze){q(Ze._closedPromise,ut=>(Ze!==se||(gt(Xe._readableStreamController,ut),gt(it._readableStreamController,ut),(!xe||!Fe)&&at(void 0)),null))}function Hn(){Bt(se)&&(ee(se),se=a(X),Cr(se)),Ce(se,{_chunkSteps:ut=>{V(()=>{Pe=!1,De=!1;const ht=ut;let ar=ut;if(!xe&&!Fe)try{ar=Tt(ut)}catch(Wn){gt(Xe._readableStreamController,Wn),gt(it._readableStreamController,Wn),at(Ar(X,Wn));return}xe||ct(Xe._readableStreamController,ht),Fe||ct(it._readableStreamController,ar),be=!1,Pe?rn():De&&Gt()})},_closeSteps:()=>{be=!1,xe||Ct(Xe._readableStreamController),Fe||Ct(it._readableStreamController),Xe._readableStreamController._pendingPullIntos.length>0&&Mt(Xe._readableStreamController,0),it._readableStreamController._pendingPullIntos.length>0&&Mt(it._readableStreamController,0),(!xe||!Fe)&&at(void 0)},_errorSteps:()=>{be=!1}})}function On(Ze,ut){ae(se)&&(ee(se),se=rr(X),Cr(se));const ht=ut?it:Xe,ar=ut?Xe:it;qr(se,Ze,1,{_chunkSteps:zn=>{V(()=>{Pe=!1,De=!1;const Jn=ut?Fe:xe;if(ut?xe:Fe)Jn||Yt(ht._readableStreamController,zn);else{let qo;try{qo=Tt(zn)}catch(eo){gt(ht._readableStreamController,eo),gt(ar._readableStreamController,eo),at(Ar(X,eo));return}Jn||Yt(ht._readableStreamController,zn),ct(ar._readableStreamController,qo)}be=!1,Pe?rn():De&&Gt()})},_closeSteps:zn=>{be=!1;const Jn=ut?Fe:xe,xi=ut?xe:Fe;Jn||Ct(ht._readableStreamController),xi||Ct(ar._readableStreamController),zn!==void 0&&(Jn||Yt(ht._readableStreamController,zn),!xi&&ar._readableStreamController._pendingPullIntos.length>0&&Mt(ar._readableStreamController,0)),(!Jn||!xi)&&at(void 0)},_errorSteps:()=>{be=!1}})}function rn(){if(be)return Pe=!0,R(void 0);be=!0;const Ze=Or(Xe._readableStreamController);return Ze===null?Hn():On(Ze._view,!1),R(void 0)}function Gt(){if(be)return De=!0,R(void 0);be=!0;const Ze=Or(it._readableStreamController);return Ze===null?Hn():On(Ze._view,!0),R(void 0)}function Xt(Ze){if(xe=!0,Ge=Ze,Fe){const ut=Be([Ge,nt]),ht=Ar(X,ut);at(ht)}return pt}function hr(Ze){if(Fe=!0,nt=Ze,xe){const ut=Be([Ge,nt]),ht=Ar(X,ut);at(ht)}return pt}function nn(){}return Xe=wo(nn,rn,Xt),it=wo(nn,Gt,hr),Cr(se),[Xe,it]}function Ka(X){return O(X)&&typeof X.getReader<"u"}function Xa(X){return Ka(X)?es(X.getReader()):Za(X)}function Za(X){let se;const be=ot(X,"async"),Pe=y;function De(){let Fe;try{Fe=Et(be)}catch(nt){return C(nt)}const Ge=R(Fe);return M(Ge,nt=>{if(!O(nt))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(kt(nt))In(se._readableStreamController);else{const it=jr(nt);Vn(se._readableStreamController,it)}})}function xe(Fe){const Ge=be.iterator;let nt;try{nt=$e(Ge,"return")}catch(at){return C(at)}if(nt===void 0)return R(void 0);let Xe;try{Xe=$(nt,Ge,[Fe])}catch(at){return C(at)}const it=R(Xe);return M(it,at=>{if(!O(at))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return se=ai(Pe,De,xe,0),se}function es(X){let se;const be=y;function Pe(){let xe;try{xe=X.read()}catch(Fe){return C(Fe)}return M(xe,Fe=>{if(!O(Fe))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Fe.done)In(se._readableStreamController);else{const Ge=Fe.value;Vn(se._readableStreamController,Ge)}})}function De(xe){try{return R(X.cancel(xe))}catch(Fe){return C(Fe)}}return se=ai(be,Pe,De,0),se}function ts(X,se){Oe(X,se);const be=X,Pe=be==null?void 0:be.autoAllocateChunkSize,De=be==null?void 0:be.cancel,xe=be==null?void 0:be.pull,Fe=be==null?void 0:be.start,Ge=be==null?void 0:be.type;return{autoAllocateChunkSize:Pe===void 0?void 0:Se(Pe,`${se} has member 'autoAllocateChunkSize' that`),cancel:De===void 0?void 0:rs(De,be,`${se} has member 'cancel' that`),pull:xe===void 0?void 0:ns(xe,be,`${se} has member 'pull' that`),start:Fe===void 0?void 0:is(Fe,be,`${se} has member 'start' that`),type:Ge===void 0?void 0:os(Ge,`${se} has member 'type' that`)}}function rs(X,se,be){return ve(X,be),Pe=>z(X,se,[Pe])}function ns(X,se,be){return ve(X,be),Pe=>z(X,se,[Pe])}function is(X,se,be){return ve(X,be),Pe=>$(X,se,[Pe])}function os(X,se){if(X=`${X}`,X!=="bytes")throw new TypeError(`${se} '${X}' is not a valid enumeration value for ReadableStreamType`);return X}function as(X,se){return Oe(X,se),{preventCancel:!!(X==null?void 0:X.preventCancel)}}function To(X,se){Oe(X,se);const be=X==null?void 0:X.preventAbort,Pe=X==null?void 0:X.preventCancel,De=X==null?void 0:X.preventClose,xe=X==null?void 0:X.signal;return xe!==void 0&&ss(xe,`${se} has member 'signal' that`),{preventAbort:!!be,preventCancel:!!Pe,preventClose:!!De,signal:xe}}function ss(X,se){if(!Br(X))throw new TypeError(`${se} is not an AbortSignal.`)}function ls(X,se){Oe(X,se);const be=X==null?void 0:X.readable;P(be,"readable","ReadableWritablePair"),ye(be,`${se} has member 'readable' that`);const Pe=X==null?void 0:X.writable;return P(Pe,"writable","ReadableWritablePair"),Ur(Pe,`${se} has member 'writable' that`),{readable:be,writable:Pe}}class jt{constructor(se={},be={}){se===void 0?se=null:he(se,"First parameter");const Pe=Rr(be,"Second parameter"),De=ts(se,"First parameter");if(Qi(this),De.type==="bytes"){if(Pe.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");const xe=pr(Pe,0);Lt(this,De,xe)}else{const xe=wr(Pe),Fe=pr(Pe,1);za(this,De,Fe,xe)}}get locked(){if(!bn(this))throw Nn("locked");return vn(this)}cancel(se=void 0){return bn(this)?vn(this)?C(new TypeError("Cannot cancel a stream that already has a reader")):Ar(this,se):C(Nn("cancel"))}getReader(se=void 0){if(!bn(this))throw Nn("getReader");return Er(se,"First parameter").mode===void 0?a(this):rr(this)}pipeThrough(se,be={}){if(!bn(this))throw Nn("pipeThrough");l(se,1,"pipeThrough");const Pe=ls(se,"First parameter"),De=To(be,"Second parameter");if(vn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Kt(Pe.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");const xe=Oo(this,Pe.writable,De.preventClose,De.preventAbort,De.preventCancel,De.signal);return U(xe),Pe.readable}pipeTo(se,be={}){if(!bn(this))return C(Nn("pipeTo"));if(se===void 0)return C("Parameter 1 is required in 'pipeTo'.");if(!or(se))return C(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let Pe;try{Pe=To(be,"Second parameter")}catch(De){return C(De)}return vn(this)?C(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Kt(se)?C(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Oo(this,se,Pe.preventClose,Pe.preventAbort,Pe.preventCancel,Pe.signal)}tee(){if(!bn(this))throw Nn("tee");const se=Ja(this);return Be(se)}values(se=void 0){if(!bn(this))throw Nn("values");const be=as(se,"First parameter");return ft(this,be.preventCancel)}[lt](se){return this.values(se)}static from(se){return Xa(se)}}Object.defineProperties(jt,{from:{enumerable:!0}}),Object.defineProperties(jt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),E(jt.from,"from"),E(jt.prototype.cancel,"cancel"),E(jt.prototype.getReader,"getReader"),E(jt.prototype.pipeThrough,"pipeThrough"),E(jt.prototype.pipeTo,"pipeTo"),E(jt.prototype.tee,"tee"),E(jt.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(jt.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(jt.prototype,lt,{value:jt.prototype.values,writable:!0,configurable:!0});function ai(X,se,be,Pe=1,De=()=>1){const xe=Object.create(jt.prototype);Qi(xe);const Fe=Object.create(tn.prototype);return Eo(xe,Fe,X,se,be,Pe,De),xe}function wo(X,se,be){const Pe=Object.create(jt.prototype);Qi(Pe);const De=Object.create(Pt.prototype);return Qt(Pe,De,X,se,be,0,void 0),Pe}function Qi(X){X._state="readable",X._reader=void 0,X._storedError=void 0,X._disturbed=!1}function bn(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_readableStreamController")?!1:X instanceof jt}function vn(X){return X._reader!==void 0}function Ar(X,se){if(X._disturbed=!0,X._state==="closed")return R(void 0);if(X._state==="errored")return C(X._storedError);si(X);const be=X._reader;if(be!==void 0&&Bt(be)){const De=be._readIntoRequests;be._readIntoRequests=new J,De.forEach(xe=>{xe._closeSteps(void 0)})}const Pe=X._readableStreamController[H](se);return M(Pe,y)}function si(X){X._state="closed";const se=X._reader;if(se!==void 0&&(we(se),ae(se))){const be=se._readRequests;se._readRequests=new J,be.forEach(Pe=>{Pe._closeSteps()})}}function Ro(X,se){X._state="errored",X._storedError=se;const be=X._reader;be!==void 0&&(me(be,se),ae(be)?He(be,se):Qr(be,se))}function Nn(X){return new TypeError(`ReadableStream.prototype.${X} can only be used on a ReadableStream`)}function Po(X,se){Oe(X,se);const be=X==null?void 0:X.highWaterMark;return P(be,"highWaterMark","QueuingStrategyInit"),{highWaterMark:k(be)}}const Ao=X=>X.byteLength;E(Ao,"size");class Pi{constructor(se){l(se,1,"ByteLengthQueuingStrategy"),se=Po(se,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=se.highWaterMark}get highWaterMark(){if(!Do(this))throw Co("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Do(this))throw Co("size");return Ao}}Object.defineProperties(Pi.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Pi.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Co(X){return new TypeError(`ByteLengthQueuingStrategy.prototype.${X} can only be used on a ByteLengthQueuingStrategy`)}function Do(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_byteLengthQueuingStrategyHighWaterMark")?!1:X instanceof Pi}const Io=()=>1;E(Io,"size");class Ai{constructor(se){l(se,1,"CountQueuingStrategy"),se=Po(se,"First parameter"),this._countQueuingStrategyHighWaterMark=se.highWaterMark}get highWaterMark(){if(!jo(this))throw No("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!jo(this))throw No("size");return Io}}Object.defineProperties(Ai.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ai.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function No(X){return new TypeError(`CountQueuingStrategy.prototype.${X} can only be used on a CountQueuingStrategy`)}function jo(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_countQueuingStrategyHighWaterMark")?!1:X instanceof Ai}function us(X,se){Oe(X,se);const be=X==null?void 0:X.cancel,Pe=X==null?void 0:X.flush,De=X==null?void 0:X.readableType,xe=X==null?void 0:X.start,Fe=X==null?void 0:X.transform,Ge=X==null?void 0:X.writableType;return{cancel:be===void 0?void 0:fs(be,X,`${se} has member 'cancel' that`),flush:Pe===void 0?void 0:cs(Pe,X,`${se} has member 'flush' that`),readableType:De,start:xe===void 0?void 0:ds(xe,X,`${se} has member 'start' that`),transform:Fe===void 0?void 0:ps(Fe,X,`${se} has member 'transform' that`),writableType:Ge}}function cs(X,se,be){return ve(X,be),Pe=>z(X,se,[Pe])}function ds(X,se,be){return ve(X,be),Pe=>$(X,se,[Pe])}function ps(X,se,be){return ve(X,be),(Pe,De)=>z(X,se,[Pe,De])}function fs(X,se,be){return ve(X,be),Pe=>z(X,se,[Pe])}class Ci{constructor(se={},be={},Pe={}){se===void 0&&(se=null);const De=Rr(be,"Second parameter"),xe=Rr(Pe,"Third parameter"),Fe=us(se,"First parameter");if(Fe.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Fe.writableType!==void 0)throw new RangeError("Invalid writableType specified");const Ge=pr(xe,0),nt=wr(xe),Xe=pr(De,1),it=wr(De);let at;const pt=w(Cr=>{at=Cr});gs(this,pt,Xe,it,Ge,nt),ys(this,Fe),Fe.start!==void 0?at(Fe.start(this._transformStreamController)):at(void 0)}get readable(){if(!xo(this))throw Lo("readable");return this._readable}get writable(){if(!xo(this))throw Lo("writable");return this._writable}}Object.defineProperties(Ci.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ci.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});function gs(X,se,be,Pe,De,xe){function Fe(){return se}function Ge(pt){return _s(X,pt)}function nt(pt){return Os(X,pt)}function Xe(){return Ss(X)}X._writable=Xr(Fe,Ge,Xe,nt,be,Pe);function it(){return Es(X)}function at(pt){return Ts(X,pt)}X._readable=ai(Fe,it,at,De,xe),X._backpressure=void 0,X._backpressureChangePromise=void 0,X._backpressureChangePromise_resolve=void 0,Di(X,!0),X._transformStreamController=void 0}function xo(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_transformStreamController")?!1:X instanceof Ci}function ko(X,se){Pr(X._readable._readableStreamController,se),Ki(X,se)}function Ki(X,se){Ni(X._transformStreamController),ni(X._writable._writableStreamController,se),Xi(X)}function Xi(X){X._backpressure&&Di(X,!1)}function Di(X,se){X._backpressureChangePromise!==void 0&&X._backpressureChangePromise_resolve(),X._backpressureChangePromise=w(be=>{X._backpressureChangePromise_resolve=be}),X._backpressure=se}class _n{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ii(this))throw ji("desiredSize");const se=this._controlledTransformStream._readable._readableStreamController;return Yi(se)}enqueue(se=void 0){if(!Ii(this))throw ji("enqueue");Fo(this,se)}error(se=void 0){if(!Ii(this))throw ji("error");bs(this,se)}terminate(){if(!Ii(this))throw ji("terminate");vs(this)}}Object.defineProperties(_n.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),E(_n.prototype.enqueue,"enqueue"),E(_n.prototype.error,"error"),E(_n.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(_n.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Ii(X){return!O(X)||!Object.prototype.hasOwnProperty.call(X,"_controlledTransformStream")?!1:X instanceof _n}function hs(X,se,be,Pe,De){se._controlledTransformStream=X,X._transformStreamController=se,se._transformAlgorithm=be,se._flushAlgorithm=Pe,se._cancelAlgorithm=De,se._finishPromise=void 0,se._finishPromise_resolve=void 0,se._finishPromise_reject=void 0}function ys(X,se){const be=Object.create(_n.prototype);let Pe,De,xe;se.transform!==void 0?Pe=Fe=>se.transform(Fe,be):Pe=Fe=>{try{return Fo(be,Fe),R(void 0)}catch(Ge){return C(Ge)}},se.flush!==void 0?De=()=>se.flush(be):De=()=>R(void 0),se.cancel!==void 0?xe=Fe=>se.cancel(Fe):xe=()=>R(void 0),hs(X,be,Pe,De,xe)}function Ni(X){X._transformAlgorithm=void 0,X._flushAlgorithm=void 0,X._cancelAlgorithm=void 0}function Fo(X,se){const be=X._controlledTransformStream,Pe=be._readable._readableStreamController;if(!Gn(Pe))throw new TypeError("Readable side is not in a state that permits enqueue");try{Vn(Pe,se)}catch(xe){throw Ki(be,xe),be._readable._storedError}Wa(Pe)!==be._backpressure&&Di(be,!0)}function bs(X,se){ko(X._controlledTransformStream,se)}function Mo(X,se){const be=X._transformAlgorithm(se);return M(be,void 0,Pe=>{throw ko(X._controlledTransformStream,Pe),Pe})}function vs(X){const se=X._controlledTransformStream,be=se._readable._readableStreamController;In(be);const Pe=new TypeError("TransformStream terminated");Ki(se,Pe)}function _s(X,se){const be=X._transformStreamController;if(X._backpressure){const Pe=X._backpressureChangePromise;return M(Pe,()=>{const De=X._writable;if(De._state==="erroring")throw De._storedError;return Mo(be,se)})}return Mo(be,se)}function Os(X,se){const be=X._transformStreamController;if(be._finishPromise!==void 0)return be._finishPromise;const Pe=X._readable;be._finishPromise=w((xe,Fe)=>{be._finishPromise_resolve=xe,be._finishPromise_reject=Fe});const De=be._cancelAlgorithm(se);return Ni(be),D(De,()=>(Pe._state==="errored"?$n(be,Pe._storedError):(Pr(Pe._readableStreamController,se),Zi(be)),null),xe=>(Pr(Pe._readableStreamController,xe),$n(be,xe),null)),be._finishPromise}function Ss(X){const se=X._transformStreamController;if(se._finishPromise!==void 0)return se._finishPromise;const be=X._readable;se._finishPromise=w((De,xe)=>{se._finishPromise_resolve=De,se._finishPromise_reject=xe});const Pe=se._flushAlgorithm();return Ni(se),D(Pe,()=>(be._state==="errored"?$n(se,be._storedError):(In(be._readableStreamController),Zi(se)),null),De=>(Pr(be._readableStreamController,De),$n(se,De),null)),se._finishPromise}function Es(X){return Di(X,!1),X._backpressureChangePromise}function Ts(X,se){const be=X._transformStreamController;if(be._finishPromise!==void 0)return be._finishPromise;const Pe=X._writable;be._finishPromise=w((xe,Fe)=>{be._finishPromise_resolve=xe,be._finishPromise_reject=Fe});const De=be._cancelAlgorithm(se);return Ni(be),D(De,()=>(Pe._state==="errored"?$n(be,Pe._storedError):(ni(Pe._writableStreamController,se),Xi(X),Zi(be)),null),xe=>(ni(Pe._writableStreamController,xe),Xi(X),$n(be,xe),null)),be._finishPromise}function ji(X){return new TypeError(`TransformStreamDefaultController.prototype.${X} can only be used on a TransformStreamDefaultController`)}function Zi(X){X._finishPromise_resolve!==void 0&&(X._finishPromise_resolve(),X._finishPromise_resolve=void 0,X._finishPromise_reject=void 0)}function $n(X,se){X._finishPromise_reject!==void 0&&(U(X._finishPromise),X._finishPromise_reject(se),X._finishPromise_resolve=void 0,X._finishPromise_reject=void 0)}function Lo(X){return new TypeError(`TransformStream.prototype.${X} can only be used on a TransformStream`)}d.ByteLengthQueuingStrategy=Pi,d.CountQueuingStrategy=Ai,d.ReadableByteStreamController=Pt,d.ReadableStream=jt,d.ReadableStreamBYOBReader=Ut,d.ReadableStreamBYOBRequest=It,d.ReadableStreamDefaultController=tn,d.ReadableStreamDefaultReader=B,d.TransformStream=Ci,d.TransformStreamDefaultController=_n,d.WritableStream=Vt,d.WritableStreamDefaultController=Bn,d.WritableStreamDefaultWriter=en}))})(ponyfill_es2018$1,ponyfill_es2018$1.exports)),ponyfill_es2018$1.exports}var hasRequiredStreams;function requireStreams(){if(hasRequiredStreams)return streams;hasRequiredStreams=1;const c=65536;if(!globalThis.ReadableStream)try{const u=require("node:process"),{emitWarning:d}=u;try{u.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),u.emitWarning=d}catch(y){throw u.emitWarning=d,y}}catch{Object.assign(globalThis,requirePonyfill_es2018())}try{const{Blob:u}=require("buffer");u&&!u.prototype.stream&&(u.prototype.stream=function(y){let O=0;const T=this;return new ReadableStream({type:"bytes",async pull(E){const p=await T.slice(O,Math.min(T.size,O+c)).arrayBuffer();O+=p.byteLength,E.enqueue(new Uint8Array(p)),O===T.size&&E.close()}})})}catch{}return streams}requireStreams();/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */const POOL_SIZE=65536;async function*toIterator(c,u=!0){for(const d of c)if("stream"in d)yield*d.stream();else if(ArrayBuffer.isView(d))if(u){let y=d.byteOffset;const O=d.byteOffset+d.byteLength;for(;y!==O;){const T=Math.min(O-y,POOL_SIZE),E=d.buffer.slice(y,y+T);y+=E.byteLength,yield new Uint8Array(E)}}else yield d;else{let y=0,O=d;for(;y!==O.size;){const E=await O.slice(y,Math.min(O.size,y+POOL_SIZE)).arrayBuffer();y+=E.byteLength,yield new Uint8Array(E)}}}var un,hi,ri,Ui,Un;const _Blob=(Un=class{constructor(u=[],d={}){ze(this,un,[]);ze(this,hi,"");ze(this,ri,0);ze(this,Ui,"transparent");if(typeof u!="object"||u===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof u[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof d!="object"&&typeof d!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");d===null&&(d={});const y=new TextEncoder;for(const T of u){let E;ArrayBuffer.isView(T)?E=new Uint8Array(T.buffer.slice(T.byteOffset,T.byteOffset+T.byteLength)):T instanceof ArrayBuffer?E=new Uint8Array(T.slice(0)):T instanceof Un?E=T:E=y.encode(`${T}`),We(this,ri,Ie(this,ri)+(ArrayBuffer.isView(E)?E.byteLength:E.size)),Ie(this,un).push(E)}We(this,Ui,`${d.endings===void 0?"transparent":d.endings}`);const O=d.type===void 0?"":String(d.type);We(this,hi,/^[\x20-\x7E]*$/.test(O)?O:"")}get size(){return Ie(this,ri)}get type(){return Ie(this,hi)}async text(){const u=new TextDecoder;let d="";for await(const y of toIterator(Ie(this,un),!1))d+=u.decode(y,{stream:!0});return d+=u.decode(),d}async arrayBuffer(){const u=new Uint8Array(this.size);let d=0;for await(const y of toIterator(Ie(this,un),!1))u.set(y,d),d+=y.length;return u.buffer}stream(){const u=toIterator(Ie(this,un),!0);return new globalThis.ReadableStream({type:"bytes",async pull(d){const y=await u.next();y.done?d.close():d.enqueue(y.value)},async cancel(){await u.return()}})}slice(u=0,d=this.size,y=""){const{size:O}=this;let T=u<0?Math.max(O+u,0):Math.min(u,O),E=d<0?Math.max(O+d,0):Math.min(d,O);const v=Math.max(E-T,0),p=Ie(this,un),g=[];let w=0;for(const C of p){if(w>=v)break;const N=ArrayBuffer.isView(C)?C.byteLength:C.size;if(T&&N<=T)T-=N,E-=N;else{let D;ArrayBuffer.isView(C)?(D=C.subarray(T,Math.min(N,E)),w+=D.byteLength):(D=C.slice(T,Math.min(N,E)),w+=D.size),E-=N,g.push(D),T=0}}const R=new Un([],{type:String(y).toLowerCase()});return We(R,ri,v),We(R,un,g),R}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](u){return u&&typeof u=="object"&&typeof u.constructor=="function"&&(typeof u.stream=="function"||typeof u.arrayBuffer=="function")&&/^(Blob|File)$/.test(u[Symbol.toStringTag])}},un=new WeakMap,hi=new WeakMap,ri=new WeakMap,Ui=new WeakMap,Un);Object.defineProperties(_Blob.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const Blob$1=_Blob;var mi,yi,Ko;const _File=(Ko=class extends Blob$1{constructor(d,y,O={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(d,O);ze(this,mi,0);ze(this,yi,"");O===null&&(O={});const T=O.lastModified===void 0?Date.now():Number(O.lastModified);Number.isNaN(T)||We(this,mi,T),We(this,yi,String(y))}get name(){return Ie(this,yi)}get lastModified(){return Ie(this,mi)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](d){return!!d&&d instanceof Blob$1&&/^(File)$/.test(d[Symbol.toStringTag])}},mi=new WeakMap,yi=new WeakMap,Ko),File$1=_File;/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */var{toStringTag:t,iterator:i,hasInstance:h}=Symbol,r=Math.random,m="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),f$1=(c,u,d)=>(c+="",/^(Blob|File)$/.test(u&&u[t])?[(d=d!==void 0?d+"":u[t]=="File"?u.name:"blob",c),u.name!==d||u[t]=="blob"?new File$1([u],d,u):u]:[c,u+""]),e=(c,u)=>(u?c:c.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),x=(c,u,d)=>{if(u.length<d)throw new TypeError(`Failed to execute '${c}' on 'FormData': ${d} arguments required, but only ${u.length} present.`)},yr,Xo;const FormData$1=(Xo=class{constructor(...u){ze(this,yr,[]);if(u.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[t](){return"FormData"}[i](){return this.entries()}static[h](u){return u&&typeof u=="object"&&u[t]==="FormData"&&!m.some(d=>typeof u[d]!="function")}append(...u){x("append",arguments,2),Ie(this,yr).push(f$1(...u))}delete(u){x("delete",arguments,1),u+="",We(this,yr,Ie(this,yr).filter(([d])=>d!==u))}get(u){x("get",arguments,1),u+="";for(var d=Ie(this,yr),y=d.length,O=0;O<y;O++)if(d[O][0]===u)return d[O][1];return null}getAll(u,d){return x("getAll",arguments,1),d=[],u+="",Ie(this,yr).forEach(y=>y[0]===u&&d.push(y[1])),d}has(u){return x("has",arguments,1),u+="",Ie(this,yr).some(d=>d[0]===u)}forEach(u,d){x("forEach",arguments,1);for(var[y,O]of this)u.call(d,O,y,this)}set(...u){x("set",arguments,2);var d=[],y=!0;u=f$1(...u),Ie(this,yr).forEach(O=>{O[0]===u[0]?y&&(y=!d.push(u)):d.push(O)}),y&&d.push(u),We(this,yr,d)}*entries(){yield*Ie(this,yr)}*keys(){for(var[u]of this)yield u}*values(){for(var[,u]of this)yield u}},yr=new WeakMap,Xo);function formDataToBlob(c,u=Blob$1){var d=`${r()}${r()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),y=[],O=`--${d}\r
Content-Disposition: form-data; name="`;return c.forEach((T,E)=>typeof T=="string"?y.push(O+e(E)+`"\r
\r
${T.replace(new RegExp("\\r(?!\\n)|(?<!\\r)\\n","g"),`\r
`)}\r
`):y.push(O+e(E)+`"; filename="${e(T.name,1)}"\r
Content-Type: ${T.type||"application/octet-stream"}\r
\r
`,T,`\r
`)),y.push(`--${d}--`),new u(y,{type:"multipart/form-data; boundary="+d})}class FetchBaseError extends Error{constructor(u,d){super(u),Error.captureStackTrace(this,this.constructor),this.type=d}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class FetchError extends FetchBaseError{constructor(u,d,y){super(u,d),y&&(this.code=this.errno=y.code,this.erroredSysCall=y.syscall)}}const NAME=Symbol.toStringTag,isURLSearchParameters=c=>typeof c=="object"&&typeof c.append=="function"&&typeof c.delete=="function"&&typeof c.get=="function"&&typeof c.getAll=="function"&&typeof c.has=="function"&&typeof c.set=="function"&&typeof c.sort=="function"&&c[NAME]==="URLSearchParams",isBlob=c=>c&&typeof c=="object"&&typeof c.arrayBuffer=="function"&&typeof c.type=="string"&&typeof c.stream=="function"&&typeof c.constructor=="function"&&/^(Blob|File)$/.test(c[NAME]),isAbortSignal=c=>typeof c=="object"&&(c[NAME]==="AbortSignal"||c[NAME]==="EventTarget"),isDomainOrSubdomain=(c,u)=>{const d=new URL(u).hostname,y=new URL(c).hostname;return d===y||d.endsWith(`.${y}`)},isSameProtocol=(c,u)=>{const d=new URL(u).protocol,y=new URL(c).protocol;return d===y},pipeline=promisify(Stream$1.pipeline),INTERNALS$2=Symbol("Body internals");class Body{constructor(u,{size:d=0}={}){let y=null;u===null?u=null:isURLSearchParameters(u)?u=Buffer$1.from(u.toString()):isBlob(u)||Buffer$1.isBuffer(u)||(types$5.isAnyArrayBuffer(u)?u=Buffer$1.from(u):ArrayBuffer.isView(u)?u=Buffer$1.from(u.buffer,u.byteOffset,u.byteLength):u instanceof Stream$1||(u instanceof FormData$1?(u=formDataToBlob(u),y=u.type.split("=")[1]):u=Buffer$1.from(String(u))));let O=u;Buffer$1.isBuffer(u)?O=Stream$1.Readable.from(u):isBlob(u)&&(O=Stream$1.Readable.from(u.stream())),this[INTERNALS$2]={body:u,stream:O,boundary:y,disturbed:!1,error:null},this.size=d,u instanceof Stream$1&&u.on("error",T=>{const E=T instanceof FetchBaseError?T:new FetchError(`Invalid response body while trying to fetch ${this.url}: ${T.message}`,"system",T);this[INTERNALS$2].error=E})}get body(){return this[INTERNALS$2].stream}get bodyUsed(){return this[INTERNALS$2].disturbed}async arrayBuffer(){const{buffer:u,byteOffset:d,byteLength:y}=await consumeBody(this);return u.slice(d,d+y)}async formData(){const u=this.headers.get("content-type");if(u.startsWith("application/x-www-form-urlencoded")){const y=new FormData$1,O=new URLSearchParams(await this.text());for(const[T,E]of O)y.append(T,E);return y}const{toFormData:d}=await Promise.resolve().then(()=>multipartParser);return d(this.body,u)}async blob(){const u=this.headers&&this.headers.get("content-type")||this[INTERNALS$2].body&&this[INTERNALS$2].body.type||"",d=await this.arrayBuffer();return new Blob$1([d],{type:u})}async json(){const u=await this.text();return JSON.parse(u)}async text(){const u=await consumeBody(this);return new TextDecoder().decode(u)}buffer(){return consumeBody(this)}}Body.prototype.buffer=deprecate(Body.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Body.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:deprecate(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function consumeBody(c){if(c[INTERNALS$2].disturbed)throw new TypeError(`body used already for: ${c.url}`);if(c[INTERNALS$2].disturbed=!0,c[INTERNALS$2].error)throw c[INTERNALS$2].error;const{body:u}=c;if(u===null)return Buffer$1.alloc(0);if(!(u instanceof Stream$1))return Buffer$1.alloc(0);const d=[];let y=0;try{for await(const O of u){if(c.size>0&&y+O.length>c.size){const T=new FetchError(`content size at ${c.url} over limit: ${c.size}`,"max-size");throw u.destroy(T),T}y+=O.length,d.push(O)}}catch(O){throw O instanceof FetchBaseError?O:new FetchError(`Invalid response body while trying to fetch ${c.url}: ${O.message}`,"system",O)}if(u.readableEnded===!0||u._readableState.ended===!0)try{return d.every(O=>typeof O=="string")?Buffer$1.from(d.join("")):Buffer$1.concat(d,y)}catch(O){throw new FetchError(`Could not create Buffer from response body for ${c.url}: ${O.message}`,"system",O)}else throw new FetchError(`Premature close of server response while trying to fetch ${c.url}`)}const clone=(c,u)=>{let d,y,{body:O}=c[INTERNALS$2];if(c.bodyUsed)throw new Error("cannot clone body after it is used");return O instanceof Stream$1&&typeof O.getBoundary!="function"&&(d=new PassThrough({highWaterMark:u}),y=new PassThrough({highWaterMark:u}),O.pipe(d),O.pipe(y),c[INTERNALS$2].stream=d,O=y),O},getNonSpecFormDataBoundary=deprecate(c=>c.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),extractContentType=(c,u)=>c===null?null:typeof c=="string"?"text/plain;charset=UTF-8":isURLSearchParameters(c)?"application/x-www-form-urlencoded;charset=UTF-8":isBlob(c)?c.type||null:Buffer$1.isBuffer(c)||types$5.isAnyArrayBuffer(c)||ArrayBuffer.isView(c)?null:c instanceof FormData$1?`multipart/form-data; boundary=${u[INTERNALS$2].boundary}`:c&&typeof c.getBoundary=="function"?`multipart/form-data;boundary=${getNonSpecFormDataBoundary(c)}`:c instanceof Stream$1?null:"text/plain;charset=UTF-8",getTotalBytes=c=>{const{body:u}=c[INTERNALS$2];return u===null?0:isBlob(u)?u.size:Buffer$1.isBuffer(u)?u.length:u&&typeof u.getLengthSync=="function"&&u.hasKnownLength&&u.hasKnownLength()?u.getLengthSync():null},writeToStream=async(c,{body:u})=>{u===null?c.end():await pipeline(u,c)},validateHeaderName=typeof http.validateHeaderName=="function"?http.validateHeaderName:c=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(c)){const u=new TypeError(`Header name must be a valid HTTP token [${c}]`);throw Object.defineProperty(u,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),u}},validateHeaderValue=typeof http.validateHeaderValue=="function"?http.validateHeaderValue:(c,u)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(u)){const d=new TypeError(`Invalid character in header content ["${c}"]`);throw Object.defineProperty(d,"code",{value:"ERR_INVALID_CHAR"}),d}};let Headers$1=class ya extends URLSearchParams{constructor(u){let d=[];if(u instanceof ya){const y=u.raw();for(const[O,T]of Object.entries(y))d.push(...T.map(E=>[O,E]))}else if(u!=null)if(typeof u=="object"&&!types$5.isBoxedPrimitive(u)){const y=u[Symbol.iterator];if(y==null)d.push(...Object.entries(u));else{if(typeof y!="function")throw new TypeError("Header pairs must be iterable");d=[...u].map(O=>{if(typeof O!="object"||types$5.isBoxedPrimitive(O))throw new TypeError("Each header pair must be an iterable object");return[...O]}).map(O=>{if(O.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...O]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return d=d.length>0?d.map(([y,O])=>(validateHeaderName(y),validateHeaderValue(y,String(O)),[String(y).toLowerCase(),String(O)])):void 0,super(d),new Proxy(this,{get(y,O,T){switch(O){case"append":case"set":return(E,v)=>(validateHeaderName(E),validateHeaderValue(E,String(v)),URLSearchParams.prototype[O].call(y,String(E).toLowerCase(),String(v)));case"delete":case"has":case"getAll":return E=>(validateHeaderName(E),URLSearchParams.prototype[O].call(y,String(E).toLowerCase()));case"keys":return()=>(y.sort(),new Set(URLSearchParams.prototype.keys.call(y)).keys());default:return Reflect.get(y,O,T)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(u){const d=this.getAll(u);if(d.length===0)return null;let y=d.join(", ");return/^content-encoding$/i.test(u)&&(y=y.toLowerCase()),y}forEach(u,d=void 0){for(const y of this.keys())Reflect.apply(u,d,[this.get(y),y,this])}*values(){for(const u of this.keys())yield this.get(u)}*entries(){for(const u of this.keys())yield[u,this.get(u)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((u,d)=>(u[d]=this.getAll(d),u),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((u,d)=>{const y=this.getAll(d);return d==="host"?u[d]=y[0]:u[d]=y.length>1?y:y[0],u},{})}};Object.defineProperties(Headers$1.prototype,["get","entries","forEach","values"].reduce((c,u)=>(c[u]={enumerable:!0},c),{}));function fromRawHeaders(c=[]){return new Headers$1(c.reduce((u,d,y,O)=>(y%2===0&&u.push(O.slice(y,y+2)),u),[]).filter(([u,d])=>{try{return validateHeaderName(u),validateHeaderValue(u,String(d)),!0}catch{return!1}}))}const redirectStatus=new Set([301,302,303,307,308]),isRedirect=c=>redirectStatus.has(c),INTERNALS$1=Symbol("Response internals");let Response$1=class li extends Body{constructor(u=null,d={}){super(u,d);const y=d.status!=null?d.status:200,O=new Headers$1(d.headers);if(u!==null&&!O.has("Content-Type")){const T=extractContentType(u,this);T&&O.append("Content-Type",T)}this[INTERNALS$1]={type:"default",url:d.url,status:y,statusText:d.statusText||"",headers:O,counter:d.counter,highWaterMark:d.highWaterMark}}get type(){return this[INTERNALS$1].type}get url(){return this[INTERNALS$1].url||""}get status(){return this[INTERNALS$1].status}get ok(){return this[INTERNALS$1].status>=200&&this[INTERNALS$1].status<300}get redirected(){return this[INTERNALS$1].counter>0}get statusText(){return this[INTERNALS$1].statusText}get headers(){return this[INTERNALS$1].headers}get highWaterMark(){return this[INTERNALS$1].highWaterMark}clone(){return new li(clone(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(u,d=302){if(!isRedirect(d))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new li(null,{headers:{location:new URL(u).toString()},status:d})}static error(){const u=new li(null,{status:0,statusText:""});return u[INTERNALS$1].type="error",u}static json(u=void 0,d={}){const y=JSON.stringify(u);if(y===void 0)throw new TypeError("data is not JSON serializable");const O=new Headers$1(d&&d.headers);return O.has("content-type")||O.set("content-type","application/json"),new li(y,{...d,headers:O})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Response$1.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const getSearch=c=>{if(c.search)return c.search;const u=c.href.length-1,d=c.hash||(c.href[u]==="#"?"#":"");return c.href[u-d.length]==="?"?"?":""};function stripURLForUseAsAReferrer(c,u=!1){return c==null||(c=new URL(c),/^(about|blob|data):$/.test(c.protocol))?"no-referrer":(c.username="",c.password="",c.hash="",u&&(c.pathname="",c.search=""),c)}const ReferrerPolicy=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),DEFAULT_REFERRER_POLICY="strict-origin-when-cross-origin";function validateReferrerPolicy(c){if(!ReferrerPolicy.has(c))throw new TypeError(`Invalid referrerPolicy: ${c}`);return c}function isOriginPotentiallyTrustworthy(c){if(/^(http|ws)s:$/.test(c.protocol))return!0;const u=c.host.replace(/(^\[)|(]$)/g,""),d=isIP(u);return d===4&&/^127\./.test(u)||d===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(u)?!0:c.host==="localhost"||c.host.endsWith(".localhost")?!1:c.protocol==="file:"}function isUrlPotentiallyTrustworthy(c){return/^about:(blank|srcdoc)$/.test(c)||c.protocol==="data:"||/^(blob|filesystem):$/.test(c.protocol)?!0:isOriginPotentiallyTrustworthy(c)}function determineRequestsReferrer(c,{referrerURLCallback:u,referrerOriginCallback:d}={}){if(c.referrer==="no-referrer"||c.referrerPolicy==="")return null;const y=c.referrerPolicy;if(c.referrer==="about:client")return"no-referrer";const O=c.referrer;let T=stripURLForUseAsAReferrer(O),E=stripURLForUseAsAReferrer(O,!0);T.toString().length>4096&&(T=E),u&&(T=u(T)),d&&(E=d(E));const v=new URL(c.url);switch(y){case"no-referrer":return"no-referrer";case"origin":return E;case"unsafe-url":return T;case"strict-origin":return isUrlPotentiallyTrustworthy(T)&&!isUrlPotentiallyTrustworthy(v)?"no-referrer":E.toString();case"strict-origin-when-cross-origin":return T.origin===v.origin?T:isUrlPotentiallyTrustworthy(T)&&!isUrlPotentiallyTrustworthy(v)?"no-referrer":E;case"same-origin":return T.origin===v.origin?T:"no-referrer";case"origin-when-cross-origin":return T.origin===v.origin?T:E;case"no-referrer-when-downgrade":return isUrlPotentiallyTrustworthy(T)&&!isUrlPotentiallyTrustworthy(v)?"no-referrer":T;default:throw new TypeError(`Invalid referrerPolicy: ${y}`)}}function parseReferrerPolicyFromHeader(c){const u=(c.get("referrer-policy")||"").split(/[,\s]+/);let d="";for(const y of u)y&&ReferrerPolicy.has(y)&&(d=y);return d}const INTERNALS=Symbol("Request internals"),isRequest=c=>typeof c=="object"&&typeof c[INTERNALS]=="object",doBadDataWarn=deprecate(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");let Request$1=class ba extends Body{constructor(u,d={}){let y;if(isRequest(u)?y=new URL(u.url):(y=new URL(u),u={}),y.username!==""||y.password!=="")throw new TypeError(`${y} is an url with embedded credentials.`);let O=d.method||u.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(O)&&(O=O.toUpperCase()),!isRequest(d)&&"data"in d&&doBadDataWarn(),(d.body!=null||isRequest(u)&&u.body!==null)&&(O==="GET"||O==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");const T=d.body?d.body:isRequest(u)&&u.body!==null?clone(u):null;super(T,{size:d.size||u.size||0});const E=new Headers$1(d.headers||u.headers||{});if(T!==null&&!E.has("Content-Type")){const g=extractContentType(T,this);g&&E.set("Content-Type",g)}let v=isRequest(u)?u.signal:null;if("signal"in d&&(v=d.signal),v!=null&&!isAbortSignal(v))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let p=d.referrer==null?u.referrer:d.referrer;if(p==="")p="no-referrer";else if(p){const g=new URL(p);p=/^about:(\/\/)?client$/.test(g)?"client":g}else p=void 0;this[INTERNALS]={method:O,redirect:d.redirect||u.redirect||"follow",headers:E,parsedURL:y,signal:v,referrer:p},this.follow=d.follow===void 0?u.follow===void 0?20:u.follow:d.follow,this.compress=d.compress===void 0?u.compress===void 0?!0:u.compress:d.compress,this.counter=d.counter||u.counter||0,this.agent=d.agent||u.agent,this.highWaterMark=d.highWaterMark||u.highWaterMark||16384,this.insecureHTTPParser=d.insecureHTTPParser||u.insecureHTTPParser||!1,this.referrerPolicy=d.referrerPolicy||u.referrerPolicy||""}get method(){return this[INTERNALS].method}get url(){return format(this[INTERNALS].parsedURL)}get headers(){return this[INTERNALS].headers}get redirect(){return this[INTERNALS].redirect}get signal(){return this[INTERNALS].signal}get referrer(){if(this[INTERNALS].referrer==="no-referrer")return"";if(this[INTERNALS].referrer==="client")return"about:client";if(this[INTERNALS].referrer)return this[INTERNALS].referrer.toString()}get referrerPolicy(){return this[INTERNALS].referrerPolicy}set referrerPolicy(u){this[INTERNALS].referrerPolicy=validateReferrerPolicy(u)}clone(){return new ba(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Request$1.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const getNodeRequestOptions=c=>{const{parsedURL:u}=c[INTERNALS],d=new Headers$1(c[INTERNALS].headers);d.has("Accept")||d.set("Accept","*/*");let y=null;if(c.body===null&&/^(post|put)$/i.test(c.method)&&(y="0"),c.body!==null){const v=getTotalBytes(c);typeof v=="number"&&!Number.isNaN(v)&&(y=String(v))}y&&d.set("Content-Length",y),c.referrerPolicy===""&&(c.referrerPolicy=DEFAULT_REFERRER_POLICY),c.referrer&&c.referrer!=="no-referrer"?c[INTERNALS].referrer=determineRequestsReferrer(c):c[INTERNALS].referrer="no-referrer",c[INTERNALS].referrer instanceof URL&&d.set("Referer",c.referrer),d.has("User-Agent")||d.set("User-Agent","node-fetch"),c.compress&&!d.has("Accept-Encoding")&&d.set("Accept-Encoding","gzip, deflate, br");let{agent:O}=c;typeof O=="function"&&(O=O(u));const T=getSearch(u),E={path:u.pathname+T,method:c.method,headers:d[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:c.insecureHTTPParser,agent:O};return{parsedURL:u,options:E}};class AbortError extends FetchBaseError{constructor(u,d="aborted"){super(u,d)}}/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */var nodeDomexception,hasRequiredNodeDomexception;function requireNodeDomexception(){if(hasRequiredNodeDomexception)return nodeDomexception;if(hasRequiredNodeDomexception=1,!globalThis.DOMException)try{const{MessageChannel:c}=require("worker_threads"),u=new c().port1,d=new ArrayBuffer;u.postMessage(d,[d,d])}catch(c){c.constructor.name==="DOMException"&&(globalThis.DOMException=c.constructor)}return nodeDomexception=globalThis.DOMException,nodeDomexception}requireNodeDomexception();const{stat}=promises,supportedSchemas=new Set(["data:","http:","https:"]);async function fetch$1(c,u){return new Promise((d,y)=>{const O=new Request$1(c,u),{parsedURL:T,options:E}=getNodeRequestOptions(O);if(!supportedSchemas.has(T.protocol))throw new TypeError(`node-fetch cannot load ${c}. URL scheme "${T.protocol.replace(/:$/,"")}" is not supported.`);if(T.protocol==="data:"){const D=dataUriToBuffer(O.url),L=new Response$1(D,{headers:{"Content-Type":D.typeFull}});d(L);return}const v=(T.protocol==="https:"?https:http).request,{signal:p}=O;let g=null;const w=()=>{const D=new AbortError("The operation was aborted.");y(D),O.body&&O.body instanceof Stream$1.Readable&&O.body.destroy(D),!(!g||!g.body)&&g.body.emit("error",D)};if(p&&p.aborted){w();return}const R=()=>{w(),N()},C=v(T.toString(),E);p&&p.addEventListener("abort",R);const N=()=>{C.abort(),p&&p.removeEventListener("abort",R)};C.on("error",D=>{y(new FetchError(`request to ${O.url} failed, reason: ${D.message}`,"system",D)),N()}),fixResponseChunkedTransferBadEnding(C,D=>{g&&g.body&&g.body.destroy(D)}),process.version<"v14"&&C.on("socket",D=>{let L;D.prependListener("end",()=>{L=D._eventsCount}),D.prependListener("close",q=>{if(g&&L<D._eventsCount&&!q){const M=new Error("Premature close");M.code="ERR_STREAM_PREMATURE_CLOSE",g.body.emit("error",M)}})}),C.on("response",D=>{C.setTimeout(0);const L=fromRawHeaders(D.rawHeaders);if(isRedirect(D.statusCode)){const $=L.get("Location");let z=null;try{z=$===null?null:new URL($,O.url)}catch{if(O.redirect!=="manual"){y(new FetchError(`uri requested responds with an invalid redirect URL: ${$}`,"invalid-redirect")),N();return}}switch(O.redirect){case"error":y(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${O.url}`,"no-redirect")),N();return;case"manual":break;case"follow":{if(z===null)break;if(O.counter>=O.follow){y(new FetchError(`maximum redirect reached at: ${O.url}`,"max-redirect")),N();return}const W={headers:new Headers$1(O.headers),follow:O.follow,counter:O.counter+1,agent:O.agent,compress:O.compress,method:O.method,body:clone(O),signal:O.signal,size:O.size,referrer:O.referrer,referrerPolicy:O.referrerPolicy};if(!isDomainOrSubdomain(O.url,z)||!isSameProtocol(O.url,z))for(const Y of["authorization","www-authenticate","cookie","cookie2"])W.headers.delete(Y);if(D.statusCode!==303&&O.body&&u.body instanceof Stream$1.Readable){y(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect")),N();return}(D.statusCode===303||(D.statusCode===301||D.statusCode===302)&&O.method==="POST")&&(W.method="GET",W.body=void 0,W.headers.delete("content-length"));const J=parseReferrerPolicyFromHeader(L);J&&(W.referrerPolicy=J),d(fetch$1(new Request$1(z,W))),N();return}default:return y(new TypeError(`Redirect option '${O.redirect}' is not a valid value of RequestRedirect`))}}p&&D.once("end",()=>{p.removeEventListener("abort",R)});let q=pipeline$1(D,new PassThrough,$=>{$&&y($)});process.version<"v12.10"&&D.on("aborted",R);const M={url:O.url,status:D.statusCode,statusText:D.statusMessage,headers:L,size:O.size,counter:O.counter,highWaterMark:O.highWaterMark},U=L.get("Content-Encoding");if(!O.compress||O.method==="HEAD"||U===null||D.statusCode===204||D.statusCode===304){g=new Response$1(q,M),d(g);return}const V={flush:zlib.Z_SYNC_FLUSH,finishFlush:zlib.Z_SYNC_FLUSH};if(U==="gzip"||U==="x-gzip"){q=pipeline$1(q,zlib.createGunzip(V),$=>{$&&y($)}),g=new Response$1(q,M),d(g);return}if(U==="deflate"||U==="x-deflate"){const $=pipeline$1(D,new PassThrough,z=>{z&&y(z)});$.once("data",z=>{(z[0]&15)===8?q=pipeline$1(q,zlib.createInflate(),W=>{W&&y(W)}):q=pipeline$1(q,zlib.createInflateRaw(),W=>{W&&y(W)}),g=new Response$1(q,M),d(g)}),$.once("end",()=>{g||(g=new Response$1(q,M),d(g))});return}if(U==="br"){q=pipeline$1(q,zlib.createBrotliDecompress(),$=>{$&&y($)}),g=new Response$1(q,M),d(g);return}g=new Response$1(q,M),d(g)}),writeToStream(C,O).catch(y)})}function fixResponseChunkedTransferBadEnding(c,u){const d=Buffer$1.from(`0\r
\r
`);let y=!1,O=!1,T;c.on("response",E=>{const{headers:v}=E;y=v["transfer-encoding"]==="chunked"&&!v["content-length"]}),c.on("socket",E=>{const v=()=>{if(y&&!O){const g=new Error("Premature close");g.code="ERR_STREAM_PREMATURE_CLOSE",u(g)}},p=g=>{O=Buffer$1.compare(g.slice(-5),d)===0,!O&&T&&(O=Buffer$1.compare(T.slice(-3),d.slice(0,3))===0&&Buffer$1.compare(g.slice(-2),d.slice(3))===0),T=g};E.prependListener("close",v),E.on("data",p),c.on("close",()=>{E.removeListener("close",v),E.removeListener("data",p)})})}const index=Object.freeze(Object.defineProperty({__proto__:null,AbortError,Blob:Blob$1,FetchError,File:File$1,FormData:FormData$1,Headers:Headers$1,Request:Request$1,Response:Response$1,default:fetch$1,isRedirect},Symbol.toStringTag,{value:"Module"}));let s=0;const S={START_BOUNDARY:s++,HEADER_FIELD_START:s++,HEADER_FIELD:s++,HEADER_VALUE_START:s++,HEADER_VALUE:s++,HEADER_VALUE_ALMOST_DONE:s++,HEADERS_ALMOST_DONE:s++,PART_DATA_START:s++,PART_DATA:s++,END:s++};let f=1;const F={PART_BOUNDARY:f,LAST_BOUNDARY:f*=2},LF=10,CR=13,SPACE=32,HYPHEN=45,COLON=58,A=97,Z=122,lower=c=>c|32,noop=()=>{};class MultipartParser{constructor(u){this.index=0,this.flags=0,this.onHeaderEnd=noop,this.onHeaderField=noop,this.onHeadersEnd=noop,this.onHeaderValue=noop,this.onPartBegin=noop,this.onPartData=noop,this.onPartEnd=noop,this.boundaryChars={},u=`\r
--`+u;const d=new Uint8Array(u.length);for(let y=0;y<u.length;y++)d[y]=u.charCodeAt(y),this.boundaryChars[d[y]]=!0;this.boundary=d,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=S.START_BOUNDARY}write(u){let d=0;const y=u.length;let O=this.index,{lookbehind:T,boundary:E,boundaryChars:v,index:p,state:g,flags:w}=this;const R=this.boundary.length,C=R-1,N=u.length;let D,L;const q=$=>{this[$+"Mark"]=d},M=$=>{delete this[$+"Mark"]},U=($,z,W,J)=>{(z===void 0||z!==W)&&this[$](J&&J.subarray(z,W))},V=($,z)=>{const W=$+"Mark";W in this&&(z?(U($,this[W],d,u),delete this[W]):(U($,this[W],u.length,u),this[W]=0))};for(d=0;d<y;d++)switch(D=u[d],g){case S.START_BOUNDARY:if(p===E.length-2){if(D===HYPHEN)w|=F.LAST_BOUNDARY;else if(D!==CR)return;p++;break}else if(p-1===E.length-2){if(w&F.LAST_BOUNDARY&&D===HYPHEN)g=S.END,w=0;else if(!(w&F.LAST_BOUNDARY)&&D===LF)p=0,U("onPartBegin"),g=S.HEADER_FIELD_START;else return;break}D!==E[p+2]&&(p=-2),D===E[p+2]&&p++;break;case S.HEADER_FIELD_START:g=S.HEADER_FIELD,q("onHeaderField"),p=0;case S.HEADER_FIELD:if(D===CR){M("onHeaderField"),g=S.HEADERS_ALMOST_DONE;break}if(p++,D===HYPHEN)break;if(D===COLON){if(p===1)return;V("onHeaderField",!0),g=S.HEADER_VALUE_START;break}if(L=lower(D),L<A||L>Z)return;break;case S.HEADER_VALUE_START:if(D===SPACE)break;q("onHeaderValue"),g=S.HEADER_VALUE;case S.HEADER_VALUE:D===CR&&(V("onHeaderValue",!0),U("onHeaderEnd"),g=S.HEADER_VALUE_ALMOST_DONE);break;case S.HEADER_VALUE_ALMOST_DONE:if(D!==LF)return;g=S.HEADER_FIELD_START;break;case S.HEADERS_ALMOST_DONE:if(D!==LF)return;U("onHeadersEnd"),g=S.PART_DATA_START;break;case S.PART_DATA_START:g=S.PART_DATA,q("onPartData");case S.PART_DATA:if(O=p,p===0){for(d+=C;d<N&&!(u[d]in v);)d+=R;d-=C,D=u[d]}if(p<E.length)E[p]===D?(p===0&&V("onPartData",!0),p++):p=0;else if(p===E.length)p++,D===CR?w|=F.PART_BOUNDARY:D===HYPHEN?w|=F.LAST_BOUNDARY:p=0;else if(p-1===E.length)if(w&F.PART_BOUNDARY){if(p=0,D===LF){w&=~F.PART_BOUNDARY,U("onPartEnd"),U("onPartBegin"),g=S.HEADER_FIELD_START;break}}else w&F.LAST_BOUNDARY&&D===HYPHEN?(U("onPartEnd"),g=S.END,w=0):p=0;if(p>0)T[p-1]=D;else if(O>0){const $=new Uint8Array(T.buffer,T.byteOffset,T.byteLength);U("onPartData",0,O,$),O=0,q("onPartData"),d--}break;case S.END:break;default:throw new Error(`Unexpected state entered: ${g}`)}V("onHeaderField"),V("onHeaderValue"),V("onPartData"),this.index=p,this.state=g,this.flags=w}end(){if(this.state===S.HEADER_FIELD_START&&this.index===0||this.state===S.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==S.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}function _fileName(c){const u=c.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!u)return;const d=u[2]||u[3]||"";let y=d.slice(d.lastIndexOf("\\")+1);return y=y.replace(/%22/g,'"'),y=y.replace(/&#(\d{4});/g,(O,T)=>String.fromCharCode(T)),y}async function toFormData(c,u){if(!/multipart/i.test(u))throw new TypeError("Failed to fetch");const d=u.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!d)throw new TypeError("no or bad content-type header, no multipart boundary");const y=new MultipartParser(d[1]||d[2]);let O,T,E,v,p,g;const w=[],R=new FormData$1,C=M=>{E+=q.decode(M,{stream:!0})},N=M=>{w.push(M)},D=()=>{const M=new File$1(w,g,{type:p});R.append(v,M)},L=()=>{R.append(v,E)},q=new TextDecoder("utf-8");q.decode(),y.onPartBegin=function(){y.onPartData=C,y.onPartEnd=L,O="",T="",E="",v="",p="",g=null,w.length=0},y.onHeaderField=function(M){O+=q.decode(M,{stream:!0})},y.onHeaderValue=function(M){T+=q.decode(M,{stream:!0})},y.onHeaderEnd=function(){if(T+=q.decode(),O=O.toLowerCase(),O==="content-disposition"){const M=T.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);M&&(v=M[2]||M[3]||""),g=_fileName(T),g&&(y.onPartData=N,y.onPartEnd=D)}else O==="content-type"&&(p=T);T="",O=""};for await(const M of c)y.write(M);return y.end(),R}const multipartParser=Object.freeze(Object.defineProperty({__proto__:null,toFormData},Symbol.toStringTag,{value:"Module"}));export{worker as default};
